(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "+/WI":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/FurniturePlaceComposer.ts ***!
  \***************************************************************************************************/
/*! exports provided: FurniturePlaceComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePlaceComposer", function() { return FurniturePlaceComposer; });
/* harmony import */ var _room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/object/RoomObjectCategory */ "HqZk");

class FurniturePlaceComposer {
    constructor(itemId, category, wallLocation, x, y, direction) {
        this._itemId = itemId;
        this._category = category;
        this._wallLocation = wallLocation;
        this._x = x;
        this._y = y;
        this._direction = direction;
    }
    getMessageArray() {
        switch (this._category) {
            case _room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__["RoomObjectCategory"].FLOOR:
                return [`${this._itemId} ${this._x} ${this._y} ${this._direction}`];
            case _room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__["RoomObjectCategory"].WALL:
                return [`${this._itemId} ${this._wallLocation} `];
            default:
                return [];
        }
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "+4VZ":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/RoomVisualizationData.ts ***!
  \**********************************************************************************/
/*! exports provided: RoomVisualizationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomVisualizationData", function() { return RoomVisualizationData; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _mask_PlaneMaskManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mask/PlaneMaskManager */ "QpUv");
/* harmony import */ var _rasterizer_animated_LandscapeRasterizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./rasterizer/animated/LandscapeRasterizer */ "kHf0");
/* harmony import */ var _rasterizer_basic_FloorRasterizer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rasterizer/basic/FloorRasterizer */ "2GPf");
/* harmony import */ var _rasterizer_basic_WallRasterizer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rasterizer/basic/WallRasterizer */ "YaHj");





class RoomVisualizationData extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor() {
        super();
        this._wallRasterizer = new _rasterizer_basic_WallRasterizer__WEBPACK_IMPORTED_MODULE_4__["WallRasterizer"]();
        this._floorRasterizer = new _rasterizer_basic_FloorRasterizer__WEBPACK_IMPORTED_MODULE_3__["FloorRasterizer"]();
        this._landscapeRasterizer = new _rasterizer_animated_LandscapeRasterizer__WEBPACK_IMPORTED_MODULE_2__["LandscapeRasterizer"]();
        this._maskManager = new _mask_PlaneMaskManager__WEBPACK_IMPORTED_MODULE_1__["PlaneMaskManager"]();
        this._initialized = false;
    }
    initialize(asset) {
        //@ts-ignore
        const wallData = asset.wallData;
        if (wallData)
            this._wallRasterizer.initialize(wallData);
        //@ts-ignore
        const floorData = asset.floorData;
        if (floorData)
            this._floorRasterizer.initialize(floorData);
        //@ts-ignore
        const landscapeData = asset.landscapeData;
        if (landscapeData)
            this._landscapeRasterizer.initialize(landscapeData);
        //@ts-ignore
        const maskData = asset.maskData;
        if (maskData)
            this._maskManager.initialize(maskData);
        return true;
    }
    onDispose() {
        if (this._wallRasterizer) {
            this._wallRasterizer.dispose();
            this._wallRasterizer = null;
        }
        if (this._floorRasterizer) {
            this._floorRasterizer.dispose();
            this._floorRasterizer = null;
        }
        if (this._landscapeRasterizer) {
            this._landscapeRasterizer.dispose();
            this._landscapeRasterizer = null;
        }
        if (this._maskManager) {
            this._maskManager.dispose();
            this._maskManager = null;
        }
        super.onDispose();
    }
    setGraphicAssetCollection(collection) {
        if (this._initialized)
            return;
        this._wallRasterizer._Str_6703(collection);
        this._floorRasterizer._Str_6703(collection);
        this._landscapeRasterizer._Str_6703(collection);
        this._maskManager._Str_6703(collection);
        this._initialized = true;
    }
    _Str_3355() {
        if (this._wallRasterizer)
            this._wallRasterizer._Str_3355();
        if (this._floorRasterizer)
            this._floorRasterizer._Str_3355();
        if (this._landscapeRasterizer)
            this._landscapeRasterizer._Str_3355();
    }
    get wallRasterizer() {
        return this._wallRasterizer;
    }
    get floorRasterizer() {
        return this._floorRasterizer;
    }
    get landscapeRasterizer() {
        return this._landscapeRasterizer;
    }
    get maskManager() {
        return this._maskManager;
    }
}


/***/ }),

/***/ "+IGW":
/*!***********************************************************************!*\
  !*** ./src/client/core/communication/events/SocketConnectionEvent.ts ***!
  \***********************************************************************/
/*! exports provided: SocketConnectionEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocketConnectionEvent", function() { return SocketConnectionEvent; });
/* harmony import */ var _events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../events/NitroEvent */ "3r1x");

class SocketConnectionEvent extends _events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type, connection, originalEvent) {
        super(type);
        this._connection = connection;
        this._originalEvent = event;
    }
    get connection() {
        return this._connection;
    }
    get originalEvent() {
        return this._originalEvent;
    }
}
SocketConnectionEvent.CONNECTION_OPENED = 'SCE_OPEN';
SocketConnectionEvent.CONNECTION_CLOSED = 'SCE_CLOSED';
SocketConnectionEvent.CONNECTION_ERROR = 'SCE_ERROR';
SocketConnectionEvent.CONNECTION_MESSAGE = 'SCE_MESSAGE';


/***/ }),

/***/ "+IZ6":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/wall/FurnitureWallEvent.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurnitureWallEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallEvent", function() { return FurnitureWallEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_wall_FurnitureWallParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/furniture/wall/FurnitureWallParser */ "YmDv");


class FurnitureWallEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_wall_FurnitureWallParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureWallParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "+LBP":
/*!***********************************************!*\
  !*** ./src/app/components/purse/component.ts ***!
  \***********************************************/
/*! exports provided: PurseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PurseComponent", function() { return PurseComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _AppConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../AppConfiguration */ "dZ2M");
/* harmony import */ var _services_purse_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./services/purse.service */ "KeNc");
/* harmony import */ var _credits_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./credits/component */ "9WAT");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");






function PurseComponent_ng_container_3_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const currency_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](currency_r1.value);
} }
function PurseComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, PurseComponent_ng_container_3_div_1_Template, 2, 1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const currency_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", currency_r1.key >= 0 && ctx_r0.isVisible(currency_r1.key));
} }
//<div *ngIf="((currency.type >= 0) && isVisible(currency.type))" [value]="currency.amount"></div>
class PurseComponent {
    constructor(purseService, ngZone) {
        this.purseService = purseService;
        this.ngZone = ngZone;
    }
    isVisible(type) {
        if (_AppConfiguration__WEBPACK_IMPORTED_MODULE_1__["AppConfiguration"].DISPLAYED_CURRENCY_TYPES.indexOf(type) === -1)
            return false;
        return true;
    }
    get credits() {
        return (this.purseService.currencies.get(-1) || 0);
    }
    get currencies() {
        return this.purseService.currencies;
    }
}
PurseComponent.ɵfac = function PurseComponent_Factory(t) { return new (t || PurseComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_purse_service__WEBPACK_IMPORTED_MODULE_2__["PurseService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
PurseComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PurseComponent, selectors: [["nitro-purse-component"]], decls: 5, vars: 4, consts: [[1, "nitro-purse-component"], [1, "currencies-container"], ["nitro-purse-credits-component", "", 3, "value"], [4, "ngFor", "ngForOf"], [4, "ngIf"]], template: function PurseComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, PurseComponent_ng_container_3_Template, 2, 1, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "keyvalue");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx.credits);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 2, ctx.currencies));
    } }, directives: [_credits_component__WEBPACK_IMPORTED_MODULE_3__["PurseCreditsComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["KeyValuePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PurseComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-purse-component',
                template: `
    <div class="nitro-purse-component">
        <div class="currencies-container">
            <div nitro-purse-credits-component [value]="credits"></div>
            <ng-container *ngFor="let currency of currencies | keyvalue">
                <div *ngIf="((currency.key >= 0) && isVisible(currency.key))">{{ currency.value }}</div>
            </ng-container>
        </div>
    </div>`
            }]
    }], function () { return [{ type: _services_purse_service__WEBPACK_IMPORTED_MODULE_2__["PurseService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, null); })();


/***/ }),

/***/ "+dKr":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureQueueTileVisualization.ts ***!
  \*************************************************************************************************/
/*! exports provided: FurnitureQueueTileVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureQueueTileVisualization", function() { return FurnitureQueueTileVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureQueueTileVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._stateQueue = [];
        this._animationCounter = -1;
    }
    setAnimation(animationId) {
        if (animationId === FurnitureQueueTileVisualization._Str_18395) {
            this._stateQueue = [];
            this._stateQueue.push(FurnitureQueueTileVisualization._Str_15915);
            this._animationCounter = FurnitureQueueTileVisualization._Str_16054;
        }
        return super.setAnimation(animationId);
    }
    updateAnimation(scale) {
        if (this._animationCounter > 0)
            this._animationCounter--;
        if (!this._animationCounter) {
            if (this._stateQueue.length)
                super.setAnimation(this._stateQueue.shift());
        }
        return super.updateAnimation(scale);
    }
    usesAnimationResetting() {
        return true;
    }
}
FurnitureQueueTileVisualization._Str_4186 = 3;
FurnitureQueueTileVisualization._Str_18395 = 2;
FurnitureQueueTileVisualization._Str_15915 = 1;
FurnitureQueueTileVisualization._Str_16054 = 15;


/***/ }),

/***/ "+fn7":
/*!******************************************************************************!*\
  !*** ./src/app/components/room/widgets/chatinput/styleselector/component.ts ***!
  \******************************************************************************/
/*! exports provided: RoomChatInputStyleSelectorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomChatInputStyleSelectorComponent", function() { return RoomChatInputStyleSelectorComponent; });
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/animations */ "R0Ic");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var ng_animate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng-animate */ "5Rqa");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_session_HabboClubLevelEnum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../client/nitro/session/HabboClubLevelEnum */ "5UDg");
/* harmony import */ var _AppConfiguration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../AppConfiguration */ "dZ2M");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");








const _c0 = ["styleSelectorContainer"];
function RoomChatInputStyleSelectorComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function RoomChatInputStyleSelectorComponent_div_7_Template_div_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r4); const styleId_r2 = ctx.$implicit; const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r3.selectStyle(styleId_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const styleId_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMapInterpolate1"]("nitro-room-chat-item-component chat-style-", styleId_r2, "");
} }
const _c1 = function (a0) { return { "active": a0 }; };
class RoomChatInputStyleSelectorComponent {
    constructor(changeDetector, ngZone) {
        this.changeDetector = changeDetector;
        this.ngZone = ngZone;
        this.styleSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.showStyles = false;
        this.lastSelectedId = 0;
        this.styleIds = [];
    }
    ngOnInit() {
        const styles = _AppConfiguration__WEBPACK_IMPORTED_MODULE_5__["AppConfiguration"].CHAT_STYLES;
        for (let style of styles) {
            if (!style)
                continue;
            if (style.minRank > 0) {
                if (_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.sessionDataManager.hasSecurity(style.minRank))
                    this.styleIds.push(style.styleId);
                continue;
            }
            if (style.isSystemStyle || (_AppConfiguration__WEBPACK_IMPORTED_MODULE_5__["AppConfiguration"].DISABLED_CHAT_STYLES.indexOf(style.styleId) >= 0))
                continue;
            if (style.isHcOnly && (_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.sessionDataManager.clubLevel >= _client_nitro_session_HabboClubLevelEnum__WEBPACK_IMPORTED_MODULE_4__["HabboClubLevelEnum"]._Str_2964)) {
                this.styleIds.push(style.styleId);
                continue;
            }
            if (style.isAmbassadorOnly && _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.sessionDataManager.isAmbassador) {
                this.styleIds.push(style.styleId);
                continue;
            }
            if (!style.isHcOnly && !style.isAmbassadorOnly)
                this.styleIds.push(style.styleId);
        }
    }
    ngOnDestroy() {
        this.hideSelector();
    }
    onOutsideClick(event) {
        if (!this.showStyles)
            return;
        if (event.target === this.styleSelectorContainer.nativeElement)
            return;
        this.hideSelector();
    }
    showSelector() {
        this.showStyles = true;
        //this.ngZone.runOutsideAngular(() => document.body.addEventListener('click', this.onOutsideClick.bind(this)));
    }
    hideSelector() {
        this.showStyles = false;
        //this.ngZone.runOutsideAngular(() => document.body.removeEventListener('click', this.onOutsideClick.bind(this)));
    }
    toggleSelector() {
        if (this.showStyles) {
            this.hideSelector();
            return;
        }
        this.showSelector();
    }
    selectStyle(styleId) {
        this.styleSelected.emit(styleId);
        this.hideSelector();
    }
}
RoomChatInputStyleSelectorComponent.ɵfac = function RoomChatInputStyleSelectorComponent_Factory(t) { return new (t || RoomChatInputStyleSelectorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"])); };
RoomChatInputStyleSelectorComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: RoomChatInputStyleSelectorComponent, selectors: [["nitro-room-chatinput-styleselector-component"]], viewQuery: function RoomChatInputStyleSelectorComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.styleSelectorContainer = _t.first);
    } }, outputs: { styleSelected: "styleSelected" }, decls: 8, vars: 5, consts: [[1, "nitro-room-chatinput-styleselector-component"], [1, "icon", "chatstyles-icon", 3, "click"], [1, "component-styles-container", 3, "ngClass"], ["styleSelectorContainer", ""], [1, "card"], [1, "card-body"], [1, "container-items"], ["class", "item-detail", 4, "ngFor", "ngForOf"], [1, "item-detail"], [3, "click"], [1, "chat-left"], [1, "chat-right"]], template: function RoomChatInputStyleSelectorComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "i", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function RoomChatInputStyleSelectorComponent_Template_i_click_1_listener() { return ctx.toggleSelector(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 2, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, RoomChatInputStyleSelectorComponent_div_7_Template, 4, 3, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("@animation", ctx.animation);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](3, _c1, ctx.showStyles));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.styleIds);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"]], encapsulation: 2, data: { animation: [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('animation', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["bounceIn"], {
                    params: { timing: 0.8, delay: 0 }
                }))
            ])
        ] } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RoomChatInputStyleSelectorComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'nitro-room-chatinput-styleselector-component',
                template: `
    <div [@animation]="animation" class="nitro-room-chatinput-styleselector-component">
        <i class="icon chatstyles-icon" (click)="toggleSelector()"></i>
        <div #styleSelectorContainer class="component-styles-container" [ngClass]="{ 'active': showStyles }">
            <div class="card">
                <div class="card-body">
                    <div class="container-items">
                        <div *ngFor="let styleId of styleIds" class="item-detail">
                            <div class="nitro-room-chat-item-component chat-style-{{ styleId }}" (click)="selectStyle(styleId)">
                                <div class="chat-left"></div>
                                <div class="chat-right"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>`,
                animations: [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('animation', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["bounceIn"], {
                            params: { timing: 0.8, delay: 0 }
                        }))
                    ])
                ]
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"] }]; }, { styleSelectorContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['styleSelectorContainer']
        }], styleSelected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"]
        }] }); })();


/***/ }),

/***/ "+kDp":
/*!********************************************************!*\
  !*** ./src/client/nitro/room/object/RoomObjectType.ts ***!
  \********************************************************/
/*! exports provided: RoomObjectType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectType", function() { return RoomObjectType; });
class RoomObjectType {
}
RoomObjectType.USER = 1;
RoomObjectType.PET = 2;
RoomObjectType.BOT = 3;
RoomObjectType.RENTABLE_BOT = 4;


/***/ }),

/***/ "/Cgo":
/*!********************************************!*\
  !*** ./src/client/utils/FixedSizeStack.ts ***!
  \********************************************/
/*! exports provided: FixedSizeStack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FixedSizeStack", function() { return FixedSizeStack; });
class FixedSizeStack {
    constructor(k) {
        this._data = [];
        this._maxSize = k;
        this._index = 0;
    }
    reset() {
        this._data = [];
        this._index = 0;
    }
    _Str_22775(k) {
        if (this._data.length < this._maxSize) {
            this._data.push(k);
        }
        else {
            this._data[this._index] = k;
        }
        this._index = ((this._index + 1) % this._maxSize);
    }
    _Str_25797() {
        let k = Number.MIN_VALUE;
        let _local_2 = 0;
        while (_local_2 < this._maxSize) {
            if (this._data[_local_2] > k)
                k = this._data[_local_2];
            _local_2++;
        }
        return k;
    }
    _Str_26219() {
        let k = Number.MAX_VALUE;
        let _local_2 = 0;
        while (_local_2 < this._maxSize) {
            if (this._data[_local_2] < k)
                k = this._data[_local_2];
            _local_2++;
        }
        return k;
    }
}


/***/ }),

/***/ "/DXm":
/*!*******************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureGuildCustomizedVisualization.ts ***!
  \*******************************************************************************************************/
/*! exports provided: FurnitureGuildCustomizedVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureGuildCustomizedVisualization", function() { return FurnitureGuildCustomizedVisualization; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");


class FurnitureGuildCustomizedVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._color1 = FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_1;
        this._color2 = FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_2;
    }
    updateModel(scale) {
        const flag = super.updateModel(scale);
        if (!flag)
            return false;
        this._color1 = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_GUILD_CUSTOMIZED_COLOR_1);
        this._color2 = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_GUILD_CUSTOMIZED_COLOR_2);
        return flag;
    }
    getLayerColor(scale, layerId, colorId) {
        const tag = this.getLayerTag(scale, this._direction, layerId);
        switch (tag) {
            case 'COLOR1': return this._color1;
            case 'COLOR2': return this._color2;
        }
        return super.getLayerColor(scale, layerId, colorId);
    }
}
FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_1 = 0xEEEEEE;
FurnitureGuildCustomizedVisualization.DEFAULT_COLOR_2 = 0x4B4B4B;


/***/ }),

/***/ "/Dul":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectHeightUpdateMessage.ts ***!
  \*********************************************************************/
/*! exports provided: ObjectHeightUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectHeightUpdateMessage", function() { return ObjectHeightUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectHeightUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(location, direction, height) {
        super(location, direction);
        this._height = height;
    }
    get height() {
        return this._height;
    }
}


/***/ }),

/***/ "/FfH":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomModerationParser.ts ***!
  \******************************************************************************************/
/*! exports provided: RoomModerationParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomModerationParser", function() { return RoomModerationParser; });
class RoomModerationParser {
    constructor(wrapper) {
        this.reset();
        this.parse(wrapper);
    }
    reset() {
        this._allowMute = 0;
        this._allowKick = 0;
        this._allowBan = 0;
    }
    parse(wrapper) {
        this._allowMute = wrapper.readInt();
        this._allowKick = wrapper.readInt();
        this._allowBan = wrapper.readInt();
    }
    get allowMute() {
        return this._allowMute;
    }
    get allowKick() {
        return this._allowKick;
    }
    get allowBan() {
        return this._allowBan;
    }
}


/***/ }),

/***/ "/Jcc":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/user/data/UserInfoComposer.ts ***!
  \****************************************************************************************/
/*! exports provided: UserInfoComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserInfoComposer", function() { return UserInfoComposer; });
class UserInfoComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "/LY3":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/access/RoomEnterParser.ts ***!
  \***************************************************************************************/
/*! exports provided: RoomEnterParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEnterParser", function() { return RoomEnterParser; });
class RoomEnterParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "/NTz":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarGuideStatusUpdateMessage.ts ***!
  \********************************************************************************/
/*! exports provided: ObjectAvatarGuideStatusUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarGuideStatusUpdateMessage", function() { return ObjectAvatarGuideStatusUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarGuideStatusUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(value) {
        super();
        this._guideStatus = value;
    }
    get guideStatus() {
        return this._guideStatus;
    }
}


/***/ }),

/***/ "/OJ4":
/*!***************************************************************!*\
  !*** ./src/client/nitro/session/enum/RoomTradingLevelEnum.ts ***!
  \***************************************************************/
/*! exports provided: RoomTradingLevelEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomTradingLevelEnum", function() { return RoomTradingLevelEnum; });
class RoomTradingLevelEnum {
    static _Str_22614(k) {
        switch (k) {
            case RoomTradingLevelEnum._Str_9173:
                return "${trading.mode.free}";
            case RoomTradingLevelEnum._Str_14475:
                return "${trading.mode.controller}";
            case RoomTradingLevelEnum._Str_12752:
                return "${trading.mode.not.allowed}";
        }
        return '';
    }
}
RoomTradingLevelEnum._Str_12752 = 0;
RoomTradingLevelEnum._Str_14475 = 1;
RoomTradingLevelEnum._Str_9173 = 2;


/***/ }),

/***/ "/PsI":
/*!******************************************************!*\
  !*** ./src/client/nitro/avatar/enum/AvatarAction.ts ***!
  \******************************************************/
/*! exports provided: AvatarAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarAction", function() { return AvatarAction; });
class AvatarAction {
    static getExpressionTimeout(expressionId) {
        expressionId = parseInt(expressionId);
        switch (expressionId) {
            case 1:
                return 5000;
            case 2:
                return 1400;
            case 3:
                return 2000;
            case 4:
                return 2000;
            case 5:
                return 0;
            case 6:
                return 700;
            case 7:
                return 2000;
            case 8:
                return 1500;
            case 9:
                return 1500;
            case 10:
                return 1500;
            default:
                return 0;
        }
    }
    static getExpressionId(expression) {
        return AvatarAction.EXPRESSION_MAP.indexOf(expression);
    }
    static getExpression(expressionId) {
        if (expressionId > AvatarAction.EXPRESSION_MAP.length)
            return null;
        return AvatarAction.EXPRESSION_MAP[expressionId];
    }
    static getGestureId(gesture) {
        return AvatarAction.GESTURE_MAP.indexOf(gesture);
    }
    static getGesture(gestureId) {
        if (gestureId > AvatarAction.GESTURE_MAP.length)
            return null;
        return AvatarAction.GESTURE_MAP[gestureId];
    }
    static idToAvatarActionState(id) {
        if (id === 'Lay')
            return 'lay';
        if (id === 'Float')
            return 'float';
        if (id === 'Swim')
            return 'swim';
        if (id === 'Sit')
            return 'sit';
        if (id === 'Respect')
            return 'respect';
        if (id === 'Wave')
            return 'wave';
        if (id === 'Idle')
            return 'idle';
        if (id === 'Dance')
            return 'dance';
        if (id === 'UseItem')
            return 'usei';
        if (id === 'CarryItem')
            return 'cri';
        if (id === 'Talk')
            return 'talk';
        if (id === 'Sleep')
            return 'Sleep';
        if (id === 'Move')
            return 'mv';
        return 'std';
    }
}
AvatarAction.CARRY_OBJECT = 'cri';
AvatarAction.DANCE = 'dance';
AvatarAction.EFFECT = 'fx';
AvatarAction.EXPRESSION = 'expression';
AvatarAction.EXPRESSION_BLOW_A_KISS = 'blow';
AvatarAction.EXPRESSION_CRY = 'cry';
AvatarAction.EXPRESSION_IDLE = 'idle';
AvatarAction.EXPRESSION_LAUGH = 'laugh';
AvatarAction.EXPRESSION_RESPECT = 'respect';
AvatarAction.EXPRESSION_RIDE_JUMP = 'ridejump';
AvatarAction.EXPRESSION_SNOWBOARD_OLLIE = 'sbollie';
AvatarAction.EXPRESSION_SNOWBORD_360 = 'sb360';
AvatarAction.EXPRESSION_WAVE = 'wave';
AvatarAction.GESTURE = 'gest';
AvatarAction.GESTURE_AGGRAVATED = 'agr';
AvatarAction.GESTURE_SAD = 'sad';
AvatarAction.GESTURE_SMILE = 'sml';
AvatarAction.GESTURE_SURPRISED = 'srp';
AvatarAction.GUIDE_STATUS = 'guide';
AvatarAction.MUTED = 'muted';
AvatarAction.PET_GESTURE_BLINK = 'eyb';
AvatarAction.PET_GESTURE_CRAZY = 'crz';
AvatarAction.PET_GESTURE_JOY = 'joy';
AvatarAction.PET_GESTURE_MISERABLE = 'mis';
AvatarAction.PET_GESTURE_PUZZLED = 'puz';
AvatarAction.PET_GESTURE_TONGUE = 'tng';
AvatarAction.PLAYING_GAME = 'playing_game';
AvatarAction.POSTURE = 'posture';
AvatarAction.POSTURE_FLOAT = 'float';
AvatarAction.POSTURE_LAY = 'lay';
AvatarAction.POSTURE_SIT = 'sit';
AvatarAction.POSTURE_STAND = 'std';
AvatarAction.POSTURE_SWIM = 'swim';
AvatarAction.POSTURE_WALK = 'mv';
AvatarAction.SIGN = 'sign';
AvatarAction.SLEEP = 'sleep';
AvatarAction.SNOWWAR_DIE_BACK = 'swdieback';
AvatarAction.SNOWWAR_DIE_FRONT = 'swdiefront';
AvatarAction.SNOWWAR_PICK = 'swpick';
AvatarAction.SNOWWAR_RUN = 'swrun';
AvatarAction.SNOWWAR_THROW = 'swthrow';
AvatarAction.TALK = 'talk';
AvatarAction.BLINK = 'blink';
AvatarAction.TYPING = 'typing';
AvatarAction.USE_OBJECT = 'usei';
AvatarAction.VOTE = 'vote';
AvatarAction.GESTURE_MAP = ['', AvatarAction.GESTURE_SMILE, AvatarAction.GESTURE_AGGRAVATED, AvatarAction.GESTURE_SURPRISED, AvatarAction.GESTURE_SAD, AvatarAction.PET_GESTURE_JOY, AvatarAction.PET_GESTURE_CRAZY, AvatarAction.PET_GESTURE_TONGUE, AvatarAction.PET_GESTURE_BLINK, AvatarAction.PET_GESTURE_MISERABLE, AvatarAction.PET_GESTURE_PUZZLED];
AvatarAction.EXPRESSION_MAP = ['', AvatarAction.EXPRESSION_WAVE, AvatarAction.EXPRESSION_BLOW_A_KISS, AvatarAction.EXPRESSION_LAUGH, AvatarAction.EXPRESSION_CRY, AvatarAction.EXPRESSION_IDLE, AvatarAction.DANCE, AvatarAction.EXPRESSION_RESPECT, AvatarAction.EXPRESSION_SNOWBOARD_OLLIE, AvatarAction.EXPRESSION_SNOWBORD_360, AvatarAction.EXPRESSION_RIDE_JUMP];


/***/ }),

/***/ "/m78":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/inventory/furni/FurnitureList2Composer.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurnitureList2Composer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureList2Composer", function() { return FurnitureList2Composer; });
class FurnitureList2Composer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "/nDU":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/session/furniture/FurnitureDataParser.ts ***!
  \*******************************************************************/
/*! exports provided: FurnitureDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureDataParser", function() { return FurnitureDataParser; });
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/events/NitroEvent */ "3r1x");
/* harmony import */ var _FurnitureData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureData */ "uDPx");
/* harmony import */ var _FurnitureType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FurnitureType */ "z20u");




class FurnitureDataParser extends _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__["EventDispatcher"] {
    constructor(floorItems, wallItems) {
        super();
        this._floorItems = floorItems;
        this._wallItems = wallItems;
    }
    loadFurnitureData(url) {
        if (!url)
            return;
        const request = new XMLHttpRequest();
        request.addEventListener('loadend', this.onFurnitureDataLoaded.bind(this, request));
        request.addEventListener('error', this.onFurnitureDataError.bind(this, request));
        request.open('GET', url);
        request.send();
    }
    onFurnitureDataLoaded(request) {
        if (!request)
            return;
        request.removeEventListener('loadend', this.onFurnitureDataLoaded.bind(this, request));
        request.removeEventListener('error', this.onFurnitureDataError.bind(this, request));
        if (request.responseText) {
            const data = JSON.parse(request.responseText);
            if (data.floorItems)
                this.parseFloorItems(data.floorItems);
            if (data.wallItems)
                this.parseWallItems(data.wallItems);
        }
        this.dispatchEvent(new _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_1__["NitroEvent"](FurnitureDataParser.FURNITURE_DATA_READY));
    }
    onFurnitureDataError(request) {
        if (!request)
            request.removeEventListener('loadend', this.onFurnitureDataLoaded.bind(this, request));
        request.removeEventListener('error', this.onFurnitureDataError.bind(this, request));
        this.dispatchEvent(new _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_1__["NitroEvent"](FurnitureDataParser.FURNITURE_DATA_ERROR));
    }
    parseFloorItems(data) {
        if (!data || !data.length)
            return;
        for (let furniture of data) {
            if (!furniture)
                continue;
            this._floorItems.set(furniture.id, new _FurnitureData__WEBPACK_IMPORTED_MODULE_2__["FurnitureData"](_FurnitureType__WEBPACK_IMPORTED_MODULE_3__["FurnitureType"].FLOOR, furniture.id, furniture.className, furniture.name, furniture.description, furniture.furniLine, furniture.colors, furniture.dimensions, furniture.canStandOn, furniture.canSitOn, furniture.canLayOn, furniture.offerId, furniture.adUrl, furniture.excludeDynamic, furniture.specialType, furniture.customParams));
        }
    }
    parseWallItems(data) {
        if (!data || !data.length)
            return;
        for (let furniture of data) {
            if (!furniture)
                continue;
            this._wallItems.set(furniture.id, new _FurnitureData__WEBPACK_IMPORTED_MODULE_2__["FurnitureData"](_FurnitureType__WEBPACK_IMPORTED_MODULE_3__["FurnitureType"].WALL, furniture.id, furniture.className, furniture.name, furniture.description, furniture.furniLine, furniture.colors, furniture.dimensions, furniture.canStandOn, furniture.canSitOn, furniture.canLayOn, furniture.offerId, furniture.adUrl, furniture.excludeDynamic, furniture.specialType, furniture.customParams));
        }
    }
}
FurnitureDataParser.FURNITURE_DATA_READY = 'FDP_FURNITURE_DATA_READY';
FurnitureDataParser.FURNITURE_DATA_ERROR = 'FDP_FURNITURE_DATA_ERROR';


/***/ }),

/***/ "/niJ":
/*!**********************************************************!*\
  !*** ./src/client/nitro/avatar/AvatarFigureContainer.ts ***!
  \**********************************************************/
/*! exports provided: AvatarFigureContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarFigureContainer", function() { return AvatarFigureContainer; });
class AvatarFigureContainer {
    constructor(figure) {
        this._parts = new Map();
        this.parseFigure(figure);
    }
    _Str_1016() {
        return this.partSets().keys();
    }
    _Str_744(k) {
        return this.partSets().get(k) !== null;
    }
    getPartSetId(k) {
        const existing = this.partSets().get(k);
        if (!existing)
            return 0;
        return existing.get('setid');
    }
    _Str_815(k) {
        const existing = this.partSets().get(k);
        if (!existing)
            return null;
        return existing.get('colorids');
    }
    _Str_830(k, _arg_2, _arg_3) {
        const set = new Map();
        set.set('type', k);
        set.set('setid', _arg_2);
        set.set('colorids', _arg_3);
        const existingSets = this.partSets();
        existingSets.delete(k);
        existingSets.set(k, set);
    }
    _Str_923(k) {
        this.partSets().delete(k);
    }
    _Str_1008() {
        const parts = [];
        for (let key of this.partSets().keys()) {
            if (!key)
                continue;
            let setParts = [];
            setParts.push(key);
            setParts.push(this.getPartSetId(key));
            setParts = setParts.concat(this._Str_815(key));
            parts.push(setParts.join('-'));
        }
        return parts.join('.');
    }
    partSets() {
        if (!this._parts)
            this._parts = new Map();
        return this._parts;
    }
    parseFigure(figure) {
        if (!figure)
            figure = '';
        for (let part of figure.split('.')) {
            const pieces = part.split('-');
            if (pieces.length >= 2) {
                const type = pieces[0];
                const setId = parseInt(pieces[1]);
                const colors = [];
                let index = 2;
                while (index < pieces.length) {
                    colors.push(parseInt(pieces[index]));
                    index++;
                }
                this._Str_830(type, setId, colors);
            }
        }
    }
}


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\Hen\Desktop\Arcturus MS 2.5\Nitro\Source\src\main.ts */"zUnb");


/***/ }),

/***/ "02A4":
/*!**********************************************!*\
  !*** ./src/client/nitro/room/ImageResult.ts ***!
  \**********************************************/
/*! exports provided: ImageResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageResult", function() { return ImageResult; });
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../room/utils/TextureUtils */ "IxQr");

class ImageResult {
    constructor() {
        this.id = 0;
        this.data = null;
        this.image = null;
    }
    getImage() {
        if (this.image)
            return this.image;
        if (!this.data)
            return null;
        return _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateImage(this.data);
    }
}


/***/ }),

/***/ "0DoP":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/RoomUnitGiveHandItemComposer.ts ***!
  \****************************************************************************************************/
/*! exports provided: RoomUnitGiveHandItemComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitGiveHandItemComposer", function() { return RoomUnitGiveHandItemComposer; });
class RoomUnitGiveHandItemComposer {
    constructor(unitId) {
        this._data = [unitId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "0PdH":
/*!*****************************************************************************!*\
  !*** ./src/app/components/room/widgets/handlers/AvatarInfoWidgetHandler.ts ***!
  \*****************************************************************************/
/*! exports provided: AvatarInfoWidgetHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarInfoWidgetHandler", function() { return AvatarInfoWidgetHandler; });
/* harmony import */ var _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectType */ "+kDp");
/* harmony import */ var _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _client_nitro_session_events_RoomSessionDanceEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../client/nitro/session/events/RoomSessionDanceEvent */ "TPa8");
/* harmony import */ var _client_nitro_session_events_RoomSessionUserDataUpdateEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../client/nitro/session/events/RoomSessionUserDataUpdateEvent */ "EHDF");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/enums/RoomWidgetEnum */ "f6o4");
/* harmony import */ var _events_RoomWidgetAvatarInfoEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../events/RoomWidgetAvatarInfoEvent */ "Fxxc");
/* harmony import */ var _events_RoomWidgetUserDataUpdateEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../events/RoomWidgetUserDataUpdateEvent */ "qPg2");
/* harmony import */ var _messages_RoomWidgetAvatarExpressionMessage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../messages/RoomWidgetAvatarExpressionMessage */ "hYlx");
/* harmony import */ var _messages_RoomWidgetChangePostureMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../messages/RoomWidgetChangePostureMessage */ "5edz");
/* harmony import */ var _messages_RoomWidgetDanceMessage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../messages/RoomWidgetDanceMessage */ "7+D5");
/* harmony import */ var _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../messages/RoomWidgetRoomObjectMessage */ "NpmB");
/* harmony import */ var _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../messages/RoomWidgetUserActionMessage */ "Tngy");





//import { AvatarInfoWidget } from '../widget/avatarinfo/AvatarInfoWidget';








class AvatarInfoWidgetHandler {
    constructor() {
        this._container = null;
        this._container = null;
        this._widget = null;
        this._disposed = false;
    }
    dispose() {
        if (this.disposed)
            return;
        this.container = null;
        this._widget = null;
        this._disposed = true;
    }
    update() {
    }
    processWidgetMessage(message) {
        if (!message)
            return;
        let userId = 0;
        if (message instanceof _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_12__["RoomWidgetUserActionMessage"])
            userId = message.userId;
        switch (message.type) {
            case _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectMessage"].GET_OWN_CHARACTER_INFO:
                this.getOwnCharacterInfo();
                break;
            case _messages_RoomWidgetDanceMessage__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetDanceMessage"].RWCM_MESSAGE_DANCE:
                const danceMessage = message;
                if (this._container && this._container.roomSession) {
                    this._container.roomSession.sendDanceMessage(danceMessage.style);
                }
                break;
            case _messages_RoomWidgetAvatarExpressionMessage__WEBPACK_IMPORTED_MODULE_8__["RoomWidgetAvatarExpressionMessage"].RWCM_MESSAGE_AVATAR_EXPRESSION:
                const expressionMessage = message;
                if (this._container && this._container.roomSession) {
                    this._container.roomSession.sendExpressionMessage(expressionMessage.animation._Str_6677);
                }
                break;
            case _messages_RoomWidgetChangePostureMessage__WEBPACK_IMPORTED_MODULE_9__["RoomWidgetChangePostureMessage"].RWCPM_MESSAGE_CHANGE_POSTURE:
                const postureMessage = message;
                if (this._container && this._container.roomSession) {
                    this._container.roomSession.sendPostureMessage(postureMessage.posture);
                }
                break;
        }
        return null;
    }
    processEvent(event) {
        if (!event)
            return;
        switch (event.type) {
            case _client_nitro_session_events_RoomSessionUserDataUpdateEvent__WEBPACK_IMPORTED_MODULE_4__["RoomSessionUserDataUpdateEvent"].USER_DATA_UPDATED:
                this._container.events.dispatchEvent(new _events_RoomWidgetUserDataUpdateEvent__WEBPACK_IMPORTED_MODULE_7__["RoomWidgetUserDataUpdateEvent"]());
                return;
            case _client_nitro_session_events_RoomSessionDanceEvent__WEBPACK_IMPORTED_MODULE_3__["RoomSessionDanceEvent"].RSDE_DANCE:
                const danceEvent = event;
                if (this._widget && this._container && this._container.roomSession && this._container.roomSession.userDataManager) {
                    const userData = this._container.roomSession.userDataManager.getUserData(this._container.sessionDataManager.userId);
                    if (userData && (userData.roomIndex === danceEvent.roomIndex)) {
                        this.widget.isDancing = (danceEvent.danceId !== 0);
                    }
                }
                return;
        }
    }
    getOwnCharacterInfo() {
        let userId = this._container.sessionDataManager.userId;
        let userName = this._container.sessionDataManager.userName;
        //let _local_3: boolean = this._container.sessionDataManager._Str_11198;
        let _local_3 = false;
        let _local_4 = this._container.roomSession.userDataManager.getUserData(userId);
        if (_local_4)
            this._container.events.dispatchEvent(new _events_RoomWidgetAvatarInfoEvent__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetAvatarInfoEvent"](userId, userName, _local_4.type, _local_4.roomIndex, _local_3));
    }
    getObjectFurnitureData(k) {
        if (!k)
            return null;
        const typeId = k.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_TYPE_ID);
        const furnitureData = this._container.sessionDataManager.getFloorItemData(typeId);
        return furnitureData;
    }
    getPetUserData(k) {
        const roomId = this._container.roomSession.roomId;
        const totalObjects = this._container.roomEngine.getTotalObjectsForManager(roomId, _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__["RoomObjectCategory"].UNIT);
        let i = 0;
        while (i < totalObjects) {
            const object = this._container.roomEngine.getRoomObjectByIndex(roomId, i, _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__["RoomObjectCategory"].UNIT);
            const userData = this._container.roomSession.userDataManager.getUserDataByIndex(object.id);
            if (userData && (userData.type === _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_1__["RoomObjectType"].PET) && (userData.webID === k))
                return userData;
            i++;
        }
        return null;
    }
    get type() {
        return _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetEnum"].AVATAR_INFO;
    }
    get messageTypes() {
        return [
            _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectMessage"].GET_OWN_CHARACTER_INFO,
            _messages_RoomWidgetDanceMessage__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetDanceMessage"].RWCM_MESSAGE_DANCE,
            _messages_RoomWidgetAvatarExpressionMessage__WEBPACK_IMPORTED_MODULE_8__["RoomWidgetAvatarExpressionMessage"].RWCM_MESSAGE_AVATAR_EXPRESSION,
            _messages_RoomWidgetChangePostureMessage__WEBPACK_IMPORTED_MODULE_9__["RoomWidgetChangePostureMessage"].RWCPM_MESSAGE_CHANGE_POSTURE
        ];
    }
    get eventTypes() {
        return [
            _client_nitro_session_events_RoomSessionUserDataUpdateEvent__WEBPACK_IMPORTED_MODULE_4__["RoomSessionUserDataUpdateEvent"].USER_DATA_UPDATED,
            _client_nitro_session_events_RoomSessionDanceEvent__WEBPACK_IMPORTED_MODULE_3__["RoomSessionDanceEvent"].RSDE_DANCE
        ];
    }
    get container() {
        return this._container;
    }
    set container(k) {
        if (this._container) {
        }
        this._container = k;
        if (!k)
            return;
    }
    get widget() {
        return this._widget;
    }
    set widget(k) {
        this._widget = k;
    }
    get roomEngine() {
        return ((this._container && this._container.roomEngine) || null);
    }
    get roomSession() {
        return ((this._container && this._container.roomSession) || null);
    }
    get disposed() {
        return this._disposed;
    }
}


/***/ }),

/***/ "0UMw":
/*!*********************************************************!*\
  !*** ./src/app/components/catalog/layouts/component.ts ***!
  \*********************************************************/
/*! exports provided: CatalogLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogLayout", function() { return CatalogLayout; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _AppConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../AppConfiguration */ "dZ2M");
/* harmony import */ var _services_catalog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/catalog.service */ "ywHV");




class CatalogLayout {
    constructor(catalogService) {
        this.catalogService = catalogService;
        this.catalogPage = null;
        this.pageParser = null;
        this.activeOffer = null;
        this.roomPreviewer = null;
    }
    getText(index = 0) {
        return (this.pageParser.localization.texts[index] || null);
    }
    getImage(index = 0) {
        return (this.pageParser.localization.images[index] || null);
    }
    get headerText() {
        return (this.catalogPage.localization || null);
    }
    get headerDescription() {
        return this.getText(0);
    }
    get headerImage() {
        let imageName = this.getImage(0);
        if (imageName && this.pageParser) {
            return (_AppConfiguration__WEBPACK_IMPORTED_MODULE_1__["AppConfiguration"].CATALOG_IMAGE_URL.replace('%name%', imageName));
        }
        return null;
    }
    get pageDescription() {
        return this.getText(1);
    }
    get pageImage() {
        let imageName = this.getImage(1);
        if (imageName && (imageName !== '') && this.pageParser) {
            return (_AppConfiguration__WEBPACK_IMPORTED_MODULE_1__["AppConfiguration"].CATALOG_IMAGE_URL.replace('%name%', imageName));
        }
        return null;
    }
}
CatalogLayout.ɵfac = function CatalogLayout_Factory(t) { return new (t || CatalogLayout)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_catalog_service__WEBPACK_IMPORTED_MODULE_2__["CatalogService"])); };
CatalogLayout.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: CatalogLayout, inputs: { catalogPage: "catalogPage", pageParser: "pageParser", activeOffer: "activeOffer", roomPreviewer: "roomPreviewer" } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogLayout, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"]
    }], function () { return [{ type: _services_catalog_service__WEBPACK_IMPORTED_MODULE_2__["CatalogService"] }]; }, { catalogPage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], pageParser: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activeOffer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], roomPreviewer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "0XIW":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/mapping/RoomDoorParser.ts ***!
  \***************************************************************************************/
/*! exports provided: RoomDoorParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomDoorParser", function() { return RoomDoorParser; });
class RoomDoorParser {
    flush() {
        this._x = 0;
        this._y = 0;
        this._direction = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._x = wrapper.readInt();
        this._y = wrapper.readInt();
        this._direction = wrapper.readInt();
        return true;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get direction() {
        return this._direction;
    }
}


/***/ }),

/***/ "0gOM":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/communication/NitroCommunicationManager.ts ***!
  \*********************************************************************/
/*! exports provided: NitroCommunicationManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroCommunicationManager", function() { return NitroCommunicationManager; });
/* harmony import */ var _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/NitroManager */ "Fv14");
/* harmony import */ var _core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/communication/events/SocketConnectionEvent */ "+IGW");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Nitro */ "P7Cj");
/* harmony import */ var _demo_NitroCommunicationDemo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./demo/NitroCommunicationDemo */ "dBGV");
/* harmony import */ var _demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./demo/NitroCommunicationDemoEvent */ "z6mw");
/* harmony import */ var _NitroMessages__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NitroMessages */ "pJN8");







class NitroCommunicationManager extends _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__["NitroManager"] {
    constructor(communication) {
        super();
        this._communication = communication;
        this._connection = null;
        this._messages = new _NitroMessages__WEBPACK_IMPORTED_MODULE_6__["NitroMessages"]();
        this._demo = new _demo_NitroCommunicationDemo__WEBPACK_IMPORTED_MODULE_4__["NitroCommunicationDemo"](this);
    }
    onInit() {
        if (this._connection)
            return;
        _Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.addEventListener(_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_5__["NitroCommunicationDemoEvent"].CONNECTION_AUTHENTICATED, this.onConnectionAuthenticatedEvent.bind(this));
        this._connection = this._communication.createConnection(this);
        this._connection.registerMessages(this._messages);
        this._connection.addEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_1__["SocketConnectionEvent"].CONNECTION_OPENED, this.onConnectionOpenedEvent.bind(this));
        this._connection.addEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_1__["SocketConnectionEvent"].CONNECTION_CLOSED, this.onConnectionClosedEvent.bind(this));
        this._connection.addEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_1__["SocketConnectionEvent"].CONNECTION_ERROR, this.onConnectionErrorEvent.bind(this));
        if (this._demo)
            this._demo.init();
        this._connection.init(_NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__["NitroConfiguration"].SOCKET_URL);
    }
    onDispose() {
        if (this._demo)
            this._demo.dispose();
        if (this._connection) {
            this._connection.removeEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_1__["SocketConnectionEvent"].CONNECTION_OPENED, this.onConnectionOpenedEvent.bind(this));
            this._connection.removeEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_1__["SocketConnectionEvent"].CONNECTION_CLOSED, this.onConnectionClosedEvent.bind(this));
            this._connection.removeEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_1__["SocketConnectionEvent"].CONNECTION_ERROR, this.onConnectionErrorEvent.bind(this));
        }
        super.onDispose();
    }
    onConnectionOpenedEvent(event) {
        this.logger.log(`Connection Initialized`);
    }
    onConnectionClosedEvent(event) {
        this.logger.log(`Connection Closed`);
    }
    onConnectionErrorEvent(event) {
        this.logger.log(`Connection Error`);
    }
    onConnectionAuthenticatedEvent(event) {
        this.logger.log('Connection Authenticated');
        if (this._connection)
            this._connection.authenticated();
    }
    connectionInit(socketUrl) {
        this.logger.log(`Initializing Connection: ${socketUrl}`);
    }
    registerMessageEvent(event) {
        if (this._connection)
            this._connection.addMessageEvent(event);
        return event;
    }
    removeMessageEvent(event) {
        if (!this._connection)
            return;
        this._connection.removeMessageEvent(event);
    }
    get demo() {
        return this._demo;
    }
    get connection() {
        return this._connection;
    }
}


/***/ }),

/***/ "0nxZ":
/*!****************************************************************!*\
  !*** ./src/app/components/inventory/enum/InventoryCategory.ts ***!
  \****************************************************************/
/*! exports provided: InventoryCategory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InventoryCategory", function() { return InventoryCategory; });
class InventoryCategory {
}
InventoryCategory.FURNI = 'furni';
InventoryCategory.RENTABLES = 'rentables';
InventoryCategory.BADGES = 'badges';
InventoryCategory.EFFECTS = 'effects';
InventoryCategory.PETS = 'pets';
InventoryCategory.BOTS = 'bots';
InventoryCategory.MARKETPLACE = 'marketplace';


/***/ }),

/***/ "0wjC":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/utils/CatalogPageOfferData.ts ***!
  \**********************************************************************************************/
/*! exports provided: CatalogPageOfferData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPageOfferData", function() { return CatalogPageOfferData; });
/* harmony import */ var _CatalogProductOfferData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CatalogProductOfferData */ "P5vI");

class CatalogPageOfferData {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._offerId = -1;
        this._localizationId = null;
        this._rent = false;
        this._priceCredits = 0;
        this._priceActivityPoints = 0;
        this._priceActivityPointsType = 0;
        this._clubLevel = 0;
        this._giftable = false;
        this._bundlePurchaseAllowed = false;
        this._isPet = false;
        this._previewImage = null;
        this._products = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._offerId = wrapper.readInt();
        this._localizationId = wrapper.readString();
        this._rent = wrapper.readBoolean();
        this._priceCredits = wrapper.readInt();
        this._priceActivityPoints = wrapper.readInt();
        this._priceActivityPointsType = wrapper.readInt();
        this._giftable = wrapper.readBoolean();
        let totalProducts = wrapper.readInt();
        while (totalProducts > 0) {
            this._products.push(new _CatalogProductOfferData__WEBPACK_IMPORTED_MODULE_0__["CatalogProductOfferData"](wrapper));
            totalProducts--;
        }
        this._clubLevel = wrapper.readInt();
        this._bundlePurchaseAllowed = wrapper.readBoolean();
        this._isPet = wrapper.readBoolean();
        this._previewImage = wrapper.readString();
        return true;
    }
    get offerId() {
        return this._offerId;
    }
    get localizationId() {
        return this._localizationId;
    }
    get rent() {
        return this._rent;
    }
    get priceCredits() {
        return this._priceCredits;
    }
    get priceActivityPoints() {
        return this._priceActivityPoints;
    }
    get priceActivityPointsType() {
        return this._priceActivityPointsType;
    }
    get clubLevel() {
        return this._clubLevel;
    }
    get giftable() {
        return this._giftable;
    }
    get bundlePurchaseAllowed() {
        return this._bundlePurchaseAllowed;
    }
    get isPet() {
        return this._isPet;
    }
    get previewImage() {
        return this._previewImage;
    }
    get products() {
        return this._products;
    }
}


/***/ }),

/***/ "1+1A":
/*!*******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallDataParser.ts ***!
  \*******************************************************************************************************/
/*! exports provided: FurnitureWallDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallDataParser", function() { return FurnitureWallDataParser; });
class FurnitureWallDataParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._itemId = 0;
        this._spriteId = 0;
        this._location = null;
        this._stuffData = null;
        this._state = 0;
        this._secondsToExpiration = 0;
        this._usagePolicy = -1;
        this._userId = 0;
        this._username = null;
        this._width = 0;
        this._height = 0;
        this._localX = 0;
        this._localY = 0;
        this._y = 0;
        this._z = 0;
        this._direction = null;
        this._Str_19875 = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = parseInt(wrapper.readString());
        this._spriteId = wrapper.readInt();
        this._location = wrapper.readString();
        this._stuffData = wrapper.readString();
        this._secondsToExpiration = wrapper.readInt();
        this._usagePolicy = wrapper.readInt();
        this._userId = wrapper.readInt();
        this._username = null;
        const state = parseFloat(this._stuffData);
        if (!isNaN(state))
            this._state = state;
        if (this._location.indexOf(':') === 0) {
            this._Str_19875 = false;
            let parts = this._location.split(' ');
            if (parts.length >= 3) {
                let [widthHeight, leftRight, direction] = parts;
                if ((widthHeight.length > 3) && (leftRight.length > 2)) {
                    widthHeight = widthHeight.substr(3);
                    leftRight = leftRight.substr(2);
                    parts = widthHeight.split(',');
                    if (parts.length >= 2) {
                        const width = parseInt(parts[0]);
                        const height = parseInt(parts[1]);
                        parts = leftRight.split(',');
                        if (parts.length >= 2) {
                            const localX = parseInt(parts[0]);
                            const localY = parseInt(parts[1]);
                            this._width = width;
                            this._height = height;
                            this._localX = localX;
                            this._localY = localY;
                            this._direction = direction;
                        }
                    }
                }
            }
        }
        else {
            this._Str_19875 = true;
            // _local_12 = _local_4.split(" ");
            // if (_local_12.length >= 2)
            // {
            //     _local_13 = String(_local_12[0]);
            //     if (((_local_13 == "rightwall") || (_local_13 == "frontwall")))
            //     {
            //         _local_13 = "r";
            //     }
            //     else
            //     {
            //         _local_13 = "l";
            //     }
            //     _local_20 = String(_local_12[1]);
            //     _local_21 = _local_20.split(",");
            //     if (_local_21.length >= 3)
            //     {
            //         _local_22 = 0;
            //         _local_23 = parseFloat(_local_21[0]);
            //         _local_24 = parseFloat(_local_21[1]);
            //         _local_11.y = _local_23;
            //         _local_11.z = _local_24;
            //         _local_11.dir = _local_13;
            //         _local_11.data = _local_5;
            //         _local_11.state = _local_9;
            //     }
            //  }
        }
        return true;
    }
    get itemId() {
        return this._itemId;
    }
    get spriteId() {
        return this._spriteId;
    }
    get wallPosition() {
        return this._location;
    }
    get stuffData() {
        return this._stuffData;
    }
    get state() {
        return this._state;
    }
    get secondsToExpiration() {
        return this._secondsToExpiration;
    }
    get usagePolicy() {
        return this._usagePolicy;
    }
    get userId() {
        return this._userId;
    }
    get username() {
        return this._username;
    }
    set username(username) {
        this._username = username;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
    get localX() {
        return this._localX;
    }
    get localY() {
        return this._localY;
    }
    get direction() {
        return this._direction;
    }
    get _Str_22379() {
        return this._Str_19875;
    }
}


/***/ }),

/***/ "10wl":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/data/RoomInfoEvent.ts ***!
  \*************************************************************************************/
/*! exports provided: RoomInfoEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoEvent", function() { return RoomInfoEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_data_RoomInfoParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/data/RoomInfoParser */ "dfHp");


class RoomInfoEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_data_RoomInfoParser__WEBPACK_IMPORTED_MODULE_1__["RoomInfoParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "11td":
/*!**********************************************************!*\
  !*** ./src/app/components/catalog/purchase/component.ts ***!
  \**********************************************************/
/*! exports provided: CatalogPurchaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseComponent", function() { return CatalogPurchaseComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_communication_messages_outgoing_catalog_CatalogPurchaseComposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/communication/messages/outgoing/catalog/CatalogPurchaseComposer */ "8ZkN");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../confirmpurchase/component */ "6Y6K");
/* harmony import */ var _services_catalog_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/catalog.service */ "ywHV");
/* harmony import */ var _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/services/alert/service */ "Ffqm");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-toastr */ "5eHb");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "ofXK");









const _c0 = ["nitro-catalog-purchase-component", ""];
function CatalogPurchaseComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r0.costCredits, "");
} }
function CatalogPurchaseComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("icon icon-currency-", ctx_r1.pointsType, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r1.costPoints, "");
} }
class CatalogPurchaseComponent {
    constructor(catalogService, alertService, toastrService, ngZone) {
        this.catalogService = catalogService;
        this.alertService = alertService;
        this.toastrService = toastrService;
        this.ngZone = ngZone;
        this.catalogPage = null;
        this.offer = null;
        this.roomPreviewer = null;
        this.quantity = 1;
        this.activeToast = null;
        this.actionSubscription = null;
        this.hideSubscription = null;
        this.purchaseSubscription = null;
    }
    ngOnInit() {
        this.purchaseSubscription = this.catalogService.purchaseEmitter.subscribe((purchase) => (purchase && this.onPurchased(purchase)));
    }
    ngOnDestroy() {
        this.removeToast();
        if (this.purchaseSubscription)
            this.purchaseSubscription.unsubscribe();
        if (this.actionSubscription)
            this.actionSubscription.unsubscribe();
        if (this.hideSubscription)
            this.hideSubscription.unsubscribe();
    }
    ngOnChanges(changes) {
        const previous = changes.offer.previousValue;
        const next = changes.offer.currentValue;
        if (next === previous)
            return;
        this.quantity = 1;
    }
    removeToast() {
        if (!this.activeToast)
            return;
        this.ngZone.run((() => this.toastrService.clear(this.activeToast.toastId)));
    }
    adjustQuantity(amount = 1, exact = false) {
        if (!amount) {
            this.quantity = 1;
            return;
        }
        if (exact) {
            this.quantity = amount;
            return;
        }
        let newQuantity = this.quantity + amount;
        if (newQuantity <= 0)
            newQuantity = 1;
        this.quantity = newQuantity;
    }
    purchase() {
        if (!this.activeToast) {
            const config = this.alertService.alertConfig();
            if (!config)
                return;
            const toast = this.alertService.createToast(_confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmPurchaseToastComponent"], null, 'Confirm Purchase', config);
            if (toast) {
                this.activeToast = toast;
                this.actionSubscription = this.activeToast
                    .onAction
                    .subscribe((action) => (action && this.onAction(action)));
                this.hideSubscription = this.activeToast
                    .onHidden
                    .subscribe(this.onHidden.bind(this));
            }
            if (!this.activeToast)
                return;
        }
        const instance = this.activeToast.toastRef.componentInstance;
        if (instance) {
            if (instance.isLoading)
                return;
            instance.offer = this.offer;
            instance.roomPreviewer = this.roomPreviewer;
            instance.quantity = this.quantity;
            instance.costCredits = this.costCredits;
            instance.costPoints = this.costPoints;
            instance.pointsType = this.pointsType;
            instance.refresh();
        }
    }
    onPurchased(purchase) {
        const toast = ((this.activeToast && this.activeToast.toastRef && this.activeToast.toastRef.componentInstance) || null);
        if (!toast)
            return;
        toast.completePurchase();
        this.removeToast();
    }
    onAction(action) {
        if (this.activeToast) {
            this.activeToast.toastRef.componentInstance.isLoading = true;
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.communication.connection.send(new _client_nitro_communication_messages_outgoing_catalog_CatalogPurchaseComposer__WEBPACK_IMPORTED_MODULE_1__["CatalogPurchaseComposer"](this.catalogPage.pageId, this.offer.offerId, null, this.quantity));
        }
    }
    onHidden() {
        if (this.actionSubscription)
            this.actionSubscription.unsubscribe();
        if (this.hideSubscription)
            this.hideSubscription.unsubscribe();
        this.activeToast = null;
    }
    get costCredits() {
        return ((this.offer.priceCredits && (this.offer.priceCredits * this.quantity)) || 0);
    }
    get costPoints() {
        return ((this.offer.priceActivityPoints && (this.offer.priceActivityPoints * this.quantity)) || 0);
    }
    get pointsType() {
        return this.offer.priceActivityPoints;
    }
}
CatalogPurchaseComponent.ɵfac = function CatalogPurchaseComponent_Factory(t) { return new (t || CatalogPurchaseComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_catalog_service__WEBPACK_IMPORTED_MODULE_4__["CatalogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_6__["ToastrService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
CatalogPurchaseComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogPurchaseComponent, selectors: [["", "nitro-catalog-purchase-component", ""]], inputs: { catalogPage: "catalogPage", offer: "offer", roomPreviewer: "roomPreviewer" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], attrs: _c0, decls: 12, vars: 3, consts: [[1, "nitro-catalog-purchase-component"], ["class", "badge badge-secondary", 4, "ngIf"], [1, "button-container", "btn-group"], ["type", "button", 1, "btn", "btn-primary", 3, "click"], ["type", "button", 1, "btn", "btn-primary"], [1, "badge", "badge-secondary"], [1, "icon", "icon-currency--1"]], template: function CatalogPurchaseComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CatalogPurchaseComponent_div_1_Template, 3, 1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CatalogPurchaseComponent_div_2_Template, 3, 4, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CatalogPurchaseComponent_Template_button_click_4_listener() { return ctx.adjustQuantity(-1); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "-");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CatalogPurchaseComponent_Template_button_click_8_listener() { return ctx.adjustQuantity(1); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "+");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CatalogPurchaseComponent_Template_button_click_10_listener() { return ctx.purchase(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "buy");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.costCredits);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.costPoints);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.quantity);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogPurchaseComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[nitro-catalog-purchase-component]',
                template: `
    <div class="nitro-catalog-purchase-component">
        <div class="badge badge-secondary" *ngIf="costCredits"><i class="icon icon-currency--1"></i> {{ costCredits }}</div>
        <div class="badge badge-secondary" *ngIf="costPoints"><i class="icon icon-currency-{{ pointsType }}"></i> {{ costPoints }}</div>
        <div class="button-container btn-group">
            <button type="button" class="btn btn-primary" (click)="adjustQuantity(-1)">-</button>
            <button type="button" class="btn btn-primary">{{ quantity }}</button>
            <button type="button" class="btn btn-primary" (click)="adjustQuantity(1)">+</button>
        </div>
        <button type="button" class="btn btn-primary" (click)="purchase()">buy</button>
    </div>`
            }]
    }], function () { return [{ type: _services_catalog_service__WEBPACK_IMPORTED_MODULE_4__["CatalogService"] }, { type: _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] }, { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_6__["ToastrService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { catalogPage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], offer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], roomPreviewer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "1I7v":
/*!******************************************************!*\
  !*** ./src/client/nitro/navigator/NitroNavigator.ts ***!
  \******************************************************/
/*! exports provided: NitroNavigator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroNavigator", function() { return NitroNavigator; });
/* harmony import */ var _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/NitroManager */ "Fv14");
/* harmony import */ var _NavigatorMessageHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NavigatorMessageHandler */ "9b5J");


class NitroNavigator extends _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__["NitroManager"] {
    constructor(communication, session, roomSession) {
        super();
        this._communication = communication;
        this._session = session;
        this._roomSession = roomSession;
        this._navigatorMessageHandler = new _NavigatorMessageHandler__WEBPACK_IMPORTED_MODULE_1__["NavigatorMessageHandler"](this);
    }
    onInit() {
        this._navigatorMessageHandler.setConnection(this._communication.connection);
    }
    goToRoom(roomId, password = null) {
        if (!this._roomSession)
            return;
        this._roomSession.createSession(roomId, password);
    }
    get communication() {
        return this._communication;
    }
    get session() {
        return this._session;
    }
    get roomSession() {
        return this._roomSession;
    }
}


/***/ }),

/***/ "1P3/":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/mask/PlaneMaskVisualization.ts ***!
  \****************************************************************************************/
/*! exports provided: PlaneMaskVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneMaskVisualization", function() { return PlaneMaskVisualization; });
/* harmony import */ var _PlaneMaskBitmap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlaneMaskBitmap */ "vF5q");

class PlaneMaskVisualization {
    constructor() {
        this._bitmaps = [];
    }
    dispose() {
        for (let mask of this._bitmaps) {
            if (!mask)
                continue;
            mask.dispose();
        }
        this._bitmaps = null;
    }
    _Str_16790(k, _arg_2 = -1, _arg_3 = 1, _arg_4 = -1, _arg_5 = 1) {
        this._bitmaps.push(new _PlaneMaskBitmap__WEBPACK_IMPORTED_MODULE_0__["PlaneMaskBitmap"](k, _arg_2, _arg_3, _arg_4, _arg_5));
    }
    getAsset(k) {
        if (!k)
            return null;
        for (let mask of this._bitmaps) {
            if (!mask)
                continue;
            if ((((k.x >= mask.normalMinX) && (k.x <= mask.normalMaxX)) && (k.y >= mask.normalMinY)) && (k.y <= mask.normalMaxY)) {
                return mask.asset;
            }
        }
        return null;
    }
}
PlaneMaskVisualization._Str_3268 = -1;
PlaneMaskVisualization._Str_3271 = 1;


/***/ }),

/***/ "1TD8":
/*!***********************************************************************!*\
  !*** ./src/client/core/communication/connections/SocketConnection.ts ***!
  \***********************************************************************/
/*! exports provided: SocketConnection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocketConnection", function() { return SocketConnection; });
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../NitroConfiguration */ "8vq6");
/* harmony import */ var _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _events_EventDispatcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../events/EventDispatcher */ "vuPI");
/* harmony import */ var _codec_evawire_EvaWireFormat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../codec/evawire/EvaWireFormat */ "IQF/");
/* harmony import */ var _events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/SocketConnectionEvent */ "+IGW");
/* harmony import */ var _messages_MessageClassManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../messages/MessageClassManager */ "B2vL");
/* harmony import */ var _enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enums/WebSocketEventEnum */ "ngr+");







class SocketConnection extends _events_EventDispatcher__WEBPACK_IMPORTED_MODULE_2__["EventDispatcher"] {
    constructor(communicationManager, stateListener) {
        super();
        this._communicationManager = communicationManager;
        this._stateListener = stateListener;
        this._socket = null;
        this._messages = new _messages_MessageClassManager__WEBPACK_IMPORTED_MODULE_5__["MessageClassManager"]();
        this._codec = new _codec_evawire_EvaWireFormat__WEBPACK_IMPORTED_MODULE_3__["EvaWireFormat"]();
        this._dataBuffer = null;
        this._isReady = false;
        this._pendingClientMessages = [];
        this._pendingServerMessages = [];
        this._isAuthenticated = false;
    }
    init(socketUrl) {
        if (this._stateListener) {
            this._stateListener.connectionInit(socketUrl);
        }
        this.createSocket(socketUrl);
    }
    onDispose() {
        super.onDispose();
        this.destroySocket();
        this._communicationManager = null;
        this._stateListener = null;
        this._messages = null;
        this._codec = null;
        this._dataBuffer = null;
    }
    onReady() {
        if (this._isReady)
            return;
        this._isReady = true;
        if (this._pendingServerMessages && this._pendingServerMessages.length)
            this.processWrappers(...this._pendingServerMessages);
        if (this._pendingClientMessages && this._pendingClientMessages.length)
            this.send(...this._pendingClientMessages);
        this._pendingServerMessages = [];
        this._pendingClientMessages = [];
    }
    createSocket(socketUrl) {
        if (!socketUrl)
            return;
        this.destroySocket();
        this._dataBuffer = new ArrayBuffer(0);
        this._socket = new WebSocket(socketUrl);
        this._socket.addEventListener(_enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__["WebSocketEventEnum"].CONNECTION_OPENED, this.onOpen.bind(this));
        this._socket.addEventListener(_enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__["WebSocketEventEnum"].CONNECTION_CLOSED, this.onClose.bind(this));
        this._socket.addEventListener(_enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__["WebSocketEventEnum"].CONNECTION_ERROR, this.onError.bind(this));
        this._socket.addEventListener(_enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__["WebSocketEventEnum"].CONNECTION_MESSAGE, this.onMessage.bind(this));
    }
    destroySocket() {
        if (!this._socket)
            return;
        this._socket.removeEventListener(_enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__["WebSocketEventEnum"].CONNECTION_OPENED, this.onOpen.bind(this));
        this._socket.removeEventListener(_enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__["WebSocketEventEnum"].CONNECTION_CLOSED, this.onClose.bind(this));
        this._socket.removeEventListener(_enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__["WebSocketEventEnum"].CONNECTION_ERROR, this.onError.bind(this));
        this._socket.removeEventListener(_enums_WebSocketEventEnum__WEBPACK_IMPORTED_MODULE_6__["WebSocketEventEnum"].CONNECTION_MESSAGE, this.onMessage.bind(this));
        if (this._socket.readyState === WebSocket.OPEN)
            this._socket.close();
        this._socket = null;
    }
    onOpen(event) {
        this.dispatchConnectionEvent(_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_4__["SocketConnectionEvent"].CONNECTION_OPENED, event);
    }
    onClose(event) {
        this.dispatchConnectionEvent(_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_4__["SocketConnectionEvent"].CONNECTION_CLOSED, event);
    }
    onError(event) {
        this.dispatchConnectionEvent(_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_4__["SocketConnectionEvent"].CONNECTION_ERROR, event);
    }
    onMessage(event) {
        if (!event)
            return;
        this.dispatchConnectionEvent(_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_4__["SocketConnectionEvent"].CONNECTION_MESSAGE, event);
        const reader = new FileReader();
        reader.readAsArrayBuffer(event.data);
        reader.onloadend = () => {
            this._dataBuffer = this.concatArrayBuffers(this._dataBuffer, reader.result);
            this.processReceivedData();
        };
    }
    dispatchConnectionEvent(type, event) {
        this.dispatchEvent(new _events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_4__["SocketConnectionEvent"](type, this, event));
    }
    authenticated() {
        this._isAuthenticated = true;
    }
    send(...composers) {
        if (this.disposed || !composers)
            return false;
        composers = [...composers];
        if (this._isAuthenticated && !this._isReady) {
            if (!this._pendingClientMessages)
                this._pendingClientMessages = [];
            this._pendingClientMessages.push(...composers);
            return false;
        }
        for (let composer of composers) {
            if (!composer)
                continue;
            const header = this._messages.getComposerId(composer);
            if (header === -1) {
                _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__["NitroLogger"].log(`Unknown Composer: ${composer.constructor.name}`);
                continue;
            }
            const encoded = this._codec.encode(header, composer.getMessageArray());
            if (!encoded) {
                if (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].PACKET_LOG)
                    _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__["NitroLogger"].log(`Encoding Failed: ${composer.constructor.name}`);
                continue;
            }
            if (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].PACKET_LOG)
                _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__["NitroLogger"].log(`OutgoingComposer: ${composer.constructor.name}`);
            this.write(encoded.toBuffer());
        }
        return true;
    }
    write(buffer) {
        if (this._socket.readyState !== WebSocket.OPEN)
            return;
        this._socket.send(buffer);
    }
    processReceivedData() {
        try {
            this.processData();
        }
        catch (err) {
            _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__["NitroLogger"].log(err);
        }
    }
    processData() {
        const wrappers = this.splitReceivedMessages();
        if (!wrappers || !wrappers.length)
            return;
        if (this._isAuthenticated && !this._isReady) {
            if (!this._pendingServerMessages)
                this._pendingServerMessages = [];
            this._pendingServerMessages.push(...wrappers);
            return;
        }
        this.processWrappers(...wrappers);
    }
    processWrappers(...wrappers) {
        if (!wrappers || !wrappers.length)
            return;
        for (let wrapper of wrappers) {
            if (!wrapper)
                continue;
            const messages = this.getMessagesForWrapper(wrapper);
            if (!messages || !messages.length)
                continue;
            if (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].PACKET_LOG)
                _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__["NitroLogger"].log(`IncomingMessage: ${messages[0].constructor.name} [${wrapper.header}]`);
            this.handleMessages(...messages);
        }
    }
    splitReceivedMessages() {
        if (!this._dataBuffer || !this._dataBuffer.byteLength)
            return null;
        return this._codec.decode(this);
    }
    concatArrayBuffers(buffer1, buffer2) {
        const newBuffer = new Uint8Array(buffer1.byteLength + buffer2.byteLength);
        newBuffer.set(new Uint8Array(buffer1), 0);
        newBuffer.set(new Uint8Array(buffer2), buffer1.byteLength);
        return newBuffer.buffer;
    }
    getMessagesForWrapper(wrapper) {
        if (!wrapper)
            return null;
        const events = this._messages.getEvents(wrapper.header);
        if (!events || !events.length)
            return null;
        try {
            const parser = events[0].parser;
            if (!parser || !parser.flush() || !parser.parse(wrapper))
                return null;
        }
        catch (e) {
            _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__["NitroLogger"].log(`Error parsing message: ${e}`, events[0].constructor.name);
            return null;
        }
        return events;
    }
    handleMessages(...messages) {
        messages = [...messages];
        for (let message of messages) {
            if (!message)
                continue;
            message.connection = this;
            if (message.callBack)
                message.callBack(message);
        }
    }
    registerMessages(configuration) {
        if (!configuration)
            return;
        this._messages.registerMessages(configuration);
    }
    addMessageEvent(event) {
        if (!this._messages)
            return;
        this._messages.registerMessageEvent(event);
    }
    removeMessageEvent(event) {
        if (this._messages)
            return;
        this._messages.removeMessageEvent(event);
    }
    get isAuthenticated() {
        return this._isAuthenticated;
    }
    get dataBuffer() {
        return this._dataBuffer;
    }
    set dataBuffer(buffer) {
        this._dataBuffer = buffer;
    }
}


/***/ }),

/***/ "1cH2":
/*!**************************************!*\
  !*** ./src/client/core/NitroCore.ts ***!
  \**************************************/
/*! exports provided: NitroCore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroCore", function() { return NitroCore; });
/* harmony import */ var _asset_AssetManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./asset/AssetManager */ "kiYJ");
/* harmony import */ var _common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _communication_CommunicationManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./communication/CommunicationManager */ "LeRN");



class NitroCore extends _common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_1__["Disposable"] {
    constructor() {
        super();
        window.console.log.apply(console, [
            `\n %c Nitro HTML5 v0.0.1 %c https://discord.gg/D2rPMAf %c\n`,
            'color: #FFFFFF; background: #000000; padding:5px 0;',
            'color: #000000; background: #FFFFFF; padding:5px 0;',
            'background: #000000; padding:5px 0;'
        ]);
        this._asset = new _asset_AssetManager__WEBPACK_IMPORTED_MODULE_0__["AssetManager"]();
        this._communication = new _communication_CommunicationManager__WEBPACK_IMPORTED_MODULE_2__["CommunicationManager"]();
    }
    onDispose() {
        if (this._asset) {
            this._asset.dispose();
            this._asset = null;
        }
        if (this._communication) {
            this._communication.dispose();
            this._communication = null;
        }
    }
    get asset() {
        return this._asset;
    }
    get communication() {
        return this._communication;
    }
}


/***/ }),

/***/ "1pJR":
/*!***********************************************************!*\
  !*** ./src/app/components/catalog/offergrid/component.ts ***!
  \***********************************************************/
/*! exports provided: CatalogOfferGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogOfferGridComponent", function() { return CatalogOfferGridComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _griditem_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./griditem/component */ "CsXu");




const _c0 = ["nitro-catalog-offer-grid-component", ""];
const _c1 = function (a0) { return { "active": a0 }; };
function CatalogOfferGridComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 3);
} if (rf & 2) {
    const offer_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("catalogPage", ctx_r0.catalogPage)("offer", offer_r1)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c1, offer_r1 === ctx_r0.activeOffer));
} }
class CatalogOfferGridComponent {
    constructor() {
        this.catalogPage = null;
        this.offers = [];
        this.activeOffer = null;
    }
}
CatalogOfferGridComponent.ɵfac = function CatalogOfferGridComponent_Factory(t) { return new (t || CatalogOfferGridComponent)(); };
CatalogOfferGridComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogOfferGridComponent, selectors: [["", "nitro-catalog-offer-grid-component", ""]], inputs: { catalogPage: "catalogPage", offers: "offers", activeOffer: "activeOffer" }, attrs: _c0, decls: 3, vars: 1, consts: [[1, "nitro-catalog-offer-grid-component"], [1, "grid-items"], ["class", "item-detail", "nitro-catalog-offer-grid-item-component", "", 3, "catalogPage", "offer", "ngClass", 4, "ngFor", "ngForOf"], ["nitro-catalog-offer-grid-item-component", "", 1, "item-detail", 3, "catalogPage", "offer", "ngClass"]], template: function CatalogOfferGridComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CatalogOfferGridComponent_div_2_Template, 1, 5, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.offers);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _griditem_component__WEBPACK_IMPORTED_MODULE_2__["CatalogOfferGridItemComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogOfferGridComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[nitro-catalog-offer-grid-component]',
                template: `
    <div class="nitro-catalog-offer-grid-component">
        <div class="grid-items">
            <div class="item-detail" nitro-catalog-offer-grid-item-component *ngFor="let offer of offers" [catalogPage]="catalogPage" [offer]="offer" [ngClass]="{ 'active': (offer === activeOffer) }"></div>
        </div>
    </div>`
            }]
    }], null, { catalogPage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], offers: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activeOffer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "1pfd":
/*!***************************************************!*\
  !*** ./src/app/components/hotelview/component.ts ***!
  \***************************************************/
/*! exports provided: HotelViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HotelViewComponent", function() { return HotelViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _security_services_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../security/services/session.service */ "j2zY");
/* harmony import */ var _shared_components_avatarimage_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/components/avatarimage/component */ "mjBu");




class HotelViewComponent {
    constructor(sessionService) {
        this.sessionService = sessionService;
    }
    get figure() {
        return this.sessionService.figure;
    }
}
HotelViewComponent.ɵfac = function HotelViewComponent_Factory(t) { return new (t || HotelViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_security_services_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"])); };
HotelViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: HotelViewComponent, selectors: [["nitro-hotelview-component"]], decls: 4, vars: 2, consts: [[1, "nitro-hotelview-component"], [1, "hotel-image"], [1, "avatar-image"], [3, "figure", "direction"]], template: function HotelViewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "nitro-avatar-image", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("figure", ctx.figure)("direction", 2);
    } }, directives: [_shared_components_avatarimage_component__WEBPACK_IMPORTED_MODULE_2__["AvatarImageComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HotelViewComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-hotelview-component',
                template: `
    <div class="nitro-hotelview-component">
        <div class="hotel-image"></div>
        <div class="avatar-image"><nitro-avatar-image [figure]="figure" [direction]="2"></nitro-avatar-image></div>
    </div>`
            }]
    }], function () { return [{ type: _security_services_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"] }]; }, null); })();


/***/ }),

/***/ "1tVg":
/*!***************************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetFurniInfostandUpdateEvent.ts ***!
  \***************************************************************************************/
/*! exports provided: RoomWidgetFurniInfostandUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetFurniInfostandUpdateEvent", function() { return RoomWidgetFurniInfostandUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetFurniInfostandUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(k) {
        super(k);
        this._id = 0;
        this._category = 0;
        this._name = "";
        this._description = "";
        this._image = null;
        this._isWallItem = false;
        this._isStickie = false;
        this._isRoomOwner = false;
        this._roomControllerLevel = 0;
        this._isAnyRoomController = false;
        this._expiration = -1;
        this._purchaseCatalogPageId = -1;
        this._purchaseOfferId = -1;
        this._extraParam = "";
        this._isOwner = false;
        this._stuffData = null;
        this._groupId = 0;
        this._ownerId = 0;
        this._ownerName = "";
        this._usagePolicy = 0;
        this._rentCatalogPageId = -1;
        this._rentOfferId = -1;
        this._purchaseCouldBeUsedForBuyout = false;
        this._rentCouldBeUsedForBuyout = false;
        this._availableForBuildersClub = false;
    }
    set id(k) {
        this._id = k;
    }
    get id() {
        return this._id;
    }
    set category(k) {
        this._category = k;
    }
    get category() {
        return this._category;
    }
    set name(k) {
        this._name = k;
    }
    get name() {
        return this._name;
    }
    set description(k) {
        this._description = k;
    }
    get description() {
        return this._description;
    }
    set image(k) {
        this._image = k;
    }
    get image() {
        return this._image;
    }
    set isWallItem(k) {
        this._isWallItem = k;
    }
    get isWallItem() {
        return this._isWallItem;
    }
    set isStickie(k) {
        this._isStickie = k;
    }
    get isStickie() {
        return this._isStickie;
    }
    set isRoomOwner(k) {
        this._isRoomOwner = k;
    }
    get isRoomOwner() {
        return this._isRoomOwner;
    }
    set roomControllerLevel(k) {
        this._roomControllerLevel = k;
    }
    get roomControllerLevel() {
        return this._roomControllerLevel;
    }
    set isAnyRoomOwner(k) {
        this._isAnyRoomController = k;
    }
    get isAnyRoomOwner() {
        return this._isAnyRoomController;
    }
    set expiration(k) {
        this._expiration = k;
    }
    get expiration() {
        return this._expiration;
    }
    set purchaseOfferId(k) {
        this._purchaseOfferId = k;
    }
    get purchaseOfferId() {
        return this._purchaseOfferId;
    }
    set extraParam(k) {
        this._extraParam = k;
    }
    get extraParam() {
        return this._extraParam;
    }
    set isOwner(k) {
        this._isOwner = k;
    }
    get isOwner() {
        return this._isOwner;
    }
    set stuffData(k) {
        this._stuffData = k;
    }
    get stuffData() {
        return this._stuffData;
    }
    set groupId(k) {
        this._groupId = k;
    }
    get groupId() {
        return this._groupId;
    }
    set ownerId(k) {
        this._ownerId = k;
    }
    get ownerId() {
        return this._ownerId;
    }
    set ownerName(k) {
        this._ownerName = k;
    }
    get ownerName() {
        return this._ownerName;
    }
    set usagePolicy(k) {
        this._usagePolicy = k;
    }
    get usagePolicy() {
        return this._usagePolicy;
    }
    set rentOfferId(k) {
        this._rentOfferId = k;
    }
    get rentOfferId() {
        return this._rentOfferId;
    }
    get purchaseCouldBeUsedForBuyout() {
        return this._purchaseCouldBeUsedForBuyout;
    }
    set purchaseCouldBeUsedForBuyout(k) {
        this._purchaseCouldBeUsedForBuyout = k;
    }
    get rentCouldBeUsedForBuyout() {
        return this._rentCouldBeUsedForBuyout;
    }
    set rentCouldBeUsedForBuyout(k) {
        this._rentCouldBeUsedForBuyout = k;
    }
    get availableForBuildersClub() {
        return this._availableForBuildersClub;
    }
    set availableForBuildersClub(k) {
        this._availableForBuildersClub = k;
    }
}
RoomWidgetFurniInfostandUpdateEvent.FURNI = "RWFIUE_FURNI";


/***/ }),

/***/ "1tdl":
/*!**************************************************!*\
  !*** ./src/client/room/renderer/RoomRenderer.ts ***!
  \**************************************************/
/*! exports provided: RoomRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomRenderer", function() { return RoomRenderer; });
/* harmony import */ var _RoomSpriteCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomSpriteCanvas */ "Lk/H");

class RoomRenderer {
    constructor() {
        this._objects = new Map();
        this._canvases = new Map();
        this._disposed = false;
        this._roomObjectVariableAccurateZ = null;
    }
    dispose() {
        if (this._disposed)
            return;
        if (this._canvases) {
            for (let [key, canvas] of this._canvases.entries()) {
                this._canvases.delete(key);
                if (!canvas)
                    continue;
                canvas.dispose();
            }
            this._canvases = null;
        }
        if (this._objects) {
            this._objects = null;
        }
        this._disposed = true;
    }
    reset() {
        this._objects.clear();
    }
    getInstanceId(object) {
        if (!object)
            return -1;
        return object.instanceId;
    }
    getRoomObject(instanceId) {
        return this._objects.get(instanceId);
    }
    addObject(object) {
        if (!object)
            return;
        this._objects.set(this.getInstanceId(object), object);
    }
    removeObject(object) {
        const instanceId = this.getInstanceId(object);
        this._objects.delete(instanceId);
        for (let canvas of this._canvases.values()) {
            if (!canvas)
                continue;
            const spriteCanvas = canvas;
            spriteCanvas.removeFromCache(instanceId.toString());
        }
    }
    render(time) {
        if (!this._canvases || !this._canvases.size)
            return;
        for (let canvas of this._canvases.values())
            canvas && canvas.render(time);
    }
    update(time) {
        if (!this._canvases || !this._canvases.size)
            return;
        this.render(time);
        for (let canvas of this._canvases.values())
            canvas && canvas.update();
    }
    getCanvas(id) {
        const existing = this._canvases.get(id);
        if (!existing)
            return;
        return existing;
    }
    createCanvas(id, width, height, scale) {
        const existing = this._canvases.get(id);
        if (existing) {
            existing.initialize(width, height);
            if (existing.geometry)
                existing.geometry.scale = scale;
            return existing;
        }
        const canvas = this.createSpriteCanvas(id, width, height, scale);
        if (!canvas)
            return;
        this._canvases.set(id, canvas);
        return canvas;
    }
    createSpriteCanvas(id, width, height, scale) {
        return new _RoomSpriteCanvas__WEBPACK_IMPORTED_MODULE_0__["RoomSpriteCanvas"](this, id, width, height, scale);
    }
    removeCanvas(id) {
        const existing = this._canvases.get(id);
        if (!existing)
            return;
        this._canvases.delete(id);
        existing.dispose();
    }
    get objects() {
        return this._objects;
    }
    get disposed() {
        return this._disposed;
    }
    get roomObjectVariableAccurateZ() {
        return this._roomObjectVariableAccurateZ;
    }
    set roomObjectVariableAccurateZ(z) {
        this._roomObjectVariableAccurateZ = z;
    }
}


/***/ }),

/***/ "2Ba9":
/*!****************************************************************!*\
  !*** ./src/client/nitro/ui/widget/ConversionTrackingWidget.ts ***!
  \****************************************************************/
/*! exports provided: ConversionTrackingWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConversionTrackingWidget", function() { return ConversionTrackingWidget; });
class ConversionTrackingWidget {
    constructor() {
        this._widgetHandler = null;
        this._messageListener = null;
        this._events = null;
        this._disposed = false;
    }
    initialize(k = 0) {
    }
    dispose() {
        if (this.disposed)
            return;
        this._messageListener = null;
        if (this._events && !this._events.disposed)
            this.unregisterUpdateEvents(this._events);
        if (this._widgetHandler) {
            this._widgetHandler.dispose();
            this._widgetHandler = null;
        }
        this._events = null;
        this._disposed = true;
    }
    registerUpdateEvents(eventDispatcher) {
        this._events = eventDispatcher;
    }
    unregisterUpdateEvents(eventDispatcher) {
        this._events = null;
    }
    get disposed() {
        return this._disposed;
    }
    get widgetHandler() {
        return this._widgetHandler;
    }
    set widgetHandler(handler) {
        this._widgetHandler = handler;
        if (this._widgetHandler.widget !== undefined)
            this._widgetHandler.widget = this;
    }
    get messageListener() {
        return this._messageListener;
    }
    set messageListener(listener) {
        this._messageListener = listener;
    }
}


/***/ }),

/***/ "2CxI":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitStatusMessage.ts ***!
  \*******************************************************************************************/
/*! exports provided: RoomUnitStatusMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitStatusMessage", function() { return RoomUnitStatusMessage; });
class RoomUnitStatusMessage {
    constructor(id, x, y, z, height, headDirection, direction, targetX = 0, targetY = 0, targetZ = 0, didMove, canStandUp, actions) {
        this._id = id;
        this._x = x;
        this._y = y;
        this._z = z;
        this._height = height;
        this._headDirection = headDirection;
        this._direction = direction;
        this._targetX = targetX;
        this._targetY = targetY;
        this._targetZ = targetZ;
        this._didMove = didMove;
        this._canStandUp = canStandUp;
        this._actions = actions || [];
    }
    get id() {
        return this._id;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get z() {
        return this._z;
    }
    get height() {
        return this._height;
    }
    get headDirection() {
        return this._headDirection;
    }
    get direction() {
        return this._direction;
    }
    get targetX() {
        return this._targetX;
    }
    get targetY() {
        return this._targetY;
    }
    get targetZ() {
        return this._targetZ;
    }
    get didMove() {
        return this._didMove;
    }
    get canStandUp() {
        return this._canStandUp;
    }
    get actions() {
        return this._actions;
    }
}


/***/ }),

/***/ "2GPf":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/FloorRasterizer.ts ***!
  \*********************************************************************************************/
/*! exports provided: FloorRasterizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FloorRasterizer", function() { return FloorRasterizer; });
/* harmony import */ var _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/PlaneBitmapData */ "I7q/");
/* harmony import */ var _FloorPlane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FloorPlane */ "oEoR");
/* harmony import */ var _PlaneRasterizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PlaneRasterizer */ "3fb7");



class FloorRasterizer extends _PlaneRasterizer__WEBPACK_IMPORTED_MODULE_2__["PlaneRasterizer"] {
    initializePlanes() {
        if (!this.data)
            return;
        const floors = this.data.floors;
        if (floors && floors.length)
            this._Str_24495(floors);
    }
    _Str_24495(k) {
        if (!k)
            return;
        for (let floorIndex in k) {
            const floor = k[floorIndex];
            if (!floor)
                continue;
            const id = floor.id;
            const visualization = floor.visualizations;
            const plane = new _FloorPlane__WEBPACK_IMPORTED_MODULE_1__["FloorPlane"]();
            this._Str_9137(plane, visualization);
            if (!this._Str_3453(id, plane))
                plane.dispose();
        }
    }
    render(canvas, id, width, height, scale, normal, useTexture, offsetX = 0, offsetY = 0, maxX = 0, maxY = 0, timeSinceStartMs = 0) {
        let plane = this._Str_3491(id);
        if (!plane)
            plane = this._Str_3491(_PlaneRasterizer__WEBPACK_IMPORTED_MODULE_2__["PlaneRasterizer"].DEFAULT);
        if (!plane)
            return null;
        if (canvas) {
            canvas
                .beginFill(0xFFFFFF)
                .drawRect(0, 0, canvas.width, canvas.height)
                .endFill();
        }
        let graphic = plane.render(canvas, width, height, scale, normal, useTexture, offsetX, offsetY);
        if (graphic && (graphic !== canvas)) {
            graphic = graphic.clone();
            if (!graphic)
                return null;
        }
        return new _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_0__["PlaneBitmapData"](graphic, -1);
    }
}


/***/ }),

/***/ "2H63":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/catalog/CatalogPageComposer.ts ***!
  \*****************************************************************************************/
/*! exports provided: CatalogPageComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPageComposer", function() { return CatalogPageComposer; });
class CatalogPageComposer {
    constructor(pageId, offerId, catalogType) {
        this._data = [pageId, offerId, catalogType];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "2IRy":
/*!********************************************************!*\
  !*** ./src/client/nitro/room/preview/RoomPreviewer.ts ***!
  \********************************************************/
/*! exports provided: RoomPreviewer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPreviewer", function() { return RoomPreviewer; });
/* harmony import */ var _room_utils_RoomId__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/RoomId */ "A63o");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");
/* harmony import */ var _events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events/RoomEngineEvent */ "G0tw");
/* harmony import */ var _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/RoomEngineObjectEvent */ "Hs+C");
/* harmony import */ var _object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../object/data/type/LegacyDataType */ "v12S");
/* harmony import */ var _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../object/RoomPlaneParser */ "BFtu");









class RoomPreviewer {
    constructor(roomEngine, roomId = 1) {
        this._previewRoomId = 1;
        this._currentPreviewObjectType = 0;
        this._currentPreviewObjectCategory = 0;
        this._currentPreviewObjectData = '';
        this._currentPreviewRectangle = null;
        this._currentPreviewCanvasWidth = 0;
        this._currentPreviewCanvasHeight = 0;
        this._currentPreviewScale = 64;
        this._disableUpdate = false;
        this._roomEngine = roomEngine;
        this._previewRoomId = _room_utils_RoomId__WEBPACK_IMPORTED_MODULE_0__["RoomId"].makeRoomPreviewerId(roomId);
        this._addViewOffset = new PIXI.Point(0, 0);
        if (this.isRoomEngineReady && this._roomEngine.events) {
            this._roomEngine.events.addEventListener(_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_4__["RoomEngineObjectEvent"].ADDED, this.onRoomObjectAdded.bind(this));
            this._roomEngine.events.addEventListener(_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_4__["RoomEngineObjectEvent"].CONTENT_UPDATED, this.onRoomObjectAdded.bind(this));
            this._roomEngine.events.addEventListener(_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineEvent"].INITIALIZED, this.onRoomInitializedonRoomInitialized.bind(this));
        }
        this.createRoomForPreview();
    }
    dispose() {
        this.reset(true);
        if (this.isRoomEngineReady && this._roomEngine.events) {
            this._roomEngine.events.removeEventListener(_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_4__["RoomEngineObjectEvent"].ADDED, this.onRoomObjectAdded.bind(this));
            this._roomEngine.events.removeEventListener(_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_4__["RoomEngineObjectEvent"].CONTENT_UPDATED, this.onRoomObjectAdded.bind(this));
            this._roomEngine.events.removeEventListener(_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineEvent"].INITIALIZED, this.onRoomInitializedonRoomInitialized.bind(this));
        }
    }
    createRoomForPreview() {
        if (this.isRoomEngineReady) {
            let size = 7;
            const planeParser = new _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_8__["RoomPlaneParser"]();
            planeParser.initializeTileMap((size + 2), (size + 2));
            let y = 1;
            while (y < (1 + size)) {
                let x = 1;
                while (x < (1 + size)) {
                    planeParser.setTileHeight(x, y, 0);
                    x++;
                }
                y++;
            }
            planeParser.initializeFromTileData();
            this._roomEngine.createRoomInstance(this._previewRoomId, planeParser.getMapData());
            planeParser.dispose();
        }
    }
    reset(k) {
        if (this.isRoomEngineReady) {
            this._roomEngine.removeRoomObjectFloor(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID);
            this._roomEngine.removeRoomObjectWall(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID);
            this._roomEngine.removeRoomObjectUser(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID);
            if (!k)
                this.updatePreviewRoomView();
        }
        this._currentPreviewObjectCategory = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].MINIMUM;
    }
    addFurnitureIntoRoom(classId, direction, objectData = null, extras = null) {
        if (!objectData)
            objectData = new _object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_5__["LegacyDataType"]();
        if (this.isRoomEngineReady) {
            if ((this._currentPreviewObjectCategory === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].FLOOR) && (this._currentPreviewObjectType === classId))
                return RoomPreviewer.PREVIEW_OBJECT_ID;
            this.reset(false);
            this._currentPreviewObjectType = classId;
            this._currentPreviewObjectCategory = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].FLOOR;
            this._currentPreviewObjectData = '';
            if (this._roomEngine.addFurnitureFloor(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, classId, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](RoomPreviewer.PREVIEW_OBJECT_LOCATION_X, RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y, 0), direction, 0, objectData, NaN, -1, 0, -1, '', true, false)) {
                this._previousAutomaticStateChangeTime = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.time;
                this._automaticStateChange = true;
                if (extras) {
                    const roomObject = this._roomEngine.getRoomObject(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, this._currentPreviewObjectCategory);
                    if (roomObject)
                        roomObject.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_7__["RoomObjectVariable"].FURNITURE_EXTRAS, extras);
                }
                this.updatePreviewRoomView();
                return RoomPreviewer.PREVIEW_OBJECT_ID;
            }
        }
        return -1;
    }
    addWallItemIntoRoom(classId, direction, objectData) {
        if (this.isRoomEngineReady) {
            if ((this._currentPreviewObjectCategory === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].WALL) && (this._currentPreviewObjectType === classId) && (this._currentPreviewObjectData === objectData))
                return RoomPreviewer.PREVIEW_OBJECT_ID;
            this.reset(false);
            this._currentPreviewObjectType = classId;
            this._currentPreviewObjectCategory = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].WALL;
            this._currentPreviewObjectData = objectData;
            if (this._roomEngine.addFurnitureWall(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, classId, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](0.5, 2.3, 1.8), direction, 0, objectData, 0, 0, -1, '', false)) {
                this._previousAutomaticStateChangeTime = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.time;
                this._automaticStateChange = true;
                this.updatePreviewRoomView();
                return RoomPreviewer.PREVIEW_OBJECT_ID;
            }
        }
        return -1;
    }
    addAvatarIntoRoom(figure, effect) {
        if (this.isRoomEngineReady) {
            this.reset(false);
            this._currentPreviewObjectType = 1;
            this._currentPreviewObjectCategory = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].UNIT;
            this._currentPreviewObjectData = figure;
            if (this._roomEngine.addRoomObjectUser(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](RoomPreviewer.PREVIEW_OBJECT_LOCATION_X, RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y, 0), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](90, 0, 0), 135, 1, figure)) {
                this._previousAutomaticStateChangeTime = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.time;
                this._automaticStateChange = true;
                this.updateUserGesture(1);
                this.updateUserEffect(effect);
                this.updateUserPosture('std');
            }
            this.updatePreviewRoomView();
            return RoomPreviewer.PREVIEW_OBJECT_ID;
        }
        return -1;
    }
    updateUserPosture(type, parameter = '') {
        if (this.isRoomEngineReady)
            this._roomEngine.updateRoomObjectUserPosture(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, type, parameter);
    }
    updateUserGesture(gestureId) {
        if (this.isRoomEngineReady)
            this._roomEngine.updateRoomObjectUserGesture(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, gestureId);
    }
    updateUserEffect(effectId) {
        if (this.isRoomEngineReady)
            this._roomEngine.updateRoomObjectUserEffect(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, effectId);
    }
    updateObjectUserFigure(figure, gender = null, subType = null, isRiding = false) {
        if (this.isRoomEngineReady)
            return this._roomEngine.updateRoomObjectUserFigure(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, figure, gender, subType, isRiding);
        return false;
    }
    updateObjectUserAction(action, value, parameter = null) {
        if (this.isRoomEngineReady)
            this._roomEngine.updateRoomObjectUserAction(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, action, value, parameter);
    }
    changeRoomObjectState() {
        if (this.isRoomEngineReady) {
            this._automaticStateChange = false;
            if (this._currentPreviewObjectCategory !== _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].UNIT)
                this._roomEngine.changeObjectState(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, this._currentPreviewObjectCategory);
        }
    }
    checkAutomaticRoomObjectStateChange() {
        if (this._automaticStateChange) {
            const time = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.time;
            if (time > (this._previousAutomaticStateChangeTime + RoomPreviewer.AUTOMATIC_STATE_CHANGE_INTERVAL)) {
                this._previousAutomaticStateChangeTime = time;
                if (this.isRoomEngineReady)
                    this._roomEngine.changeObjectState(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, this._currentPreviewObjectCategory);
            }
        }
    }
    getRoomCanvas(width, height) {
        if (this.isRoomEngineReady) {
            const displayObject = this._roomEngine.getRoomInstanceDisplay(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID, width, height, this._currentPreviewScale);
            this._roomEngine.setRoomInstanceRenderingCanvasMask(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID, true);
            const geometry = this._roomEngine.getRoomInstanceGeometry(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID);
            if (geometry)
                geometry.adjustLocation(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](RoomPreviewer.PREVIEW_OBJECT_LOCATION_X, RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y, 0), 30);
            this._currentPreviewCanvasWidth = width;
            this._currentPreviewCanvasHeight = height;
            return displayObject;
        }
        return null;
    }
    modifyRoomCanvas(width, height) {
        if (this.isRoomEngineReady) {
            this._currentPreviewCanvasWidth = width;
            this._currentPreviewCanvasHeight = height;
            this._roomEngine.initializeRoomInstanceRenderingCanvas(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID, width, height);
        }
    }
    set addViewOffset(point) {
        this._addViewOffset = point;
    }
    get addViewOffset() {
        return this._addViewOffset;
    }
    updatePreviewObjectBoundingRectangle(point) {
        const objectBounds = this._roomEngine.getRoomObjectBoundingRectangle(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, this._currentPreviewObjectCategory, RoomPreviewer.PREVIEW_CANVAS_ID);
        if (objectBounds && point) {
            objectBounds.x += -(this._currentPreviewCanvasWidth >> 1);
            objectBounds.y += -(this._currentPreviewCanvasHeight >> 1);
            objectBounds.x += -(point.x);
            objectBounds.y += -(point.y);
            if (!this._currentPreviewRectangle) {
                this._currentPreviewRectangle = objectBounds;
            }
            else {
                const bounds = this._currentPreviewRectangle.clone().enlarge(objectBounds);
                if (((((bounds.width - this._currentPreviewRectangle.width) > ((this._currentPreviewCanvasWidth - this._currentPreviewRectangle.width) >> 1)) || ((bounds.height - this._currentPreviewRectangle.height) > ((this._currentPreviewCanvasHeight - this._currentPreviewRectangle.height) >> 1))) || (this._currentPreviewRectangle.width < 1)) || (this._currentPreviewRectangle.height < 1))
                    this._currentPreviewRectangle = bounds;
            }
        }
    }
    validatePreviewSize(point) {
        if (((this._currentPreviewRectangle.width < 1) || (this._currentPreviewRectangle.height < 1))) {
            return point;
        }
        if (this.isRoomEngineReady) {
            const geometry = this._roomEngine.getRoomInstanceGeometry(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID);
            if ((this._currentPreviewRectangle.width > (this._currentPreviewCanvasWidth * (1 + RoomPreviewer.ALLOWED_IMAGE_CUT))) || (this._currentPreviewRectangle.height > (this._currentPreviewCanvasHeight * (1 + RoomPreviewer.ALLOWED_IMAGE_CUT)))) {
                if (RoomPreviewer.ZOOM_ENABLED) {
                    if (this._roomEngine.getRoomInstanceRenderingCanvasScale(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID) !== 0.5) {
                        this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID, 0.5, null, null);
                        this._currentPreviewScale = RoomPreviewer.SCALE_SMALL;
                        this._currentPreviewNeedsZoomOut = true;
                        point.x = (point.x >> 1);
                        point.y = (point.y >> 1);
                        this._currentPreviewRectangle.x = (this._currentPreviewRectangle.x >> 2);
                        this._currentPreviewRectangle.y = (this._currentPreviewRectangle.y >> 2);
                        this._currentPreviewRectangle.width = (this._currentPreviewRectangle.width >> 2);
                        this._currentPreviewRectangle.height = (this._currentPreviewRectangle.height >> 2);
                    }
                }
                else {
                    if (geometry.isZoomedIn()) {
                        geometry.performZoomOut();
                        this._currentPreviewScale = RoomPreviewer.SCALE_SMALL;
                        this._currentPreviewNeedsZoomOut = true;
                        point.x = (point.x >> 1);
                        point.y = (point.y >> 1);
                        this._currentPreviewRectangle.x = (this._currentPreviewRectangle.x >> 2);
                        this._currentPreviewRectangle.y = (this._currentPreviewRectangle.y >> 2);
                        this._currentPreviewRectangle.width = (this._currentPreviewRectangle.width >> 2);
                        this._currentPreviewRectangle.height = (this._currentPreviewRectangle.height >> 2);
                    }
                }
            }
            else if ((((this._currentPreviewRectangle.width << 1) < ((this._currentPreviewCanvasWidth * (1 + RoomPreviewer.ALLOWED_IMAGE_CUT)) - 5)) && ((this._currentPreviewRectangle.height << 1) < ((this._currentPreviewCanvasHeight * (1 + RoomPreviewer.ALLOWED_IMAGE_CUT)) - 5)))) {
                if (RoomPreviewer.ZOOM_ENABLED) {
                    if ((this._roomEngine.getRoomInstanceRenderingCanvasScale(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID) !== 1) && !this._currentPreviewNeedsZoomOut) {
                        this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID, 1, null, null);
                        this._currentPreviewScale = RoomPreviewer.SCALE_NORMAL;
                        point.x = (point.x << 1);
                        point.y = (point.y << 1);
                    }
                }
                else {
                    if (!geometry.isZoomedIn() && !this._currentPreviewNeedsZoomOut) {
                        geometry.performZoomIn();
                        this._currentPreviewScale = RoomPreviewer.SCALE_NORMAL;
                        point.x = (point.x << 1);
                        point.y = (point.y << 1);
                    }
                }
            }
        }
        return point;
    }
    zoomIn() {
        if (this.isRoomEngineReady) {
            if (RoomPreviewer.ZOOM_ENABLED) {
                this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID, 1);
            }
            const geometry = this._roomEngine.getRoomInstanceGeometry(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID);
            geometry.performZoomIn();
        }
        this._currentPreviewScale = RoomPreviewer.SCALE_NORMAL;
    }
    zoomOut() {
        if (this.isRoomEngineReady) {
            if (RoomPreviewer.ZOOM_ENABLED) {
                this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID, 0.5);
            }
            else {
                const geometry = this._roomEngine.getRoomInstanceGeometry(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID);
                geometry.performZoomOut();
            }
        }
        this._currentPreviewScale = RoomPreviewer.SCALE_SMALL;
    }
    updateAvatarDirection(direction, headDirection) {
        if (this.isRoomEngineReady) {
            this._roomEngine.updateRoomObjectUserLocation(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](RoomPreviewer.PREVIEW_OBJECT_LOCATION_X, RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y, 0), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](RoomPreviewer.PREVIEW_OBJECT_LOCATION_X, RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y, 0), false, 0, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]((direction * 45), 0, 0), (headDirection * 45));
        }
    }
    updateObjectRoom(floorType = null, wallType = null, landscapeType = null, _arg_4 = false) {
        if (this.isRoomEngineReady)
            return this._roomEngine.updateRoomInstancePlaneType(this._previewRoomId, floorType, wallType, landscapeType, _arg_4);
        return false;
    }
    updateRoomWallsAndFloorVisibility(wallsVisible, floorsVisible = true) {
        if (this.isRoomEngineReady)
            this._roomEngine.updateRoomInstancePlaneVisibility(this._previewRoomId, wallsVisible, floorsVisible);
    }
    getCanvasOffset(point) {
        if (((this._currentPreviewRectangle.width < 1) || (this._currentPreviewRectangle.height < 1)))
            return point;
        let x = (-(this._currentPreviewRectangle.left + this._currentPreviewRectangle.right) >> 1);
        let y = (-(this._currentPreviewRectangle.top + this._currentPreviewRectangle.bottom) >> 1);
        let height = ((this._currentPreviewCanvasHeight - this._currentPreviewRectangle.height) >> 1);
        if (height > 10) {
            y = (y + Math.min(15, (height - 10)));
        }
        else {
            if (this._currentPreviewObjectCategory !== _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].UNIT) {
                y = (y + (5 - Math.max(0, (height / 2))));
            }
            else {
                y = (y - (5 - Math.min(0, (height / 2))));
            }
        }
        y = (y + this._addViewOffset.y);
        x = (x + this._addViewOffset.x);
        let offsetX = (x - point.x);
        let offsetY = (y - point.y);
        if ((offsetX !== 0) || (offsetY !== 0)) {
            const _local_7 = Math.sqrt(((offsetX * offsetX) + (offsetY * offsetY)));
            if (_local_7 > 10) {
                x = (point.x + ((offsetX * 10) / _local_7));
                y = (point.y + ((offsetY * 10) / _local_7));
            }
            return new PIXI.Point(x, y);
        }
        return null;
    }
    updatePreviewRoomView(k = false) {
        if (this._disableUpdate && !k)
            return;
        this.checkAutomaticRoomObjectStateChange();
        if (this.isRoomEngineReady) {
            let offset = this._roomEngine.getRoomInstanceRenderingCanvasOffset(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID);
            if (offset) {
                this.updatePreviewObjectBoundingRectangle(offset);
                if (this._currentPreviewRectangle) {
                    const _local_3 = this._currentPreviewScale;
                    offset = this.validatePreviewSize(offset);
                    const _local_4 = this.getCanvasOffset(offset);
                    if (_local_4) {
                        this._roomEngine.setRoomInstanceRenderingCanvasOffset(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID, _local_4);
                    }
                    if (this._currentPreviewScale !== _local_3)
                        this._currentPreviewRectangle = null;
                }
            }
        }
    }
    set disableUpdate(flag) {
        this._disableUpdate = flag;
    }
    set disableRoomEngineUpdate(flag) {
        if (this.isRoomEngineReady)
            this._roomEngine.disableUpdate(flag);
    }
    onRoomInitializedonRoomInitialized(event) {
        if (!event)
            return;
        switch (event.type) {
            case _events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineEvent"].INITIALIZED:
                if ((event.roomId === this._previewRoomId) && this.isRoomEngineReady) {
                    this._roomEngine.updateRoomInstancePlaneType(this._previewRoomId, '110', '99999');
                }
                return;
        }
    }
    onRoomObjectAdded(event) {
        if ((event.roomId === this._previewRoomId) && (event.objectId === RoomPreviewer.PREVIEW_OBJECT_ID) && (event.category === this._currentPreviewObjectCategory)) {
            this._currentPreviewRectangle = null;
            this._currentPreviewNeedsZoomOut = false;
            const roomObject = this._roomEngine.getRoomObject(event.roomId, event.objectId, event.category);
            if (roomObject && roomObject.model && (event.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].WALL)) {
                const sizeZ = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_7__["RoomObjectVariable"].FURNITURE_SIZE_Z);
                const centerZ = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_7__["RoomObjectVariable"].FURNITURE_CENTER_Z);
                if ((sizeZ !== null) || (centerZ !== null)) {
                    this._roomEngine.updateRoomObjectWallLocation(event.roomId, event.objectId, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](0.5, 2.3, (((3.6 - sizeZ) / 2) + centerZ)));
                }
            }
        }
    }
    updateRoomEngine() {
        if (this.isRoomEngineReady)
            this._roomEngine.runUpdate();
    }
    getRenderingCanvas() {
        const renderingCanvas = this._roomEngine.getRoomInstanceRenderingCanvas(this._previewRoomId, RoomPreviewer.PREVIEW_CANVAS_ID);
        if (!renderingCanvas)
            return null;
        return renderingCanvas;
    }
    getGenericRoomObjectImage(type, value, direction, scale, listener, bgColor = 0, extras = null, objectData = null, state = -1, frame = -1, posture = null) {
        if (this.isRoomEngineReady) {
            return this._roomEngine.getGenericRoomObjectImage(type, value, direction, scale, listener, bgColor, extras, objectData, state, frame, posture);
        }
        return null;
    }
    getRoomObjectImage(direction, scale, listener, bgColor = 0) {
        if (this.isRoomEngineReady) {
            return this._roomEngine.getRoomObjectImage(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, this._currentPreviewObjectCategory, direction, scale, listener, bgColor);
        }
        return null;
    }
    getRoomObjectCurrentImage() {
        if (this.isRoomEngineReady) {
            const roomObject = this._roomEngine.getRoomObject(this._previewRoomId, RoomPreviewer.PREVIEW_OBJECT_ID, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].UNIT);
            //@ts-ignore
            if (roomObject && roomObject.visualization)
                return roomObject.visualization.getImage(0xFFFFFF, -1);
        }
        return null;
    }
    get isRoomEngineReady() {
        return (this._roomEngine && this._roomEngine.ready);
    }
    get roomId() {
        return this._previewRoomId;
    }
}
RoomPreviewer.SCALE_NORMAL = 64;
RoomPreviewer.SCALE_SMALL = 32;
RoomPreviewer.PREVIEW_COUNTER = 0;
RoomPreviewer.PREVIEW_CANVAS_ID = 1;
RoomPreviewer.PREVIEW_OBJECT_ID = 1;
RoomPreviewer.PREVIEW_OBJECT_LOCATION_X = 2;
RoomPreviewer.PREVIEW_OBJECT_LOCATION_Y = 2;
RoomPreviewer.ALLOWED_IMAGE_CUT = 0.25;
RoomPreviewer.AUTOMATIC_STATE_CHANGE_INTERVAL = 2500;
RoomPreviewer.ZOOM_ENABLED = true;


/***/ }),

/***/ "2L69":
/*!****************************************************************!*\
  !*** ./src/client/nitro/room/object/data/ObjectDataFactory.ts ***!
  \****************************************************************/
/*! exports provided: ObjectDataFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectDataFactory", function() { return ObjectDataFactory; });
/* harmony import */ var _type_CrackableDataType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type/CrackableDataType */ "crOu");
/* harmony import */ var _type_EmptyDataType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./type/EmptyDataType */ "BBsB");
/* harmony import */ var _type_HighScoreDataType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type/HighScoreDataType */ "Xe1u");
/* harmony import */ var _type_LegacyDataType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./type/LegacyDataType */ "v12S");
/* harmony import */ var _type_MapDataType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./type/MapDataType */ "tWLA");
/* harmony import */ var _type_NumberDataType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./type/NumberDataType */ "uUF/");
/* harmony import */ var _type_StringDataType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./type/StringDataType */ "PJfP");
/* harmony import */ var _type_VoteDataType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./type/VoteDataType */ "VZrs");








class ObjectDataFactory {
    static getData(flags) {
        let objectData = null;
        switch (flags & 0xFF) {
            case _type_CrackableDataType__WEBPACK_IMPORTED_MODULE_0__["CrackableDataType"].FORMAT_KEY:
                objectData = new _type_CrackableDataType__WEBPACK_IMPORTED_MODULE_0__["CrackableDataType"]();
                break;
            case _type_EmptyDataType__WEBPACK_IMPORTED_MODULE_1__["EmptyDataType"].FORMAT_KEY:
                objectData = new _type_EmptyDataType__WEBPACK_IMPORTED_MODULE_1__["EmptyDataType"]();
                break;
            case _type_HighScoreDataType__WEBPACK_IMPORTED_MODULE_2__["HighScoreDataType"].FORMAT_KEY:
                objectData = new _type_HighScoreDataType__WEBPACK_IMPORTED_MODULE_2__["HighScoreDataType"]();
                break;
            case _type_LegacyDataType__WEBPACK_IMPORTED_MODULE_3__["LegacyDataType"].FORMAT_KEY:
                objectData = new _type_LegacyDataType__WEBPACK_IMPORTED_MODULE_3__["LegacyDataType"]();
                break;
            case _type_MapDataType__WEBPACK_IMPORTED_MODULE_4__["MapDataType"].FORMAT_KEY:
                objectData = new _type_MapDataType__WEBPACK_IMPORTED_MODULE_4__["MapDataType"]();
                break;
            case _type_NumberDataType__WEBPACK_IMPORTED_MODULE_5__["NumberDataType"].FORMAT_KEY:
                objectData = new _type_NumberDataType__WEBPACK_IMPORTED_MODULE_5__["NumberDataType"]();
                break;
            case _type_StringDataType__WEBPACK_IMPORTED_MODULE_6__["StringDataType"].FORMAT_KEY:
                objectData = new _type_StringDataType__WEBPACK_IMPORTED_MODULE_6__["StringDataType"]();
                break;
            case _type_VoteDataType__WEBPACK_IMPORTED_MODULE_7__["VoteDataType"].FORMAT_KEY:
                objectData = new _type_VoteDataType__WEBPACK_IMPORTED_MODULE_7__["VoteDataType"]();
                break;
        }
        if (!objectData)
            return null;
        objectData.flags = (flags & 0xFF00);
        return objectData;
    }
}


/***/ }),

/***/ "2NIa":
/*!***************************************************************!*\
  !*** ./src/client/room/renderer/cache/RoomObjectCacheItem.ts ***!
  \***************************************************************/
/*! exports provided: RoomObjectCacheItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectCacheItem", function() { return RoomObjectCacheItem; });
/* harmony import */ var _RoomObjectLocationCacheItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomObjectLocationCacheItem */ "7ACo");
/* harmony import */ var _RoomObjectSortableSpriteCacheItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomObjectSortableSpriteCacheItem */ "byXj");


class RoomObjectCacheItem {
    constructor(accurateZ) {
        this._location = new _RoomObjectLocationCacheItem__WEBPACK_IMPORTED_MODULE_0__["RoomObjectLocationCacheItem"](accurateZ);
        this._sprites = new _RoomObjectSortableSpriteCacheItem__WEBPACK_IMPORTED_MODULE_1__["RoomObjectSortableSpriteCacheItem"]();
    }
    get location() {
        return this._location;
    }
    get sprites() {
        return this._sprites;
    }
    dispose() {
        if (this._location) {
            this._location.dispose();
            this._location = null;
        }
        if (this._sprites) {
            this._sprites.dispose();
            this._sprites = null;
        }
    }
    get _Str_1577() {
        return this._objectId;
    }
    set _Str_1577(k) {
        this._objectId = k;
    }
}


/***/ }),

/***/ "2qqk":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectRoomPlaneVisibilityUpdateMessage.ts ***!
  \**********************************************************************************/
/*! exports provided: ObjectRoomPlaneVisibilityUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectRoomPlaneVisibilityUpdateMessage", function() { return ObjectRoomPlaneVisibilityUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectRoomPlaneVisibilityUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(type, visible) {
        super(null, null);
        this._type = type;
        this._visible = visible;
    }
    get type() {
        return this._type;
    }
    get visible() {
        return this._visible;
    }
}
ObjectRoomPlaneVisibilityUpdateMessage.WALL_VISIBILITY = 'RORPVUM_WALL_VISIBILITY';
ObjectRoomPlaneVisibilityUpdateMessage.FLOOR_VISIBILITY = 'RORPVUM_FLOOR_VISIBILITY';


/***/ }),

/***/ "2y6h":
/*!******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/user/inventory/currency/UserCreditsEvent.ts ***!
  \******************************************************************************************************/
/*! exports provided: UserCreditsEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCreditsEvent", function() { return UserCreditsEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_user_inventory_currency_UserCreditsParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/user/inventory/currency/UserCreditsParser */ "7eWR");


class UserCreditsEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_user_inventory_currency_UserCreditsParser__WEBPACK_IMPORTED_MODULE_1__["UserCreditsParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "3+72":
/*!***************************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetChatSelectAvatarMessage.ts ***!
  \***************************************************************************************/
/*! exports provided: RoomWidgetChatSelectAvatarMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetChatSelectAvatarMessage", function() { return RoomWidgetChatSelectAvatarMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetChatSelectAvatarMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(type, objectId, userName, roomId) {
        super(type);
        this._objectId = objectId;
        this._userName = userName;
        this._roomId = roomId;
    }
    get objectId() {
        return this._objectId;
    }
    get userName() {
        return this._userName;
    }
    get roomId() {
        return this._roomId;
    }
}
RoomWidgetChatSelectAvatarMessage.MESSAGE_SELECT_AVATAR = 'RWCSAM_MESSAGE_SELECT_AVATAR';


/***/ }),

/***/ "30vN":
/*!***********************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectRoomMaskUpdateMessage.ts ***!
  \***********************************************************************/
/*! exports provided: ObjectRoomMaskUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectRoomMaskUpdateMessage", function() { return ObjectRoomMaskUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");


class ObjectRoomMaskUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(type, maskId, maskType = null, maskLocation = null, maskCategory = 'window') {
        super(null, null);
        this._type = type;
        this._maskId = maskId;
        this._maskType = maskType;
        this._maskLocation = maskLocation ? new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](maskLocation.x, maskLocation.y, maskLocation.z) : null;
        this._maskCategory = maskCategory;
    }
    get type() {
        return this._type;
    }
    get maskId() {
        return this._maskId;
    }
    get maskType() {
        return this._maskType;
    }
    get maskLocation() {
        return this._maskLocation;
    }
    get maskCategory() {
        return this._maskCategory;
    }
}
ObjectRoomMaskUpdateMessage.ADD_MASK = 'RORMUM_ADD_MASK';
ObjectRoomMaskUpdateMessage._Str_10260 = 'RORMUM_ADD_MASK';
ObjectRoomMaskUpdateMessage.DOOR = 'door';
ObjectRoomMaskUpdateMessage.WINDOW = 'window';
ObjectRoomMaskUpdateMessage.HOLE = 'hole';


/***/ }),

/***/ "33V3":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/access/RoomFowardEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: RoomFowardEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomFowardEvent", function() { return RoomFowardEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_access_RoomFowardParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/access/RoomFowardParser */ "y/Pd");


class RoomFowardEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_access_RoomFowardParser__WEBPACK_IMPORTED_MODULE_1__["RoomFowardParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "38Mq":
/*!************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomObjectUserType.ts ***!
  \************************************************************/
/*! exports provided: RoomObjectUserType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectUserType", function() { return RoomObjectUserType; });
class RoomObjectUserType {
    static getTypeNumber(type) {
        return RoomObjectUserType.AVATAR_TYPES[type];
    }
    static getTypeString(type) {
        for (let key in RoomObjectUserType.AVATAR_TYPES) {
            if (!key)
                continue;
            if (RoomObjectUserType.AVATAR_TYPES[key] !== type)
                continue;
            return key;
        }
        return null;
    }
    static getRealType(type) {
        switch (type) {
            case RoomObjectUserType.BOT:
            case RoomObjectUserType.RENTABLE_BOT:
                return RoomObjectUserType.USER;
            default:
                return type;
        }
    }
}
RoomObjectUserType.USER = 'user';
RoomObjectUserType.PET = 'pet';
RoomObjectUserType.BOT = 'bot';
RoomObjectUserType.RENTABLE_BOT = 'rentable_bot';
RoomObjectUserType.MONSTER_PLANT = 'monsterplant';
RoomObjectUserType.AVATAR_TYPES = { 'user': 1, 'pet': 2, 'bot': 3, 'rentable_bot': 4 };


/***/ }),

/***/ "3I9d":
/*!*************************************************!*\
  !*** ./src/client/nitro/room/utils/RoomData.ts ***!
  \*************************************************/
/*! exports provided: RoomData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomData", function() { return RoomData; });
class RoomData {
    constructor(roomId, data) {
        this._roomId = roomId;
        this._data = data;
        this._floorType = null;
        this._wallType = null;
        this._landscapeType = null;
    }
    get roomId() {
        return this._roomId;
    }
    get data() {
        return this._data;
    }
    get floorType() {
        return this._floorType;
    }
    set floorType(k) {
        this._floorType = k;
    }
    get wallType() {
        return this._wallType;
    }
    set wallType(k) {
        this._wallType = k;
    }
    get landscapeType() {
        return this._landscapeType;
    }
    set landscapeType(k) {
        this._landscapeType = k;
    }
}


/***/ }),

/***/ "3MU0":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureGuildCustomizedLogic.ts ***!
  \***************************************************************************************/
/*! exports provided: FurnitureGuildCustomizedLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureGuildCustomizedLogic", function() { return FurnitureGuildCustomizedLogic; });
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _data_type_StringDataType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/type/StringDataType */ "PJfP");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");




class FurnitureGuildCustomizedLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_3__["FurnitureLogic"] {
    processUpdateMessage(message) {
        super.processUpdateMessage(message);
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectDataUpdateMessage"]) {
            const data = message.data;
            if (data instanceof _data_type_StringDataType__WEBPACK_IMPORTED_MODULE_1__["StringDataType"]) {
                this.updateGroupId(data.getValue(FurnitureGuildCustomizedLogic.GROUPID_KEY));
                this.updateBadge(data.getValue(FurnitureGuildCustomizedLogic.BADGE_KEY));
                this.updateColors(data.getValue(FurnitureGuildCustomizedLogic.COLOR1_KEY), data.getValue(FurnitureGuildCustomizedLogic.COLOR2_KEY));
            }
        }
    }
    updateGroupId(id) {
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_GUILD_CUSTOMIZED_GUILD_ID, parseInt(id));
    }
    updateBadge(badge) {
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_GUILD_CUSTOMIZED_BADGE, badge);
    }
    updateColors(color1, color2) {
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_GUILD_CUSTOMIZED_COLOR_1, parseInt(color1, 16));
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_GUILD_CUSTOMIZED_COLOR_2, parseInt(color2, 16));
    }
}
FurnitureGuildCustomizedLogic.GROUPID_KEY = 1;
FurnitureGuildCustomizedLogic.BADGE_KEY = 2;
FurnitureGuildCustomizedLogic.COLOR1_KEY = 3;
FurnitureGuildCustomizedLogic.COLOR2_KEY = 4;


/***/ }),

/***/ "3SVc":
/*!**********************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureBuilderPlaceholderVisualization.ts ***!
  \**********************************************************************************************************/
/*! exports provided: FurnitureBuilderPlaceholderVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureBuilderPlaceholderVisualization", function() { return FurnitureBuilderPlaceholderVisualization; });
/* harmony import */ var _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureVisualization */ "vAq0");

class FurnitureBuilderPlaceholderVisualization extends _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureVisualization"] {
}


/***/ }),

/***/ "3fb7":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneRasterizer.ts ***!
  \*********************************************************************************************/
/*! exports provided: PlaneRasterizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneRasterizer", function() { return PlaneRasterizer; });
/* harmony import */ var _room_utils_Rasterizer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/Rasterizer */ "H6mV");
/* harmony import */ var _room_utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../room/utils/RoomGeometry */ "DACI");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _FloorPlane__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FloorPlane */ "oEoR");
/* harmony import */ var _PlaneMaterial__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PlaneMaterial */ "JzXG");
/* harmony import */ var _PlaneMaterialCell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PlaneMaterialCell */ "wFft");
/* harmony import */ var _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PlaneMaterialCellColumn */ "ksTa");
/* harmony import */ var _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PlaneMaterialCellMatrix */ "RDtd");
/* harmony import */ var _PlaneTexture__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PlaneTexture */ "IaP1");
/* harmony import */ var _PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PlaneVisualizationLayer */ "8i/q");










class PlaneRasterizer {
    constructor() {
        this._assetCollection = null;
        this._textures = new Map();
        this._materials = new Map();
        this._planes = new Map();
        this._geometries = new Map();
        this._data = null;
    }
    get data() {
        return this._data;
    }
    get _Str_2697() {
        return this._assetCollection;
    }
    initializeDimensions(k, _arg_2) {
        return true;
    }
    dispose() {
        if (this._planes) {
            for (let plane of this._planes.values()) {
                if (!plane)
                    continue;
                plane.dispose();
            }
            this._planes = null;
        }
        if (this._materials) {
            this._Str_21781();
            this._materials = null;
        }
        if (this._textures) {
            this._Str_21447();
            this._textures = null;
        }
        if (this._geometries) {
            for (let geometry of this._geometries.values()) {
                if (!geometry)
                    continue;
                geometry.dispose();
            }
            this._geometries = null;
        }
        this._data = null;
        this._assetCollection = null;
    }
    _Str_3355() {
        for (let plane of this._planes.values()) {
            if (!plane)
                continue;
            plane._Str_3355();
        }
        for (let material of this._materials.values()) {
            if (!material)
                continue;
            material._Str_3355();
        }
    }
    initialize(data) {
        this._data = data;
    }
    _Str_24005() {
        this._Str_21447();
        this._Str_21781();
        this._Str_22054();
    }
    _Str_21781() {
        for (let material of this._materials.values()) {
            if (!material)
                continue;
            material.dispose();
        }
        this._materials.clear();
    }
    _Str_21447() {
        for (let texture of this._textures.values()) {
            if (!texture)
                continue;
            texture.dispose();
        }
        this._textures.clear();
    }
    _Str_10114(k) {
        return this._textures.get(k);
    }
    _Str_8547(k) {
        return this._materials.get(k);
    }
    _Str_3491(k) {
        return this._planes.get(k);
    }
    _Str_3453(k, _arg_2) {
        if (!_arg_2)
            return false;
        const existing = this._planes.get(k);
        if (!existing) {
            this._planes.set(k, _arg_2);
            return true;
        }
        return false;
    }
    _Str_6703(k) {
        if (!this._data)
            return;
        this._assetCollection = k;
        this._Str_22054();
    }
    _Str_22054() {
        if (!this._data)
            return;
        this._Str_25281();
        this.initializePlanes();
    }
    _Str_25281() {
        if (this._data.textures && this._data.textures.length)
            this._Str_24250(this._data.textures, this._Str_2697);
        if (this._data.materials && this._data.materials.length)
            this._Str_22388(this._data.materials);
    }
    initializePlanes() {
    }
    _Str_24250(k, _arg_2) {
        if (!k || !_arg_2)
            return;
        if (k.length) {
            for (let texture of k) {
                if (!texture)
                    continue;
                const id = texture.id;
                if (!this._textures.get(id)) {
                    const plane = new _PlaneTexture__WEBPACK_IMPORTED_MODULE_8__["PlaneTexture"]();
                    if (texture.bitmaps && texture.bitmaps.length) {
                        for (let bitmap of texture.bitmaps) {
                            if (!bitmap)
                                continue;
                            const assetName = bitmap.assetName;
                            let normalMinX = _PlaneTexture__WEBPACK_IMPORTED_MODULE_8__["PlaneTexture"]._Str_3268;
                            let normalMaxX = _PlaneTexture__WEBPACK_IMPORTED_MODULE_8__["PlaneTexture"]._Str_3271;
                            let normalMinY = _PlaneTexture__WEBPACK_IMPORTED_MODULE_8__["PlaneTexture"]._Str_3268;
                            let normalMaxY = _PlaneTexture__WEBPACK_IMPORTED_MODULE_8__["PlaneTexture"]._Str_3271;
                            if (bitmap.normalMinX !== undefined)
                                normalMinX = bitmap.normalMinX;
                            if (bitmap.normalMaxX !== undefined)
                                normalMaxX = bitmap.normalMaxX;
                            if (bitmap.normalMinY !== undefined)
                                normalMinY = bitmap.normalMinY;
                            if (bitmap.normalMaxY !== undefined)
                                normalMaxY = bitmap.normalMaxY;
                            const asset = _arg_2.getAsset(assetName);
                            if (asset) {
                                const texture = asset.texture;
                                if (texture) {
                                    let newTexture = null;
                                    if (asset.flipH) {
                                        newTexture = _room_utils_Rasterizer__WEBPACK_IMPORTED_MODULE_0__["Rasterizer"]._Str_16640(texture);
                                    }
                                    else {
                                        newTexture = texture.clone();
                                    }
                                    plane._Str_16790(newTexture, normalMinX, normalMaxX, normalMinY, normalMaxY, assetName);
                                }
                            }
                        }
                    }
                    this._textures.set(id, plane);
                }
            }
        }
    }
    _Str_22388(k) {
        if (!k || !k.length)
            return;
        for (let material of k) {
            if (!material)
                continue;
            const id = material.id;
            const newMaterial = new _PlaneMaterial__WEBPACK_IMPORTED_MODULE_4__["PlaneMaterial"]();
            if (material.matrices && material.matrices.length) {
                for (let matrix of material.matrices) {
                    if (!matrix)
                        continue;
                    let repeatMode = matrix.repeatMode;
                    let align = matrix.align;
                    let normalMinX = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_3268;
                    let normalMaxX = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_3271;
                    let normalMinY = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_3268;
                    let normalMaxY = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_3271;
                    switch (repeatMode) {
                        case 'borders':
                            repeatMode = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_6087;
                            break;
                        case 'center':
                            repeatMode = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_6114;
                            break;
                        case 'first':
                            repeatMode = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_6187;
                            break;
                        case 'last':
                            repeatMode = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_6063;
                            break;
                        case 'random':
                            repeatMode = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_9127;
                            break;
                        default:
                            repeatMode = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_18632;
                            break;
                    }
                    switch (align) {
                        case 'top':
                            align = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"].ALIGN_TOP;
                            break;
                        case 'bottom':
                            align = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_3606;
                            break;
                        default:
                            align = _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_7__["PlaneMaterialCellMatrix"]._Str_6914;
                            break;
                    }
                    if (matrix.columns && matrix.columns.length) {
                        const cellMatrix = newMaterial._Str_24503(matrix.columns.length, repeatMode, align, normalMinX, normalMaxX, normalMinY, normalMaxY);
                        let index = 0;
                        while (index < matrix.columns.length) {
                            const column = matrix.columns[index];
                            if (column)
                                this._Str_24431(column, cellMatrix, index);
                            index++;
                        }
                    }
                }
            }
            this._materials.set(id, newMaterial);
        }
    }
    _Str_24431(k, _arg_2, _arg_3) {
        if (!k || !_arg_2)
            return;
        let repeatMode = k.repeatMode;
        let width = k.width;
        const cells = this._Str_25217(k);
        switch (repeatMode) {
            case 'borders':
                repeatMode = _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_6__["PlaneMaterialCellColumn"]._Str_6087;
                break;
            case 'center':
                repeatMode = _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_6__["PlaneMaterialCellColumn"]._Str_6114;
                break;
            case 'first':
                repeatMode = _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_6__["PlaneMaterialCellColumn"]._Str_6187;
                break;
            case 'last':
                repeatMode = _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_6__["PlaneMaterialCellColumn"]._Str_6063;
                break;
            case 'none':
                repeatMode = _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_6__["PlaneMaterialCellColumn"]._Str_9685;
                break;
            default:
                repeatMode = _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_6__["PlaneMaterialCellColumn"]._Str_7916;
                break;
        }
        _arg_2._Str_22372(_arg_3, width, cells, repeatMode);
    }
    _Str_25217(k) {
        if (!k || !k.cells || !k.cells.length)
            return null;
        const cells = [];
        let index = 0;
        while (index < k.cells.length) {
            const cell = k.cells[index];
            if (cell) {
                const textureId = cell.textureId;
                let assetNames = null;
                let offsetPoints = null;
                let graphics = null;
                let limit = 0;
                if (cell.extras && cell.extras.length) {
                    const extra = cell.extras[0];
                    const types = extra.types;
                    const offsets = extra.offsets;
                    if (types && offsets) {
                        if (types.length && offsets.length) {
                            const type = types[0];
                            const offset = offsets[0];
                            assetNames = this._Str_25465(type);
                            offsetPoints = this._Str_24448(offset);
                            limit = offsetPoints.length;
                            if (extra.limitMax)
                                limit = extra.limitMax;
                        }
                    }
                }
                if (assetNames && assetNames.length) {
                    graphics = [];
                    for (let assetName of assetNames) {
                        if (!assetName)
                            continue;
                        const asset = this._assetCollection.getAsset(assetName);
                        if (!asset)
                            continue;
                        graphics.push(asset);
                    }
                }
                const texture = this._Str_10114(textureId);
                const newCell = new _PlaneMaterialCell__WEBPACK_IMPORTED_MODULE_5__["PlaneMaterialCell"](texture, graphics, offsetPoints, limit);
                cells.push(newCell);
            }
            index++;
        }
        if (!cells || !cells.length)
            return null;
        return cells;
    }
    _Str_25465(k) {
        const assetNames = [];
        if (k && k.types && k.types.length) {
            let index = 0;
            while (index < k.types.length) {
                const type = k.types[index];
                const assetName = type.assetName;
                if (assetName)
                    assetNames.push(assetName);
                index++;
            }
        }
        return assetNames;
    }
    _Str_24448(k) {
        const offsets = [];
        if (k && k.offsets && k.offsets.length) {
            let index = 0;
            while (index < k.offsets.length) {
                const offset = k.offsets[index];
                const x = offset.x;
                const y = offset.y;
                offsets.push(new PIXI.Point(x, y));
                index++;
            }
        }
        return offsets;
    }
    _Str_17204(k, _arg_2, _arg_3) {
        _arg_2 = Math.abs(_arg_2);
        if (_arg_2 > 90)
            _arg_2 = 90;
        _arg_3 = Math.abs(_arg_3);
        if (_arg_3 > 90)
            _arg_3 = 90;
        const identifier = `${k}_${Math.round(_arg_2)}_${Math.round(_arg_3)}`;
        let geometry = this._geometries.get(identifier);
        if (geometry)
            return geometry;
        geometry = new _room_utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_1__["RoomGeometry"](k, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](_arg_2, _arg_3), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](-10, 0, 0));
        this._geometries.set(identifier, geometry);
        return geometry;
    }
    _Str_9137(k, _arg_2) {
        if (!k || !_arg_2)
            return;
        if (_arg_2 && _arg_2.length) {
            for (let visualization of _arg_2) {
                if (!visualization)
                    continue;
                const size = visualization.size;
                let horizontalAngle = _FloorPlane__WEBPACK_IMPORTED_MODULE_3__["FloorPlane"]._Str_5433;
                let verticalAngle = _FloorPlane__WEBPACK_IMPORTED_MODULE_3__["FloorPlane"]._Str_5509;
                if (visualization.horizontalAngle)
                    horizontalAngle = visualization.horizontalAngle;
                if (visualization.verticalAngle)
                    verticalAngle = visualization.verticalAngle;
                const layers = visualization.layers;
                const planeVisualization = k._Str_20305(size, ((layers && layers.length) || 0), this._Str_17204(size, horizontalAngle, verticalAngle));
                if (planeVisualization && (layers && layers.length)) {
                    let layerId = 0;
                    while (layerId < layers.length) {
                        const layer = layers[layerId];
                        if (layer) {
                            let material = null;
                            let align = _PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_9__["PlaneVisualizationLayer"]._Str_6914;
                            let color = _FloorPlane__WEBPACK_IMPORTED_MODULE_3__["FloorPlane"]._Str_2531;
                            let offset = _PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_9__["PlaneVisualizationLayer"]._Str_1934;
                            if (layer.materialId)
                                material = this._Str_8547(layer.materialId);
                            if (layer.color)
                                color = layer.color;
                            if (layer.offset)
                                offset = layer.offset;
                            if (layer.align) {
                                if (layer.align === 'bottom')
                                    align = _PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_9__["PlaneVisualizationLayer"]._Str_3606;
                                else if (layer.align == 'top')
                                    align = _PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_9__["PlaneVisualizationLayer"].ALIGN_TOP;
                            }
                            planeVisualization._Str_21464(layerId, material, color, align, offset);
                        }
                        layerId++;
                    }
                }
            }
        }
    }
    render(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8 = 0, _arg_9 = 0, _arg_10 = 0, _arg_11 = 0, _arg_12 = 0) {
        return null;
    }
    getTextureIdentifier(k, _arg_2) {
        return k.toString();
    }
    _Str_8988(k) {
        let planes = this._Str_3491(k);
        if (!planes)
            planes = this._Str_3491(PlaneRasterizer.DEFAULT);
        return planes._Str_8988();
    }
}
PlaneRasterizer.DEFAULT = 'default';


/***/ }),

/***/ "3h45":
/*!*********************************************!*\
  !*** ./src/client/nitro/room/RoomEngine.ts ***!
  \*********************************************/
/*! exports provided: RoomEngine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEngine", function() { return RoomEngine; });
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/common/NitroManager */ "Fv14");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../room/events/RoomObjectMouseEvent */ "iiZs");
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../room/messages/RoomObjectUpdateMessage */ "yF7E");
/* harmony import */ var _room_renderer_RoomRendererFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../room/renderer/RoomRendererFactory */ "zBQs");
/* harmony import */ var _room_utils_NumberBank__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../room/utils/NumberBank */ "vuwM");
/* harmony import */ var _room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../room/utils/RoomEnterEffect */ "vqvB");
/* harmony import */ var _room_utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../room/utils/RoomGeometry */ "DACI");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _utils_FurniId__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/FurniId */ "Uni9");
/* harmony import */ var _avatar_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../avatar/pets/PetFigureData */ "Ays+");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Nitro */ "P7Cj");
/* harmony import */ var _session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../session/enum/RoomControllerLevel */ "9vQN");
/* harmony import */ var _session_events_BadgeImageReadyEvent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../session/events/BadgeImageReadyEvent */ "JKJw");
/* harmony import */ var _session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../session/events/RoomSessionEvent */ "Ns5P");
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./events/RoomEngineAnimateIconEvent */ "IhK7");
/* harmony import */ var _events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./events/RoomEngineEvent */ "G0tw");
/* harmony import */ var _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./events/RoomEngineObjectEvent */ "Hs+C");
/* harmony import */ var _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./events/RoomObjectFurnitureActionEvent */ "UOsA");
/* harmony import */ var _events_RoomToObjectOwnAvatarMoveEvent__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./events/RoomToObjectOwnAvatarMoveEvent */ "rxHs");
/* harmony import */ var _ImageResult__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ImageResult */ "02A4");
/* harmony import */ var _messages_ObjectAvatarCarryObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./messages/ObjectAvatarCarryObjectUpdateMessage */ "vSOp");
/* harmony import */ var _messages_ObjectAvatarChatUpdateMessage__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./messages/ObjectAvatarChatUpdateMessage */ "X0Jn");
/* harmony import */ var _messages_ObjectAvatarDanceUpdateMessage__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./messages/ObjectAvatarDanceUpdateMessage */ "7sXg");
/* harmony import */ var _messages_ObjectAvatarEffectUpdateMessage__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./messages/ObjectAvatarEffectUpdateMessage */ "7sqD");
/* harmony import */ var _messages_ObjectAvatarExperienceUpdateMessage__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./messages/ObjectAvatarExperienceUpdateMessage */ "YwNY");
/* harmony import */ var _messages_ObjectAvatarExpressionUpdateMessage__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./messages/ObjectAvatarExpressionUpdateMessage */ "r1X3");
/* harmony import */ var _messages_ObjectAvatarFigureUpdateMessage__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./messages/ObjectAvatarFigureUpdateMessage */ "vkKv");
/* harmony import */ var _messages_ObjectAvatarFlatControlUpdateMessage__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./messages/ObjectAvatarFlatControlUpdateMessage */ "pA/C");
/* harmony import */ var _messages_ObjectAvatarGestureUpdateMessage__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./messages/ObjectAvatarGestureUpdateMessage */ "p1UX");
/* harmony import */ var _messages_ObjectAvatarGuideStatusUpdateMessage__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./messages/ObjectAvatarGuideStatusUpdateMessage */ "/NTz");
/* harmony import */ var _messages_ObjectAvatarMutedUpdateMessage__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./messages/ObjectAvatarMutedUpdateMessage */ "ULa2");
/* harmony import */ var _messages_ObjectAvatarOwnMessage__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./messages/ObjectAvatarOwnMessage */ "DWaW");
/* harmony import */ var _messages_ObjectAvatarPetGestureUpdateMessage__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./messages/ObjectAvatarPetGestureUpdateMessage */ "TXNj");
/* harmony import */ var _messages_ObjectAvatarPlayerValueUpdateMessage__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./messages/ObjectAvatarPlayerValueUpdateMessage */ "j7b1");
/* harmony import */ var _messages_ObjectAvatarPlayingGameUpdateMessage__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./messages/ObjectAvatarPlayingGameUpdateMessage */ "rf7g");
/* harmony import */ var _messages_ObjectAvatarPostureUpdateMessage__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./messages/ObjectAvatarPostureUpdateMessage */ "9scY");
/* harmony import */ var _messages_ObjectAvatarSignUpdateMessage__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./messages/ObjectAvatarSignUpdateMessage */ "bG1/");
/* harmony import */ var _messages_ObjectAvatarSleepUpdateMessage__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./messages/ObjectAvatarSleepUpdateMessage */ "u+VA");
/* harmony import */ var _messages_ObjectAvatarTypingUpdateMessage__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./messages/ObjectAvatarTypingUpdateMessage */ "rR6/");
/* harmony import */ var _messages_ObjectAvatarUpdateMessage__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./messages/ObjectAvatarUpdateMessage */ "GEOe");
/* harmony import */ var _messages_ObjectAvatarUseObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./messages/ObjectAvatarUseObjectUpdateMessage */ "y08e");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _messages_ObjectGroupBadgeUpdateMessage__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./messages/ObjectGroupBadgeUpdateMessage */ "O9Gp");
/* harmony import */ var _messages_ObjectHeightUpdateMessage__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./messages/ObjectHeightUpdateMessage */ "/Dul");
/* harmony import */ var _messages_ObjectItemDataUpdateMessage__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./messages/ObjectItemDataUpdateMessage */ "ppsz");
/* harmony import */ var _messages_ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./messages/ObjectMoveUpdateMessage */ "jNIr");
/* harmony import */ var _messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./messages/ObjectRoomFloorHoleUpdateMessage */ "XPka");
/* harmony import */ var _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./messages/ObjectRoomMaskUpdateMessage */ "30vN");
/* harmony import */ var _messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./messages/ObjectRoomPlanePropertyUpdateMessage */ "8wzi");
/* harmony import */ var _messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./messages/ObjectRoomPlaneVisibilityUpdateMessage */ "2qqk");
/* harmony import */ var _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./messages/ObjectRoomUpdateMessage */ "LO56");
/* harmony import */ var _object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./object/data/ObjectDataFactory */ "2L69");
/* harmony import */ var _object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./object/data/type/LegacyDataType */ "v12S");
/* harmony import */ var _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./object/RoomObjectUserType */ "38Mq");
/* harmony import */ var _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _object_RoomObjectVisualizationFactory__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./object/RoomObjectVisualizationFactory */ "IGv6");
/* harmony import */ var _RoomContentLoader__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./RoomContentLoader */ "ZQhZ");
/* harmony import */ var _RoomMessageHandler__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./RoomMessageHandler */ "7xpY");
/* harmony import */ var _RoomObjectEventHandler__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./RoomObjectEventHandler */ "omyB");
/* harmony import */ var _RoomObjectLogicFactory__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./RoomObjectLogicFactory */ "DKkG");
/* harmony import */ var _RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./RoomVariableEnum */ "BrMT");
/* harmony import */ var _utils_FurnitureData__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./utils/FurnitureData */ "YyQJ");
/* harmony import */ var _utils_RoomData__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./utils/RoomData */ "3I9d");
/* harmony import */ var _utils_RoomInstanceData__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./utils/RoomInstanceData */ "WAWN");
/* harmony import */ var _utils_RoomObjectBadgeImageAssetListener__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./utils/RoomObjectBadgeImageAssetListener */ "tMdi");
/* harmony import */ var _utils_SpriteDataCollector__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./utils/SpriteDataCollector */ "n0S8");






































































class RoomEngine extends _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_1__["NitroManager"] {
    constructor(communication) {
        super();
        this._communication = communication;
        this._sessionDataManager = null;
        this._roomSessionManager = null;
        this._roomManager = null;
        this._roomObjectEventHandler = new _RoomObjectEventHandler__WEBPACK_IMPORTED_MODULE_62__["RoomObjectEventHandler"](this);
        this._roomMessageHandler = new _RoomMessageHandler__WEBPACK_IMPORTED_MODULE_61__["RoomMessageHandler"](this);
        this._roomContentLoader = new _RoomContentLoader__WEBPACK_IMPORTED_MODULE_60__["RoomContentLoader"]();
        this._ready = false;
        this._activeRoomId = -1;
        this._activeRoomActiveCanvas = -1;
        this._roomInstanceDatas = new Map();
        this._roomDatas = new Map();
        this._roomRendererFactory = new _room_renderer_RoomRendererFactory__WEBPACK_IMPORTED_MODULE_5__["RoomRendererFactory"]();
        this._visualizationFactory = new _object_RoomObjectVisualizationFactory__WEBPACK_IMPORTED_MODULE_59__["RoomObjectVisualizationFactory"]();
        this._logicFactory = new _RoomObjectLogicFactory__WEBPACK_IMPORTED_MODULE_63__["RoomObjectLogicFactory"]();
        this._activeRoomActiveCanvasMouseX = 0;
        this._activeRoomActiveCanvasMouseY = 0;
        this._activeRoomIsDragged = false;
        this._activeRoomWasDragged = false;
        this._activeRoomDragStartX = 0;
        this._activeRoomDragStartY = 0;
        this._activeRoomDragX = 0;
        this._activeRoomDragY = 0;
        this._skipFurnitureCreationForNextFrame = false;
        this._mouseCursorUpdate = false;
        this._imageObjectIdBank = null;
        this._imageCallbacks = new Map();
        this._thumbnailCallbacks = new Map();
        this._roomDraggingAlwaysCenters = false;
        this._badgeListenerObjects = new Map();
    }
    onInit() {
        if (this._ready)
            return;
        this._imageObjectIdBank = new _room_utils_NumberBank__WEBPACK_IMPORTED_MODULE_6__["NumberBank"](1000);
        this._thumbnailObjectIdBank = new _room_utils_NumberBank__WEBPACK_IMPORTED_MODULE_6__["NumberBank"](1000);
        this._logicFactory.registerEventFunction(this.processRoomObjectEvent.bind(this));
        if (this._roomManager) {
            this._roomManager.setContentLoader(this._roomContentLoader);
            this._roomManager.addUpdateCategory(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR);
            this._roomManager.addUpdateCategory(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL);
            this._roomManager.addUpdateCategory(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT);
            this._roomManager.addUpdateCategory(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].CURSOR);
            this._roomManager.addUpdateCategory(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].ROOM);
        }
        this._roomMessageHandler.setConnection(this._communication.connection);
        this._roomContentLoader.initialize(this.events);
        this._roomContentLoader.setSessionDataManager(this._sessionDataManager);
        this._roomContentLoader.setIconListener(this);
        if (this._roomSessionManager) {
            this._roomSessionManager.events.addEventListener(_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_15__["RoomSessionEvent"].STARTED, this.onRoomSessionEvent.bind(this));
            this._roomSessionManager.events.addEventListener(_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_15__["RoomSessionEvent"].ENDED, this.onRoomSessionEvent.bind(this));
        }
        _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.ticker.add(this.update, this);
    }
    onDispose() {
        if (!this._ready)
            return;
        _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.ticker.remove(this.update, this);
        if (this._roomObjectEventHandler)
            this._roomObjectEventHandler.dispose();
        if (this._roomMessageHandler)
            this._roomMessageHandler.dispose();
        if (this._roomSessionManager) {
            this._roomSessionManager.events.removeEventListener(_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_15__["RoomSessionEvent"].STARTED, this.onRoomSessionEvent.bind(this));
            this._roomSessionManager.events.removeEventListener(_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_15__["RoomSessionEvent"].ENDED, this.onRoomSessionEvent.bind(this));
        }
    }
    onRoomSessionEvent(event) {
        if (!(event instanceof _session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_15__["RoomSessionEvent"]))
            return;
        switch (event.type) {
            case _session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_15__["RoomSessionEvent"].STARTED:
                if (this._roomMessageHandler)
                    this._roomMessageHandler.setRoomId(event.session.roomId);
                return;
            case _session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_15__["RoomSessionEvent"].ENDED:
                if (this._roomMessageHandler) {
                    this._roomMessageHandler.clearRoomId();
                    this.removeRoomInstance(event.session.roomId);
                }
                return;
        }
    }
    setActiveRoomId(roomId) {
        this._activeRoomId = roomId;
    }
    destroyRoom(roomId) {
        this.removeRoomInstance(roomId);
    }
    getRoomInstance(roomId) {
        return (this._roomManager && this._roomManager.getRoomInstance(this.getRoomId(roomId))) || null;
    }
    removeRoomInstance(roomId) {
        const instance = this.getRoomInstance(roomId);
        if (instance) {
            this._roomManager && this._roomManager.removeRoomInstance(this.getRoomId(roomId));
        }
        const existing = this._roomInstanceDatas.get(roomId);
        if (existing) {
            this._roomInstanceDatas.delete(existing.roomId);
            existing.dispose();
        }
        this.events.dispatchEvent(new _events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"](_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"].DISPOSED, roomId));
    }
    createRoomInstance(roomId, roomMap) {
        let floorType = '111';
        let wallType = '201';
        let landscapeType = '1';
        if (!this._ready) {
            let data = this._roomDatas.get(roomId);
            if (data) {
                this._roomDatas.delete(roomId);
                floorType = data.floorType;
                wallType = data.wallType;
                landscapeType = data.landscapeType;
            }
            data = new _utils_RoomData__WEBPACK_IMPORTED_MODULE_66__["RoomData"](roomId, roomMap);
            data.floorType = floorType;
            data.wallType = wallType;
            data.landscapeType = landscapeType;
            this._roomDatas.set(roomId, data);
            _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log(`Room Engine not initilized yet, can not create room. Room data stored for later initialization.`);
            return;
        }
        if (!roomMap) {
            _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log(`Room property messages received before floor height map, will initialize when floor height map received.`);
            return;
        }
        const data = this._roomDatas.get(roomId);
        if (data) {
            this._roomDatas.delete(roomId);
            if (data.floorType)
                floorType = data.floorType;
            if (data.wallType)
                wallType = data.wallType;
            if (data.landscapeType)
                landscapeType = data.landscapeType;
        }
        const instance = this.setupRoomInstance(roomId, roomMap, floorType, wallType, landscapeType, this.getRoomInstanceModelName(roomId));
        if (!instance)
            return;
        this.events.dispatchEvent(new _events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"](_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"].INITIALIZED, roomId));
        return instance;
    }
    setupRoomInstance(roomId, roomMap, floorType, wallType, landscapeType, worldType) {
        if (!this._ready || !this._roomManager)
            return;
        const instance = this._roomManager.createRoomInstance(this.getRoomId(roomId));
        if (!instance)
            return null;
        const category = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].ROOM;
        const roomObject = instance.createRoomObjectAndInitalize(RoomEngine.ROOM_OBJECT_ID, RoomEngine.ROOM_OBJECT_TYPE, category);
        instance.model.setValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_IS_PUBLIC, 0);
        instance.model.setValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_Z_SCALE, 1);
        if (roomMap) {
            const dimensions = roomMap.dimensions;
            if (dimensions) {
                const minX = roomMap.dimensions.minX;
                const maxX = roomMap.dimensions.maxX;
                const minY = roomMap.dimensions.minY;
                const maxY = roomMap.dimensions.maxY;
                instance.model.setValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_MIN_X, minX);
                instance.model.setValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_MAX_X, maxX);
                instance.model.setValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_MIN_Y, minY);
                instance.model.setValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_MAX_Y, maxY);
                const seed = ((((minX * 423) + (maxX * 671)) + (minY * 913)) + (maxY * 7509));
                if (roomObject && roomObject.model)
                    roomObject.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_RANDOM_SEED, seed);
            }
        }
        const logic = (roomObject && roomObject.logic) || null;
        if (logic) {
            logic.initialize(roomMap);
            if (floorType) {
                logic.processUpdateMessage(new _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"](_messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"].ROOM_FLOOR_UPDATE, floorType));
                instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_FLOOR_TYPE, floorType);
            }
            if (wallType) {
                logic.processUpdateMessage(new _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"](_messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"].ROOM_WALL_UPDATE, wallType));
                instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_WALL_TYPE, wallType);
            }
            if (landscapeType) {
                logic.processUpdateMessage(new _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"](_messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"].ROOM_LANDSCAPE_UPDATE, landscapeType));
                instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_LANDSCAPE_TYPE, landscapeType);
            }
        }
        if (roomMap && roomMap.doors.length) {
            let doorIndex = 0;
            while (doorIndex < roomMap.doors.length) {
                const door = roomMap.doors[doorIndex];
                if (door) {
                    const doorX = door.x;
                    const doorY = door.y;
                    const doorZ = door.z;
                    const doorDir = door.dir;
                    const maskType = _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"].DOOR;
                    const maskId = 'door_' + doorIndex;
                    const maskLocation = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](doorX, doorY, doorZ);
                    logic.processUpdateMessage(new _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"](_messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"].ADD_MASK, maskId, maskType, maskLocation, _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"].HOLE));
                    if ((doorDir === 90) || (doorDir === 180)) {
                        if (doorDir === 90) {
                            instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_X, (doorX - 0.5));
                            instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_Y, doorY);
                        }
                        if (doorDir === 180) {
                            instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_X, doorX);
                            instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_Y, (doorY - 0.5));
                        }
                        instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_Z, doorZ);
                        instance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_DIR, doorDir);
                    }
                }
                doorIndex++;
            }
        }
        instance.createRoomObjectAndInitalize(RoomEngine.CURSOR_OBJECT_ID, RoomEngine.CURSOR_OBJECT_TYPE, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].CURSOR);
        //instance.createRoomObjectAndInitalize(RoomEngine.ARROW_OBJECT_ID, RoomEngine.ARROW_OBJECT_TYPE, RoomObjectCategory.CURSOR);
        return instance;
    }
    getRoomInstanceDisplay(roomId, id, width, height, scale) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        let renderer = instance.renderer;
        if (!renderer) {
            renderer = this._roomRendererFactory.createRenderer();
            if (!renderer)
                return null;
        }
        renderer.roomObjectVariableAccurateZ = _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].OBJECT_ACCURATE_Z_VALUE;
        instance.setRenderer(renderer);
        const canvas = renderer.createCanvas(id, width, height, scale);
        if (!canvas)
            return null;
        canvas.setMouseListener(this._roomObjectEventHandler);
        if (canvas.geometry) {
            canvas.geometry.z_scale = instance.model.getValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_Z_SCALE);
            const doorX = instance.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_X);
            const doorY = instance.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_Y);
            const doorZ = instance.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_Z);
            const doorDirection = instance.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_DOOR_DIR);
            const vector = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](doorX, doorY, doorZ);
            let direction = null;
            if (doorDirection === 90)
                direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](-2000, 0, 0);
            if (doorDirection === 180)
                direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](0, -2000, 0);
            canvas.geometry.setDisplacement(vector, direction);
            const displayObject = canvas.displayObject;
            if (displayObject) {
                const overlay = PIXI.Sprite.from(PIXI.Texture.EMPTY);
                overlay.name = RoomEngine.OVERLAY;
                overlay.interactive = false;
                displayObject.addChild(overlay);
            }
        }
        return canvas.displayObject;
    }
    setRoomInstanceRenderingCanvasMask(roomId, canvasId, flag) {
        const roomCanvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        if (roomCanvas)
            roomCanvas.setMask(flag);
    }
    setRoomInstanceRenderingCanvasScale(roomId, canvasId, scale, point = null, offsetPoint = null) {
        const roomCanvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        if (roomCanvas) {
            roomCanvas.setScale(scale, point, offsetPoint);
            this.events.dispatchEvent(new _events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"](_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"].ROOM_ZOOMED, roomId));
        }
    }
    getRoomInstanceRenderingCanvas(roomId, canvasId = -1) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        const renderer = instance.renderer;
        if (!renderer)
            return null;
        if (canvasId === -1)
            canvasId = this._activeRoomActiveCanvas;
        const canvas = renderer.getCanvas(canvasId);
        if (!canvas)
            return null;
        return canvas;
    }
    getActiveRoomInstanceRenderingCanvas() {
        return this.getRoomInstanceRenderingCanvas(this._activeRoomId, this._activeRoomActiveCanvas);
    }
    getRoomInstanceRenderingCanvasOffset(roomId, canvasId = -1) {
        if (canvasId === -1)
            canvasId = this._activeRoomActiveCanvas;
        const renderingCanvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        if (!renderingCanvas)
            return null;
        return new PIXI.Point(renderingCanvas.screenOffsetX, renderingCanvas.screenOffsetY);
    }
    setRoomInstanceRenderingCanvasOffset(roomId, canvasId, point) {
        const renderingCanvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        if (!renderingCanvas || !point)
            return false;
        renderingCanvas.screenOffsetX = point.x;
        renderingCanvas.screenOffsetY = point.y;
        return true;
    }
    getRoomInstanceRenderingCanvasScale(roomId = -1000, canvasId = -1) {
        if (roomId === -1000)
            roomId = this._activeRoomId;
        if (canvasId === -1)
            canvasId = this._activeRoomActiveCanvas;
        const canvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        if (!canvas)
            return 1;
        return canvas.scale;
    }
    initializeRoomInstanceRenderingCanvas(roomId, canvasId, width, height) {
        const canvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        if (!canvas)
            return;
        canvas.initialize(width, height);
    }
    getRoomInstanceGeometry(roomId, canvasId = -1) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        const renderer = instance.renderer;
        if (!renderer)
            return null;
        if (canvasId === -1)
            canvasId = this._activeRoomActiveCanvas;
        const canvas = renderer.getCanvas(canvasId);
        if (!canvas)
            return null;
        return canvas.geometry;
    }
    getRoomInstanceVariable(roomId, key) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        return ((instance.model && instance.model.getValue(key)) || null);
    }
    updateRoomInstancePlaneVisibility(roomId, wallVisible, floorVisible = true) {
        const object = this.getRoomOwnObject(roomId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_52__["ObjectRoomPlaneVisibilityUpdateMessage"](_messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_52__["ObjectRoomPlaneVisibilityUpdateMessage"].WALL_VISIBILITY, wallVisible));
        object.processUpdateMessage(new _messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_52__["ObjectRoomPlaneVisibilityUpdateMessage"](_messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_52__["ObjectRoomPlaneVisibilityUpdateMessage"].FLOOR_VISIBILITY, floorVisible));
        return true;
    }
    updateRoomInstancePlaneThickness(roomId, wallThickness, floorThickness) {
        const object = this.getRoomOwnObject(roomId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_51__["ObjectRoomPlanePropertyUpdateMessage"](_messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_51__["ObjectRoomPlanePropertyUpdateMessage"].WALL_THICKNESS, wallThickness));
        object.processUpdateMessage(new _messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_51__["ObjectRoomPlanePropertyUpdateMessage"](_messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_51__["ObjectRoomPlanePropertyUpdateMessage"].FLOOR_THICKNESS, floorThickness));
        return true;
    }
    updateRoomInstancePlaneType(roomId, floorType = null, wallType = null, landscapeType = null, _arg_5 = false) {
        const roomObject = this.getRoomOwnObject(roomId);
        const roomInstance = this.getRoomInstance(roomId);
        if (!roomObject) {
            let roomData = this._roomDatas.get(roomId);
            if (!roomData) {
                roomData = new _utils_RoomData__WEBPACK_IMPORTED_MODULE_66__["RoomData"](roomId, null);
                this._roomDatas.set(roomId, roomData);
            }
            if (floorType)
                roomData.floorType = floorType;
            if (wallType)
                roomData.wallType = wallType;
            if (landscapeType)
                roomData.landscapeType = landscapeType;
            return true;
        }
        if (floorType) {
            if (roomInstance && !_arg_5)
                roomInstance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_FLOOR_TYPE, floorType);
            roomObject.processUpdateMessage(new _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"](_messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"].ROOM_FLOOR_UPDATE, floorType));
        }
        if (wallType) {
            if (roomInstance && !_arg_5)
                roomInstance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_WALL_TYPE, wallType);
            roomObject.processUpdateMessage(new _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"](_messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"].ROOM_WALL_UPDATE, wallType));
        }
        if (landscapeType) {
            if (roomInstance && !_arg_5)
                roomInstance.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].ROOM_LANDSCAPE_TYPE, landscapeType);
            roomObject.processUpdateMessage(new _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"](_messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_53__["ObjectRoomUpdateMessage"].ROOM_LANDSCAPE_UPDATE, landscapeType));
        }
        return true;
    }
    addRoomInstanceFloorHole(roomId, objectId) {
        if (objectId < 0)
            return;
        const roomOwnObject = this.getRoomOwnObject(roomId);
        const roomObject = this.getRoomObjectFloor(roomId, objectId);
        if (roomOwnObject && roomOwnObject.logic && roomObject && roomObject.model) {
            const location = roomObject.getLocation();
            const sizeX = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_SIZE_X);
            const sizeY = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_SIZE_Y);
            roomOwnObject.processUpdateMessage(new _messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_49__["ObjectRoomFloorHoleUpdateMessage"](_messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_49__["ObjectRoomFloorHoleUpdateMessage"].ADD, objectId, location.x, location.y, sizeX, sizeY));
        }
    }
    removeRoomInstanceFloorHole(roomId, objectId) {
        if (objectId < 0)
            return;
        const roomOwnObject = this.getRoomOwnObject(roomId);
        if (roomOwnObject) {
            roomOwnObject.processUpdateMessage(new _messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_49__["ObjectRoomFloorHoleUpdateMessage"](_messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_49__["ObjectRoomFloorHoleUpdateMessage"].REMOVE, objectId));
        }
    }
    disableUpdate(flag) {
        if (flag) {
            _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.ticker.remove(this.update, this);
        }
        else {
            _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.ticker.remove(this.update, this);
            _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.ticker.add(this.update, this);
        }
    }
    runUpdate() {
        this.update(1);
    }
    update(time) {
        if (!this._roomManager)
            return;
        _room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_7__["RoomEnterEffect"]._Str_23419();
        time = _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.time;
        this.processPendingFurniture();
        this._roomManager.update(time);
        this._Str_22919(time);
        if (this._mouseCursorUpdate)
            this.setPointer();
        _room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_7__["RoomEnterEffect"]._Str_22392();
    }
    setPointer() {
        this._mouseCursorUpdate = false;
        const instanceData = this.getRoomInstanceData(this._activeRoomId);
        if (instanceData && instanceData._Str_22598()) {
            document.body.style.cursor = 'pointer';
        }
        else {
            document.body.style.cursor = 'auto';
        }
    }
    processPendingFurniture() {
        if (this._skipFurnitureCreationForNextFrame) {
            this._skipFurnitureCreationForNextFrame = false;
            return;
        }
        const startTime = _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.time;
        const furniturePerTick = 25;
        const hasTickLimit = true;
        for (let instanceData of this._roomInstanceDatas.values()) {
            if (!instanceData)
                continue;
            let pendingData = null;
            let totalFurnitureAdded = 0;
            let furnitureAdded = false;
            while (pendingData = instanceData.getNextPendingFurnitureFloor()) {
                furnitureAdded = this.processPendingFurnitureFloor(instanceData.roomId, pendingData.id, pendingData);
                if (hasTickLimit) {
                    if (!(++totalFurnitureAdded % furniturePerTick)) {
                        const time = _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.time;
                        if ((time - startTime) >= 40) {
                            this._skipFurnitureCreationForNextFrame = true;
                            break;
                        }
                    }
                }
            }
            while (!this._skipFurnitureCreationForNextFrame && (pendingData = instanceData.getNextPendingFurnitureWall())) {
                furnitureAdded = this.processPendingFurnitureWall(instanceData.roomId, pendingData.id, pendingData);
                if (hasTickLimit) {
                    if (!(++totalFurnitureAdded % furniturePerTick)) {
                        const time = _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.time;
                        if ((time - startTime) >= 40) {
                            this._skipFurnitureCreationForNextFrame = true;
                            break;
                        }
                    }
                }
            }
            if (furnitureAdded && this._roomManager) {
                const roomInstance = this._roomManager.getRoomInstance(this.getRoomId(instanceData.roomId));
                if (!roomInstance.hasUninitializedObjects())
                    this.objectsInitialized(instanceData.roomId.toString());
            }
            if (this._skipFurnitureCreationForNextFrame)
                return;
        }
    }
    onRoomEngineInitalized(flag) {
        if (!flag)
            return;
        this._ready = true;
        this.events.dispatchEvent(new _events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"](_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"].ENGINE_INITIALIZED, 0));
        for (let roomData of this._roomDatas.values()) {
            if (!roomData)
                continue;
            this.createRoomInstance(roomData.roomId, roomData.data);
        }
    }
    processPendingFurnitureFloor(roomId, id, data) {
        if (!data) {
            const instanceData = this.getRoomInstanceData(roomId);
            if (instanceData)
                data = instanceData.getPendingFurnitureFloor(id);
            if (!data)
                return false;
        }
        let type = data.type;
        let didLoad = false;
        if (!type) {
            type = this.getFurnitureFloorName(data.typeId);
            didLoad = true;
        }
        const object = this.createRoomObjectFloor(roomId, id, type);
        if (!object)
            return false;
        const model = object.model;
        if (model) {
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_COLOR, this.getFurnitureFloorColorIndex(data.typeId));
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_TYPE_ID, data.typeId);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_REAL_ROOM_OBJECT, (data.realRoomObject ? 1 : 0));
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXPIRY_TIME, data.expiryTime);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXPIRTY_TIMESTAMP, _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.time);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_USAGE_POLICY, data.usagePolicy);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_OWNER_ID, data.ownerId);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_OWNER_NAME, data.ownerName);
        }
        if (!this.updateRoomObjectFloor(roomId, id, data.location, data.direction, data.state, data.data, data.extra))
            return false;
        if (data.sizeZ >= 0) {
            if (!this.updateRoomObjectFloorHeight(roomId, id, data.sizeZ))
                return false;
        }
        if (this.events)
            this.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"].ADDED, roomId, id, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR));
        const selectedRoomObjectData = this.getPlacedRoomObjectData(roomId);
        if (selectedRoomObjectData && (selectedRoomObjectData.id === id) && (selectedRoomObjectData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR)) {
            this.selectRoomObject(roomId, id, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR);
        }
        if (object.isReady && data.synchronized)
            this._Str_21543(roomId, object);
        return true;
    }
    processPendingFurnitureWall(roomId, id, data) {
        if (!data) {
            const instanceData = this.getRoomInstanceData(roomId);
            if (instanceData)
                data = instanceData.getPendingFurnitureWall(id);
            if (!data)
                return false;
        }
        let extra = '';
        if (data.data)
            extra = data.data.getLegacyString();
        let type = this.getFurnitureWallName(data.typeId, extra);
        if (!type)
            type = '';
        const object = this.createRoomObjectWall(roomId, id, type);
        if (!object)
            return false;
        const model = object.model;
        if (model) {
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_COLOR, this.getFurnitureWallColorIndex(data.typeId));
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_TYPE_ID, data.typeId);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_REAL_ROOM_OBJECT, (data.realRoomObject ? 1 : 0));
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].OBJECT_ACCURATE_Z_VALUE, 1);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXPIRY_TIME, data.expiryTime);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXPIRTY_TIMESTAMP, _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.time);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_USAGE_POLICY, data.usagePolicy);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_OWNER_ID, data.ownerId);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_OWNER_NAME, data.ownerName);
        }
        if (!this.updateRoomObjectWall(roomId, id, data.location, data.direction, data.state, extra))
            return false;
        if (this.events)
            this.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"].ADDED, roomId, id, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL));
        const selectedRoomObjectData = this.getPlacedRoomObjectData(roomId);
        if (selectedRoomObjectData && (Math.abs(selectedRoomObjectData.id) === id) && (selectedRoomObjectData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL)) {
            this.selectRoomObject(roomId, id, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL);
        }
        return true;
    }
    setRoomSessionOwnUser(roomId, objectId) {
        if (!this._roomSessionManager)
            return;
        const session = this._roomSessionManager.getSession(roomId);
        if (session) {
            session.setOwnRoomIndex(objectId);
        }
        const camera = this.getRoomCamera(roomId);
        if (camera) {
            camera._Str_10760 = objectId;
            camera._Str_16562 = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT;
            camera._Str_19465(this._Str_19549);
        }
    }
    get _Str_19549() {
        return 1000;
        //return (getBoolean("room.camera.follow_user")) ? 1000 : 0;
    }
    _Str_22919(time) {
        // for(let instanceData of this._roomInstanceDatas.values())
        // {
        //     if(!instanceData) continue;
        //     const camera = instanceData.roomCamera;
        //     if(!camera) continue;
        //     const object = this.getRoomObject(instanceData.roomId, camera._Str_10760, camera._Str_16562);
        //     if(!object) continue;
        //     if((instanceData.roomId !== this._activeRoomId) || !this._activeRoomIsDragged)
        //     {
        //         this._Str_25242(instanceData.roomId, 1, object.getLocation(), time);
        //     }
        // }
        const canvas = this.getRoomInstanceRenderingCanvas(this._activeRoomId, 1);
        if (canvas) {
            if (this._activeRoomIsDragged) {
                canvas.screenOffsetX = (canvas.screenOffsetX + this._activeRoomDragX);
                canvas.screenOffsetY = (canvas.screenOffsetY + this._activeRoomDragY);
                this._activeRoomDragX = 0;
                this._activeRoomDragY = 0;
            }
        }
    }
    _Str_25242(k, _arg_2, _arg_3, _arg_4) {
        const renderingCanvas = this.getRoomInstanceRenderingCanvas(k, _arg_2);
        const instanceData = this.getRoomInstanceData(k);
        if (!renderingCanvas || !instanceData || (renderingCanvas.scale !== 1))
            return;
        const roomGeometry = renderingCanvas.geometry;
        const roomCamera = instanceData.roomCamera;
        const roomInstance = this.getRoomInstance(k);
        if (!roomGeometry || !roomCamera || !roomInstance)
            return;
        let canvasRectangle = this._Str_25261(k, _arg_2);
        if (!canvasRectangle)
            return;
        let _local_10 = (Math.floor(_arg_3.z) + 1);
        let width = Math.round(canvasRectangle.width);
        let height = Math.round(canvasRectangle.height);
        let bounds = this.getCanvasBoundingRectangle(_arg_2);
        if (bounds && ((bounds.right < 0) || (bounds.bottom < 0) || (bounds.left >= width) || (bounds.top >= height))) {
            roomCamera.reset();
        }
        if ((roomCamera._Str_7609 !== width) || (roomCamera._Str_7902 !== height) || (roomCamera.scale !== roomGeometry.scale) || (roomCamera._Str_16377 !== roomGeometry.updateId) || !_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"].isEqual(_arg_3, roomCamera._Str_16185) || roomCamera._Str_12536) {
            roomCamera._Str_16185 = _arg_3;
            const _local_15 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"]();
            _local_15.assign(_arg_3);
            _local_15.x = Math.round(_local_15.x);
            _local_15.y = Math.round(_local_15.y);
            const _local_16 = (roomInstance.model.getValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_MIN_X) - 0.5);
            const _local_17 = (roomInstance.model.getValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_MIN_Y) - 0.5);
            const _local_18 = (roomInstance.model.getValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_MAX_X) + 0.5);
            const _local_19 = (roomInstance.model.getValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_MAX_Y) + 0.5);
            const _local_20 = Math.round(((_local_16 + _local_18) / 2));
            const _local_21 = Math.round(((_local_17 + _local_19) / 2));
            const _local_22 = 2;
            let _local_23 = new PIXI.Point((_local_15.x - _local_20), (_local_15.y - _local_21));
            const _local_24 = (roomGeometry.scale / Math.sqrt(2));
            const _local_25 = (_local_24 / 2);
            const _local_26 = new PIXI.Matrix();
            _local_26.rotate(((-(roomGeometry.direction.x + 90) / 180) * Math.PI));
            _local_23 = _local_26.apply(_local_23);
            _local_23.y = (_local_23.y * (_local_25 / _local_24));
            const _local_27 = (((canvasRectangle.width / 2) / _local_24) - 1);
            const _local_28 = (((canvasRectangle.height / 2) / _local_25) - 1);
            let _local_29 = 0;
            let _local_30 = 0;
            let _local_31 = 0;
            let _local_32 = 0;
            let _local_33 = roomGeometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](_local_20, _local_21, _local_22));
            if (!_local_33)
                return;
            _local_33.x = (_local_33.x + Math.round((canvasRectangle.width / 2)));
            _local_33.y = (_local_33.y + Math.round((canvasRectangle.height / 2)));
            if (bounds != null) {
                bounds.x += -(renderingCanvas.screenOffsetX);
                bounds.y += -(renderingCanvas.screenOffsetY);
                if (((bounds.width > 1) && (bounds.height > 1))) {
                    _local_29 = (((bounds.left - _local_33.x) - (roomGeometry.scale * 0.25)) / _local_24);
                    _local_31 = (((bounds.right - _local_33.x) + (roomGeometry.scale * 0.25)) / _local_24);
                    _local_30 = (((bounds.top - _local_33.y) - (roomGeometry.scale * 0.5)) / _local_25);
                    _local_32 = (((bounds.bottom - _local_33.y) + (roomGeometry.scale * 0.5)) / _local_25);
                }
                else {
                    roomGeometry.adjustLocation(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](-30, -30), 25);
                    return;
                }
            }
            else {
                roomGeometry.adjustLocation(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](0, 0), 25);
                return;
            }
            let _local_34 = false;
            let _local_35 = false;
            let _local_36 = false;
            let _local_37 = false;
            let _local_38 = Math.round(((_local_31 - _local_29) * _local_24));
            if (_local_38 < canvasRectangle.width) {
                _local_10 = 2;
                _local_23.x = ((_local_31 + _local_29) / 2);
                _local_36 = true;
            }
            else {
                if (_local_23.x > (_local_31 - _local_27)) {
                    _local_23.x = (_local_31 - _local_27);
                    _local_34 = true;
                }
                if (_local_23.x < (_local_29 + _local_27)) {
                    _local_23.x = (_local_29 + _local_27);
                    _local_34 = true;
                }
            }
            let _local_39 = Math.round(((_local_32 - _local_30) * _local_25));
            if (_local_39 < canvasRectangle.height) {
                _local_10 = 2;
                _local_23.y = ((_local_32 + _local_30) / 2);
                _local_37 = true;
            }
            else {
                if (_local_23.y > (_local_32 - _local_28)) {
                    _local_23.y = (_local_32 - _local_28);
                    _local_35 = true;
                }
                if (_local_23.y < (_local_30 + _local_28)) {
                    _local_23.y = (_local_30 + _local_28);
                    _local_35 = true;
                }
                if (_local_35) {
                    _local_23.y = (_local_23.y / (_local_25 / _local_24));
                }
            }
            _local_26.invert();
            _local_23 = _local_26.apply(_local_23);
            _local_23.x = (_local_23.x + _local_20);
            _local_23.y = (_local_23.y + _local_21);
            let _local_40 = 0.35;
            let _local_41 = 0.2;
            let _local_42 = 0.2;
            let _local_43 = 10;
            let _local_44 = 10;
            if ((_local_42 * width) > 100) {
                _local_42 = (100 / width);
            }
            if ((_local_40 * height) > 150) {
                _local_40 = (150 / height);
            }
            if ((_local_41 * height) > 150) {
                _local_41 = (150 / height);
            }
            if ((((roomCamera._Str_10235) && (roomCamera._Str_7609 == width)) && (roomCamera._Str_7902 == height))) {
                _local_42 = 0;
            }
            if ((((roomCamera._Str_10446) && (roomCamera._Str_7609 == width)) && (roomCamera._Str_7902 == height))) {
                _local_40 = 0;
                _local_41 = 0;
            }
            canvasRectangle.width = (canvasRectangle.width * (1 - (_local_42 * 2)));
            canvasRectangle.height = (canvasRectangle.height * (1 - (_local_40 + _local_41)));
            if (canvasRectangle.width < _local_43) {
                canvasRectangle.width = _local_43;
            }
            if (canvasRectangle.height < _local_44) {
                canvasRectangle.height = _local_44;
            }
            if ((_local_40 + _local_41) > 0) {
                canvasRectangle.x += (-(canvasRectangle.width) / 2);
                canvasRectangle.y += (-(canvasRectangle.height) * (_local_41 / (_local_40 + _local_41)));
            }
            else {
                canvasRectangle.x += (-(canvasRectangle.width) / 2);
                canvasRectangle.y += (-(canvasRectangle.height) / 2);
            }
            _local_33 = roomGeometry.getScreenPoint(_local_15);
            if (_local_33 != null) {
                _local_33.x = (_local_33.x + renderingCanvas.screenOffsetX);
                _local_33.y = (_local_33.y + renderingCanvas.screenOffsetY);
                _local_15.z = _local_10;
                _local_15.x = (Math.round((_local_23.x * 2)) / 2);
                _local_15.y = (Math.round((_local_23.y * 2)) / 2);
                if (roomCamera.location == null) {
                    roomGeometry.location = _local_15;
                    if (this._Str_11555) {
                        roomCamera._Str_20685(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](0, 0, 0));
                    }
                    else {
                        roomCamera._Str_20685(_local_15);
                    }
                }
                let _local_45 = roomGeometry.getScreenPoint(_local_15);
                let _local_46 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](0, 0, 0);
                if (_local_45 != null) {
                    _local_46.x = _local_45.x;
                    _local_46.y = _local_45.y;
                }
                if (((((((((_local_33.x < canvasRectangle.left) || (_local_33.x > canvasRectangle.right)) && (!(roomCamera._Str_8564))) || (((_local_33.y < canvasRectangle.top) || (_local_33.y > canvasRectangle.bottom)) && (!(roomCamera._Str_8690)))) || (((_local_36) && (!(roomCamera._Str_8564))) && (!(roomCamera._Str_7609 == width)))) || (((_local_37) && (!(roomCamera._Str_8690))) && (!(roomCamera._Str_7902 == height)))) || ((!(roomCamera._Str_18975 == bounds.width)) || (!(roomCamera._Str_15953 == bounds.height)))) || ((!(roomCamera._Str_7609 == width)) || (!(roomCamera._Str_7902 == height))))) {
                    roomCamera._Str_10235 = _local_34;
                    roomCamera._Str_10446 = _local_35;
                    if (this._Str_11555) {
                        roomCamera.target = _local_46;
                    }
                    else {
                        roomCamera.target = _local_15;
                    }
                }
                else {
                    if (!_local_34) {
                        roomCamera._Str_10235 = false;
                    }
                    if (!_local_35) {
                        roomCamera._Str_10446 = false;
                    }
                }
            }
            roomCamera._Str_8564 = _local_36;
            roomCamera._Str_8690 = _local_37;
            roomCamera._Str_7609 = width;
            roomCamera._Str_7902 = height;
            roomCamera.scale = roomGeometry.scale;
            roomCamera._Str_16377 = roomGeometry.updateId;
            roomCamera._Str_18975 = bounds.width;
            roomCamera._Str_15953 = bounds.height;
            if (true) //!this._sessionDataManager._Str_18110
             {
                if (this._Str_11555) {
                    roomCamera.update(_arg_4, 8);
                }
                else {
                    roomCamera.update(_arg_4, 0.5);
                }
            }
            if (this._Str_11555) {
                renderingCanvas.screenOffsetX = -(roomCamera.location.x);
                renderingCanvas.screenOffsetY = -(roomCamera.location.y);
            }
            else {
                roomGeometry.adjustLocation(roomCamera.location, 25);
            }
        }
        else {
            roomCamera._Str_10235 = false;
            roomCamera._Str_10446 = false;
            roomCamera._Str_8564 = false;
            roomCamera._Str_8690 = false;
        }
    }
    _Str_25261(roomId, canvasId) {
        const canvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        if (!canvas)
            return null;
        return new PIXI.Rectangle(0, 0, canvas.width, canvas.height);
    }
    getRoomObjectBoundingRectangle(roomId, objectId, category, canvasId) {
        const geometry = this.getRoomInstanceGeometry(roomId, canvasId);
        if (!geometry)
            return null;
        const roomObject = this.getRoomObject(roomId, objectId, category);
        if (!roomObject)
            return null;
        const visualization = roomObject.visualization;
        if (!visualization)
            return null;
        const rectangle = visualization.getBoundingRectangle();
        const canvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        const scale = ((canvas) ? canvas.scale : 1);
        const screenPoint = geometry.getScreenPoint(roomObject.getLocation());
        if (!screenPoint)
            return null;
        rectangle.x = (rectangle.x * scale);
        rectangle.y = (rectangle.y * scale);
        rectangle.width = (rectangle.width * scale);
        rectangle.height = (rectangle.height * scale);
        screenPoint.x = (screenPoint.x * scale);
        screenPoint.y = (screenPoint.y * scale);
        rectangle.x += screenPoint.x;
        rectangle.y += screenPoint.y;
        if (!canvas)
            return null;
        rectangle.x += ((canvas.width / 2) + canvas.screenOffsetX);
        rectangle.y += ((canvas.height / 2) + canvas.screenOffsetY);
        return rectangle;
    }
    getCanvasBoundingRectangle(canvasId) {
        return this.getRoomObjectBoundingRectangle(this._activeRoomId, RoomEngine.ROOM_OBJECT_ID, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].ROOM, canvasId);
    }
    getFurnitureFloorName(typeId) {
        if (!this._roomContentLoader)
            return null;
        return this._roomContentLoader.getFurnitureFloorNameForTypeId(typeId);
    }
    getFurnitureWallName(typeId, extra = null) {
        if (!this._roomContentLoader)
            return null;
        return this._roomContentLoader.getFurnitureWallNameForTypeId(typeId, extra);
    }
    getFurnitureFloorColorIndex(typeId) {
        if (!this._roomContentLoader)
            return null;
        return this._roomContentLoader.getFurnitureFloorColorIndex(typeId);
    }
    getFurnitureWallColorIndex(typeId) {
        if (!this._roomContentLoader)
            return null;
        return this._roomContentLoader.getFurnitureWallColorIndex(typeId);
    }
    getRoomInstanceData(roomId) {
        const existing = this._roomInstanceDatas.get(roomId);
        if (existing)
            return existing;
        const data = new _utils_RoomInstanceData__WEBPACK_IMPORTED_MODULE_67__["RoomInstanceData"](roomId);
        this._roomInstanceDatas.set(data.roomId, data);
        return data;
    }
    getRoomInstanceModelName(roomId) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        return instanceData.modelName;
    }
    setRoomInstanceModelName(roomId, name) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return;
        instanceData.setModelName(name);
    }
    getRoomTileObjectMap(k) {
        const roomInstance = this.getRoomInstanceData(k);
        if (!roomInstance)
            return null;
        return roomInstance.tileObjectMap;
    }
    getCurrentRoomCamera() {
        return this.getRoomCamera(this._activeRoomId);
    }
    getRoomCamera(roomId) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        return instanceData.roomCamera;
    }
    getSelectedRoomObjectData(roomId) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        return instanceData.selectedObject;
    }
    setSelectedRoomObjectData(roomId, data) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        instanceData.setSelectedObject(data);
        if (data)
            instanceData.setPlacedObject(null);
    }
    getPlacedRoomObjectData(roomId) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        return instanceData.placedObject;
    }
    setPlacedRoomObjectData(roomId, data) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        instanceData.setPlacedObject(data);
    }
    cancelRoomObjectPlacement() {
        if (!this._roomObjectEventHandler)
            return;
        this._roomObjectEventHandler.cancelRoomObjectPlacement(this._activeRoomId);
    }
    getFurnitureStackingHeightMap(roomId) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        return instanceData.furnitureStackingHeightMap;
    }
    setFurnitureStackingHeightMap(roomId, heightMap) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        instanceData.setFurnitureStackingHeightMap(heightMap);
    }
    getLegacyWallGeometry(roomId) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return null;
        return instanceData.legacyGeometry;
    }
    createRoomObjectAndInitialize(roomId, objectId, type, category) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        return instance.createRoomObjectAndInitalize(objectId, type, category);
    }
    getTotalObjectsForManager(roomId, category) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return 0;
        return instance.getTotalObjectsForManager(category);
    }
    getRoomObject(roomId, objectId, category) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        return instance.getRoomObject(objectId, category);
    }
    getRoomObjectByIndex(roomId, index, category) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        return instance.getRoomObjectByIndex(index, category);
    }
    getRoomObjectCategoryForType(type) {
        if (!type || !this._roomContentLoader)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].MINIMUM;
        return this._roomContentLoader.getCategoryForType(type);
    }
    getRoomObjectCursor(roomId) {
        return this.getRoomObject(roomId, RoomEngine.CURSOR_OBJECT_ID, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].CURSOR);
    }
    getRoomObjectSelectionArrow(roomId) {
        return this.getRoomObject(roomId, RoomEngine.ARROW_OBJECT_ID, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].CURSOR);
    }
    getRoomOwnObject(roomId) {
        return this.getRoomObject(roomId, RoomEngine.ROOM_OBJECT_ID, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].ROOM);
    }
    getRoomObjectUser(roomId, objectId) {
        return this.getRoomObject(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT);
    }
    removeRoomObjectUser(roomId, objectId) {
        return this.removeRoomObject(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT);
    }
    createRoomObjectUser(roomId, objectId, type) {
        return this.createRoomObjectAndInitialize(roomId, objectId, type, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT);
    }
    getRoomObjectFloor(roomId, objectId) {
        return this.getRoomObject(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR);
    }
    createRoomObjectFloor(roomId, id, type) {
        return this.createRoomObjectAndInitialize(roomId, id, type, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR);
    }
    removeRoomObjectFloor(roomId, objectId, userId = -1, _arg_4 = false) {
        const roomInstanceData = this.getRoomInstanceData(roomId);
        if (roomInstanceData)
            roomInstanceData.removePendingFunitureFloor(objectId);
        if (this._sessionDataManager && (userId === this._sessionDataManager.userId) && !_utils_FurniId__WEBPACK_IMPORTED_MODULE_10__["FurniId"].isBuilderClubId(objectId)) {
            const roomObject = this.getRoomObject(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR);
            if (roomObject) {
                const screenLocation = this.getRoomObjectScreenLocation(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR, this._activeRoomActiveCanvas);
                if (screenLocation) {
                    const disabledPickingAnimation = (roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_DISABLE_PICKING_ANIMATION) === 1);
                    if (!disabledPickingAnimation) {
                        const typeId = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_TYPE_ID);
                        const extras = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXTRAS);
                        const dataKey = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_DATA_FORMAT);
                        const objectData = _object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_54__["ObjectDataFactory"].getData(dataKey);
                        const icon = this.getFurnitureFloorIcon(typeId, null, extras, objectData).data;
                        if (icon) {
                            const image = _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.renderer.extract.image(icon);
                            if (this.events)
                                this.events.dispatchEvent(new _events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_17__["RoomEngineAnimateIconEvent"](roomId, 'inventory', image, screenLocation.x, screenLocation.y));
                        }
                    }
                }
            }
        }
        this.removeRoomObject(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR);
        this.setMouseDefault(roomId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR, objectId);
        if (_arg_4)
            this._Str_17722(roomId, "RoomEngine.disposeObjectFurniture()");
    }
    getRoomObjectWall(roomId, objectId) {
        return this.getRoomObject(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL);
    }
    removeRoomObjectWall(roomId, objectId, userId = -1) {
        if (this._sessionDataManager && (userId === this._sessionDataManager.userId) && !_utils_FurniId__WEBPACK_IMPORTED_MODULE_10__["FurniId"].isBuilderClubId(objectId)) {
            const roomObject = this.getRoomObject(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL);
            if (roomObject && (roomObject.type.indexOf('post_it') === -1) && (roomObject.type.indexOf('external_image_wallitem') === -1)) {
                const screenLocation = this.getRoomObjectScreenLocation(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL, this._activeRoomActiveCanvas);
                if (screenLocation) {
                    const typeId = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_TYPE_ID);
                    const objectData = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_DATA);
                    const icon = this.getFurnitureWallIcon(typeId, null, objectData).data;
                    if (icon) {
                        const image = _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.renderer.extract.image(icon);
                        if (this.events)
                            this.events.dispatchEvent(new _events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_17__["RoomEngineAnimateIconEvent"](roomId, 'inventory', image, screenLocation.x, screenLocation.y));
                    }
                }
            }
        }
        this.removeRoomObject(roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL);
        this.updateRoomObjectMask(roomId, objectId, false);
        this.setMouseDefault(roomId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL, objectId);
    }
    createRoomObjectWall(roomId, id, type) {
        return this.createRoomObjectAndInitialize(roomId, id, type, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL);
    }
    removeRoomObject(roomId, objectId, category) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        instance.removeRoomObject(objectId, category);
        if (this.events)
            this.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"].REMOVED, roomId, objectId, category));
    }
    addFurnitureFloor(roomId, id, typeId, location, direction, state, objectData, extra = NaN, expires = -1, usagePolicy = 0, ownerId = 0, ownerName = '', synchronized = true, realRoomObject = true, sizeZ = -1) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return false;
        const furnitureData = new _utils_FurnitureData__WEBPACK_IMPORTED_MODULE_65__["FurnitureData"](id, typeId, null, location, direction, state, objectData, extra, expires, usagePolicy, ownerId, ownerName, synchronized, realRoomObject, sizeZ);
        instanceData.addPendingFurnitureFloor(furnitureData);
        return true;
    }
    addFurnitureFloorByTypeName(roomId, id, typeName, location, direction, state, objectData, extra = NaN, expires = -1, usagePolicy = 0, ownerId = 0, ownerName = '', synchronized = true, realRoomObject = true, sizeZ = -1) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return false;
        const furnitureData = new _utils_FurnitureData__WEBPACK_IMPORTED_MODULE_65__["FurnitureData"](id, 0, typeName, location, direction, state, objectData, extra, expires, usagePolicy, ownerId, ownerName, synchronized, realRoomObject, sizeZ);
        instanceData.addPendingFurnitureFloor(furnitureData);
        return true;
    }
    addFurnitureWall(roomId, id, typeId, location, direction, state, extra, expires = -1, usagePolicy = 0, ownerId = 0, ownerName = '', realRoomObject = true) {
        const instanceData = this.getRoomInstanceData(roomId);
        if (!instanceData)
            return false;
        const objectData = new _object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_55__["LegacyDataType"]();
        objectData.setString(extra);
        const furnitureData = new _utils_FurnitureData__WEBPACK_IMPORTED_MODULE_65__["FurnitureData"](id, typeId, null, location, direction, state, objectData, NaN, expires, usagePolicy, ownerId, ownerName, true, realRoomObject);
        instanceData.addPendingFurnitureWall(furnitureData);
        return true;
    }
    updateRoomObjectFloor(roomId, objectId, location, direction, state, data, extra = NaN) {
        const object = this.getRoomObjectFloor(roomId, objectId);
        if (!object)
            return false;
        object.processUpdateMessage(new _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_4__["RoomObjectUpdateMessage"](location, direction));
        object.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_44__["ObjectDataUpdateMessage"](state, data, extra));
        return true;
    }
    updateRoomObjectWall(roomId, objectId, location, direction, state, extra) {
        const object = this.getRoomObjectWall(roomId, objectId);
        if (!object || !object.logic)
            return false;
        const updateMessage = new _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_4__["RoomObjectUpdateMessage"](location, direction);
        const data = new _object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_55__["LegacyDataType"]();
        data.setString(extra);
        const dataUpdateMessage = new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_44__["ObjectDataUpdateMessage"](state, data);
        object.logic.processUpdateMessage(updateMessage);
        object.logic.processUpdateMessage(dataUpdateMessage);
        this.updateRoomObjectMask(roomId, objectId);
        return true;
    }
    updateRoomObjectWallItemData(roomId, objectId, data) {
        const object = this.getRoomObjectWall(roomId, objectId);
        if (!object || !object.logic)
            return false;
        object.logic.processUpdateMessage(new _messages_ObjectItemDataUpdateMessage__WEBPACK_IMPORTED_MODULE_47__["ObjectItemDataUpdateMessage"](data));
        return true;
    }
    updateRoomObjectFloorHeight(roomId, objectId, height) {
        const object = this.getRoomObjectFloor(roomId, objectId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectHeightUpdateMessage__WEBPACK_IMPORTED_MODULE_46__["ObjectHeightUpdateMessage"](null, null, height));
        return true;
    }
    updateRoomObjectFloorExpiration(roomId, objectId, expires) {
        const object = this.getRoomObjectFloor(roomId, objectId);
        if (!object)
            return false;
        object.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXPIRY_TIME, expires);
        object.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXPIRTY_TIMESTAMP, _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.time);
        return true;
    }
    updateRoomObjectWallExpiration(roomId, objectId, expires) {
        const object = this.getRoomObjectWall(roomId, objectId);
        if (!object)
            return false;
        object.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXPIRY_TIME, expires);
        object.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXPIRTY_TIMESTAMP, _Nitro__WEBPACK_IMPORTED_MODULE_12__["Nitro"].instance.time);
        return true;
    }
    updateRoomObjectMask(roomId, objectId, _arg_3 = true) {
        const maskName = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL + '_' + objectId;
        const roomObject = this.getRoomObjectWall(roomId, objectId);
        let maskUpdate = null;
        if (roomObject && roomObject.model) {
            if (roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_USES_PLANE_MASK) > 0) {
                const maskType = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_PLANE_MASK_TYPE);
                const location = roomObject.getLocation();
                if (_arg_3)
                    maskUpdate = new _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"](_messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"].ADD_MASK, maskName, maskType, location);
                else
                    maskUpdate = new _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"](_messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"]._Str_10260, maskName);
            }
        }
        else {
            maskUpdate = new _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"](_messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_50__["ObjectRoomMaskUpdateMessage"]._Str_10260, maskName);
        }
        const roomOwnObject = this.getRoomOwnObject(roomId);
        if (roomOwnObject && roomOwnObject.logic && maskUpdate)
            roomOwnObject.logic.processUpdateMessage(maskUpdate);
    }
    rollRoomObjectFloor(roomId, objectId, location, targetLocation) {
        const object = this.getRoomObjectFloor(roomId, objectId);
        if (!object)
            return;
        object.processUpdateMessage(new _messages_ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_48__["ObjectMoveUpdateMessage"](location, targetLocation, null, !!targetLocation));
    }
    updateRoomObjectWallLocation(roomId, objectId, location) {
        const roomObject = this.getRoomObjectWall(roomId, objectId);
        if (!roomObject)
            return false;
        if (roomObject.logic)
            roomObject.logic.processUpdateMessage(new _messages_ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_48__["ObjectMoveUpdateMessage"](location, null, null));
        this.updateRoomObjectMask(roomId, objectId);
        return true;
    }
    addRoomObjectUser(roomId, objectId, location, direction, headDirection, type, figure) {
        const existing = this.getRoomObjectUser(roomId, objectId);
        if (existing)
            return false;
        let objectType = _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_57__["RoomObjectUserType"].getTypeString(type);
        if (objectType === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_57__["RoomObjectUserType"].PET)
            objectType = this.getPetType(figure);
        const object = this.createRoomObjectUser(roomId, objectId, objectType);
        if (!object)
            return false;
        if (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__["NitroConfiguration"].FIGURE_HIGHLIGHT_ENABLED)
            object.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_HIGHLIGHT_ENABLE, 1);
        object.processUpdateMessage(new _messages_ObjectAvatarUpdateMessage__WEBPACK_IMPORTED_MODULE_42__["ObjectAvatarUpdateMessage"](this.fixedUserLocation(roomId, location), null, direction, headDirection, false, 0));
        if (figure)
            object.processUpdateMessage(new _messages_ObjectAvatarFigureUpdateMessage__WEBPACK_IMPORTED_MODULE_29__["ObjectAvatarFigureUpdateMessage"](figure));
        if (this.events)
            this.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"].ADDED, roomId, objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT));
        return true;
    }
    updateRoomObjectUserLocation(roomId, objectId, location, targetLocation, canStandUp = false, baseY = 0, direction = null, headDirection = NaN) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return false;
        if (!location)
            location = object.getLocation();
        if (!direction)
            direction = object.getDirection();
        if (isNaN(headDirection))
            headDirection = object.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].HEAD_DIRECTION);
        object.processUpdateMessage(new _messages_ObjectAvatarUpdateMessage__WEBPACK_IMPORTED_MODULE_42__["ObjectAvatarUpdateMessage"](this.fixedUserLocation(roomId, location), this.fixedUserLocation(roomId, targetLocation), direction, headDirection, canStandUp, baseY));
        const roomSession = ((this._roomSessionManager && this._roomSessionManager.getSession(roomId)) || null);
        if (roomSession && (roomSession.ownRoomIndex)) {
            this._logicFactory.events.dispatchEvent(new _events_RoomToObjectOwnAvatarMoveEvent__WEBPACK_IMPORTED_MODULE_21__["RoomToObjectOwnAvatarMoveEvent"](_events_RoomToObjectOwnAvatarMoveEvent__WEBPACK_IMPORTED_MODULE_21__["RoomToObjectOwnAvatarMoveEvent"].ROAME_MOVE_TO, targetLocation));
        }
        return true;
    }
    fixedUserLocation(roomId, location) {
        if (!location)
            return null;
        const heightMap = this.getFurnitureStackingHeightMap(roomId);
        const wallGeometry = this.getLegacyWallGeometry(roomId);
        if (!heightMap || !wallGeometry)
            return location;
        var _local_5 = location.z;
        var _local_6 = heightMap.getTileHeight(location.x, location.y);
        var _local_7 = wallGeometry.getHeight(location.x, location.y);
        if ((Math.abs((_local_5 - _local_6)) < 0.1) && (Math.abs((_local_6 - _local_7)) < 0.1)) {
            _local_5 = wallGeometry._Str_24141(location.x, location.y);
        }
        return new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](location.x, location.y, _local_5);
    }
    updateRoomObjectUserAction(roomId, objectId, action, value, parameter = null) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return false;
        let message = null;
        switch (action) {
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_TALK:
                message = new _messages_ObjectAvatarChatUpdateMessage__WEBPACK_IMPORTED_MODULE_24__["ObjectAvatarChatUpdateMessage"](value);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_SLEEP:
                message = new _messages_ObjectAvatarSleepUpdateMessage__WEBPACK_IMPORTED_MODULE_40__["ObjectAvatarSleepUpdateMessage"](value === 1);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_IS_TYPING:
                message = new _messages_ObjectAvatarTypingUpdateMessage__WEBPACK_IMPORTED_MODULE_41__["ObjectAvatarTypingUpdateMessage"](value === 1);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_IS_MUTED:
                message = new _messages_ObjectAvatarMutedUpdateMessage__WEBPACK_IMPORTED_MODULE_33__["ObjectAvatarMutedUpdateMessage"](value === 1);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_CARRY_OBJECT:
                message = new _messages_ObjectAvatarCarryObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_23__["ObjectAvatarCarryObjectUpdateMessage"](value, parameter);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_USE_OBJECT:
                message = new _messages_ObjectAvatarUseObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_43__["ObjectAvatarUseObjectUpdateMessage"](value);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_DANCE:
                message = new _messages_ObjectAvatarDanceUpdateMessage__WEBPACK_IMPORTED_MODULE_25__["ObjectAvatarDanceUpdateMessage"](value);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_GAINED_EXPERIENCE:
                message = new _messages_ObjectAvatarExperienceUpdateMessage__WEBPACK_IMPORTED_MODULE_27__["ObjectAvatarExperienceUpdateMessage"](value);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_NUMBER_VALUE:
                message = new _messages_ObjectAvatarPlayerValueUpdateMessage__WEBPACK_IMPORTED_MODULE_36__["ObjectAvatarPlayerValueUpdateMessage"](value);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_SIGN:
                message = new _messages_ObjectAvatarSignUpdateMessage__WEBPACK_IMPORTED_MODULE_39__["ObjectAvatarSignUpdateMessage"](value);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_EXPRESSION:
                message = new _messages_ObjectAvatarExpressionUpdateMessage__WEBPACK_IMPORTED_MODULE_28__["ObjectAvatarExpressionUpdateMessage"](value);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_IS_PLAYING_GAME:
                message = new _messages_ObjectAvatarPlayingGameUpdateMessage__WEBPACK_IMPORTED_MODULE_37__["ObjectAvatarPlayingGameUpdateMessage"](value === 1);
                break;
            case _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_GUIDE_STATUS:
                message = new _messages_ObjectAvatarGuideStatusUpdateMessage__WEBPACK_IMPORTED_MODULE_32__["ObjectAvatarGuideStatusUpdateMessage"](value);
                break;
        }
        if (!message)
            return false;
        object.processUpdateMessage(message);
        return true;
    }
    updateRoomObjectUserFigure(roomId, objectId, figure, gender = null, subType = null, isRiding = false) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectAvatarFigureUpdateMessage__WEBPACK_IMPORTED_MODULE_29__["ObjectAvatarFigureUpdateMessage"](figure, gender, subType, isRiding));
        return true;
    }
    updateRoomObjectUserFlatControl(roomId, objectId, level) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectAvatarFlatControlUpdateMessage__WEBPACK_IMPORTED_MODULE_30__["ObjectAvatarFlatControlUpdateMessage"](parseInt(level)));
        return true;
    }
    updateRoomObjectUserEffect(roomId, objectId, effectId, delay = 0) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectAvatarEffectUpdateMessage__WEBPACK_IMPORTED_MODULE_26__["ObjectAvatarEffectUpdateMessage"](effectId, delay));
        return true;
    }
    updateRoomObjectUserGesture(roomId, objectId, gestureId) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectAvatarGestureUpdateMessage__WEBPACK_IMPORTED_MODULE_31__["ObjectAvatarGestureUpdateMessage"](gestureId));
        return true;
    }
    updateRoomObjectUserPetGesture(roomId, objectId, gesture) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectAvatarPetGestureUpdateMessage__WEBPACK_IMPORTED_MODULE_35__["ObjectAvatarPetGestureUpdateMessage"](gesture));
        return true;
    }
    updateRoomObjectUserPosture(roomId, objectId, type, parameter = null) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return false;
        object.processUpdateMessage(new _messages_ObjectAvatarPostureUpdateMessage__WEBPACK_IMPORTED_MODULE_38__["ObjectAvatarPostureUpdateMessage"](type, parameter));
        return true;
    }
    updateRoomObjectUserOwn(roomId, objectId) {
        const object = this.getRoomObjectUser(roomId, objectId);
        if (!object)
            return;
        object.processUpdateMessage(new _messages_ObjectAvatarOwnMessage__WEBPACK_IMPORTED_MODULE_34__["ObjectAvatarOwnMessage"]());
    }
    useRoomObject(objectId, category) {
        const roomObject = this.getRoomObject(this._activeRoomId, objectId, category);
        if (roomObject) {
            const eventHandler = roomObject.logic;
            if (eventHandler) {
                eventHandler.useObject();
                return true;
            }
        }
        return false;
    }
    objectInitialized(roomId, objectId, category) {
        const id = this.getRoomIdFromString(roomId);
        if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL) {
            this.updateRoomObjectMask(id, objectId);
        }
        const object = this.getRoomObject(id, objectId, category);
        if (object && object.model && object.logic) {
            const dataFormat = object.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_DATA_FORMAT);
            if (!isNaN(dataFormat)) {
                const data = _object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_54__["ObjectDataFactory"].getData(dataFormat);
                data.initializeFromRoomObjectModel(object.model);
                object.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_44__["ObjectDataUpdateMessage"](object.getState(0), data));
            }
            this.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"].CONTENT_UPDATED, id, objectId, category));
        }
        if (roomId !== RoomEngine.TEMPORARY_ROOM)
            this._Str_21543(id, object);
    }
    changeObjectState(roomId, objectId, category) {
        const roomObject = this.getRoomObject(roomId, objectId, category);
        if (!roomObject || !roomObject.model)
            return;
        let stateIndex = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_AUTOMATIC_STATE_INDEX);
        if (stateIndex === null)
            stateIndex = 1;
        else
            stateIndex = (stateIndex + 1);
        roomObject.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_AUTOMATIC_STATE_INDEX, stateIndex);
        const objectDataKey = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_DATA_FORMAT);
        const objectData = _object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_54__["ObjectDataFactory"].getData(objectDataKey);
        objectData.initializeFromRoomObjectModel(roomObject.model);
        if (roomObject.logic)
            roomObject.logic.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_44__["ObjectDataUpdateMessage"](stateIndex, objectData));
    }
    loadRoomObjectBadgeImage(roomId, objectId, objectCategory, badgeId, groupBadge = true) {
        if (!this._sessionDataManager)
            return;
        const roomObject = this.getRoomObjectFloor(roomId, objectId);
        if (!roomObject || !roomObject.logic)
            return;
        let badgeName = (groupBadge) ? this._sessionDataManager.loadGroupBadgeImage(badgeId) : this._sessionDataManager.loadBadgeImage(badgeId);
        if (!badgeName) {
            badgeName = 'loading_icon';
            if (!this._badgeListenerObjects)
                this._badgeListenerObjects = new Map();
            if (!this._badgeListenerObjects.size) {
                this._sessionDataManager.events.addEventListener(_session_events_BadgeImageReadyEvent__WEBPACK_IMPORTED_MODULE_14__["BadgeImageReadyEvent"].IMAGE_READY, this.onBadgeImageReadyEvent.bind(this));
            }
            let listeners = this._badgeListenerObjects.get(badgeId);
            if (!listeners)
                listeners = [];
            listeners.push(new _utils_RoomObjectBadgeImageAssetListener__WEBPACK_IMPORTED_MODULE_68__["RoomObjectBadgeImageAssetListener"](roomObject, groupBadge));
            this._badgeListenerObjects.set(badgeId, listeners);
        }
        else {
            this.putBadgeInObjectAssets(roomObject, badgeId, groupBadge);
        }
        roomObject.logic.processUpdateMessage(new _messages_ObjectGroupBadgeUpdateMessage__WEBPACK_IMPORTED_MODULE_45__["ObjectGroupBadgeUpdateMessage"](badgeId, badgeName));
    }
    onBadgeImageReadyEvent(k) {
        if (!this._sessionDataManager)
            return;
        const listeners = this._badgeListenerObjects && this._badgeListenerObjects.get(k.badgeId);
        if (!listeners)
            return;
        for (let listener of listeners) {
            if (!listener)
                continue;
            this.putBadgeInObjectAssets(listener.object, k.badgeId, listener.groupBadge);
            const badgeName = (listener.groupBadge) ? this._sessionDataManager.loadGroupBadgeImage(k.badgeId) : this._sessionDataManager.loadBadgeImage(k.badgeId);
            if (listener.object && listener.object.logic)
                listener.object.logic.processUpdateMessage(new _messages_ObjectGroupBadgeUpdateMessage__WEBPACK_IMPORTED_MODULE_45__["ObjectGroupBadgeUpdateMessage"](k.badgeId, badgeName));
        }
        this._badgeListenerObjects.delete(k.badgeId);
        if (!this._badgeListenerObjects.size) {
            this._sessionDataManager.events.removeEventListener(_session_events_BadgeImageReadyEvent__WEBPACK_IMPORTED_MODULE_14__["BadgeImageReadyEvent"].IMAGE_READY, this.onBadgeImageReadyEvent.bind(this));
        }
    }
    putBadgeInObjectAssets(object, badgeId, groupBadge = false) {
        if (!this._roomContentLoader || !this._sessionDataManager)
            return;
        const badgeName = (groupBadge) ? this._sessionDataManager.loadGroupBadgeImage(badgeId) : this._sessionDataManager.loadBadgeImage(badgeId);
        const badgeImage = (groupBadge) ? this._sessionDataManager.getGroupBadgeImage(badgeId) : this._sessionDataManager.getBadgeImage(badgeId);
        if (badgeImage)
            this._roomContentLoader.addAssetToCollection(object.type, badgeName, badgeImage);
    }
    dispatchMouseEvent(canvasId, x, y, type, altKey, ctrlKey, shiftKey, buttonDown) {
        const canvas = this.getRoomInstanceRenderingCanvas(this._activeRoomId, canvasId);
        if (!canvas)
            return;
        const overlay = this.getRenderingCanvasOverlay(canvas);
        const sprite = this._Str_16498(overlay, RoomEngine.OBJECT_ICON_SPRITE);
        if (sprite) {
            const rectangle = sprite.getLocalBounds();
            sprite.x = (x - (rectangle.width / 2));
            sprite.y = (y - (rectangle.height / 2));
        }
        if (!this._Str_25871(canvas, x, y, type, altKey, ctrlKey, shiftKey)) {
            if (!canvas._Str_21232(x, y, type, altKey, ctrlKey, shiftKey, buttonDown)) {
                let eventType = null;
                if (type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].MOUSE_CLICK) {
                    if (this.events) {
                        this.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_19__["RoomEngineObjectEvent"].DESELECTED, this._activeRoomId, -1, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].MINIMUM));
                    }
                    eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_3__["RoomObjectMouseEvent"].CLICK;
                }
                else {
                    if (type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].MOUSE_MOVE)
                        eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_3__["RoomObjectMouseEvent"].MOUSE_MOVE;
                    else if (type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].MOUSE_DOWN)
                        eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_3__["RoomObjectMouseEvent"].MOUSE_DOWN;
                    else if (type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].MOUSE_UP)
                        eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_3__["RoomObjectMouseEvent"].MOUSE_UP;
                }
                this._roomObjectEventHandler.handleRoomObjectEvent(new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_3__["RoomObjectMouseEvent"](eventType, this.getRoomObject(this._activeRoomId, RoomEngine.ROOM_OBJECT_ID, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].ROOM), null, altKey), this._activeRoomId);
            }
        }
        this._activeRoomActiveCanvas = canvasId;
        this._activeRoomActiveCanvasMouseX = x;
        this._activeRoomActiveCanvasMouseY = y;
    }
    _Str_25871(canvas, x, y, type, altKey, ctrlKey, shiftKey) {
        let offsetX = (x - this._activeRoomActiveCanvasMouseX);
        let offsetY = (y - this._activeRoomActiveCanvasMouseY);
        if (type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].MOUSE_DOWN) {
            if (!altKey && !ctrlKey && !shiftKey && !this.isDecorating) {
                this._activeRoomIsDragged = true;
                this._activeRoomWasDragged = false;
                this._activeRoomDragStartX = this._activeRoomActiveCanvasMouseX;
                this._activeRoomDragStartY = this._activeRoomActiveCanvasMouseY;
            }
        }
        else {
            if (type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].MOUSE_UP) {
                if (this._activeRoomIsDragged) {
                    this._activeRoomIsDragged = false;
                    if (this._activeRoomWasDragged) {
                        const instanceData = this.getRoomInstanceData(this._activeRoomId);
                        if (instanceData) {
                            const camera = instanceData.roomCamera;
                            if (camera) {
                                if (!camera._Str_12536) {
                                    camera._Str_8564 = false;
                                    camera._Str_8690 = false;
                                }
                                camera._Str_25467(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](-(canvas.screenOffsetX), -(canvas.screenOffsetX)));
                                if (this._roomDraggingAlwaysCenters)
                                    camera.reset();
                            }
                        }
                    }
                }
            }
            else {
                if (type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].MOUSE_MOVE) {
                    if (this._activeRoomIsDragged) {
                        if (!this._activeRoomWasDragged) {
                            offsetX = (x - this._activeRoomDragStartX);
                            offsetY = (y - this._activeRoomDragStartY);
                            if (((((offsetX <= -(RoomEngine.DRAG_THRESHOLD)) || (offsetX >= RoomEngine.DRAG_THRESHOLD)) || (offsetY <= -(RoomEngine.DRAG_THRESHOLD))) || (offsetY >= RoomEngine.DRAG_THRESHOLD))) {
                                this._activeRoomWasDragged = true;
                            }
                            offsetX = 0;
                            offsetY = 0;
                        }
                        if (((!(offsetX == 0)) || (!(offsetY == 0)))) {
                            this._activeRoomDragX += offsetX;
                            this._activeRoomDragY += offsetY;
                            this._activeRoomWasDragged = true;
                        }
                    }
                }
                else {
                    if ((type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].MOUSE_CLICK) || (type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_16__["MouseEventType"].DOUBLE_CLICK)) {
                        this._activeRoomIsDragged = false;
                        if (this._activeRoomWasDragged) {
                            this._activeRoomWasDragged = false;
                            return true;
                        }
                    }
                }
            }
        }
        return false;
    }
    updateMousePointer(type, objectId, objectType) {
        const category = this.getRoomObjectCategoryForType(objectType);
        switch (type) {
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_20__["RoomObjectFurnitureActionEvent"].MOUSE_BUTTON:
                this.setMouseButton(this._activeRoomId, category, objectId);
                return;
            default:
                this.setMouseDefault(this._activeRoomId, category, objectId);
                return;
        }
    }
    setMouseButton(roomId, category, objectId) {
        if (!this._roomSessionManager)
            return;
        const session = this._roomSessionManager.getSession(roomId);
        if (!session)
            return;
        if (((category !== _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR) && (category !== _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL)) || ((session.controllerLevel >= _session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_13__["RoomControllerLevel"].GUEST))) {
            const instanceData = this.getRoomInstanceData(roomId);
            if (instanceData) {
                if (instanceData._Str_16810((category + '_' + objectId)))
                    this._mouseCursorUpdate = true;
            }
        }
    }
    setMouseDefault(roomId, category, objectId) {
        if (!this._roomSessionManager)
            return;
        const instanceData = this.getRoomInstanceData(roomId);
        if (instanceData) {
            if (instanceData._Str_11959((category + '_' + objectId)))
                this._mouseCursorUpdate = true;
        }
    }
    processRoomObjectOperation(objectId, category, operation) {
        if (!this._roomObjectEventHandler)
            return false;
        this._roomObjectEventHandler.processRoomObjectOperation(this._activeRoomId, objectId, category, operation);
    }
    processRoomObjectEvent(event) {
        if (!this._roomObjectEventHandler)
            return;
        const roomIdString = this.getRoomObjectRoomId(event.object);
        if (!roomIdString)
            return;
        const roomId = this.getRoomIdFromString(roomIdString);
        this._roomObjectEventHandler.handleRoomObjectEvent(event, roomId);
    }
    _Str_5346(placementSource, id, category, typeId, instanceData = null, stuffData = null, state = -1, frameNumber = -1, posture = null) {
        const roomInstance = this.getRoomInstance(this._activeRoomId);
        if (!roomInstance || (roomInstance.model.getValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_64__["RoomVariableEnum"].ROOM_IS_PUBLIC) !== 0))
            return false;
        if (!this._roomObjectEventHandler)
            return false;
        return this._roomObjectEventHandler._Str_5346(placementSource, this._activeRoomId, id, category, typeId, instanceData, stuffData, state, frameNumber, posture);
    }
    getRoomObjectScreenLocation(roomId, objectId, objectType, canvasId = -1) {
        if (canvasId == -1)
            canvasId = this._activeRoomActiveCanvas;
        const geometry = this.getRoomInstanceGeometry(roomId, canvasId);
        if (!geometry)
            return null;
        const roomObject = this.getRoomObject(roomId, objectId, objectType);
        if (!roomObject)
            return null;
        const screenPoint = geometry.getScreenPoint(roomObject.getLocation());
        if (!screenPoint)
            return null;
        const renderingCanvas = this.getRoomInstanceRenderingCanvas(roomId, canvasId);
        if (!renderingCanvas)
            return null;
        screenPoint.x = (screenPoint.x * renderingCanvas.scale);
        screenPoint.y = (screenPoint.y * renderingCanvas.scale);
        screenPoint.x += ((renderingCanvas.width / 2) + renderingCanvas.screenOffsetX);
        screenPoint.y += ((renderingCanvas.height / 2) + renderingCanvas.screenOffsetY);
        return screenPoint;
    }
    selectRoomObject(roomId, objectId, objectCategory) {
        if (!this._roomObjectEventHandler)
            return;
        this._roomObjectEventHandler._Str_17481(roomId, objectId, objectCategory);
    }
    _Str_8675() {
        if (!this._roomObjectEventHandler)
            return;
        this._roomObjectEventHandler._Str_8675(this._activeRoomId);
    }
    _Str_24651(k, _arg_2, _arg_3) {
        if (!k || !_arg_3)
            return;
        let _local_4 = this._Str_16498(k, _arg_2);
        if (_local_4)
            return null;
        _local_4 = PIXI.Sprite.from(_arg_3);
        _local_4.name = _arg_2;
        k.addChild(_local_4);
        return _local_4;
    }
    onRoomContentLoaded(id, assetName, success) {
        if (!this._roomContentLoader || (id === -1))
            return;
        this._thumbnailObjectIdBank._Str_15187((id - 1));
        const listeners = this._thumbnailCallbacks.get(assetName);
        if (listeners) {
            this._thumbnailCallbacks.delete(assetName);
            const image = this._roomContentLoader.getImage(assetName);
            if (image) {
                for (let listener of listeners) {
                    if (!listener)
                        continue;
                    listener.imageReady(id, null, image);
                }
            }
        }
    }
    _Str_16645(objectId, category, _arg_3, instanceData = null, stuffData = null, state = -1, frameNumber = -1, posture = null) {
        let type = null;
        let colorIndex = 0;
        let imageResult = null;
        if (_arg_3) {
            imageResult = this.getRoomObjectImage(this._activeRoomId, objectId, category, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](), 1, null);
        }
        else {
            if (this._roomContentLoader) {
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR) {
                    type = this._roomContentLoader.getFurnitureFloorNameForTypeId(objectId);
                    colorIndex = this._roomContentLoader.getFurnitureFloorColorIndex(objectId);
                }
                else if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL) {
                    type = this._roomContentLoader.getFurnitureWallNameForTypeId(objectId, instanceData);
                    colorIndex = this._roomContentLoader.getFurnitureWallColorIndex(objectId);
                }
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT) {
                    type = _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_57__["RoomObjectUserType"].getTypeString(objectId);
                    if (type === "pet") {
                        type = this.getPetType(instanceData);
                        const petFigureData = new _avatar_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_11__["PetFigureData"](instanceData);
                        imageResult = this.getRoomObjectPetImage(petFigureData.typeId, petFigureData.paletteId, petFigureData.color, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](180), 64, null, true, 0, petFigureData.customParts, posture);
                    }
                    else {
                        imageResult = this.getGenericRoomObjectImage(type, instanceData, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](180), 1, null, 0, null, stuffData, state, frameNumber, posture);
                    }
                }
                else {
                    imageResult = this.getGenericRoomObjectImage(type, colorIndex.toString(), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](), 1, null, 0, instanceData, stuffData, state, frameNumber, posture);
                }
            }
        }
        if (!imageResult || !imageResult.data)
            return;
        const canvas = this.getActiveRoomInstanceRenderingCanvas();
        if (!canvas)
            return;
        const overlay = this.getRenderingCanvasOverlay(canvas);
        this._Str_21215(overlay, RoomEngine.OBJECT_ICON_SPRITE);
        const _local_15 = this._Str_24651(overlay, RoomEngine.OBJECT_ICON_SPRITE, imageResult.data);
        if (_local_15) {
            _local_15.x = (this._activeRoomActiveCanvasMouseX - (imageResult.data.width / 2));
            _local_15.y = (this._activeRoomActiveCanvasMouseY - (imageResult.data.height / 2));
        }
    }
    getRoomObjectImage(roomId, objectId, category, direction, scale, listener, bgColor = 0) {
        if (!this._roomManager)
            return null;
        let id = -1;
        let type = null;
        let data = null;
        let color = '';
        let extras = null;
        const roomIdString = this.getRoomId(roomId);
        const roomInstance = this._roomManager.getRoomInstance(roomIdString);
        if (roomInstance) {
            const roomObject = roomInstance.getRoomObject(objectId, category);
            if (roomObject && roomObject.model) {
                id = roomObject.id;
                type = roomObject.type;
                switch (category) {
                    case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR:
                    case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL:
                        color = (roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_COLOR).toString());
                        extras = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_EXTRAS);
                        const dataFormat = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_DATA_FORMAT);
                        if (dataFormat !== _object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_55__["LegacyDataType"].FORMAT_KEY) {
                            data = _object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_54__["ObjectDataFactory"].getData(dataFormat);
                            data.initializeFromRoomObjectModel(roomObject.model);
                        }
                        break;
                    case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT:
                        color = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE);
                        break;
                }
            }
        }
        return this.getGenericRoomObjectImage(type, color, direction, scale, listener, bgColor, extras, data, -1, -1, null, id);
    }
    getFurnitureFloorIconUrl(typeId) {
        let type = null;
        let color = '';
        if (this._roomContentLoader) {
            type = this._roomContentLoader.getFurnitureFloorNameForTypeId(typeId);
            color = (this._roomContentLoader.getFurnitureFloorColorIndex(typeId).toString());
            return this._roomContentLoader.getAssetIconUrl(type, color);
        }
        return null;
    }
    getFurnitureFloorIcon(typeId, listener, extras = null, objectData = null) {
        return this.getFurnitureFloorImage(typeId, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](), 1, listener, 0, extras, -1, -1, objectData);
    }
    getFurnitureWallIconUrl(typeId, extra = null) {
        let type = null;
        let color = '';
        if (this._roomContentLoader) {
            type = this._roomContentLoader.getFurnitureWallNameForTypeId(typeId, extra);
            color = (this._roomContentLoader.getFurnitureWallColorIndex(typeId).toString());
            return this._roomContentLoader.getAssetIconUrl(type, color);
        }
        return null;
    }
    getFurnitureWallIcon(typeId, listener, extras = null) {
        return this.getFurnitureWallImage(typeId, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](), 1, listener, 0, extras);
    }
    getFurnitureFloorImage(typeId, direction, scale, listener, bgColor = 0, extras = null, state = -1, frameCount = -1, objectData = null) {
        let type = null;
        let color = '';
        if (this._roomContentLoader) {
            type = this._roomContentLoader.getFurnitureFloorNameForTypeId(typeId);
            color = (this._roomContentLoader.getFurnitureFloorColorIndex(typeId).toString());
        }
        if ((scale === 1) && listener) {
            return this.getGenericRoomObjectThumbnail(type, color, listener, extras, objectData);
        }
        return this.getGenericRoomObjectImage(type, color, direction, scale, listener, bgColor, extras, objectData, state, frameCount);
    }
    getFurnitureWallImage(typeId, direction, scale, listener, bgColor = 0, extras = null, state = -1, frameCount = -1) {
        let type = null;
        let color = '';
        if (this._roomContentLoader) {
            type = this._roomContentLoader.getFurnitureWallNameForTypeId(typeId);
            color = this._roomContentLoader.getFurnitureWallColorIndex(typeId).toString();
        }
        if ((scale === 1) && listener) {
            return this.getGenericRoomObjectThumbnail(type, color, listener, extras, null);
        }
        return this.getGenericRoomObjectImage(type, color, direction, scale, listener, bgColor, extras, null, state, frameCount);
    }
    getRoomObjectPetImage(typeId, paletteId, color, direction, scale, listener, _arg_7 = true, bgColor = 0, customParts = null, posture = null) {
        let type = null;
        let value = ((((typeId + " ") + paletteId) + " ") + color.toString(16));
        if (!_arg_7)
            value = (value + (" " + "head"));
        if (customParts) {
            value = (value + (" " + customParts.length));
            for (let _local_13 of customParts) {
                value = (value + (((((" " + _local_13.layerId) + " ") + _local_13.partId) + " ") + _local_13.paletteId));
            }
        }
        if (this._roomContentLoader)
            type = this._roomContentLoader.getPetNameForType(typeId);
        return this.getGenericRoomObjectImage(type, value, direction, scale, listener, bgColor, null, null, -1, -1, posture);
    }
    getGenericRoomObjectImage(type, value, direction, scale, listener, bgColor = 0, extras = null, objectData = null, state = -1, frameCount = -1, posture = null, originalId = -1) {
        if (!this._roomManager)
            return null;
        const imageResult = new _ImageResult__WEBPACK_IMPORTED_MODULE_22__["ImageResult"]();
        imageResult.id = -1;
        if (!this._ready || !type)
            return imageResult;
        let roomInstance = this._roomManager.getRoomInstance(RoomEngine.TEMPORARY_ROOM);
        if (!roomInstance) {
            roomInstance = this._roomManager.createRoomInstance(RoomEngine.TEMPORARY_ROOM);
            if (!roomInstance)
                return imageResult;
        }
        let objectId = this._imageObjectIdBank._Str_19709();
        let objectCategory = this.getRoomObjectCategoryForType(type);
        if (objectId < 0)
            return imageResult;
        objectId++;
        const roomObject = roomInstance.createRoomObjectAndInitalize(objectId, type, objectCategory);
        if (!roomObject || !roomObject.model || !roomObject.logic)
            return imageResult;
        const model = roomObject.model;
        switch (objectCategory) {
            case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR:
            case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].WALL:
                model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FURNITURE_COLOR, parseInt(value));
                break;
            case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].UNIT:
                if ((type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_57__["RoomObjectUserType"].USER) || (type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_57__["RoomObjectUserType"].BOT) || (type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_57__["RoomObjectUserType"].RENTABLE_BOT) || (type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_57__["RoomObjectUserType"].PET)) {
                    model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE, value);
                }
                else {
                    const figureData = new _avatar_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_11__["PetFigureData"](value);
                    model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].PET_PALETTE_INDEX, figureData.paletteId);
                    model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].PET_COLOR, figureData.color);
                    if (figureData.headOnly)
                        model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].PET_HEAD_ONLY, 1);
                    if (figureData.hasCustomParts) {
                        model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].PET_CUSTOM_LAYER_IDS, figureData.customLayerIds);
                        model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].PET_CUSTOM_PARTS_IDS, figureData.customPartIds);
                        model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].PET_CUSTOM_PALETTE_IDS, figureData.customPaletteIds);
                    }
                    if (posture)
                        model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].FIGURE_POSTURE, posture);
                }
                break;
            case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].ROOM:
                break;
        }
        roomObject.setDirection(direction);
        const visualization = roomObject.visualization;
        if (!visualization) {
            roomInstance.removeRoomObject(objectId, objectCategory);
            return imageResult;
        }
        if ((state > -1) || objectData) {
            if (objectData && (objectData.getLegacyString() !== '')) {
                roomObject.logic.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_44__["ObjectDataUpdateMessage"](parseInt(objectData.getLegacyString()), objectData));
            }
            else {
                roomObject.logic.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_44__["ObjectDataUpdateMessage"](state, objectData));
            }
        }
        let geometry = new _room_utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_8__["RoomGeometry"](scale, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](-135, 30, 0), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](11, 11, 5));
        visualization.update(geometry, 0, true, false);
        if (frameCount > 0) {
            let i = 0;
            while (i < frameCount) {
                visualization.update(geometry, 0, true, false);
                i++;
            }
        }
        const texture = visualization.getImage(bgColor, originalId);
        imageResult.data = texture;
        imageResult.id = objectId;
        if (!this.isRoomContentTypeLoaded(type) && listener) {
            let imageListeners = this._imageCallbacks.get(objectId.toString());
            if (!imageListeners) {
                imageListeners = [];
                this._imageCallbacks.set(objectId.toString(), imageListeners);
            }
            imageListeners.push(listener);
            model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].IMAGE_QUERY_SCALE, scale);
        }
        else {
            roomInstance.removeRoomObject(objectId, objectCategory);
            this._imageObjectIdBank._Str_15187((objectId - 1));
            imageResult.id = 0;
        }
        geometry.dispose();
        return imageResult;
    }
    getGenericRoomObjectThumbnail(type, param, listener, extraData = null, stuffData = null) {
        if (!this._roomManager)
            return null;
        const imageResult = new _ImageResult__WEBPACK_IMPORTED_MODULE_22__["ImageResult"]();
        imageResult.id = -1;
        if (!this._ready || !type)
            return imageResult;
        let roomInstance = this._roomManager.getRoomInstance(RoomEngine.TEMPORARY_ROOM);
        if (!roomInstance) {
            roomInstance = this._roomManager.createRoomInstance(RoomEngine.TEMPORARY_ROOM);
            if (!roomInstance)
                return imageResult;
        }
        let objectId = this._thumbnailObjectIdBank._Str_19709();
        let objectCategory = this.getRoomObjectCategoryForType(type);
        if (objectId < 0)
            return imageResult;
        objectId++;
        imageResult.id = objectId;
        imageResult.data = null;
        imageResult.image = null;
        const assetName = [type, param].join('_');
        const asset = this._roomContentLoader.getImage(assetName);
        if (!asset && listener) {
            let contentListeners = this._thumbnailCallbacks.get(assetName);
            if (!contentListeners) {
                contentListeners = [];
                this._thumbnailCallbacks.set(assetName, contentListeners);
                this._roomContentLoader.downloadImage(objectId, type, param, null);
            }
            contentListeners.push(listener);
        }
        else {
            if (asset) {
                imageResult.image = asset;
            }
            this._thumbnailObjectIdBank._Str_15187((objectId - 1));
            imageResult.id = 0;
        }
        return imageResult;
    }
    initalizeTemporaryObjectsByType(type, _arg_2) {
        const roomInstance = this._roomManager.getRoomInstance(RoomEngine.TEMPORARY_ROOM);
        if (!roomInstance || !this._roomContentLoader)
            return;
        const objectCategory = this._roomContentLoader.getCategoryForType(type);
        const objectManager = roomInstance.getManager(objectCategory);
        let geometry = null;
        let scale = 0;
        if (objectManager && objectManager.objects.length) {
            for (let roomObject of objectManager.objects.getValues()) {
                if (roomObject && roomObject.model && (roomObject.type === type)) {
                    const objectId = roomObject.id;
                    const visualization = roomObject.visualization;
                    let texture = null;
                    if (visualization) {
                        //@ts-ignore
                        const imageScale = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].IMAGE_QUERY_SCALE);
                        if (geometry && (scale !== imageScale)) {
                            geometry.dispose();
                            geometry = null;
                        }
                        if (!geometry) {
                            scale = imageScale;
                            geometry = new _room_utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_8__["RoomGeometry"](imageScale, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](-135, 30, 0), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_9__["Vector3D"](11, 11, 5));
                        }
                        visualization.update(geometry, 0, true, false);
                        texture = visualization.image;
                    }
                    roomInstance.removeRoomObject(objectId, objectCategory);
                    this._imageObjectIdBank._Str_15187((objectId - 1));
                    const imageListeners = this._imageCallbacks.get(objectId.toString());
                    if (imageListeners) {
                        this._imageCallbacks.delete(objectId.toString());
                        for (let imageListener of imageListeners) {
                            if (!imageListener)
                                continue;
                            if (texture)
                                imageListener.imageReady(objectId, texture);
                            else
                                imageListener.imageFailed(objectId);
                        }
                    }
                }
            }
        }
        if (geometry)
            geometry.dispose();
    }
    _Str_7972(k) {
        const canvas = this.getActiveRoomInstanceRenderingCanvas();
        if (!canvas)
            return;
        const overlay = this.getRenderingCanvasOverlay(canvas);
        const sprite = this._Str_16498(overlay, RoomEngine.OBJECT_ICON_SPRITE);
        if (sprite) {
            sprite.visible = k;
        }
    }
    _Str_17948() {
        const canvas = this.getActiveRoomInstanceRenderingCanvas();
        if (!canvas)
            return;
        const sprite = this.getRenderingCanvasOverlay(canvas);
        this._Str_21215(sprite, RoomEngine.OBJECT_ICON_SPRITE);
    }
    getRenderingCanvasOverlay(k) {
        if (!k)
            return null;
        const displayObject = k.displayObject;
        if (!displayObject)
            return null;
        const sprite = displayObject.getChildByName(RoomEngine.OVERLAY);
        if (!sprite)
            return null;
        return sprite;
    }
    _Str_21215(k, _arg_2) {
        if (!k)
            return false;
        let index = (k.children.length - 1);
        while (index >= 0) {
            const child = k.getChildAt(index);
            if (child) {
                if (child.name === _arg_2) {
                    k.removeChildAt(index);
                    if (child.children.length) {
                        const firstChild = child.getChildAt(0);
                        firstChild.parent.removeChild(firstChild);
                        firstChild.destroy();
                    }
                    return true;
                }
            }
            index--;
        }
        return false;
    }
    _Str_16498(k, _arg_2) {
        if (!k)
            return null;
        let index = (k.children.length - 1);
        while (index >= 0) {
            const child = k.getChildAt(index);
            if (child) {
                if (child.name === _arg_2)
                    return child;
            }
            index--;
        }
        return null;
    }
    _Str_21072(k, _arg_2) {
        if (this._ready) {
            const _local_3 = this.getRoomId(k);
            const _local_4 = this._roomManager.getRoomInstance(_local_3);
            if (_local_4)
                return _local_4.getRoomObjectsForCategory(_arg_2);
        }
        return [];
    }
    _Str_21543(k, _arg_2) {
        const tileObjectMap = this.getRoomInstanceData(k).tileObjectMap;
        if (tileObjectMap)
            tileObjectMap._Str_21192(_arg_2);
    }
    _Str_17722(k, _arg_2) {
        const tileObjectMap = this.getRoomInstanceData(k).tileObjectMap;
        if (tileObjectMap)
            tileObjectMap.populate(this._Str_21072(k, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_56__["RoomObjectCategory"].FLOOR));
    }
    _Str_9972(k, _arg_2, _arg_3 = false, _arg_4 = true, _arg_5 = false, canvasId = -1) {
        let canvas = null;
        if (canvasId > -1) {
            canvas = this.getRoomInstanceRenderingCanvas(this._activeRoomId, canvasId);
        }
        else {
            canvas = this.getActiveRoomInstanceRenderingCanvas();
        }
        if (!canvas)
            return null;
        if (_arg_5) {
            canvas._Str_20787();
        }
        let _local_8 = -1;
        if (((!(_arg_4)) && (!(this._roomSessionManager.getSession(this._activeRoomId) == null)))) {
            _local_8 = this._roomSessionManager.getSession(this._activeRoomId).ownRoomIndex;
        }
        var _local_9 = new _utils_SpriteDataCollector__WEBPACK_IMPORTED_MODULE_69__["SpriteDataCollector"]();
        var _local_10 = _local_9._Str_4536(k, canvas, this, _local_8);
        var _local_11 = _local_9._Str_24177(this);
        var _local_12 = _local_9._Str_22985(k, canvas, this, _arg_2);
        if (_arg_5)
            canvas._Str_22174();
        if (_arg_3) {
            //return new RenderRoomThumbnailMessageComposer(_local_12, _local_10, _local_11, this._activeRoomId, this._sessionDataManager._Str_8500);
        }
        console.log(_local_10, _local_11, _local_12);
        //return new RenderRoomMessageComposer(_local_12, _local_10, _local_11, this._activeRoomId, this._sessionDataManager._Str_8500);
        return null;
    }
    objectsInitialized(k) {
        const roomId = this.getRoomIdFromString(k);
        this.events.dispatchEvent(new _events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"](_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_18__["RoomEngineEvent"].OBJECTS_INITIALIZED, roomId));
    }
    getRoomId(id) {
        return (id.toString());
    }
    getRoomIdFromString(roomId) {
        if (!roomId)
            return -1;
        const split = roomId.split('_');
        if (split.length <= 0)
            return -1;
        return parseInt(split[0]);
    }
    getRoomObjectRoomId(object) {
        if (!object || !object.model)
            return null;
        return (object.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_58__["RoomObjectVariable"].OBJECT_ROOM_ID));
    }
    getPetTypeId(figure) {
        let type = -1;
        if (figure) {
            const parts = figure.split(' ');
            if (parts.length > 1)
                type = parseInt(parts[0]);
        }
        return type;
    }
    getPetType(type) {
        if (!type)
            return null;
        const parts = type.split(' ');
        if (parts.length > 1) {
            const typeId = parseInt(parts[0]);
            if (this._roomContentLoader)
                return this._roomContentLoader.getPetNameForType(typeId);
            return 'pet';
        }
        return null;
    }
    isRoomContentTypeLoaded(name) {
        if (!this._roomContentLoader)
            return false;
        return (this._roomContentLoader.getCollection(name) !== null);
    }
    get connection() {
        return this._communication.connection;
    }
    get sessionDataManager() {
        return this._sessionDataManager;
    }
    set sessionDataManager(manager) {
        this._sessionDataManager = manager;
    }
    get roomSessionManager() {
        return this._roomSessionManager;
    }
    set roomSessionManager(manager) {
        this._roomSessionManager = manager;
    }
    get roomManager() {
        return this._roomManager;
    }
    set roomManager(manager) {
        this._roomManager = manager;
    }
    get objectEventHandler() {
        return this._roomObjectEventHandler;
    }
    get roomRendererFactory() {
        return this._roomRendererFactory;
    }
    get visualizationFactory() {
        return this._visualizationFactory;
    }
    get logicFactory() {
        return this._logicFactory;
    }
    get activeRoomId() {
        return this._activeRoomId;
    }
    get ready() {
        return this._ready;
    }
    get roomContentLoader() {
        return this._roomContentLoader;
    }
    get isDecorating() {
        if (!this._roomSessionManager)
            return false;
        const session = this._roomSessionManager.getSession(this._activeRoomId);
        return (session && session.isDecorating) || false;
    }
    get _Str_11555() {
        return true;
    }
    get selectedAvatarId() {
        if (!this._roomObjectEventHandler)
            return -1;
        return this._roomObjectEventHandler.selectedAvatarId;
    }
}
RoomEngine.ROOM_OBJECT_ID = -1;
RoomEngine.ROOM_OBJECT_TYPE = 'room';
RoomEngine.CURSOR_OBJECT_ID = -2;
RoomEngine.CURSOR_OBJECT_TYPE = 'tile_cursor';
RoomEngine.ARROW_OBJECT_ID = -3;
RoomEngine.ARROW_OBJECT_TYPE = 'selection_arrow';
RoomEngine.OVERLAY = 'overlay';
RoomEngine.OBJECT_ICON_SPRITE = 'object_icon_sprite';
RoomEngine.DRAG_THRESHOLD = 15;
RoomEngine.TEMPORARY_ROOM = 'temporary_room';


/***/ }),

/***/ "3md2":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/user/data/UserFigureEvent.ts ***!
  \***************************************************************************************/
/*! exports provided: UserFigureEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserFigureEvent", function() { return UserFigureEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_user_data_UserFigureParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/user/data/UserFigureParser */ "UdsT");


class UserFigureEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_user_data_UserFigureParser__WEBPACK_IMPORTED_MODULE_1__["UserFigureParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "3r1x":
/*!**********************************************!*\
  !*** ./src/client/core/events/NitroEvent.ts ***!
  \**********************************************/
/*! exports provided: NitroEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroEvent", function() { return NitroEvent; });
class NitroEvent extends Event {
}
NitroEvent.COMPLETE = 'NITRO_COMPLETE';


/***/ }),

/***/ "3uk/":
/*!***********************************************************!*\
  !*** ./src/app/components/inventory/UnseenItemTracker.ts ***!
  \***********************************************************/
/*! exports provided: UnseenItemTracker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnseenItemTracker", function() { return UnseenItemTracker; });
/* harmony import */ var _client_nitro_communication_messages_incoming_notifications_UnseenItemsEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/notifications/UnseenItemsEvent */ "pRZV");

class UnseenItemTracker {
    constructor(k, events, inventory) {
        this._communication = k;
        this._events = events;
        this._inventory = inventory;
        this._unseenItems = [];
        this._communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_notifications_UnseenItemsEvent__WEBPACK_IMPORTED_MODULE_0__["UnseenItemsEvent"](this.onUnseenItemsEvent.bind(this)));
    }
    dispose() {
        this._communication = null;
        this._unseenItems = null;
    }
    _Str_8813(k) {
        if (!this._Str_5621(k))
            return false;
        delete this._unseenItems[k];
        this._Str_20981(k);
        return true;
    }
    _Str_18075(category, itemIds) {
        if (!this._Str_5621(category))
            return false;
        const existing = this._unseenItems[category];
        for (let itemId of itemIds) {
            existing.splice(existing.indexOf(itemId), 1);
        }
        this._Str_23994(category, itemIds);
        return true;
    }
    _Str_17159(k) {
        if (this._Str_5621(k))
            return false;
        delete this._unseenItems[k];
        this._Str_20981(k);
        return true;
    }
    _Str_3613(category, itemId) {
        if (!this._unseenItems[category])
            return false;
        const items = this._unseenItems[category];
        return (items.indexOf(itemId) >= 0);
    }
    _Str_16745(category, itemId) {
        if (!this._unseenItems[category])
            return false;
        const items = this._unseenItems[category];
        const index = items.indexOf(itemId);
        if (index === -1)
            return false;
        items.splice(index, 1);
        return true;
    }
    _Str_11239(category) {
        if (!this._unseenItems)
            return [];
        return this._unseenItems[category];
    }
    _Str_5621(category) {
        if (!this._unseenItems[category])
            return 0;
        return this._unseenItems[category].length;
    }
    onUnseenItemsEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        for (let category of parser.categories) {
            const itemIds = parser.getItemsByCategory(category);
            this._Str_18112(category, itemIds);
        }
        //if(this._inventory) this._inventory.refreshUnseen();
    }
    _Str_18112(category, itemIds) {
        if (!itemIds)
            return;
        let unseenItems = this._unseenItems[category];
        if (!unseenItems) {
            unseenItems = [];
            this._unseenItems[category] = unseenItems;
        }
        for (let itemId of itemIds) {
            if (unseenItems.indexOf(itemId) === -1)
                unseenItems.push(itemId);
        }
    }
    _Str_20981(k) {
        //this._communication.connection.send(new _Str_10536(k));
    }
    _Str_23994(k, _arg_2) {
        //this._communication.connection.send(new _Str_11812(k, _arg_2));
    }
}


/***/ }),

/***/ "3xex":
/*!*********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/availability/AvailabilityStatusMessageEvent.ts ***!
  \*********************************************************************************************************/
/*! exports provided: AvailabilityStatusMessageEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvailabilityStatusMessageEvent", function() { return AvailabilityStatusMessageEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_availability_AvailabilityStatusMessageParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/availability/AvailabilityStatusMessageParser */ "BYlm");


class AvailabilityStatusMessageEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_availability_AvailabilityStatusMessageParser__WEBPACK_IMPORTED_MODULE_1__["AvailabilityStatusMessageParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "48UQ":
/*!*****************************************************!*\
  !*** ./src/client/room/events/RoomToObjectEvent.ts ***!
  \*****************************************************/
/*! exports provided: RoomToObjectEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomToObjectEvent", function() { return RoomToObjectEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/events/NitroEvent */ "3r1x");

class RoomToObjectEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type) {
        super(type);
    }
}


/***/ }),

/***/ "4I9D":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/DirectionalOffsetData.ts ***!
  \**********************************************************************************/
/*! exports provided: DirectionalOffsetData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionalOffsetData", function() { return DirectionalOffsetData; });
class DirectionalOffsetData {
    constructor() {
        this._offsetX = new Map();
        this._offsetY = new Map();
    }
    getXOffset(direction, defaultX) {
        const existing = this._offsetX.get(direction);
        if (existing === undefined || existing === null)
            return defaultX;
        return existing;
    }
    getYOffset(direction, defaultY) {
        const existing = this._offsetY.get(direction);
        if (existing === undefined || existing === null)
            return defaultY;
        return existing;
    }
    setDirection(direction, offsetX, offsetY) {
        this._offsetX.set(direction, offsetX);
        this._offsetY.set(direction, offsetY);
    }
}


/***/ }),

/***/ "4Jrj":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureVoteCounterVisualization.ts ***!
  \***************************************************************************************************/
/*! exports provided: FurnitureVoteCounterVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureVoteCounterVisualization", function() { return FurnitureVoteCounterVisualization; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");


class FurnitureVoteCounterVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureAnimatedVisualization"] {
    getFrameNumber(scale, layerId) {
        const result = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_VOTE_COUNTER_COUNT);
        const tag = this.getLayerTag(scale, this.direction, layerId);
        switch (tag) {
            case FurnitureVoteCounterVisualization.ONES_SPRITE: return (result % 10);
            case FurnitureVoteCounterVisualization.TENS_SPRITE: return ((result / 10) % 10);
            case FurnitureVoteCounterVisualization.HUNDREDS_SPRITE: return ((result / 100) % 10);
            default: return super.getFrameNumber(scale, layerId);
        }
    }
    getLayerAlpha(scale, direction, layerId) {
        const result = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_VOTE_COUNTER_COUNT);
        if (result === FurnitureVoteCounterVisualization._Str_17839) {
            const tag = this.getLayerTag(scale, direction, layerId);
            switch (tag) {
                case FurnitureVoteCounterVisualization.ONES_SPRITE:
                case FurnitureVoteCounterVisualization.TENS_SPRITE:
                case FurnitureVoteCounterVisualization.HUNDREDS_SPRITE:
                    return 0;
            }
        }
        return super.getLayerAlpha(scale, direction, layerId);
    }
}
FurnitureVoteCounterVisualization.ONES_SPRITE = 'ones_sprite';
FurnitureVoteCounterVisualization.TENS_SPRITE = 'tens_sprite';
FurnitureVoteCounterVisualization.HUNDREDS_SPRITE = 'hundreds_sprite';
FurnitureVoteCounterVisualization._Str_17839 = -1;


/***/ }),

/***/ "4MdB":
/*!***********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureVoteCounterLogic.ts ***!
  \***********************************************************************************/
/*! exports provided: FurnitureVoteCounterLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureVoteCounterLogic", function() { return FurnitureVoteCounterLogic; });
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");

class FurnitureVoteCounterLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureMultiStateLogic"] {
}


/***/ }),

/***/ "4Yln":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/FurnitureAliasesComposer.ts ***!
  \*****************************************************************************************************/
/*! exports provided: FurnitureAliasesComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureAliasesComposer", function() { return FurnitureAliasesComposer; });
class FurnitureAliasesComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "4gvq":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/trading/TradingCompletedEvent.ts ***!
  \*****************************************************************************************************/
/*! exports provided: TradingCompletedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingCompletedEvent", function() { return TradingCompletedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_trading_TradingCompletedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/trading/TradingCompletedParser */ "F6Vg");


class TradingCompletedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_trading_TradingCompletedParser__WEBPACK_IMPORTED_MODULE_1__["TradingCompletedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "4hT9":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/trading/TradingCloseEvent.ts ***!
  \*************************************************************************************************/
/*! exports provided: TradingCloseEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingCloseEvent", function() { return TradingCloseEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_trading_TradingCloseParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/trading/TradingCloseParser */ "QQU2");


class TradingCloseEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_trading_TradingCloseParser__WEBPACK_IMPORTED_MODULE_1__["TradingCloseParser"]);
    }
    get _Str_4963() {
        return this.getParser()._Str_4963;
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "4hkc":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogClubParser.ts ***!
  \*************************************************************************************/
/*! exports provided: CatalogClubParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogClubParser", function() { return CatalogClubParser; });
/* harmony import */ var _utils_CatalogClubOfferData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/CatalogClubOfferData */ "Z+Lj");

class CatalogClubParser {
    flush() {
        this._offers = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalOffers = wrapper.readInt();
        while (totalOffers > 0) {
            this._offers.push(new _utils_CatalogClubOfferData__WEBPACK_IMPORTED_MODULE_0__["CatalogClubOfferData"](wrapper));
            totalOffers--;
        }
        return true;
    }
    get offers() {
        return this._offers;
    }
}


/***/ }),

/***/ "4q7D":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureBottleVisualization.ts ***!
  \**********************************************************************************************/
/*! exports provided: FurnitureBottleVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureBottleVisualization", function() { return FurnitureBottleVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureBottleVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._stateQueue = [];
        this._running = false;
    }
    setAnimation(animationId) {
        if (animationId === -1) {
            if (!this._running) {
                this._running = true;
                this._stateQueue = [];
                this._stateQueue.push(FurnitureBottleVisualization._Str_4186);
                return;
            }
        }
        if ((animationId >= 0) && (animationId <= 7)) {
            if (this._running) {
                this._running = false;
                this._stateQueue = [];
                this._stateQueue.push(FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW1);
                this._stateQueue.push(FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW2 + animationId);
                this._stateQueue.push(animationId);
                return;
            }
            super.setAnimation(animationId);
        }
    }
    updateAnimation(scale) {
        if (this.getLastFramePlayed(0)) {
            if (this._stateQueue.length)
                super.setAnimation(this._stateQueue.shift());
        }
        return super.updateAnimation(scale);
    }
}
FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW1 = 20;
FurnitureBottleVisualization.ANIMATION_ID_OFFSET_SLOW2 = 9;
FurnitureBottleVisualization._Str_4186 = -1;


/***/ }),

/***/ "4qyV":
/*!********************************************************************!*\
  !*** ./src/client/nitro/session/handler/RoomPermissionsHandler.ts ***!
  \********************************************************************/
/*! exports provided: RoomPermissionsHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPermissionsHandler", function() { return RoomPermissionsHandler; });
/* harmony import */ var _communication_messages_incoming_room_access_rights_RoomRightsClearEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../communication/messages/incoming/room/access/rights/RoomRightsClearEvent */ "HkHk");
/* harmony import */ var _communication_messages_incoming_room_access_rights_RoomRightsEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../communication/messages/incoming/room/access/rights/RoomRightsEvent */ "Cyol");
/* harmony import */ var _communication_messages_incoming_room_access_rights_RoomRightsOwnerEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../communication/messages/incoming/room/access/rights/RoomRightsOwnerEvent */ "EAxq");
/* harmony import */ var _enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../enum/RoomControllerLevel */ "9vQN");
/* harmony import */ var _BaseHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BaseHandler */ "8mH1");





class RoomPermissionsHandler extends _BaseHandler__WEBPACK_IMPORTED_MODULE_4__["BaseHandler"] {
    constructor(connection, listener) {
        super(connection, listener);
        connection.addMessageEvent(new _communication_messages_incoming_room_access_rights_RoomRightsEvent__WEBPACK_IMPORTED_MODULE_1__["RoomRightsEvent"](this.onRoomRightsEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_access_rights_RoomRightsClearEvent__WEBPACK_IMPORTED_MODULE_0__["RoomRightsClearEvent"](this.onRoomRightsClearEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_access_rights_RoomRightsOwnerEvent__WEBPACK_IMPORTED_MODULE_2__["RoomRightsOwnerEvent"](this.onRoomRightsOwnerEvent.bind(this)));
    }
    onRoomRightsEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_access_rights_RoomRightsEvent__WEBPACK_IMPORTED_MODULE_1__["RoomRightsEvent"]))
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        session.setControllerLevel(event.getParser().controllerLevel);
    }
    onRoomRightsClearEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_access_rights_RoomRightsClearEvent__WEBPACK_IMPORTED_MODULE_0__["RoomRightsClearEvent"]))
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        session.setControllerLevel(_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_3__["RoomControllerLevel"].NONE);
    }
    onRoomRightsOwnerEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_access_rights_RoomRightsOwnerEvent__WEBPACK_IMPORTED_MODULE_2__["RoomRightsOwnerEvent"]))
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        session.setRoomOwner();
    }
}


/***/ }),

/***/ "5+UO":
/*!****************************************************************!*\
  !*** ./src/client/core/communication/messages/MessageEvent.ts ***!
  \****************************************************************/
/*! exports provided: MessageEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageEvent", function() { return MessageEvent; });
class MessageEvent {
    constructor(callBack, parser) {
        this._callBack = callBack;
        this._parserClass = parser;
        this._parser = null;
        this._connection = null;
    }
    dispose() {
        this._callBack = null;
        this._parserClass = null;
        this._parser = null;
        this._connection = null;
    }
    get callBack() {
        return this._callBack;
    }
    get parserClass() {
        return this._parserClass;
    }
    get parser() {
        return this._parser;
    }
    set parser(parser) {
        this._parser = parser;
    }
    get connection() {
        return this._connection;
    }
    set connection(connection) {
        this._connection = connection;
    }
}


/***/ }),

/***/ "50sT":
/*!******************************************************************!*\
  !*** ./src/client/nitro/avatar/animation/AvatarDataContainer.ts ***!
  \******************************************************************/
/*! exports provided: AvatarDataContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarDataContainer", function() { return AvatarDataContainer; });
class AvatarDataContainer {
    constructor(k) {
        this._ink = parseInt(k.ink);
        let foreground = k.foreground;
        let background = k.background;
        foreground = foreground.replace('#', '');
        background = background.replace('#', '');
        this._foreGround = parseInt(foreground, 16);
        this._backGround = parseInt(background, 16);
        this._rgb = parseInt(foreground, 16);
        this._r = ((this._rgb >> 16) & 0xFF);
        this._g = ((this._rgb >> 8) & 0xFF);
        this._b = ((this._rgb >> 0) & 0xFF);
        this._redMultiplier = ((this._r / 0xFF) * 1);
        this._greenMultiplier = ((this._g / 0xFF) * 1);
        this._blueMultiplier = ((this._b / 0xFF) * 1);
        if (this._ink == 37) {
            this._alphaMultiplier = 0.5;
            this._paletteIsGrayscale = false;
        }
        else {
            this._paletteIsGrayscale = true;
        }
        //this._colorTransform = new ColorTransform(this._redMultiplier, this._greenMultiplier, this._blueMultiplier, this._alphaMultiplier);
        this._colorMap = this._Str_1181(this._backGround, this._foreGround);
    }
    get ink() {
        return this._ink;
    }
    get colorTransform() {
        return this._colorTransform;
    }
    get reds() {
        return this._colorMap.get('reds');
    }
    get greens() {
        return this._colorMap.get('greens');
    }
    get blues() {
        return this._colorMap.get('blues');
    }
    get alphas() {
        return this._colorMap.get('alphas');
    }
    get _Str_832() {
        return this._paletteIsGrayscale;
    }
    _Str_1181(k, _arg_2) {
        var _local_3 = ((k >> 24) & 0xFF);
        var _local_4 = ((k >> 16) & 0xFF);
        var _local_5 = ((k >> 8) & 0xFF);
        var _local_6 = ((k >> 0) & 0xFF);
        var _local_7 = ((_arg_2 >> 24) & 0xFF);
        var _local_8 = ((_arg_2 >> 16) & 0xFF);
        var _local_9 = ((_arg_2 >> 8) & 0xFF);
        var _local_10 = ((_arg_2 >> 0) & 0xFF);
        var _local_11 = ((_local_7 - _local_3) / 0xFF);
        var _local_12 = ((_local_8 - _local_4) / 0xFF);
        var _local_13 = ((_local_9 - _local_5) / 0xFF);
        var _local_14 = ((_local_10 - _local_6) / 0xFF);
        var _local_15 = new Map();
        var _local_16 = [];
        var _local_17 = [];
        var _local_18 = [];
        var _local_19 = [];
        var _local_20 = _local_3;
        var _local_21 = _local_4;
        var _local_22 = _local_5;
        var _local_23 = _local_6;
        var _local_24 = 0;
        while (_local_24 < 0x0100) {
            if ((((_local_21 == _local_4) && (_local_22 == _local_5)) && (_local_23 == _local_6))) {
                _local_20 = 0;
            }
            _local_20 = (_local_20 + _local_11);
            _local_21 = (_local_21 + _local_12);
            _local_22 = (_local_22 + _local_13);
            _local_23 = (_local_23 + _local_14);
            _local_19.push((_local_20 << 24));
            _local_16.push(((((_local_20 << 24) | (_local_21 << 16)) | (_local_22 << 8)) | _local_23));
            _local_17.push(((((_local_20 << 24) | (_local_21 << 16)) | (_local_22 << 8)) | _local_23));
            _local_18.push(((((_local_20 << 24) | (_local_21 << 16)) | (_local_22 << 8)) | _local_23));
            _local_24++;
        }
        _local_15.set('alphas', _local_16);
        _local_15.set('reds', _local_16);
        _local_15.set('greens', _local_17);
        _local_15.set('blues', _local_18);
        return _local_15;
    }
}


/***/ }),

/***/ "5BHI":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/navigator/NavigatorEventCategoriesEvent.ts ***!
  \*****************************************************************************************************/
/*! exports provided: NavigatorEventCategoriesEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorEventCategoriesEvent", function() { return NavigatorEventCategoriesEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_navigator_NavigatorEventCategoriesParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/navigator/NavigatorEventCategoriesParser */ "Kv7i");


class NavigatorEventCategoriesEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_navigator_NavigatorEventCategoriesParser__WEBPACK_IMPORTED_MODULE_1__["NavigatorEventCategoriesParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "5Cat":
/*!*******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/furni/FurnitureListRemovedEvent.ts ***!
  \*******************************************************************************************************/
/*! exports provided: FurnitureListRemovedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListRemovedEvent", function() { return FurnitureListRemovedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_furniture_FurnitureListRemovedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/furniture/FurnitureListRemovedParser */ "tYBt");


class FurnitureListRemovedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_furniture_FurnitureListRemovedParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureListRemovedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "5Cr6":
/*!**********************************************!*\
  !*** ./src/app/components/room/component.ts ***!
  \**********************************************/
/*! exports provided: RoomComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomComponent", function() { return RoomComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi.js */ "IqKQ");
/* harmony import */ var _client_core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../client/core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _client_core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../client/core/events/NitroEvent */ "3r1x");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../client/nitro/room/events/RoomEngineObjectEvent */ "Hs+C");
/* harmony import */ var _client_nitro_room_events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../client/nitro/room/events/RoomEngineTriggerWidgetEvent */ "5r5K");
/* harmony import */ var _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../client/nitro/room/object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _client_nitro_room_object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../client/nitro/room/object/RoomObjectOperationType */ "UTUL");
/* harmony import */ var _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../client/nitro/room/object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _client_nitro_room_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../client/nitro/room/RoomVariableEnum */ "BrMT");
/* harmony import */ var _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../client/nitro/session/enum/RoomControllerLevel */ "9vQN");
/* harmony import */ var _client_nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../client/nitro/ui/MouseEventType */ "ySDW");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../client/nitro/ui/widget/enums/RoomWidgetEnum */ "f6o4");
/* harmony import */ var _client_room_utils_ColorConverter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../client/room/utils/ColorConverter */ "z3Rz");
/* harmony import */ var _client_room_utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../client/room/utils/RoomGeometry */ "DACI");
/* harmony import */ var _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../client/room/utils/Vector3D */ "LGmI");
/* harmony import */ var _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./widgets/events/RoomWidgetRoomObjectUpdateEvent */ "K0gz");
/* harmony import */ var _widgets_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./widgets/events/RoomWidgetRoomViewUpdateEvent */ "wwod");
/* harmony import */ var _widgets_handlers_AvatarInfoWidgetHandler__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./widgets/handlers/AvatarInfoWidgetHandler */ "0PdH");
/* harmony import */ var _widgets_handlers_ChatInputWidgetHandler__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./widgets/handlers/ChatInputWidgetHandler */ "upTT");
/* harmony import */ var _widgets_handlers_ChatWidgetHandler__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./widgets/handlers/ChatWidgetHandler */ "QFDc");
/* harmony import */ var _widgets_handlers_InfoStandWidgetHandler__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./widgets/handlers/InfoStandWidgetHandler */ "GK65");
/* harmony import */ var _widgets_handlers_ObjectLocationRequestHandler__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./widgets/handlers/ObjectLocationRequestHandler */ "mkC7");

























const _c0 = ["widgetContainer"];
const _c1 = ["roomCanvas"];
const _c2 = ["roomView"];
function RoomComponent_ng_template_4_Template(rf, ctx) { }
class RoomComponent {
    constructor(ngZone, componentFactoryResolver) {
        this.ngZone = ngZone;
        this.componentFactoryResolver = componentFactoryResolver;
        this.events = new _client_core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_2__["EventDispatcher"]();
        this.roomCanvasWrapper = null;
        this.canvasIds = [];
        this.didViewInit = false;
        this.widgets = new Map();
        this.widgetHandlerMessageMap = new Map();
        this.widgetHandlerEventMap = new Map();
        this.resizeTimer = null;
        this.didMouseMove = false;
        this.lastClick = 0;
        this.clickCount = 0;
        this.roomBackground = null;
        this.roomBackgroundColor = 0;
    }
    ngOnInit() {
        if (this.roomSession)
            this.roomSessionManager.startSession(this.roomSession);
    }
    ngAfterViewInit() {
        this.didViewInit = true;
        this.insertRoomView();
    }
    ngOnDestroy() {
        if (this.resizeTimer) {
            clearTimeout(this.resizeTimer);
            this.resizeTimer = null;
        }
        if (this.widgets) {
            for (let widget of this.widgets.values()) {
                if (!widget)
                    continue;
                widget.instance && widget.instance.dispose();
            }
            this.widgets = null;
        }
    }
    update() {
        for (let widget of this.widgets.values())
            widget.instance.widgetHandler && widget.instance.widgetHandler.update();
    }
    prepareCanvas(canvasId) {
        if (!this.roomSession || (this.canvasIds.indexOf(canvasId) >= 0))
            return;
        const width = window.innerWidth;
        const height = window.innerHeight;
        const scale = _client_room_utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_15__["RoomGeometry"].SCALE_ZOOMED_IN;
        const displayObject = this.roomEngine.getRoomInstanceDisplay(this.roomSession.roomId, canvasId, width, height, scale);
        if (!displayObject)
            return;
        const geometry = this.roomEngine.getRoomInstanceGeometry(this.roomSession.roomId, canvasId);
        if (geometry) {
            let minX = (this.roomEngine.getRoomInstanceVariable(this.roomSession.roomId, _client_nitro_room_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_10__["RoomVariableEnum"].ROOM_MIN_X) || 0);
            let maxX = (this.roomEngine.getRoomInstanceVariable(this.roomSession.roomId, _client_nitro_room_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_10__["RoomVariableEnum"].ROOM_MAX_X) || 0);
            let minY = (this.roomEngine.getRoomInstanceVariable(this.roomSession.roomId, _client_nitro_room_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_10__["RoomVariableEnum"].ROOM_MIN_Y) || 0);
            let maxY = (this.roomEngine.getRoomInstanceVariable(this.roomSession.roomId, _client_nitro_room_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_10__["RoomVariableEnum"].ROOM_MAX_Y) || 0);
            let x = ((minX + maxX) / 2);
            let y = ((minY + maxY) / 2);
            let offset = 20;
            x = (x + (offset - 1));
            y = (y + (offset - 1));
            let z = (Math.sqrt(((offset * offset) + (offset * offset))) * Math.tan(((30 / 180) * Math.PI)));
            geometry.location = new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_16__["Vector3D"](x, y, z);
        }
        const stage = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.stage;
        if (!stage)
            return;
        stage.addChild(displayObject);
        if (!this.roomCanvasWrapper) {
            this.roomCanvasWrapper = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.renderer.view;
            this.roomCanvasWrapper.onclick = this.onMouseEvent.bind(this);
            this.roomCanvasWrapper.onmousemove = this.onMouseEvent.bind(this);
            this.roomCanvasWrapper.onmousedown = this.onMouseEvent.bind(this);
            this.roomCanvasWrapper.onmouseup = this.onMouseEvent.bind(this);
            window.onresize = this.onWindowResizeEvent.bind(this);
            this.insertRoomView();
        }
        this.canvasIds.push(canvasId);
    }
    insertRoomView() {
        if (!this.didViewInit)
            return;
        if (this.roomCanvasReference && this.roomCanvasReference.nativeElement) {
            this.roomCanvasReference.nativeElement.innerHTML = '';
            if (this.roomCanvasWrapper)
                this.roomCanvasReference.nativeElement.appendChild(this.roomCanvasWrapper);
        }
        this.events.dispatchEvent(new _client_core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_3__["NitroEvent"](RoomComponent.ROOM_VIEW_READY));
    }
    onWindowResizeEvent(event) {
        if (!event || !this.roomSession)
            return;
        if (this.resizeTimer)
            clearTimeout(this.resizeTimer);
        this.resizeTimer = setTimeout(() => {
            this.roomEngine.initializeRoomInstanceRenderingCanvas(this.roomSession.roomId, this.canvasIds[0], _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.renderer.view.width, _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.renderer.view.height);
            this.events.dispatchEvent(new _widgets_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_18__["RoomWidgetRoomViewUpdateEvent"](_widgets_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_18__["RoomWidgetRoomViewUpdateEvent"].SIZE_CHANGED, this.getRoomViewRect()));
            this.setBackground(this.getRoomBackground());
        }, 1);
    }
    onMouseEvent(event) {
        if (!event || !this.roomSession)
            return;
        const x = event.clientX;
        const y = event.clientY;
        let eventType = event.type;
        if (eventType === _client_nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_12__["MouseEventType"].MOUSE_CLICK) {
            if (this.lastClick) {
                this.clickCount = 1;
                if (this.lastClick >= Date.now() - 300)
                    this.clickCount++;
            }
            this.lastClick = Date.now();
            if (this.clickCount === 2) {
                if (!this.didMouseMove)
                    eventType = _client_nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_12__["MouseEventType"].DOUBLE_CLICK;
                this.clickCount = 0;
                this.lastClick = null;
            }
        }
        switch (eventType) {
            case _client_nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_12__["MouseEventType"].MOUSE_CLICK:
                break;
            case _client_nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_12__["MouseEventType"].DOUBLE_CLICK:
                break;
            case _client_nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_12__["MouseEventType"].MOUSE_MOVE:
                this.didMouseMove = true;
                break;
            case _client_nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_12__["MouseEventType"].MOUSE_DOWN:
                this.didMouseMove = false;
                break;
            case _client_nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_12__["MouseEventType"].MOUSE_UP:
                break;
            default: return;
        }
        let ctrlKey = (event.ctrlKey || event.metaKey);
        this.roomEngine.setActiveRoomId(this.roomSession.roomId);
        this.roomEngine.dispatchMouseEvent(this.canvasIds[0], x, y, eventType, event.altKey, ctrlKey, event.shiftKey, false);
    }
    createWidget(type, component) {
        const existing = this.widgets.get(type);
        if (existing)
            return;
        let widgetHandler = null;
        let sendSizeUpdate = false;
        switch (type) {
            case _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetEnum"].CHAT_WIDGET:
                sendSizeUpdate = true;
                const handler = new _widgets_handlers_ChatWidgetHandler__WEBPACK_IMPORTED_MODULE_21__["ChatWidgetHandler"]();
                handler.connection = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.communication.connection;
                widgetHandler = handler;
                break;
            case _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetEnum"].CHAT_INPUT_WIDGET:
                sendSizeUpdate = true;
                widgetHandler = new _widgets_handlers_ChatInputWidgetHandler__WEBPACK_IMPORTED_MODULE_20__["ChatInputWidgetHandler"]();
                break;
            case _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetEnum"].AVATAR_INFO:
                widgetHandler = new _widgets_handlers_AvatarInfoWidgetHandler__WEBPACK_IMPORTED_MODULE_19__["AvatarInfoWidgetHandler"]();
                break;
            case _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetEnum"].INFOSTAND:
                widgetHandler = new _widgets_handlers_InfoStandWidgetHandler__WEBPACK_IMPORTED_MODULE_22__["InfoStandWidgetHandler"]();
                break;
            case _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetEnum"].LOCATION_WIDGET:
                widgetHandler = new _widgets_handlers_ObjectLocationRequestHandler__WEBPACK_IMPORTED_MODULE_23__["ObjectLocationRequestHandler"]();
                break;
            // case RoomWidgetEnum.FURNI_TROPHY_WIDGET:
            //     widgetHandler = new FurnitureTrophyWidgetHandler();
            //     break;
        }
        if (widgetHandler) {
            widgetHandler.container = this;
            const messageTypes = widgetHandler.messageTypes;
            if (messageTypes && messageTypes.length) {
                for (let name of messageTypes) {
                    if (!name)
                        continue;
                    let messages = this.widgetHandlerMessageMap.get(name);
                    if (!messages) {
                        messages = [];
                        this.widgetHandlerMessageMap.set(name, messages);
                    }
                    messages.push(widgetHandler);
                }
            }
            const eventTypes = widgetHandler.eventTypes;
            eventTypes.push(_client_nitro_room_events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_6__["RoomEngineTriggerWidgetEvent"].OPEN_WIDGET, _client_nitro_room_events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_6__["RoomEngineTriggerWidgetEvent"].CLOSE_WIDGET);
            if (eventTypes && eventTypes.length) {
                for (let name of eventTypes) {
                    if (!name)
                        continue;
                    let events = this.widgetHandlerEventMap.get(name);
                    if (!events) {
                        events = [];
                        this.widgetHandlerEventMap.set(name, events);
                    }
                    events.push(widgetHandler);
                }
            }
        }
        if (!component)
            return;
        let widgetRef = null;
        let widget = null;
        this.ngZone.run(() => {
            const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);
            widgetRef = this.widgetContainer.createComponent(componentFactory);
            widget = widgetRef.instance;
        });
        if (!widget)
            return;
        widget.widgetHandler = widgetHandler;
        widget.messageListener = this;
        widget.registerUpdateEvents(this.events);
        this.widgets.set(type, widgetRef);
        if (sendSizeUpdate)
            this.events.dispatchEvent(new _widgets_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_18__["RoomWidgetRoomViewUpdateEvent"](_widgets_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_18__["RoomWidgetRoomViewUpdateEvent"].SIZE_CHANGED, this.getRoomViewRect()));
    }
    processEvent(event) {
        if (!event || !this.widgetHandlerEventMap)
            return;
        const events = this.widgetHandlerEventMap.get(event.type);
        if (!events)
            return;
        let dispatchEvent = false;
        for (let existing of events) {
            if (!existing)
                continue;
            dispatchEvent = true;
            if ((event.type === _client_nitro_room_events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_6__["RoomEngineTriggerWidgetEvent"].OPEN_WIDGET) || (event.type === _client_nitro_room_events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_6__["RoomEngineTriggerWidgetEvent"].CLOSE_WIDGET)) {
                if (event instanceof _client_nitro_room_events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_6__["RoomEngineTriggerWidgetEvent"]) {
                    dispatchEvent = (existing.type === event.widget);
                }
            }
            if (dispatchEvent)
                existing.processEvent(event);
        }
    }
    processWidgetMessage(message) {
        if (!message || !message.type)
            return null;
        const handlers = this.widgetHandlerMessageMap.get(message.type);
        if (!handlers || !handlers.length)
            return null;
        for (let handler of handlers) {
            if (!handler)
                continue;
            const update = handler.processWidgetMessage(message);
            if (!update)
                continue;
            return update;
        }
        return null;
    }
    onRoomEngineObjectEvent(event) {
        if (!event)
            return;
        const objectId = event.objectId;
        const category = event.category;
        let updateEvent = null;
        switch (event.type) {
            case _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineObjectEvent"].SELECTED:
                if (!this.isFurnitureSelectionDisabled(event))
                    updateEvent = new _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"](_widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_SELECTED, objectId, category, event.roomId);
                break;
            case _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineObjectEvent"].DESELECTED:
                updateEvent = new _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"](_widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_DESELECTED, objectId, category, event.roomId);
                break;
            case _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineObjectEvent"].ADDED:
                let addedEventType = null;
                switch (category) {
                    case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_7__["RoomObjectCategory"].FLOOR:
                    case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_7__["RoomObjectCategory"].WALL:
                        addedEventType = _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"].FURNI_ADDED;
                        break;
                    case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_7__["RoomObjectCategory"].UNIT:
                        addedEventType = _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"].USER_ADDED;
                        break;
                }
                if (addedEventType)
                    updateEvent = new _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"](addedEventType, objectId, category, event.roomId);
                break;
            case _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineObjectEvent"].REMOVED:
                let removedEventType = null;
                switch (category) {
                    case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_7__["RoomObjectCategory"].FLOOR:
                    case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_7__["RoomObjectCategory"].WALL:
                        removedEventType = _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"].FURNI_REMOVED;
                        break;
                    case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_7__["RoomObjectCategory"].UNIT:
                        removedEventType = _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"].USER_REMOVED;
                        break;
                }
                if (removedEventType)
                    updateEvent = new _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"](removedEventType, objectId, category, event.roomId);
                break;
            case _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineObjectEvent"].MOUSE_ENTER:
                updateEvent = new _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"](_widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_ROLL_OVER, objectId, category, event.roomId);
                break;
            case _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineObjectEvent"].MOUSE_LEAVE:
                updateEvent = new _widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"](_widgets_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_ROLL_OUT, objectId, category, event.roomId);
                break;
            case _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineObjectEvent"].REQUEST_MOVE:
                if (this.checkFurniManipulationRights(event.roomId, objectId, category)) {
                    this.roomEngine.processRoomObjectOperation(objectId, category, _client_nitro_room_object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_8__["RoomObjectOperationType"].OBJECT_MOVE);
                }
                break;
            case _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineObjectEvent"].REQUEST_ROTATE:
                if (this.checkFurniManipulationRights(event.roomId, objectId, category)) {
                    this.roomEngine.processRoomObjectOperation(objectId, category, _client_nitro_room_object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_8__["RoomObjectOperationType"].OBJECT_ROTATE_POSITIVE);
                }
                break;
        }
        if (updateEvent)
            this.events.dispatchEvent(updateEvent);
    }
    isFurnitureSelectionDisabled(k) {
        let result = false;
        const roomObject = this.roomEngine.getRoomObject(k.roomId, k.objectId, k.category);
        if (roomObject) {
            //@ts-ignore
            const selectionDisabled = (roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_SELECTION_DISABLED) === 1);
            if (selectionDisabled) {
                result = true;
                if (this.sessionDataManager.isModerator)
                    result = false;
            }
        }
        return result;
    }
    checkFurniManipulationRights(roomId, objectId, category) {
        return ((this.roomSession.controllerLevel >= _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_11__["RoomControllerLevel"].GUEST) || (this.sessionDataManager.isModerator)) || (this.isOwnerOfFurniture(this.roomEngine.getRoomObject(roomId, objectId, category)));
    }
    isOwnerOfFurniture(roomObject) {
        if (!roomObject || !roomObject.model)
            return false;
        const userId = this.sessionDataManager.userId;
        const objectOwnerId = roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_OWNER_ID);
        return (userId === objectOwnerId);
    }
    getRoomBackground() {
        if (this.roomBackground)
            return this.roomBackground;
        const canvas = this.roomEngine.getRoomInstanceRenderingCanvas(this.roomSession.roomId, this.canvasIds[0]);
        if (!canvas)
            return null;
        const displayObject = canvas.displayObject;
        const background = new PIXI.Sprite(pixi_js__WEBPACK_IMPORTED_MODULE_1__["Texture"].WHITE);
        displayObject.addChildAt(background, 0);
        this.roomBackground = background;
        return this.roomBackground;
    }
    setBackgroundColor(hue, saturation, lightness) {
        this.roomBackgroundColor = _client_room_utils_ColorConverter__WEBPACK_IMPORTED_MODULE_14__["ColorConverter"]._Str_13949(((((hue & 0xFF) << 16) + ((saturation & 0xFF) << 8)) + (lightness & 0xFF)));
        const background = this.getRoomBackground();
        if (!background)
            return;
        if (!hue || !saturation || !lightness) {
            background.visible = false;
        }
        else {
            background.visible = true;
            this.setBackground(background);
        }
    }
    setBackground(sprite) {
        if (!sprite)
            return;
        sprite.tint = this.roomBackgroundColor;
        sprite.width = window.innerWidth;
        sprite.height = window.innerHeight;
    }
    getFirstCanvasId() {
        if (this.canvasIds && (this.canvasIds.length > 0))
            return this.canvasIds[0];
        return 0;
    }
    getRoomViewRect() {
        const bounds = ((this.roomViewReference && this.roomViewReference.nativeElement && this.roomViewReference.nativeElement.getBoundingClientRect()) || null);
        return new PIXI.Rectangle((Math.round(bounds.x) || 0), (Math.round(bounds.y) || 0), (Math.round(bounds.width) || 0), (Math.round(bounds.height) || 0));
    }
}
RoomComponent.ROOM_VIEW_READY = 'RC_ROOM_VIEW_READY';
RoomComponent.ɵfac = function RoomComponent_Factory(t) { return new (t || RoomComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"])); };
RoomComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomComponent, selectors: [["nitro-room-component"]], viewQuery: function RoomComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c2, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.widgetContainer = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.roomCanvasReference = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.roomViewReference = _t.first);
    } }, inputs: { roomSession: "roomSession", connection: "connection", roomEngine: "roomEngine", avatarRenderManager: "avatarRenderManager", sessionDataManager: "sessionDataManager", roomSessionManager: "roomSessionManager" }, decls: 6, vars: 0, consts: [[1, "nitro-room-component"], ["roomView", ""], [1, "room-view"], ["roomCanvas", ""], ["widgetContainer", ""]], template: function RoomComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "div", 2, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, RoomComponent_ng_template_4_Template, 0, 0, "ng-template", null, 4, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-component',
                template: `
    <div #roomView class="nitro-room-component">
        <div #roomCanvas class="room-view"></div>
        <ng-template #widgetContainer></ng-template>
    </div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }]; }, { roomSession: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], connection: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], roomEngine: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], avatarRenderManager: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], sessionDataManager: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], roomSessionManager: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], widgetContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['widgetContainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]
        }], roomCanvasReference: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['roomCanvas']
        }], roomViewReference: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['roomView']
        }] }); })();


/***/ }),

/***/ "5F4d":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/utils/NavigatorSavedSearch.ts ***!
  \************************************************************************************************/
/*! exports provided: NavigatorSavedSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSavedSearch", function() { return NavigatorSavedSearch; });
class NavigatorSavedSearch {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._id = -1;
        this._code = null;
        this._filter = null;
        this._localization = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._id = wrapper.readInt();
        this._code = wrapper.readString();
        this._filter = wrapper.readString();
        this._localization = wrapper.readString();
        return true;
    }
    get id() {
        return this._id;
    }
    get code() {
        return this._code;
    }
    get filter() {
        return this._filter;
    }
    get localization() {
        return this._localization;
    }
}


/***/ }),

/***/ "5K1g":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/FurnitureItemDataParser.ts ***!
  \**************************************************************************************************/
/*! exports provided: FurnitureItemDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureItemDataParser", function() { return FurnitureItemDataParser; });
class FurnitureItemDataParser {
    flush() {
        this._itemId = 0;
        this._data = '';
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = parseInt(wrapper.readString());
        this._data = wrapper.readString();
        return true;
    }
    get furnitureId() {
        return this._itemId;
    }
    get data() {
        return this._data;
    }
}


/***/ }),

/***/ "5O5G":
/*!*********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureFloorHoleLogic.ts ***!
  \*********************************************************************************/
/*! exports provided: FurnitureFloorHoleLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorHoleLogic", function() { return FurnitureFloorHoleLogic; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events/RoomObjectFloorHoleEvent */ "wtfC");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");





class FurnitureFloorHoleLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_4__["FurnitureMultiStateLogic"] {
    constructor() {
        super();
        this._currentState = -1;
        this._currentLocation = null;
    }
    getEventTypes() {
        const types = [_events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"].ADD_HOLE, _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"].REMOVE_HOLE];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    dispose() {
        if (this._currentState === FurnitureFloorHoleLogic._Str_9306) {
            this.eventDispatcher.dispatchEvent(new _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"](_events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"].REMOVE_HOLE, this.object));
        }
        super.dispose();
    }
    update(time) {
        super.update(time);
        this._Str_25016();
    }
    processUpdateMessage(message) {
        super.processUpdateMessage(message);
        if (!this.object)
            return;
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectDataUpdateMessage"]) {
            this._Str_21445(this.object.getState(0));
        }
        const location = this.object.getLocation();
        if (!this._currentLocation) {
            this._currentLocation = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        }
        else {
            if ((location.x !== this._currentLocation.x) || (location.y !== this._currentLocation.y)) {
                if (this._currentState === FurnitureFloorHoleLogic._Str_9306) {
                    if (this.eventDispatcher)
                        this.eventDispatcher.dispatchEvent(new _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"](_events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"].ADD_HOLE, this.object));
                }
            }
        }
        this._currentLocation.assign(location);
    }
    _Str_21445(state) {
        if (state === this._currentState)
            return;
        if (this.eventDispatcher) {
            if (state === FurnitureFloorHoleLogic._Str_9306) {
                this.eventDispatcher.dispatchEvent(new _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"](_events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"].ADD_HOLE, this.object));
            }
            else if (this._currentState === FurnitureFloorHoleLogic._Str_9306) {
                this.eventDispatcher.dispatchEvent(new _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"](_events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFloorHoleEvent"].REMOVE_HOLE, this.object));
            }
        }
        this._currentState = state;
    }
    _Str_25016() {
        if (!this.object)
            return;
        const model = this.object.model;
        if (!model)
            return;
        const stateIndex = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVariable"].FURNITURE_AUTOMATIC_STATE_INDEX);
        if (!isNaN(stateIndex))
            this._Str_21445((stateIndex % 2));
    }
}
FurnitureFloorHoleLogic._Str_9306 = 0;


/***/ }),

/***/ "5RE+":
/*!***********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/furni/FurnitureListAddOrUpdateEvent.ts ***!
  \***********************************************************************************************************/
/*! exports provided: FurnitureListAddOrUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListAddOrUpdateEvent", function() { return FurnitureListAddOrUpdateEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_furniture_FurnitureListAddOrUpdateParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/furniture/FurnitureListAddOrUpdateParser */ "bmKR");


class FurnitureListAddOrUpdateEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_furniture_FurnitureListAddOrUpdateParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureListAddOrUpdateParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "5TOT":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/access/RoomEnterComposer.ts ***!
  \*******************************************************************************************/
/*! exports provided: RoomEnterComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEnterComposer", function() { return RoomEnterComposer; });
class RoomEnterComposer {
    constructor(roomId, password = null) {
        this._data = [roomId, password];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "5UDg":
/*!********************************************************!*\
  !*** ./src/client/nitro/session/HabboClubLevelEnum.ts ***!
  \********************************************************/
/*! exports provided: HabboClubLevelEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HabboClubLevelEnum", function() { return HabboClubLevelEnum; });
class HabboClubLevelEnum {
}
HabboClubLevelEnum._Str_3159 = 0;
HabboClubLevelEnum._Str_2964 = 1;
HabboClubLevelEnum._Str_2575 = 2;


/***/ }),

/***/ "5eC1":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/access/UserPerksParser.ts ***!
  \***************************************************************************************/
/*! exports provided: UserPerksParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPerksParser", function() { return UserPerksParser; });
class UserPerksParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "5edz":
/*!************************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetChangePostureMessage.ts ***!
  \************************************************************************************/
/*! exports provided: RoomWidgetChangePostureMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetChangePostureMessage", function() { return RoomWidgetChangePostureMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetChangePostureMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(k) {
        super(RoomWidgetChangePostureMessage.RWCPM_MESSAGE_CHANGE_POSTURE);
        this._posture = k;
    }
    get posture() {
        return this._posture;
    }
}
RoomWidgetChangePostureMessage.RWCPM_MESSAGE_CHANGE_POSTURE = 'RWCPM_MESSAGE_CHANGE_POSTURE';
RoomWidgetChangePostureMessage._Str_1553 = 0;
RoomWidgetChangePostureMessage._Str_2016 = 1;


/***/ }),

/***/ "5kkf":
/*!********************************************!*\
  !*** ./src/client/room/utils/PointMath.ts ***!
  \********************************************/
/*! exports provided: PointMath */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PointMath", function() { return PointMath; });
class PointMath {
    static sum(k, _arg_2) {
        return new PIXI.Point((k.x + _arg_2.x), (k.y + _arg_2.y));
    }
    static _Str_15193(k, _arg_2) {
        return new PIXI.Point((k.x - _arg_2.x), (k.y - _arg_2.y));
    }
    static _Str_6038(k, _arg_2) {
        return new PIXI.Point((k.x * _arg_2), (k.y * _arg_2));
    }
}


/***/ }),

/***/ "5r5K":
/*!**********************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomEngineTriggerWidgetEvent.ts ***!
  \**********************************************************************/
/*! exports provided: RoomEngineTriggerWidgetEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEngineTriggerWidgetEvent", function() { return RoomEngineTriggerWidgetEvent; });
/* harmony import */ var _RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomEngineObjectEvent */ "Hs+C");

class RoomEngineTriggerWidgetEvent extends _RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomEngineObjectEvent"] {
    constructor(type, roomId, objectId, category, widget = null) {
        super(type, roomId, objectId, category);
        this._widget = widget;
    }
    get widget() {
        return this._widget;
    }
}
RoomEngineTriggerWidgetEvent.OPEN_WIDGET = 'RETWE_OPEN_WIDGET';
RoomEngineTriggerWidgetEvent.CLOSE_WIDGET = 'RETWE_CLOSE_WIDGET';
RoomEngineTriggerWidgetEvent.OPEN_FURNI_CONTEXT_MENU = 'RETWE_OPEN_FURNI_CONTEXT_MENU';
RoomEngineTriggerWidgetEvent.CLOSE_FURNI_CONTEXT_MENU = 'RETWE_CLOSE_FURNI_CONTEXT_MENU';
RoomEngineTriggerWidgetEvent.REQUEST_PLACEHOLDER = 'RETWE_REQUEST_PLACEHOLDER';
RoomEngineTriggerWidgetEvent.REQUEST_CREDITFURNI = 'RETWE_REQUEST_CREDITFURNI';
RoomEngineTriggerWidgetEvent.REQUEST_STICKIE = 'RETWE_REQUEST_STICKIE';
RoomEngineTriggerWidgetEvent.REQUEST_PRESENT = 'RETWE_REQUEST_PRESENT';
RoomEngineTriggerWidgetEvent.REQUEST_TROPHY = 'RETWE_REQUEST_TROPHY';
RoomEngineTriggerWidgetEvent.REQUEST_TEASER = 'RETWE_REQUEST_TEASER';
RoomEngineTriggerWidgetEvent.REQUEST_ECOTRONBOX = 'RETWE_REQUEST_ECOTRONBOX';
RoomEngineTriggerWidgetEvent.REQUEST_DIMMER = 'RETWE_REQUEST_DIMMER';
RoomEngineTriggerWidgetEvent.REMOVE_DIMMER = 'RETWE_REMOVE_DIMMER';
RoomEngineTriggerWidgetEvent.REQUEST_CLOTHING_CHANGE = 'RETWE_REQUEST_CLOTHING_CHANGE';
RoomEngineTriggerWidgetEvent.REQUEST_PLAYLIST_EDITOR = 'RETWE_REQUEST_PLAYLIST_EDITOR';
RoomEngineTriggerWidgetEvent.REQUEST_MANNEQUIN = 'RETWE_REQUEST_MANNEQUIN';
RoomEngineTriggerWidgetEvent.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG = 'ROWRE_REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG';
RoomEngineTriggerWidgetEvent.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG = 'ROWRE_REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG';
RoomEngineTriggerWidgetEvent.REQUEST_BACKGROUND_COLOR = 'RETWE_REQUEST_BACKGROUND_COLOR';
RoomEngineTriggerWidgetEvent.REQUEST_MYSTERYBOX_OPEN_DIALOG = 'RETWE_REQUEST_MYSTERYBOX_OPEN_DIALOG';
RoomEngineTriggerWidgetEvent.REQUEST_EFFECTBOX_OPEN_DIALOG = 'RETWE_REQUEST_EFFECTBOX_OPEN_DIALOG';
RoomEngineTriggerWidgetEvent.REQUEST_MYSTERYTROPHY_OPEN_DIALOG = 'RETWE_REQUEST_MYSTERYTROPHY_OPEN_DIALOG';
RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING = 'RETWE_REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING';
RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED = 'RETWE_REQUEST_ACHIEVEMENT_RESOLUTION_FAILED';
RoomEngineTriggerWidgetEvent.REQUEST_FRIEND_FURNITURE_CONFIRM = 'RETWE_REQUEST_FRIEND_FURNITURE_CONFIRM';
RoomEngineTriggerWidgetEvent.REQUEST_FRIEND_FURNITURE_ENGRAVING = 'RETWE_REQUEST_FRIEND_FURNITURE_ENGRAVING';
RoomEngineTriggerWidgetEvent.REQUEST_BADGE_DISPLAY_ENGRAVING = 'RETWE_REQUEST_BADGE_DISPLAY_ENGRAVING';
RoomEngineTriggerWidgetEvent.REQUEST_HIGH_SCORE_DISPLAY = 'RETWE_REQUEST_HIGH_SCORE_DISPLAY';
RoomEngineTriggerWidgetEvent.REQUEST_HIDE_HIGH_SCORE_DISPLAY = 'RETWE_REQUEST_HIDE_HIGH_SCORE_DISPLAY';
RoomEngineTriggerWidgetEvent.REQUEST_INTERNAL_LINK = 'RETWE_REQUEST_INTERNAL_LINK';
RoomEngineTriggerWidgetEvent.REQUEST_ROOM_LINK = 'RETWE_REQUEST_ROOM_LINK';


/***/ }),

/***/ "5rrG":
/*!*********************************************!*\
  !*** ./src/app/components/toolbar/index.ts ***!
  \*********************************************/
/*! exports provided: ToolbarModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolbarModule", function() { return ToolbarModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "M0ag");
/* harmony import */ var _cameracontrols_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cameracontrols/component */ "cvrJ");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component */ "Sfdk");





class ToolbarModule {
}
ToolbarModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ToolbarModule });
ToolbarModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ToolbarModule_Factory(t) { return new (t || ToolbarModule)(); }, providers: [], imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ToolbarModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_3__["ToolbarComponent"],
        _cameracontrols_component__WEBPACK_IMPORTED_MODULE_2__["CameraControlsComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]], exports: [_component__WEBPACK_IMPORTED_MODULE_3__["ToolbarComponent"],
        _cameracontrols_component__WEBPACK_IMPORTED_MODULE_2__["CameraControlsComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ToolbarModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
                ],
                exports: [
                    _component__WEBPACK_IMPORTED_MODULE_3__["ToolbarComponent"],
                    _cameracontrols_component__WEBPACK_IMPORTED_MODULE_2__["CameraControlsComponent"]
                ],
                providers: [],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_3__["ToolbarComponent"],
                    _cameracontrols_component__WEBPACK_IMPORTED_MODULE_2__["CameraControlsComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "5sbG":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureMultiStateLogic.ts ***!
  \**********************************************************************************/
/*! exports provided: FurnitureMultiStateLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureMultiStateLogic", function() { return FurnitureMultiStateLogic; });
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events/RoomObjectFurnitureActionEvent */ "UOsA");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");



class FurnitureMultiStateLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureLogic"] {
    getEventTypes() {
        const types = [_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].MOUSE_BUTTON, _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].MOUSE_ARROW];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].ROLL_OVER:
                this.eventDispatcher && this.eventDispatcher.dispatchEvent(new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].MOUSE_BUTTON, this.object));
                break;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].ROLL_OUT:
                this.eventDispatcher && this.eventDispatcher.dispatchEvent(new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].MOUSE_ARROW, this.object));
                break;
        }
        super.mouseEvent(event, geometry);
    }
}


/***/ }),

/***/ "6A5d":
/*!***************************************************!*\
  !*** ./src/app/components/navigator/component.ts ***!
  \***************************************************/
/*! exports provided: NavigatorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorComponent", function() { return NavigatorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_communication_messages_incoming_navigator_NavigatorCategoriesEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/navigator/NavigatorCategoriesEvent */ "oHxB");
/* harmony import */ var _client_nitro_communication_messages_incoming_navigator_NavigatorCollapsedEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/navigator/NavigatorCollapsedEvent */ "JDjE");
/* harmony import */ var _client_nitro_communication_messages_incoming_navigator_NavigatorEventCategoriesEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/navigator/NavigatorEventCategoriesEvent */ "5BHI");
/* harmony import */ var _client_nitro_communication_messages_incoming_navigator_NavigatorLiftedEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/navigator/NavigatorLiftedEvent */ "JCII");
/* harmony import */ var _client_nitro_communication_messages_incoming_navigator_NavigatorMetadataEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/navigator/NavigatorMetadataEvent */ "vx5b");
/* harmony import */ var _client_nitro_communication_messages_incoming_navigator_NavigatorSearchesEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/navigator/NavigatorSearchesEvent */ "xycO");
/* harmony import */ var _client_nitro_communication_messages_incoming_navigator_NavigatorSearchEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/navigator/NavigatorSearchEvent */ "c7QS");
/* harmony import */ var _client_nitro_communication_messages_incoming_navigator_NavigatorSettingsEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/navigator/NavigatorSettingsEvent */ "V1nr");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../client/nitro/session/events/RoomSessionEvent */ "Ns5P");
/* harmony import */ var _core_settings_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/settings/service */ "WnqX");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../shared/directives/draggable/directive */ "yd8t");















const _c0 = function (a0) { return { "btn-active": a0 }; };
function NavigatorComponent_ng_container_0_ng_container_10_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NavigatorComponent_ng_container_0_ng_container_10_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const context_r2 = ctx.$implicit; const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r3.setCurrentContext(context_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const context_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, ctx_r1.currentContext === context_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](context_r2.code);
} }
function NavigatorComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Navigator");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NavigatorComponent_ng_container_0_Template_div_click_6_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.hide(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, NavigatorComponent_ng_container_0_ng_container_10_Template, 3, 4, "ng-container", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.topLevelContexts);
} }
class NavigatorComponent {
    constructor(settingsService, ngZone) {
        this.settingsService = settingsService;
        this.ngZone = ngZone;
        this.topLevelContexts = [];
        this.currentContext = null;
        this.isLoaded = false;
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_10__["RoomSessionEvent"].CREATED, this.onRoomSessionEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_navigator_NavigatorCategoriesEvent__WEBPACK_IMPORTED_MODULE_1__["NavigatorCategoriesEvent"](this.onNavigatorCategoriesEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_navigator_NavigatorCollapsedEvent__WEBPACK_IMPORTED_MODULE_2__["NavigatorCollapsedEvent"](this.onNavigatorCollapsedEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_navigator_NavigatorEventCategoriesEvent__WEBPACK_IMPORTED_MODULE_3__["NavigatorEventCategoriesEvent"](this.onNavigatorEventCategoriesEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_navigator_NavigatorLiftedEvent__WEBPACK_IMPORTED_MODULE_4__["NavigatorLiftedEvent"](this.onNavigatorLiftedEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_navigator_NavigatorMetadataEvent__WEBPACK_IMPORTED_MODULE_5__["NavigatorMetadataEvent"](this.onNavigatorMetadataEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_navigator_NavigatorSearchesEvent__WEBPACK_IMPORTED_MODULE_6__["NavigatorSearchesEvent"](this.onNavigatorSearchesEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_navigator_NavigatorSearchEvent__WEBPACK_IMPORTED_MODULE_7__["NavigatorSearchEvent"](this.onNavigatorSearchEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_navigator_NavigatorSettingsEvent__WEBPACK_IMPORTED_MODULE_8__["NavigatorSettingsEvent"](this.onNavigatorSettingsEvent.bind(this)));
            //Nitro.instance.communication.connection.send(new NavigatorInitComposer());
        });
    }
    ngOnDestroy() {
        this.ngZone.runOutsideAngular(() => {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_9__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_10__["RoomSessionEvent"].CREATED, this.onRoomSessionEvent.bind(this));
        });
    }
    onRoomSessionEvent(event) {
        if (!event)
            return;
        switch (event.type) {
            case _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_10__["RoomSessionEvent"].CREATED:
                this.ngZone.run(() => this.hide());
                return;
        }
    }
    onNavigatorCategoriesEvent(event) {
        console.log(event);
    }
    onNavigatorCollapsedEvent(event) {
        console.log(event);
    }
    onNavigatorEventCategoriesEvent(event) {
        console.log(event);
    }
    onNavigatorLiftedEvent(event) {
        console.log(event);
    }
    onNavigatorMetadataEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this.ngZone.run(() => {
            this.topLevelContexts = parser.topLevelContexts;
            this.isLoaded = true;
            if (this.topLevelContexts.length > 0)
                this.setCurrentContext(this.topLevelContexts[0]);
        });
    }
    onNavigatorSearchesEvent(event) {
        console.log(event);
    }
    onNavigatorSearchEvent(event) {
        console.log(event);
    }
    onNavigatorSettingsEvent(event) {
        console.log(event);
    }
    setCurrentContext(context) {
        if (!context || (this.currentContext === context))
            return;
        this.currentContext = context;
    }
    hide() {
        this.settingsService.hideNavigator();
    }
    get visible() {
        return this.settingsService.navigatorVisible;
    }
}
NavigatorComponent.ɵfac = function NavigatorComponent_Factory(t) { return new (t || NavigatorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_settings_service__WEBPACK_IMPORTED_MODULE_11__["SettingsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
NavigatorComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: NavigatorComponent, selectors: [["nitro-navigator-component"]], decls: 1, vars: 1, consts: [[4, "ngIf"], ["dragHandle", ".card-header", 1, "nitro-navigator-component", 3, "draggable"], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "card-body"], [1, "row"], [4, "ngFor", "ngForOf"], ["type", "button", 1, "btn", "btn-primary", 3, "ngClass", "click"]], template: function NavigatorComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, NavigatorComponent_ng_container_0_Template, 11, 1, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.visible);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_12__["NgIf"], _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_13__["DraggableDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgClass"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NavigatorComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-navigator-component',
                template: `
    <ng-container *ngIf="visible">
        <div [draggable] dragHandle=".card-header" class="nitro-navigator-component">
            <div class="card">
                <div class="card-header">
                    <div class="header-title">Navigator</div>
                    <div class="header-close" (click)="hide()"><i class="fas fa-times"></i></div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <ng-container *ngFor="let context of topLevelContexts">
                            <button type="button" class="btn btn-primary" [ngClass]="{ 'btn-active': (currentContext === context) }" (click)="setCurrentContext(context)">{{ context.code }}</button>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
    </ng-container>`
            }]
    }], function () { return [{ type: _core_settings_service__WEBPACK_IMPORTED_MODULE_11__["SettingsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, null); })();


/***/ }),

/***/ "6Ad+":
/*!*******************************************************!*\
  !*** ./src/client/nitro/room/events/RoomZoomEvent.ts ***!
  \*******************************************************/
/*! exports provided: RoomZoomEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomZoomEvent", function() { return RoomZoomEvent; });
/* harmony import */ var _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomEngineEvent */ "G0tw");

class RoomZoomEvent extends _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__["RoomEngineEvent"] {
    constructor(roomId, level) {
        super(RoomZoomEvent.ROOM_ZOOM, roomId);
        this._level = level;
    }
    get level() {
        return this._level;
    }
}
RoomZoomEvent.ROOM_ZOOM = 'REE_ROOM_ZOOM';


/***/ }),

/***/ "6RUH":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/desktop/DesktopViewComposer.ts ***!
  \*****************************************************************************************/
/*! exports provided: DesktopViewComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DesktopViewComposer", function() { return DesktopViewComposer; });
class DesktopViewComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "6Sys":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomScoreParser.ts ***!
  \*************************************************************************************/
/*! exports provided: RoomScoreParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomScoreParser", function() { return RoomScoreParser; });
class RoomScoreParser {
    flush() {
        this._totalLikes = 0;
        this._canLike = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._totalLikes = wrapper.readInt();
        this._canLike = wrapper.readBoolean();
        return true;
    }
    get totalLikes() {
        return this._totalLikes;
    }
    get canLike() {
        return this._canLike;
    }
}


/***/ }),

/***/ "6Y6K":
/*!*****************************************************************!*\
  !*** ./src/app/components/catalog/confirmpurchase/component.ts ***!
  \*****************************************************************/
/*! exports provided: ConfirmPurchaseToastComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmPurchaseToastComponent", function() { return ConfirmPurchaseToastComponent; });
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/animations */ "R0Ic");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var ng_animate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng-animate */ "5Rqa");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-toastr */ "5eHb");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../client/nitro/room/events/RoomEngineAnimateIconEvent */ "IhK7");
/* harmony import */ var _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../client/room/utils/Vector3D */ "LGmI");
/* harmony import */ var _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/directives/draggable/directive */ "yd8t");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "ofXK");











const _c0 = ["productImage"];
const _c1 = ["nitro-toast-confirm-purchase-component", ""];
function ConfirmPurchaseToastComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "div", 18);
} }
function ConfirmPurchaseToastComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("X ", ctx_r2.quantity, "");
} }
function ConfirmPurchaseToastComponent_div_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "i", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r3.costCredits, "");
} }
function ConfirmPurchaseToastComponent_div_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMapInterpolate1"]("icon icon-currency-", ctx_r4.pointsType, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r4.costPoints, "");
} }
function ConfirmPurchaseToastComponent_button_21_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ConfirmPurchaseToastComponent_button_21_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r6.remove(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Cancel");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
class ConfirmPurchaseToastComponent extends ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["Toast"] {
    constructor(toastrService, toastPackage, ngZone) {
        super(toastrService, toastPackage, ngZone);
        this.toastrService = toastrService;
        this.toastPackage = toastPackage;
        this.ngZone = ngZone;
        this.roomPreviewer = null;
        this.offer = null;
        this.costCredits = 0;
        this.costPoints = 0;
        this.pointsType = -1;
        this.quantity = 1;
        this.isLoading = false;
    }
    ngAfterViewInit() {
        this.refresh();
    }
    refresh() {
        this.refreshImage();
    }
    refreshImage() {
        this.ngZone.runOutsideAngular(() => {
            if (!this.roomPreviewer)
                return;
            const element = this.productImageElement;
            if (!element)
                return;
            const image = this.roomPreviewer.getRoomObjectImage(new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_6__["Vector3D"](180), 64, null);
            if (image && image.data) {
                const base64 = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.renderer.extract.base64(image.data);
                if (base64) {
                    element.src = base64;
                }
            }
        });
    }
    confirm() {
        this.toastPackage.triggerAction('CONFIRM');
    }
    completePurchase() {
        this.ngZone.runOutsideAngular(() => {
            const element = this.productImageElement.cloneNode();
            element.className = 'toolbar-icon-animation';
            element.style.visibility = 'hidden';
            this.productImageElement.parentElement.appendChild(element);
            const bounds = element.getBoundingClientRect();
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.roomEngine.events.dispatchEvent(new _client_nitro_room_events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineAnimateIconEvent"](this.roomPreviewer.roomId, 'inventory', element, bounds.x, bounds.y));
        });
    }
    get productImageElement() {
        return ((this.productImage && this.productImage.nativeElement) || null);
    }
}
ConfirmPurchaseToastComponent.ɵfac = function ConfirmPurchaseToastComponent_Factory(t) { return new (t || ConfirmPurchaseToastComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastPackage"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"])); };
ConfirmPurchaseToastComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: ConfirmPurchaseToastComponent, selectors: [["", "nitro-toast-confirm-purchase-component", ""]], viewQuery: function ConfirmPurchaseToastComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.productImage = _t.first);
    } }, inputs: { roomPreviewer: "roomPreviewer", offer: "offer", costCredits: "costCredits", costPoints: "costPoints", pointsType: "pointsType", quantity: "quantity" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]], attrs: _c1, decls: 22, vars: 10, consts: [["dragHandle", ".card-header", 1, "card", "nitro-alert", "nitro-toast-confirm-purchase-component", 3, "draggable"], ["class", "loading-overlay", 4, "ngIf"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "d-flex", "card-body"], [1, "d-flex", "justify-content-center", "align-items-center", "product-preview"], [3, "src"], ["productImage", ""], [1, "d-flex", "flex-grow-1", "flex-column", "justify-content-center"], [1, "offer-name"], ["class", "offer-quantity", 4, "ngIf"], ["class", "badge badge-secondary", 4, "ngIf"], [1, "card-footer"], [1, "button-container", "btn-group"], ["type", "button", 1, "btn", "btn-primary", 3, "click"], ["type", "button", "class", "btn btn-primary", 3, "click", 4, "ngIf"], [1, "loading-overlay"], [1, "offer-quantity"], [1, "badge", "badge-secondary"], [1, "icon", "icon-currency--1"]], template: function ConfirmPurchaseToastComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ConfirmPurchaseToastComponent_div_1_Template, 1, 0, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ConfirmPurchaseToastComponent_Template_div_click_5_listener() { return ctx.remove(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](6, "i", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](9, "img", 8, 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](14, ConfirmPurchaseToastComponent_div_14_Template, 2, 1, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](15, ConfirmPurchaseToastComponent_div_15_Template, 3, 1, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](16, ConfirmPurchaseToastComponent_div_16_Template, 3, 4, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](17, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "button", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ConfirmPurchaseToastComponent_Template_button_click_19_listener() { return ctx.confirm(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](20, "Confirm");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](21, ConfirmPurchaseToastComponent_button_21_Template, 2, 0, "button", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", ctx.state.value === "inactive" ? "none" : "");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("@animation", ctx.animation);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.isLoading);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.offer.localizationId);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.quantity);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.costCredits);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.costPoints);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.options.closeButton);
    } }, directives: [_shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_7__["DraggableDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"]], encapsulation: 2, data: { animation: [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('animation', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["bounceIn"], {
                    params: { timing: 0.5, delay: 0 }
                }))
            ])
        ] } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ConfirmPurchaseToastComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: '[nitro-toast-confirm-purchase-component]',
                templateUrl: './component.html',
                animations: [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('animation', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["bounceIn"], {
                            params: { timing: 0.5, delay: 0 }
                        }))
                    ])
                ]
            }]
    }], function () { return [{ type: ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"] }, { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastPackage"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"] }]; }, { productImage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['productImage']
        }], roomPreviewer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], offer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], costCredits: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], costPoints: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], pointsType: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], quantity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }] }); })();


/***/ }),

/***/ "6YpD":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomSettingsUpdatedParser.ts ***!
  \***********************************************************************************************/
/*! exports provided: RoomSettingsUpdatedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSettingsUpdatedParser", function() { return RoomSettingsUpdatedParser; });
class RoomSettingsUpdatedParser {
    flush() {
        this._roomId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomId = wrapper.readInt();
        return true;
    }
    get roomId() {
        return this._roomId;
    }
}


/***/ }),

/***/ "6eiS":
/*!*******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/trading/TradingConfirmationParser.ts ***!
  \*******************************************************************************************************/
/*! exports provided: TradingConfirmationParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingConfirmationParser", function() { return TradingConfirmationParser; });
class TradingConfirmationParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "6j78":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/ui/widget/enums/RoomWidgetEnumItemExtradataParameter.ts ***!
  \**********************************************************************************/
/*! exports provided: RoomWidgetEnumItemExtradataParameter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetEnumItemExtradataParameter", function() { return RoomWidgetEnumItemExtradataParameter; });
class RoomWidgetEnumItemExtradataParameter {
}
RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM = "RWEIEP_INFOSTAND_EXTRA_PARAM";
RoomWidgetEnumItemExtradataParameter.JUKEBOX = "RWEIEP_JUKEBOX";
RoomWidgetEnumItemExtradataParameter.USABLE_PRODUCT = "RWEIEP_USABLE_PRODUCT";
RoomWidgetEnumItemExtradataParameter.SONGDISK = "RWEIEP_SONGDISK";
RoomWidgetEnumItemExtradataParameter.CRACKABLE_FURNI = "RWEIEP_CRACKABLE_FURNI";
RoomWidgetEnumItemExtradataParameter.BRANDING_OPTIONS = "RWEIEP_BRANDING_OPTIONS";
RoomWidgetEnumItemExtradataParameter.USABLE = "RWEIEP_USABLE";


/***/ }),

/***/ "6qh2":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureRoomBrandingLogic.ts ***!
  \************************************************************************************/
/*! exports provided: FurnitureRoomBrandingLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureRoomBrandingLogic", function() { return FurnitureRoomBrandingLogic; });
/* harmony import */ var _core_asset_AssetManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/asset/AssetManager */ "kiYJ");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../Nitro */ "P7Cj");
/* harmony import */ var _messages_ObjectAdUpdateMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../messages/ObjectAdUpdateMessage */ "TLc4");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _data_type_MapDataType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../data/type/MapDataType */ "tWLA");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");







class FurnitureRoomBrandingLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_6__["FurnitureLogic"] {
    processUpdateMessage(message) {
        super.processUpdateMessage(message);
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_3__["ObjectDataUpdateMessage"])
            this.processAdDataUpdateMessage(message);
        if (message instanceof _messages_ObjectAdUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectAdUpdateMessage"])
            this.processAdUpdate(message);
    }
    processAdDataUpdateMessage(message) {
        if (!message)
            return;
        const objectData = new _data_type_MapDataType__WEBPACK_IMPORTED_MODULE_4__["MapDataType"]();
        objectData.initializeFromRoomObjectModel(this.object.model);
        const state = parseInt(objectData.getValue(FurnitureRoomBrandingLogic.STATE));
        if (!isNaN(state) && (this.object.getState(0) !== state))
            this.object.setState(state, 0);
        const imageUrl = objectData.getValue(FurnitureRoomBrandingLogic.IMAGEURL_KEY);
        if (imageUrl) {
            const existingUrl = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_URL);
            if (!existingUrl || (existingUrl !== imageUrl)) {
                this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_URL, imageUrl);
                this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_STATUS, 0);
                this.downloadBackground();
            }
        }
        const clickUrl = objectData.getValue(FurnitureRoomBrandingLogic.CLICKURL_KEY);
        if (clickUrl) {
            const existingUrl = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_URL);
            if (!existingUrl || existingUrl !== clickUrl) {
                if (this.object.model)
                    this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_URL, clickUrl);
            }
        }
        const offsetX = parseInt(objectData.getValue(FurnitureRoomBrandingLogic.OFFSETX_KEY));
        const offsetY = parseInt(objectData.getValue(FurnitureRoomBrandingLogic.OFFSETY_KEY));
        const offsetZ = parseInt(objectData.getValue(FurnitureRoomBrandingLogic.OFFSETZ_KEY));
        if (!isNaN(offsetX))
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_OFFSET_X, offsetX);
        if (!isNaN(offsetY))
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_OFFSET_Y, offsetY);
        if (!isNaN(offsetZ))
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_OFFSET_Z, offsetZ);
    }
    processAdUpdate(message) {
        if (!message)
            return;
        switch (message.type) {
            case _messages_ObjectAdUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectAdUpdateMessage"].IMAGE_LOADED:
                this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_STATUS, 1);
                break;
            case _messages_ObjectAdUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectAdUpdateMessage"].IMAGE_LOADING_FAILED:
                this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_STATUS, -1);
                break;
        }
    }
    downloadBackground() {
        const model = this.object && this.object.model;
        if (!model)
            return;
        const imageUrl = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_URL);
        const imageStatus = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_5__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_STATUS);
        if (!imageUrl || imageStatus === 1)
            return;
        const asset = _Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.core && _Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.core.asset;
        if (!asset)
            return;
        const split = imageUrl.split('/');
        const name = _core_asset_AssetManager__WEBPACK_IMPORTED_MODULE_0__["AssetManager"].removeFileExtension(split[(split.length - 1)]);
        const texture = asset.getTexture(_core_asset_AssetManager__WEBPACK_IMPORTED_MODULE_0__["AssetManager"].removeFileExtension(name));
        if (!texture) {
            asset.downloadAsset(imageUrl, () => this.processUpdateMessage(new _messages_ObjectAdUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectAdUpdateMessage"](_messages_ObjectAdUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectAdUpdateMessage"].IMAGE_LOADED)));
            return;
        }
        this.processUpdateMessage(new _messages_ObjectAdUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectAdUpdateMessage"](_messages_ObjectAdUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectAdUpdateMessage"].IMAGE_LOADED));
    }
}
FurnitureRoomBrandingLogic.STATE = 'state';
FurnitureRoomBrandingLogic.IMAGEURL_KEY = 'imageUrl';
FurnitureRoomBrandingLogic.CLICKURL_KEY = 'clickUrl';
FurnitureRoomBrandingLogic.OFFSETX_KEY = 'offsetX';
FurnitureRoomBrandingLogic.OFFSETY_KEY = 'offsetY';
FurnitureRoomBrandingLogic.OFFSETZ_KEY = 'offsetZ';


/***/ }),

/***/ "6u0Z":
/*!**********************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectWidgetRequestEvent.ts ***!
  \**********************************************************************/
/*! exports provided: RoomObjectWidgetRequestEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectWidgetRequestEvent", function() { return RoomObjectWidgetRequestEvent; });
/* harmony import */ var _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectEvent */ "y81I");

class RoomObjectWidgetRequestEvent extends _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
    constructor(k, _arg_2) {
        super(k, _arg_2);
    }
}
RoomObjectWidgetRequestEvent.OPEN_WIDGET = 'ROWRE_OPEN_WIDGET';
RoomObjectWidgetRequestEvent.CLOSE_WIDGET = 'ROWRE_CLOSE_WIDGET';
RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU = 'ROWRE_OPEN_FURNI_CONTEXT_MENU';
RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU = 'ROWRE_CLOSE_FURNI_CONTEXT_MENU';
RoomObjectWidgetRequestEvent.PLACEHOLDER = 'ROWRE_PLACEHOLDER';
RoomObjectWidgetRequestEvent.CREDITFURNI = 'ROWRE__CREDITFURNI';
RoomObjectWidgetRequestEvent.STICKIE = 'ROWRE__STICKIE';
RoomObjectWidgetRequestEvent.PRESENT = 'ROWRE_PRESENT';
RoomObjectWidgetRequestEvent.TROPHY = 'ROWRE_TROPHY';
RoomObjectWidgetRequestEvent.TEASER = 'ROWRE_TEASER';
RoomObjectWidgetRequestEvent.ECOTRONBOX = 'ROWRE_ECOTRONBOX';
RoomObjectWidgetRequestEvent.DIMMER = 'ROWRE_DIMMER';
RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER = 'ROWRE_WIDGET_REMOVE_DIMMER';
RoomObjectWidgetRequestEvent.CLOTHING_CHANGE = 'ROWRE_CLOTHING_CHANGE';
RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR = 'ROWRE_JUKEBOX_PLAYLIST_EDITOR';
RoomObjectWidgetRequestEvent.MANNEQUIN = 'ROWRE_MANNEQUIN';
RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU = 'ROWRE_PET_PRODUCT_MENU';
RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU = 'ROWRE_GUILD_FURNI_CONTEXT_MENU';
RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG = 'ROWRE_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG';
RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG = 'ROWRE_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG';
RoomObjectWidgetRequestEvent.BACKGROUND_COLOR = 'ROWRE_BACKGROUND_COLOR';
RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG = 'ROWRE_MYSTERYBOX_OPEN_DIALOG';
RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG = 'ROWRE_EFFECTBOX_OPEN_DIALOG';
RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG = 'ROWRE_MYSTERYTROPHY_OPEN_DIALOG';
RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN = 'ROWRE_ACHIEVEMENT_RESOLUTION_OPEN';
RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING = 'ROWRE_ACHIEVEMENT_RESOLUTION_ENGRAVING';
RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED = 'ROWRE_ACHIEVEMENT_RESOLUTION_FAILED';
RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_CONFIRM = 'ROWRE_FRIEND_FURNITURE_CONFIRM';
RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING = 'ROWRE_FRIEND_FURNITURE_ENGRAVING';
RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING = 'ROWRE_BADGE_DISPLAY_ENGRAVING';
RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY = 'ROWRE_HIGH_SCORE_DISPLAY';
RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY = 'ROWRE_HIDE_HIGH_SCORE_DISPLAY';
RoomObjectWidgetRequestEvent.INERNAL_LINK = 'ROWRE_INTERNAL_LINK';
RoomObjectWidgetRequestEvent.ROOM_LINK = 'ROWRE_ROOM_LINK';


/***/ }),

/***/ "6w3x":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/access/rights/RoomRightsOwnerParser.ts ***!
  \****************************************************************************************************/
/*! exports provided: RoomRightsOwnerParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomRightsOwnerParser", function() { return RoomRightsOwnerParser; });
class RoomRightsOwnerParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "6x6l":
/*!****************************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/rentablebot/component.ts ***!
  \****************************************************************************/
/*! exports provided: RoomInfoStandRentableBotComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoStandRentableBotComponent", function() { return RoomInfoStandRentableBotComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_components_badge_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/badge/component */ "f/8j");




const _c0 = ["imageContainer"];
function RoomInfoStandRentableBotComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "nitro-badge", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const badge_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("badge", badge_r3);
} }
function RoomInfoStandRentableBotComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.motto);
} }
const _c1 = function (a0) { return { "active": a0 }; };
class RoomInfoStandRentableBotComponent {
    constructor() {
        this.name = '';
        this.motto = '';
        this.badges = [];
        this.ownerName = '';
        this.visible = false;
    }
    show() {
        if (!this.visible)
            this.visible = true;
    }
    hide() {
        if (this.visible)
            this.visible = false;
    }
    update(event) {
        this.name = event.name;
        this.motto = event.motto;
        this.ownerName = event.ownerName;
        this.badges = event.badges;
        this.setImage(event.figure);
    }
    setImage(figure) {
        if (!figure)
            return;
        const image = this.widget.handler.getUserImage(figure);
        this.imageElement.innerHTML = '';
        this.imageElement.appendChild(image);
    }
    get imageElement() {
        return ((this.imageContainer && this.imageContainer.nativeElement) || null);
    }
}
RoomInfoStandRentableBotComponent.ɵfac = function RoomInfoStandRentableBotComponent_Factory(t) { return new (t || RoomInfoStandRentableBotComponent)(); };
RoomInfoStandRentableBotComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomInfoStandRentableBotComponent, selectors: [["nitro-room-infostand-rentablebot-component"]], viewQuery: function RoomInfoStandRentableBotComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.imageContainer = _t.first);
    } }, inputs: { widget: "widget" }, decls: 18, vars: 7, consts: [[1, "nitro-room-infostand-rentablebot-component", 3, "ngClass"], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "card-body"], [1, "row", "flex-nowrap"], [1, "body-image"], ["imageContainer", ""], [1, "flex-grow-1"], [1, "badge-container"], ["class", "badge-item", 4, "ngFor", "ngForOf"], ["class", "row mt-2", 4, "ngIf"], [1, "row", "mt-2"], [1, "owner"], [1, "badge-item"], [3, "badge"], [1, "motto"]], template: function RoomInfoStandRentableBotComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandRentableBotComponent_Template_div_click_5_listener() { return ctx.hide(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "i", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "div", 8, 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, RoomInfoStandRentableBotComponent_div_13_Template, 2, 1, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, RoomInfoStandRentableBotComponent_div_14_Template, 3, 1, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "span", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c1, ctx.visible));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.badges);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.motto !== "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Owner: ", ctx.ownerName, "");
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _shared_components_badge_component__WEBPACK_IMPORTED_MODULE_2__["BadgeComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomInfoStandRentableBotComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-infostand-rentablebot-component',
                template: `
    <div class="nitro-room-infostand-rentablebot-component" [ngClass]="{ 'active': visible }">
        <div class="card">
            <div class="card-header">
                <div class="header-title">{{ name }}</div>
                <div class="header-close" (click)="hide()"><i class="fas fa-times"></i></div>
            </div>
            <div class="card-body">
                <div class="row flex-nowrap">
                    <div #imageContainer class="body-image"></div>
                    <div class="flex-grow-1">
                        <div class="badge-container">
                            <div *ngFor="let badge of badges" class="badge-item">
                                <nitro-badge [badge]="badge"></nitro-badge>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-2" *ngIf="(motto !== '')">
                    <span class="motto">{{ motto }}</span>
                </div>
                <div class="row mt-2">
                    <span class="owner">Owner: {{ ownerName }}</span>
                </div>
            </div>
        </div>
    </div>`
            }]
    }], null, { widget: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], imageContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['imageContainer']
        }] }); })();


/***/ }),

/***/ "6xyg":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureHabboWheelVisualization.ts ***!
  \**************************************************************************************************/
/*! exports provided: FurnitureHabboWheelVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureHabboWheelVisualization", function() { return FurnitureHabboWheelVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureHabboWheelVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._stateQueue = [];
        this._running = false;
    }
    setAnimation(animationId) {
        if (animationId === -1) {
            if (!this._running) {
                this._running = true;
                this._stateQueue = [];
                this._stateQueue.push(FurnitureHabboWheelVisualization._Str_7627);
                this._stateQueue.push(FurnitureHabboWheelVisualization._Str_4186);
                return;
            }
        }
        if ((animationId > 0) && (animationId <= FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1)) {
            if (this._running) {
                this._running = false;
                this._stateQueue = [];
                this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1 + animationId);
                this._stateQueue.push(FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW2 + animationId);
                this._stateQueue.push(animationId);
                return;
            }
            super.setAnimation(animationId);
        }
    }
    updateAnimation(scale) {
        if (this.getLastFramePlayed(1) && this.getLastFramePlayed(2) && this.getLastFramePlayed(3)) {
            if (this._stateQueue.length)
                super.setAnimation(this._stateQueue.shift());
        }
        return super.updateAnimation(scale);
    }
}
FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW1 = 10;
FurnitureHabboWheelVisualization.ANIMATION_ID_OFFSET_SLOW2 = 20;
FurnitureHabboWheelVisualization._Str_7627 = 31;
FurnitureHabboWheelVisualization._Str_4186 = 32;


/***/ }),

/***/ "7+D5":
/*!****************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetDanceMessage.ts ***!
  \****************************************************************************/
/*! exports provided: RoomWidgetDanceMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetDanceMessage", function() { return RoomWidgetDanceMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetDanceMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(k) {
        super(RoomWidgetDanceMessage.RWCM_MESSAGE_DANCE);
        this._style = 0;
        this._style = k;
    }
    get style() {
        return this._style;
    }
}
RoomWidgetDanceMessage.RWCM_MESSAGE_DANCE = 'RWCM_MESSAGE_DANCE';
RoomWidgetDanceMessage._Str_13814 = 0;
RoomWidgetDanceMessage._Str_17699 = [2, 3, 4];


/***/ }),

/***/ "79Tt":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/client/ClientReleaseVersionComposer.ts ***!
  \*************************************************************************************************/
/*! exports provided: ClientReleaseVersionComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientReleaseVersionComposer", function() { return ClientReleaseVersionComposer; });
/* harmony import */ var _core_communication_connections_enums_ClientDeviceCategoryEnum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/connections/enums/ClientDeviceCategoryEnum */ "O+SQ");
/* harmony import */ var _core_communication_connections_enums_ClientPlatformEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/communication/connections/enums/ClientPlatformEnum */ "jedS");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../NitroConfiguration */ "8vq6");



class ClientReleaseVersionComposer {
    constructor() {
        this._data = [_NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__["NitroConfiguration"].RELEASE_VERSION, _core_communication_connections_enums_ClientPlatformEnum__WEBPACK_IMPORTED_MODULE_1__["ClientPlatformEnum"].HTML5, _core_communication_connections_enums_ClientPlatformEnum__WEBPACK_IMPORTED_MODULE_1__["ClientPlatformEnum"].HTML5, _core_communication_connections_enums_ClientDeviceCategoryEnum__WEBPACK_IMPORTED_MODULE_0__["ClientDeviceCategoryEnum"].BROWSER];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "7ACo":
/*!***********************************************************************!*\
  !*** ./src/client/room/renderer/cache/RoomObjectLocationCacheItem.ts ***!
  \***********************************************************************/
/*! exports provided: RoomObjectLocationCacheItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectLocationCacheItem", function() { return RoomObjectLocationCacheItem; });
/* harmony import */ var _utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Vector3D */ "LGmI");

class RoomObjectLocationCacheItem {
    constructor(accurateZ) {
        this._roomObjectVariableAccurateZ = accurateZ || '';
        this._location = new _utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._screenLocation = new _utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._locationChanged = false;
        this._geometryUpdateId = -1;
        this._objectUpdateId = -1;
    }
    dispose() {
        this._screenLocation = null;
    }
    updateLocation(object, geometry) {
        if (!object || !geometry)
            return null;
        let locationChanged = false;
        const location = object.getLocation();
        if ((geometry.updateId !== this._geometryUpdateId) || (object.updateCounter !== this._objectUpdateId)) {
            this._objectUpdateId = object.updateCounter;
            if ((geometry.updateId !== this._geometryUpdateId) || (location.x !== this._location.x) || (location.y !== this._location.y) || (location.z !== this._location.z)) {
                this._geometryUpdateId = geometry.updateId;
                this._location.assign(location);
                locationChanged = true;
            }
        }
        this._locationChanged = locationChanged;
        if (this._locationChanged) {
            const screenLocation = geometry.getScreenPosition(location);
            if (!screenLocation)
                return null;
            const accurateZ = object.model.getValue(this._roomObjectVariableAccurateZ);
            if ((isNaN(accurateZ) || accurateZ === 0)) {
                const rounded = new _utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](Math.round(location.x), Math.round(location.y), location.z);
                if ((rounded.x !== location.x) || (rounded.y !== location.y)) {
                    const roundedScreen = geometry.getScreenPosition(rounded);
                    this._screenLocation.assign(screenLocation);
                    if (roundedScreen)
                        this._screenLocation.z = roundedScreen.z;
                }
                else {
                    this._screenLocation.assign(screenLocation);
                }
            }
            else {
                this._screenLocation.assign(screenLocation);
            }
            this._screenLocation.x = Math.round(this._screenLocation.x);
            this._screenLocation.y = Math.round(this._screenLocation.y);
        }
        return this._screenLocation;
    }
    get locationChanged() {
        return this._locationChanged;
    }
}


/***/ }),

/***/ "7Hz+":
/*!***********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorUpdateParser.ts ***!
  \***********************************************************************************************************/
/*! exports provided: FurnitureFloorUpdateParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorUpdateParser", function() { return FurnitureFloorUpdateParser; });
/* harmony import */ var _FurnitureFloorDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureFloorDataParser */ "iAsj");

class FurnitureFloorUpdateParser {
    flush() {
        this._item = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._item = new _FurnitureFloorDataParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureFloorDataParser"](wrapper);
        return true;
    }
    get item() {
        return this._item;
    }
}


/***/ }),

/***/ "7KBg":
/*!**************************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetUserInfostandUpdateEvent.ts ***!
  \**************************************************************************************/
/*! exports provided: RoomWidgetUserInfostandUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetUserInfostandUpdateEvent", function() { return RoomWidgetUserInfostandUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetUserInfostandUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(k) {
        super(k);
        this._name = "";
        this._motto = "";
        this._Str_4900 = 0;
        this._xp = 0;
        this._figure = "";
        this._groupId = 0;
        this._groupName = "";
        this._Str_11289 = "";
        this._Str_5228 = 0;
        this._Str_5131 = 0;
        this._Str_8522 = false;
        this._realName = "";
        this._Str_3947 = false;
        this._Str_4026 = false;
        this._Str_4028 = false;
        this._roomControllerLevel = 0;
        this._canBeAskedForAFriend = false;
        this._Str_9070 = false;
        this._Str_8457 = false;
        this._Str_8831 = false;
        this._Str_3437 = 0;
        this._Str_6028 = false;
        this._Str_6139 = false;
        this._Str_8973 = false;
        this._Str_8910 = 0;
        this._Str_8858 = 0;
        this._isFriend = false;
        this._Str_4890 = false;
        this._badges = [];
    }
    set name(k) {
        this._name = k;
    }
    get name() {
        return this._name;
    }
    set motto(k) {
        this._motto = k;
    }
    get motto() {
        return this._motto;
    }
    set activityPoints(k) {
        this._activityPoints = k;
    }
    get activityPoints() {
        return this._activityPoints;
    }
    set webID(k) {
        this._Str_4900 = k;
    }
    get webID() {
        return this._Str_4900;
    }
    set xp(k) {
        this._xp = k;
    }
    get xp() {
        return this._xp;
    }
    set userType(k) {
        this._Str_3021 = k;
    }
    get userType() {
        return this._Str_3021;
    }
    set figure(k) {
        this._figure = k;
    }
    get figure() {
        return this._figure;
    }
    set badges(k) {
        this._badges = k;
    }
    get badges() {
        return this._badges;
    }
    set groupId(k) {
        this._groupId = k;
    }
    get groupId() {
        return this._groupId;
    }
    set groupName(k) {
        this._groupName = k;
    }
    get groupName() {
        return this._groupName;
    }
    set _Str_5235(k) {
        this._Str_11289 = k;
    }
    get _Str_5235() {
        return this._Str_11289;
    }
    set canBeAskedForAFriend(k) {
        this._canBeAskedForAFriend = k;
    }
    get canBeAskedForAFriend() {
        return this._canBeAskedForAFriend;
    }
    set _Str_3577(k) {
        this._Str_3437 = k;
    }
    get _Str_3577() {
        return this._Str_3437;
    }
    set isIgnored(k) {
        this._Str_6028 = k;
    }
    get isIgnored() {
        return this._Str_6028;
    }
    set isRoomOwner(k) {
        this._Str_4026 = k;
    }
    get isRoomOwner() {
        return this._Str_4026;
    }
    set isGuildRoom(k) {
        this._Str_6139 = k;
    }
    get isGuildRoom() {
        return this._Str_6139;
    }
    set roomControllerLevel(k) {
        this._roomControllerLevel = k;
    }
    get roomControllerLevel() {
        return this._roomControllerLevel;
    }
    set isModerator(k) {
        this._Str_4028 = k;
    }
    get isModerator() {
        return this._Str_4028;
    }
    set canTrade(k) {
        this._Str_8973 = k;
    }
    get canTrade() {
        return this._Str_8973;
    }
    set _Str_6622(k) {
        this._Str_8910 = k;
    }
    get _Str_6622() {
        return this._Str_8910;
    }
    set _Str_5990(k) {
        this._Str_9070 = k;
    }
    get _Str_5990() {
        return this._Str_9070;
    }
    set _Str_6701(k) {
        this._Str_8457 = k;
    }
    get _Str_6701() {
        return this._Str_8457;
    }
    get _Str_6394() {
        return this._Str_8831;
    }
    set _Str_6394(k) {
        this._Str_8831 = k;
    }
    set flatControl(k) {
        this._Str_8858 = k;
    }
    get flatControl() {
        return this._Str_8858;
    }
    set carryId(k) {
        this._Str_5228 = k;
    }
    get carryId() {
        return this._Str_5228;
    }
    set roomIndex(k) {
        this._Str_5131 = k;
    }
    get roomIndex() {
        return this._Str_5131;
    }
    set isSpectator(k) {
        this._Str_8522 = k;
    }
    get isSpectator() {
        return this._Str_8522;
    }
    set realName(k) {
        this._realName = k;
    }
    get realName() {
        return this._realName;
    }
    set _Str_4330(k) {
        this._Str_3947 = k;
    }
    get _Str_4330() {
        return this._Str_3947;
    }
    get isFriend() {
        return this._isFriend;
    }
    set isFriend(k) {
        this._isFriend = k;
    }
    get isAmbassador() {
        return this._Str_4890;
    }
    set isAmbassador(k) {
        this._Str_4890 = k;
    }
}
RoomWidgetUserInfostandUpdateEvent.OWN_USER = "RWUIUE_OWN_USER";
RoomWidgetUserInfostandUpdateEvent.BOT = "RWUIUE_BOT";
RoomWidgetUserInfostandUpdateEvent.PEER = "RWUIUE_PEER";
RoomWidgetUserInfostandUpdateEvent._Str_18400 = 0;
RoomWidgetUserInfostandUpdateEvent._Str_14161 = 2;
RoomWidgetUserInfostandUpdateEvent._Str_13798 = 3;
RoomWidgetUserInfostandUpdateEvent._Str_7492 = "BOT";


/***/ }),

/***/ "7UKb":
/*!*******************************************************!*\
  !*** ./src/client/room/object/enum/AlphaTolerance.ts ***!
  \*******************************************************/
/*! exports provided: AlphaTolerance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlphaTolerance", function() { return AlphaTolerance; });
class AlphaTolerance {
}
AlphaTolerance._Str_16646 = -1;
AlphaTolerance._Str_9735 = 128;
AlphaTolerance._Str_9268 = 256;


/***/ }),

/***/ "7eWR":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/inventory/currency/UserCreditsParser.ts ***!
  \*****************************************************************************************************/
/*! exports provided: UserCreditsParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCreditsParser", function() { return UserCreditsParser; });
class UserCreditsParser {
    flush() {
        this._credits = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._credits = wrapper.readString();
        return true;
    }
    get credits() {
        return this._credits;
    }
}


/***/ }),

/***/ "7sXg":
/*!**************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarDanceUpdateMessage.ts ***!
  \**************************************************************************/
/*! exports provided: ObjectAvatarDanceUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarDanceUpdateMessage", function() { return ObjectAvatarDanceUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarDanceUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(danceStyle = 0) {
        super();
        this._danceStyle = danceStyle;
    }
    get danceStyle() {
        return this._danceStyle;
    }
}


/***/ }),

/***/ "7sqD":
/*!***************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarEffectUpdateMessage.ts ***!
  \***************************************************************************/
/*! exports provided: ObjectAvatarEffectUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarEffectUpdateMessage", function() { return ObjectAvatarEffectUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarEffectUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(effect, delayMilliseconds = 0) {
        super();
        this._effect = effect;
        this._delayMilliseconds = delayMilliseconds;
    }
    get effect() {
        return this._effect;
    }
    get delayMilliseconds() {
        return this._delayMilliseconds;
    }
}


/***/ }),

/***/ "7vj/":
/*!*****************************************!*\
  !*** ./src/app/components/component.ts ***!
  \*****************************************/
/*! exports provided: MainComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainComponent", function() { return MainComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../client/nitro/room/events/RoomEngineEvent */ "G0tw");
/* harmony import */ var _client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../client/nitro/room/events/RoomEngineObjectEvent */ "Hs+C");
/* harmony import */ var _client_nitro_room_events_RoomObjectHSLColorEnabledEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../client/nitro/room/events/RoomObjectHSLColorEnabledEvent */ "GfbW");
/* harmony import */ var _client_nitro_room_events_RoomZoomEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../client/nitro/room/events/RoomZoomEvent */ "6Ad+");
/* harmony import */ var _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../client/nitro/session/events/RoomSessionChatEvent */ "Z0XG");
/* harmony import */ var _client_nitro_session_events_RoomSessionDanceEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../client/nitro/session/events/RoomSessionDanceEvent */ "TPa8");
/* harmony import */ var _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../client/nitro/session/events/RoomSessionEvent */ "Ns5P");
/* harmony import */ var _client_nitro_session_events_RoomSessionUserBadgesEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../client/nitro/session/events/RoomSessionUserBadgesEvent */ "hXx8");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../client/nitro/ui/widget/enums/RoomWidgetEnum */ "f6o4");
/* harmony import */ var _room_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./room/component */ "5Cr6");
/* harmony import */ var _room_widgets_avatarinfo_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./room/widgets/avatarinfo/component */ "xmcY");
/* harmony import */ var _room_widgets_chatinput_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./room/widgets/chatinput/component */ "aniU");
/* harmony import */ var _room_widgets_infostand_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./room/widgets/infostand/component */ "TRVI");
/* harmony import */ var _room_widgets_roomchat_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./room/widgets/roomchat/component */ "zQ5P");
/* harmony import */ var _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../shared/services/alert/service */ "Ffqm");
/* harmony import */ var _core_settings_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/settings/service */ "WnqX");
/* harmony import */ var _toolbar_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./toolbar/component */ "Sfdk");
/* harmony import */ var _purse_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./purse/component */ "+LBP");
/* harmony import */ var _catalog_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./catalog/component */ "MGYS");
/* harmony import */ var _inventory_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./inventory/component */ "yHaF");
/* harmony import */ var _navigator_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./navigator/component */ "6A5d");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _hotelview_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./hotelview/component */ "1pfd");


























const _c0 = ["desktopContainer"];
function MainComponent_nitro_hotelview_component_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "nitro-hotelview-component");
} }
function MainComponent_ng_template_7_Template(rf, ctx) { }
class MainComponent {
    constructor(alertService, settingsService, ngZone, componentFactoryResolver) {
        this.alertService = alertService;
        this.settingsService = settingsService;
        this.ngZone = ngZone;
        this.componentFactoryResolver = componentFactoryResolver;
        this.desktops = new Map();
        this.isInRoom = false;
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.ticker.add(this.update, this);
            if (_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events) {
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineEvent"].INITIALIZED, this.onRoomEngineEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineEvent"].DISPOSED, this.onRoomEngineEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomZoomEvent__WEBPACK_IMPORTED_MODULE_5__["RoomZoomEvent"].ROOM_ZOOM, this.onRoomEngineEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomObjectHSLColorEnabledEvent__WEBPACK_IMPORTED_MODULE_4__["RoomObjectHSLColorEnabledEvent"].ROOM_BACKGROUND_COLOR, this.onRoomEngineEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].SELECTED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].DESELECTED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].ADDED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].REMOVED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].PLACED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].REQUEST_MOVE, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].REQUEST_ROTATE, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].MOUSE_ENTER, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].MOUSE_LEAVE, this.onRoomEngineObjectEvent.bind(this));
            }
            if (_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events) {
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].CREATED, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].STARTED, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].ROOM_DATA, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].ENDED, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_6__["RoomSessionChatEvent"].CHAT_EVENT, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionDanceEvent__WEBPACK_IMPORTED_MODULE_7__["RoomSessionDanceEvent"].RSDE_DANCE, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionUserBadgesEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionUserBadgesEvent"].RSUBE_BADGES, this.onRoomSessionEvent.bind(this));
            }
        });
    }
    ngOnDestroy() {
        this.ngZone.runOutsideAngular(() => {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.ticker.remove(this.update, this);
            if (_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events) {
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineEvent"].INITIALIZED, this.onRoomEngineEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineEvent"].DISPOSED, this.onRoomEngineEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomZoomEvent__WEBPACK_IMPORTED_MODULE_5__["RoomZoomEvent"].ROOM_ZOOM, this.onRoomEngineEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomObjectHSLColorEnabledEvent__WEBPACK_IMPORTED_MODULE_4__["RoomObjectHSLColorEnabledEvent"].ROOM_BACKGROUND_COLOR, this.onRoomEngineEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].SELECTED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].DESELECTED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].ADDED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].REMOVED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].PLACED, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].REQUEST_MOVE, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].REQUEST_ROTATE, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].MOUSE_ENTER, this.onRoomEngineObjectEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_3__["RoomEngineObjectEvent"].MOUSE_LEAVE, this.onRoomEngineObjectEvent.bind(this));
            }
            if (_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events) {
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].CREATED, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].STARTED, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].ROOM_DATA, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].ENDED, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_6__["RoomSessionChatEvent"].CHAT_EVENT, this.onRoomSessionEvent.bind(this));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionDanceEvent__WEBPACK_IMPORTED_MODULE_7__["RoomSessionDanceEvent"].RSDE_DANCE, this.onRoomSessionEvent.bind(this));
            }
        });
    }
    getDesktop(roomId) {
        if (!roomId)
            return null;
        const existing = this.desktops.get(roomId);
        if (!existing)
            return null;
        return existing.instance;
    }
    createDesktopForSession(session) {
        if (!session)
            return null;
        const roomId = this.getRoomId(session.roomId);
        let desktop = this.getDesktop(roomId);
        if (desktop)
            return desktop;
        let desktopRef = null;
        this.ngZone.run(() => {
            const componentFactory = this.componentFactoryResolver.resolveComponentFactory(_room_component__WEBPACK_IMPORTED_MODULE_11__["RoomComponent"]);
            desktopRef = this.desktopContainer.createComponent(componentFactory);
            desktop = desktopRef.instance;
        });
        if (!desktop)
            return;
        desktop.roomSession = session;
        desktop.connection = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.communication.connection;
        desktop.roomEngine = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine;
        desktop.avatarRenderManager = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.avatar;
        desktop.sessionDataManager = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.sessionDataManager;
        desktop.roomSessionManager = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager;
        desktop.events.addEventListener(_room_component__WEBPACK_IMPORTED_MODULE_11__["RoomComponent"].ROOM_VIEW_READY, this.onRoomViewReady.bind(this));
        this.desktops.set(roomId, desktopRef);
        return desktop;
    }
    destroyDesktop(roomId) {
        const desktop = this.desktops.get(roomId);
        if (!desktop)
            return;
        this.desktopContainer.remove(this.desktopContainer.indexOf(desktop.hostView));
        this.desktops.delete(roomId);
    }
    update(time) {
        if (!this.desktops || !this.desktops.size)
            return;
        for (let desktop of this.desktops.values()) {
            if (!desktop)
                continue;
            const instance = desktop.instance;
            instance.update();
        }
    }
    onRoomViewReady(event) {
        if (!event)
            return;
        const roomId = this.getRoomId(_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.activeRoomId);
        const desktop = this.getDesktop(roomId);
        if (!desktop)
            return;
        desktop.createWidget(_client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetEnum"].CHAT_WIDGET, _room_widgets_roomchat_component__WEBPACK_IMPORTED_MODULE_15__["RoomChatComponent"]);
        desktop.createWidget(_client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetEnum"].INFOSTAND, _room_widgets_infostand_component__WEBPACK_IMPORTED_MODULE_14__["RoomInfoStandComponent"]);
        desktop.createWidget(_client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetEnum"].LOCATION_WIDGET, null);
        if (!desktop.roomSession.isSpectator) {
            desktop.createWidget(_client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetEnum"].CHAT_INPUT_WIDGET, _room_widgets_chatinput_component__WEBPACK_IMPORTED_MODULE_13__["RoomChatInputComponent"]);
            desktop.createWidget(_client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetEnum"].AVATAR_INFO, _room_widgets_avatarinfo_component__WEBPACK_IMPORTED_MODULE_12__["RoomAvatarInfoComponent"]);
        }
    }
    onRoomEngineEvent(event) {
        if (!event)
            return;
        const roomId = this.getRoomId(event.roomId);
        let desktop = this.getDesktop(roomId);
        if (!desktop) {
            const session = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomSessionManager.getSession(event.roomId);
            if (session)
                desktop = this.createDesktopForSession(session);
            if (!desktop)
                return;
        }
        switch (event.type) {
            case _client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineEvent"].INITIALIZED:
                desktop.prepareCanvas(this.getCanvasId(event.roomId));
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.setActiveRoomId(event.roomId);
                this.ngZone.run(() => this.isInRoom = true);
                return;
            case _client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineEvent"].DISPOSED:
                this.destroyDesktop(roomId);
                this.ngZone.run(() => this.isInRoom = false);
                return;
            case _client_nitro_room_events_RoomZoomEvent__WEBPACK_IMPORTED_MODULE_5__["RoomZoomEvent"].ROOM_ZOOM:
                const zoomEvent = event;
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.setRoomInstanceRenderingCanvasScale(_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.activeRoomId, this.getCanvasId(_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.activeRoomId), ((zoomEvent.level < 1) ? 0.5 : (1 << (Math.floor(zoomEvent.level) - 1))));
                return;
            case _client_nitro_room_events_RoomObjectHSLColorEnabledEvent__WEBPACK_IMPORTED_MODULE_4__["RoomObjectHSLColorEnabledEvent"].ROOM_BACKGROUND_COLOR:
                const colorEvent = event;
                if (colorEvent.enable)
                    desktop.setBackgroundColor(colorEvent.hue, colorEvent.saturation, colorEvent.lightness);
                else
                    desktop.setBackgroundColor(0, 0, 0);
                return;
        }
    }
    onRoomEngineObjectEvent(event) {
        const roomId = this.getRoomId(event.roomId);
        const desktop = this.getDesktop(roomId);
        if (!desktop)
            return;
        desktop.onRoomEngineObjectEvent(event);
    }
    onRoomSessionEvent(event) {
        if (!event)
            return;
        switch (event.type) {
            case _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].CREATED:
                this.createDesktopForSession(event.session);
                return;
            case _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].STARTED:
                return;
            case _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].ROOM_DATA:
                return;
            case _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_8__["RoomSessionEvent"].ENDED:
                if (event.session)
                    this.destroyDesktop(this.getRoomId(event.session.roomId));
                return;
            default:
                const desktop = this.getDesktop(this.getRoomId(event.session.roomId));
                if (desktop)
                    desktop.processEvent(event);
                return;
        }
    }
    getRoomId(roomId) {
        return 'hard_coded_room_id';
    }
    getCanvasId(roomId) {
        return 1;
    }
    get inventoryVisible() {
        return this.settingsService.inventoryVisible;
    }
}
MainComponent.ɵfac = function MainComponent_Factory(t) { return new (t || MainComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_16__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_settings_service__WEBPACK_IMPORTED_MODULE_17__["SettingsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"])); };
MainComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: MainComponent, selectors: [["nitro-main-component"]], viewQuery: function MainComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.desktopContainer = _t.first);
    } }, decls: 9, vars: 3, consts: [[1, "nitro-main-component"], [3, "isInRoom"], [3, "visible"], [4, "ngIf"], ["desktopContainer", ""]], template: function MainComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "nitro-toolbar-component", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "nitro-purse-component");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "nitro-catalog-component");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "nitro-inventory-component", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "nitro-navigator-component");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, MainComponent_nitro_hotelview_component_6_Template, 1, 0, "nitro-hotelview-component", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, MainComponent_ng_template_7_Template, 0, 0, "ng-template", null, 4, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("isInRoom", ctx.isInRoom);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("visible", ctx.inventoryVisible);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isInRoom);
    } }, directives: [_toolbar_component__WEBPACK_IMPORTED_MODULE_18__["ToolbarComponent"], _purse_component__WEBPACK_IMPORTED_MODULE_19__["PurseComponent"], _catalog_component__WEBPACK_IMPORTED_MODULE_20__["CatalogComponent"], _inventory_component__WEBPACK_IMPORTED_MODULE_21__["InventoryComponent"], _navigator_component__WEBPACK_IMPORTED_MODULE_22__["NavigatorComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_23__["NgIf"], _hotelview_component__WEBPACK_IMPORTED_MODULE_24__["HotelViewComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MainComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-main-component',
                template: `
	<div class="nitro-main-component">
		<nitro-toolbar-component [isInRoom]="isInRoom"></nitro-toolbar-component>
		<nitro-purse-component></nitro-purse-component>
		<nitro-catalog-component></nitro-catalog-component>
		<nitro-inventory-component [visible]="inventoryVisible"></nitro-inventory-component>
		<nitro-navigator-component></nitro-navigator-component>
		<nitro-hotelview-component *ngIf="!isInRoom"></nitro-hotelview-component>
		<ng-template #desktopContainer></ng-template>
    </div>`
            }]
    }], function () { return [{ type: _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_16__["AlertService"] }, { type: _core_settings_service__WEBPACK_IMPORTED_MODULE_17__["SettingsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }]; }, { desktopContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['desktopContainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]
        }] }); })();


/***/ }),

/***/ "7xpY":
/*!*****************************************************!*\
  !*** ./src/client/nitro/room/RoomMessageHandler.ts ***!
  \*****************************************************/
/*! exports provided: RoomMessageHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomMessageHandler", function() { return RoomMessageHandler; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _avatar_pets_PetType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../avatar/pets/PetType */ "whnG");
/* harmony import */ var _communication_messages_incoming_room_engine_ObjectsRollingEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../communication/messages/incoming/room/engine/ObjectsRollingEvent */ "yydM");
/* harmony import */ var _communication_messages_incoming_room_furniture_floor_FurnitureFloorAddEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/floor/FurnitureFloorAddEvent */ "JODW");
/* harmony import */ var _communication_messages_incoming_room_furniture_floor_FurnitureFloorEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/floor/FurnitureFloorEvent */ "sR+E");
/* harmony import */ var _communication_messages_incoming_room_furniture_floor_FurnitureFloorRemoveEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/floor/FurnitureFloorRemoveEvent */ "zVPj");
/* harmony import */ var _communication_messages_incoming_room_furniture_floor_FurnitureFloorUpdateEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/floor/FurnitureFloorUpdateEvent */ "Wzp3");
/* harmony import */ var _communication_messages_incoming_room_furniture_FurnitureAliasesEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/FurnitureAliasesEvent */ "Ie/D");
/* harmony import */ var _communication_messages_incoming_room_furniture_FurnitureDataEvent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/FurnitureDataEvent */ "Nakt");
/* harmony import */ var _communication_messages_incoming_room_furniture_FurnitureItemDataEvent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/FurnitureItemDataEvent */ "Wamt");
/* harmony import */ var _communication_messages_incoming_room_furniture_FurnitureStateEvent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/FurnitureStateEvent */ "ObWd");
/* harmony import */ var _communication_messages_incoming_room_furniture_wall_FurnitureWallAddEvent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/wall/FurnitureWallAddEvent */ "QZfg");
/* harmony import */ var _communication_messages_incoming_room_furniture_wall_FurnitureWallEvent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/wall/FurnitureWallEvent */ "+IZ6");
/* harmony import */ var _communication_messages_incoming_room_furniture_wall_FurnitureWallRemoveEvent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/wall/FurnitureWallRemoveEvent */ "Xe8L");
/* harmony import */ var _communication_messages_incoming_room_furniture_wall_FurnitureWallUpdateEvent__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../communication/messages/incoming/room/furniture/wall/FurnitureWallUpdateEvent */ "Njml");
/* harmony import */ var _communication_messages_incoming_room_mapping_RoomDoorEvent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../communication/messages/incoming/room/mapping/RoomDoorEvent */ "mQ1q");
/* harmony import */ var _communication_messages_incoming_room_mapping_RoomHeightMapEvent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../communication/messages/incoming/room/mapping/RoomHeightMapEvent */ "ebaN");
/* harmony import */ var _communication_messages_incoming_room_mapping_RoomHeightMapUpdateEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../communication/messages/incoming/room/mapping/RoomHeightMapUpdateEvent */ "Prlr");
/* harmony import */ var _communication_messages_incoming_room_mapping_RoomModelEvent__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../communication/messages/incoming/room/mapping/RoomModelEvent */ "bmMM");
/* harmony import */ var _communication_messages_incoming_room_mapping_RoomModelNameEvent__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../communication/messages/incoming/room/mapping/RoomModelNameEvent */ "zTkZ");
/* harmony import */ var _communication_messages_incoming_room_mapping_RoomPaintEvent__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../communication/messages/incoming/room/mapping/RoomPaintEvent */ "lbEV");
/* harmony import */ var _communication_messages_incoming_room_mapping_RoomThicknessEvent__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../communication/messages/incoming/room/mapping/RoomThicknessEvent */ "CzV9");
/* harmony import */ var _communication_messages_incoming_room_pet_PetFigureUpdateEvent__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../communication/messages/incoming/room/pet/PetFigureUpdateEvent */ "f1eJ");
/* harmony import */ var _communication_messages_incoming_room_unit_chat_RoomUnitChatEvent__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/chat/RoomUnitChatEvent */ "sRv6");
/* harmony import */ var _communication_messages_incoming_room_unit_chat_RoomUnitChatShoutEvent__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/chat/RoomUnitChatShoutEvent */ "xq+5");
/* harmony import */ var _communication_messages_incoming_room_unit_chat_RoomUnitChatWhisperEvent__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/chat/RoomUnitChatWhisperEvent */ "jFxZ");
/* harmony import */ var _communication_messages_incoming_room_unit_chat_RoomUnitTypingEvent__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/chat/RoomUnitTypingEvent */ "sCRD");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitDanceEvent__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitDanceEvent */ "mGgu");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitEffectEvent__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitEffectEvent */ "BVCN");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitEvent__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitEvent */ "fVO9");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitExpressionEvent__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitExpressionEvent */ "Yx/o");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitHandItemEvent__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitHandItemEvent */ "D/zE");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitIdleEvent__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitIdleEvent */ "KjXG");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitInfoEvent__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitInfoEvent */ "jzpY");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitRemoveEvent__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitRemoveEvent */ "n7CB");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitStatusEvent__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../communication/messages/incoming/room/unit/RoomUnitStatusEvent */ "jdh6");
/* harmony import */ var _communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../communication/messages/incoming/user/data/UserInfoEvent */ "uMJ2");
/* harmony import */ var _communication_messages_outgoing_room_furniture_FurnitureAliasesComposer__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/FurnitureAliasesComposer */ "4Yln");
/* harmony import */ var _communication_messages_outgoing_room_mapping_RoomModelComposer__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../communication/messages/outgoing/room/mapping/RoomModelComposer */ "rlQL");
/* harmony import */ var _object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./object/data/type/LegacyDataType */ "v12S");
/* harmony import */ var _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./object/RoomObjectUserType */ "38Mq");
/* harmony import */ var _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./object/RoomPlaneParser */ "BFtu");
/* harmony import */ var _RoomVariableEnum__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./RoomVariableEnum */ "BrMT");
/* harmony import */ var _utils_FurnitureStackingHeightMap__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./utils/FurnitureStackingHeightMap */ "w5xG");
/* harmony import */ var _utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./utils/ObjectRolling */ "9mJe");
















































class RoomMessageHandler extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor(roomCreator) {
        super();
        this._connection = null;
        this._roomCreator = roomCreator;
        this._planeParser = new _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__["RoomPlaneParser"]();
        this._latestEntryTileEvent = null;
        this._currentRoomId = 0;
        this._ownUserId = 0;
        this._initialConnection = true;
    }
    onDispose() {
        super.onDispose();
        this._connection = null;
        this._roomCreator = null;
        this._latestEntryTileEvent = null;
        if (this._planeParser) {
            this._planeParser.dispose();
            this._planeParser = null;
        }
    }
    setConnection(connection) {
        if (this._connection || !connection)
            return;
        this._connection = connection;
        this._connection.addMessageEvent(new _communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_38__["UserInfoEvent"](this.onUserInfoEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_mapping_RoomModelNameEvent__WEBPACK_IMPORTED_MODULE_21__["RoomModelNameEvent"](this.onRoomModelNameEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_mapping_RoomPaintEvent__WEBPACK_IMPORTED_MODULE_22__["RoomPaintEvent"](this.onRoomPaintEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_mapping_RoomModelEvent__WEBPACK_IMPORTED_MODULE_20__["RoomModelEvent"](this.onRoomModelEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_mapping_RoomHeightMapEvent__WEBPACK_IMPORTED_MODULE_18__["RoomHeightMapEvent"](this.onRoomHeightMapEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_mapping_RoomHeightMapUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomHeightMapUpdateEvent"](this.onRoomHeightMapUpdateEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_mapping_RoomThicknessEvent__WEBPACK_IMPORTED_MODULE_23__["RoomThicknessEvent"](this.onRoomThicknessEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_mapping_RoomDoorEvent__WEBPACK_IMPORTED_MODULE_17__["RoomDoorEvent"](this.onRoomDoorEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_engine_ObjectsRollingEvent__WEBPACK_IMPORTED_MODULE_4__["ObjectsRollingEvent"](this.onRoomRollingEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_FurnitureAliasesEvent__WEBPACK_IMPORTED_MODULE_9__["FurnitureAliasesEvent"](this.onFurnitureAliasesEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_floor_FurnitureFloorAddEvent__WEBPACK_IMPORTED_MODULE_5__["FurnitureFloorAddEvent"](this.onFurnitureFloorAddEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_floor_FurnitureFloorEvent__WEBPACK_IMPORTED_MODULE_6__["FurnitureFloorEvent"](this.onFurnitureFloorEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_floor_FurnitureFloorRemoveEvent__WEBPACK_IMPORTED_MODULE_7__["FurnitureFloorRemoveEvent"](this.onFurnitureFloorRemoveEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_floor_FurnitureFloorUpdateEvent__WEBPACK_IMPORTED_MODULE_8__["FurnitureFloorUpdateEvent"](this.onFurnitureFloorUpdateEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_wall_FurnitureWallAddEvent__WEBPACK_IMPORTED_MODULE_13__["FurnitureWallAddEvent"](this.onFurnitureWallAddEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_wall_FurnitureWallEvent__WEBPACK_IMPORTED_MODULE_14__["FurnitureWallEvent"](this.onFurnitureWallEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_wall_FurnitureWallRemoveEvent__WEBPACK_IMPORTED_MODULE_15__["FurnitureWallRemoveEvent"](this.onFurnitureWallRemoveEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_wall_FurnitureWallUpdateEvent__WEBPACK_IMPORTED_MODULE_16__["FurnitureWallUpdateEvent"](this.onFurnitureWallUpdateEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_FurnitureDataEvent__WEBPACK_IMPORTED_MODULE_10__["FurnitureDataEvent"](this.onFurnitureDataEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_FurnitureItemDataEvent__WEBPACK_IMPORTED_MODULE_11__["FurnitureItemDataEvent"](this.onFurnitureItemDataEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_furniture_FurnitureStateEvent__WEBPACK_IMPORTED_MODULE_12__["FurnitureStateEvent"](this.onFurnitureStateEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitDanceEvent__WEBPACK_IMPORTED_MODULE_29__["RoomUnitDanceEvent"](this.onRoomUnitDanceEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitEffectEvent__WEBPACK_IMPORTED_MODULE_30__["RoomUnitEffectEvent"](this.onRoomUnitEffectEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitEvent__WEBPACK_IMPORTED_MODULE_31__["RoomUnitEvent"](this.onRoomUnitEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitExpressionEvent__WEBPACK_IMPORTED_MODULE_32__["RoomUnitExpressionEvent"](this.onRoomUnitExpressionEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitHandItemEvent__WEBPACK_IMPORTED_MODULE_33__["RoomUnitHandItemEvent"](this.onRoomUnitHandItemEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitIdleEvent__WEBPACK_IMPORTED_MODULE_34__["RoomUnitIdleEvent"](this.onRoomUnitIdleEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitInfoEvent__WEBPACK_IMPORTED_MODULE_35__["RoomUnitInfoEvent"](this.onRoomUnitInfoEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitRemoveEvent__WEBPACK_IMPORTED_MODULE_36__["RoomUnitRemoveEvent"](this.onRoomUnitRemoveEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitStatusEvent__WEBPACK_IMPORTED_MODULE_37__["RoomUnitStatusEvent"](this.onRoomUnitStatusEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_chat_RoomUnitChatEvent__WEBPACK_IMPORTED_MODULE_25__["RoomUnitChatEvent"](this.onRoomUnitChatEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_chat_RoomUnitChatShoutEvent__WEBPACK_IMPORTED_MODULE_26__["RoomUnitChatShoutEvent"](this.onRoomUnitChatEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_chat_RoomUnitChatWhisperEvent__WEBPACK_IMPORTED_MODULE_27__["RoomUnitChatWhisperEvent"](this.onRoomUnitChatEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_unit_chat_RoomUnitTypingEvent__WEBPACK_IMPORTED_MODULE_28__["RoomUnitTypingEvent"](this.onRoomUnitTypingEvent.bind(this)));
        this._connection.addMessageEvent(new _communication_messages_incoming_room_pet_PetFigureUpdateEvent__WEBPACK_IMPORTED_MODULE_24__["PetFigureUpdateEvent"](this.onPetFigureUpdateEvent.bind(this)));
    }
    setRoomId(id) {
        if (this._currentRoomId !== 0) {
            if (this._roomCreator)
                this._roomCreator.destroyRoom(this._currentRoomId);
        }
        this._currentRoomId = id;
        this._latestEntryTileEvent = null;
    }
    clearRoomId() {
        this._currentRoomId = 0;
        this._latestEntryTileEvent = null;
    }
    onUserInfoEvent(event) {
        if (!(event instanceof _communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_38__["UserInfoEvent"]) || !event.connection)
            return;
        this._ownUserId = event.getParser().userInfo.userId;
    }
    onRoomModelNameEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_mapping_RoomModelNameEvent__WEBPACK_IMPORTED_MODULE_21__["RoomModelNameEvent"]) || !event.connection)
            return;
        if (this._currentRoomId !== event.getParser().roomId) {
            this.setRoomId(event.getParser().roomId);
        }
        if (this._roomCreator) {
            this._roomCreator.setRoomInstanceModelName(event.getParser().roomId, event.getParser().name);
        }
        if (this._initialConnection) {
            event.connection.send(new _communication_messages_outgoing_room_furniture_FurnitureAliasesComposer__WEBPACK_IMPORTED_MODULE_39__["FurnitureAliasesComposer"]());
            this._initialConnection = false;
            return;
        }
        event.connection.send(new _communication_messages_outgoing_room_mapping_RoomModelComposer__WEBPACK_IMPORTED_MODULE_40__["RoomModelComposer"]());
    }
    onRoomPaintEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_mapping_RoomPaintEvent__WEBPACK_IMPORTED_MODULE_22__["RoomPaintEvent"]))
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const floorType = parser.floorType;
        const wallType = parser.wallType;
        const landscapeType = parser.landscapeType;
        if (this._roomCreator) {
            this._roomCreator.updateRoomInstancePlaneType(this._currentRoomId, floorType, wallType, landscapeType);
        }
    }
    onRoomModelEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_mapping_RoomModelEvent__WEBPACK_IMPORTED_MODULE_20__["RoomModelEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const wallGeometry = this._roomCreator.getLegacyWallGeometry(this._currentRoomId);
        if (!wallGeometry)
            return;
        this._planeParser.reset();
        const width = parser.width;
        const height = parser.height;
        this._planeParser.initializeTileMap(width, height);
        let entryTile = null;
        if (this._latestEntryTileEvent)
            entryTile = this._latestEntryTileEvent.getParser();
        let doorX = -1;
        let doorY = -1;
        let doorZ = 0;
        let doorDirection = 0;
        let y = 0;
        while (y < height) {
            let x = 0;
            while (x < width) {
                const tileHeight = parser.getHeight(x, y);
                if (((((y > 0) && (y < (height - 1))) || ((x > 0) && (x < (width - 1)))) && (!(tileHeight == _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__["RoomPlaneParser"].TILE_BLOCKED))) && ((entryTile == null) || ((x == entryTile.x) && (y == entryTile.y)))) {
                    if (((parser.getHeight(x, (y - 1)) == _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__["RoomPlaneParser"].TILE_BLOCKED) && (parser.getHeight((x - 1), y) == _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__["RoomPlaneParser"].TILE_BLOCKED)) && (parser.getHeight(x, (y + 1)) == _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__["RoomPlaneParser"].TILE_BLOCKED)) {
                        doorX = (x + 0.5);
                        doorY = y;
                        doorZ = tileHeight;
                        doorDirection = 90;
                    }
                    if (((parser.getHeight(x, (y - 1)) == _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__["RoomPlaneParser"].TILE_BLOCKED) && (parser.getHeight((x - 1), y) == _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__["RoomPlaneParser"].TILE_BLOCKED)) && (parser.getHeight((x + 1), y) == _object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_44__["RoomPlaneParser"].TILE_BLOCKED)) {
                        doorX = x;
                        doorY = (y + 0.5);
                        doorZ = tileHeight;
                        doorDirection = 180;
                    }
                }
                this._planeParser.setTileHeight(x, y, tileHeight);
                x++;
            }
            y++;
        }
        this._planeParser.setTileHeight(Math.floor(doorX), Math.floor(doorY), doorZ);
        this._planeParser.initializeFromTileData(parser.wallHeight);
        this._planeParser.setTileHeight(Math.floor(doorX), Math.floor(doorY), (doorZ + this._planeParser.wallHeight));
        wallGeometry.scale = parser.scale;
        wallGeometry.initialize(width, height, this._planeParser.floorHeight);
        let heightIterator = (parser.height - 1);
        while (heightIterator >= 0) {
            let widthIterator = (parser.width - 1);
            while (widthIterator >= 0) {
                wallGeometry.setHeight(widthIterator, heightIterator, this._planeParser.getTileHeight(widthIterator, heightIterator));
                widthIterator--;
            }
            heightIterator--;
        }
        const roomMap = this._planeParser.getMapData();
        roomMap.doors.push({
            x: doorX,
            y: doorY,
            z: doorZ,
            dir: doorDirection
        });
        this._roomCreator.createRoomInstance(this._currentRoomId, roomMap);
    }
    onRoomHeightMapEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_mapping_RoomHeightMapEvent__WEBPACK_IMPORTED_MODULE_18__["RoomHeightMapEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const width = parser.width;
        const height = parser.height;
        const heightMap = new _utils_FurnitureStackingHeightMap__WEBPACK_IMPORTED_MODULE_46__["FurnitureStackingHeightMap"](width, height);
        let y = 0;
        while (y < height) {
            let x = 0;
            while (x < width) {
                heightMap.setTileHeight(x, y, parser.getTileHeight(x, y));
                heightMap.setStackingBlocked(x, y, parser.getStackingBlocked(x, y));
                heightMap.setIsRoomTile(x, y, parser.isRoomTile(x, y));
                x++;
            }
            y++;
        }
        this._roomCreator.setFurnitureStackingHeightMap(this._currentRoomId, heightMap);
    }
    onRoomHeightMapUpdateEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_mapping_RoomHeightMapUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomHeightMapUpdateEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const heightMap = this._roomCreator.getFurnitureStackingHeightMap(this._currentRoomId);
        if (!heightMap)
            return;
        while (parser.next()) {
            heightMap.setTileHeight(parser.x, parser.y, parser.tileHeight());
            heightMap.setStackingBlocked(parser.x, parser.y, parser.isStackingBlocked());
            heightMap.setIsRoomTile(parser.x, parser.y, parser.isRoomTile());
        }
        this._roomCreator._Str_17722(this._currentRoomId, "RoomMessageHandler.onRoomHeightMapUpdateEvent()");
    }
    onRoomThicknessEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_mapping_RoomThicknessEvent__WEBPACK_IMPORTED_MODULE_23__["RoomThicknessEvent"]))
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const visibleWall = !parser.hideWalls;
        const visibleFloor = true;
        const thicknessWall = parser.thicknessWall;
        const thicknessFloor = parser.thicknessFloor;
        if (this._roomCreator) {
            this._roomCreator.updateRoomInstancePlaneVisibility(this._currentRoomId, visibleWall, visibleFloor);
            this._roomCreator.updateRoomInstancePlaneThickness(this._currentRoomId, thicknessWall, thicknessFloor);
        }
    }
    onRoomDoorEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_mapping_RoomDoorEvent__WEBPACK_IMPORTED_MODULE_17__["RoomDoorEvent"]))
            return;
        this._latestEntryTileEvent = event;
    }
    onRoomRollingEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_engine_ObjectsRollingEvent__WEBPACK_IMPORTED_MODULE_4__["ObjectsRollingEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        this._roomCreator.updateRoomObjectFloor(this._currentRoomId, parser.rollerId, null, null, 1, null);
        this._roomCreator.updateRoomObjectFloor(this._currentRoomId, parser.rollerId, null, null, 2, null);
        const furnitureRolling = parser.itemsRolling;
        if (furnitureRolling && furnitureRolling.length) {
            for (let rollData of furnitureRolling) {
                if (!rollData)
                    continue;
                this._roomCreator.rollRoomObjectFloor(this._currentRoomId, rollData.id, rollData.location, rollData.targetLocation);
            }
        }
        const unitRollData = parser.unitRolling;
        if (unitRollData) {
            this._roomCreator.updateRoomObjectUserLocation(this._currentRoomId, unitRollData.id, unitRollData.location, unitRollData.targetLocation);
            if (!_NitroConfiguration__WEBPACK_IMPORTED_MODULE_1__["NitroConfiguration"].ROLLING_OVERRIDES_POSTURE)
                return;
            const object = this._roomCreator.getRoomObjectUser(this._currentRoomId, unitRollData.id);
            if (object && object.type !== _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_42__["RoomObjectUserType"].MONSTER_PLANT) {
                let posture = 'std';
                switch (unitRollData.movementType) {
                    case _utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_47__["ObjectRolling"].MOVE:
                        posture = 'mv';
                        break;
                    case _utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_47__["ObjectRolling"].SLIDE:
                        posture = 'std';
                        break;
                }
                this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId, unitRollData.id, posture);
            }
        }
    }
    onFurnitureAliasesEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_FurnitureAliasesEvent__WEBPACK_IMPORTED_MODULE_9__["FurnitureAliasesEvent"]) || !event.connection || !this._roomCreator)
            return;
        const alises = event.getParser().aliases;
        this._connection.send(new _communication_messages_outgoing_room_mapping_RoomModelComposer__WEBPACK_IMPORTED_MODULE_40__["RoomModelComposer"]());
    }
    onFurnitureFloorAddEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_floor_FurnitureFloorAddEvent__WEBPACK_IMPORTED_MODULE_5__["FurnitureFloorAddEvent"]) || !event.connection || !this._roomCreator)
            return;
        const item = event.getParser().item;
        if (!item)
            return;
        this.addRoomObjectFurnitureFloor(this._currentRoomId, item);
    }
    onFurnitureFloorEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_floor_FurnitureFloorEvent__WEBPACK_IMPORTED_MODULE_6__["FurnitureFloorEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const totalObjects = parser.items.length;
        let iterator = 0;
        while (iterator < totalObjects) {
            const object = parser.items[iterator];
            if (object)
                this.addRoomObjectFurnitureFloor(this._currentRoomId, object);
            iterator++;
        }
    }
    onFurnitureFloorRemoveEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_floor_FurnitureFloorRemoveEvent__WEBPACK_IMPORTED_MODULE_7__["FurnitureFloorRemoveEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        if (parser.delay > 0) {
            setTimeout(() => {
                this._roomCreator.removeRoomObjectFloor(this._currentRoomId, parser.itemId, (parser.isExpired) ? -1 : parser.userId, true);
            }, parser.delay);
        }
        else {
            this._roomCreator.removeRoomObjectFloor(this._currentRoomId, parser.itemId, (parser.isExpired) ? -1 : parser.userId, true);
        }
    }
    onFurnitureFloorUpdateEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_floor_FurnitureFloorUpdateEvent__WEBPACK_IMPORTED_MODULE_8__["FurnitureFloorUpdateEvent"]) || !event.connection || !this._roomCreator)
            return;
        const item = event.getParser().item;
        if (!item)
            return;
        const location = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](item.x, item.y, item.z);
        const direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](item.direction);
        this._roomCreator.updateRoomObjectFloor(this._currentRoomId, item.itemId, location, direction, item.data.state, item.data);
        this._roomCreator.updateRoomObjectFloorHeight(this._currentRoomId, item.itemId, item.stackHeight);
        this._roomCreator.updateRoomObjectFloorExpiration(this._currentRoomId, item.itemId, item.expires);
    }
    onFurnitureWallAddEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_wall_FurnitureWallAddEvent__WEBPACK_IMPORTED_MODULE_13__["FurnitureWallAddEvent"]) || !event.connection || !this._roomCreator)
            return;
        const data = event.getParser().item;
        if (!data)
            return;
        this.addRoomObjectFurnitureWall(this._currentRoomId, data);
    }
    onFurnitureWallEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_wall_FurnitureWallEvent__WEBPACK_IMPORTED_MODULE_14__["FurnitureWallEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const totalObjects = parser.items.length;
        let iterator = 0;
        while (iterator < totalObjects) {
            const data = parser.items[iterator];
            if (data)
                this.addRoomObjectFurnitureWall(this._currentRoomId, data);
            iterator++;
        }
    }
    onFurnitureWallRemoveEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_wall_FurnitureWallRemoveEvent__WEBPACK_IMPORTED_MODULE_15__["FurnitureWallRemoveEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this._roomCreator.removeRoomObjectWall(this._currentRoomId, parser.itemId, parser.userId);
    }
    onFurnitureWallUpdateEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_wall_FurnitureWallUpdateEvent__WEBPACK_IMPORTED_MODULE_16__["FurnitureWallUpdateEvent"]) || !event.connection || !this._roomCreator)
            return;
        const wallGeometry = this._roomCreator.getLegacyWallGeometry(this._currentRoomId);
        if (!wallGeometry)
            return;
        const item = event.getParser().item;
        if (!item)
            return;
        const location = wallGeometry.getLocation(item.width, item.height, item.localX, item.localY, item.direction);
        const direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](wallGeometry.getDirection(item.direction));
        this._roomCreator.updateRoomObjectWall(this._currentRoomId, item.itemId, location, direction, item.state, item.stuffData);
        this._roomCreator.updateRoomObjectWallExpiration(this._currentRoomId, item.itemId, item.secondsToExpiration);
    }
    onFurnitureDataEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_FurnitureDataEvent__WEBPACK_IMPORTED_MODULE_10__["FurnitureDataEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        this._roomCreator.updateRoomObjectFloor(this._currentRoomId, parser.furnitureId, null, null, parser.objectData.state, parser.objectData);
    }
    onFurnitureItemDataEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_FurnitureItemDataEvent__WEBPACK_IMPORTED_MODULE_11__["FurnitureItemDataEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        this._roomCreator.updateRoomObjectWallItemData(this._currentRoomId, parser.furnitureId, parser.data);
    }
    onFurnitureStateEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_furniture_FurnitureStateEvent__WEBPACK_IMPORTED_MODULE_12__["FurnitureStateEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        this._roomCreator.updateRoomObjectFloor(this._currentRoomId, parser.itemId, null, null, parser.state, new _object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_41__["LegacyDataType"]());
    }
    onRoomUnitDanceEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitDanceEvent__WEBPACK_IMPORTED_MODULE_29__["RoomUnitDanceEvent"]) || !event.connection || !this._roomCreator)
            return;
        this._roomCreator.updateRoomObjectUserAction(this._currentRoomId, event.getParser().unitId, _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].FIGURE_DANCE, event.getParser().danceId);
    }
    onRoomUnitEffectEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitEffectEvent__WEBPACK_IMPORTED_MODULE_30__["RoomUnitEffectEvent"]) || !event.connection || !this._roomCreator)
            return;
        this._roomCreator.updateRoomObjectUserEffect(this._currentRoomId, event.getParser().unitId, event.getParser().effectId, event.getParser().delay);
    }
    onRoomUnitEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitEvent__WEBPACK_IMPORTED_MODULE_31__["RoomUnitEvent"]) || !event.connection || !this._roomCreator)
            return;
        const users = event.getParser().users;
        if (!users || !users.length)
            return;
        for (let user of users) {
            if (!user)
                continue;
            const location = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](user.x, user.y, user.z);
            const direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](user.dir);
            this._roomCreator.addRoomObjectUser(this._currentRoomId, user.roomIndex, location, direction, user.dir, user.userType, user.figure);
            if (user.webID === this._ownUserId) {
                this._roomCreator.setRoomSessionOwnUser(this._currentRoomId, user.roomIndex);
                this._roomCreator.updateRoomObjectUserOwn(this._currentRoomId, user.roomIndex);
            }
            this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId, user.roomIndex, user.figure, user.sex, user.subType, user.isRiding);
            if (_object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_42__["RoomObjectUserType"].getTypeString(user.userType) === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_42__["RoomObjectUserType"].PET) {
                if (this._roomCreator.getPetTypeId(user.figure) === _avatar_pets_PetType__WEBPACK_IMPORTED_MODULE_3__["PetType"].MONSTERPLANT) {
                    this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId, user.roomIndex, user.petPosture);
                }
            }
        }
    }
    onRoomUnitExpressionEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitExpressionEvent__WEBPACK_IMPORTED_MODULE_32__["RoomUnitExpressionEvent"]) || !event.connection || !this._roomCreator)
            return;
        this._roomCreator.updateRoomObjectUserAction(this._currentRoomId, event.getParser().unitId, _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].FIGURE_EXPRESSION, event.getParser().expression);
    }
    onRoomUnitHandItemEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitHandItemEvent__WEBPACK_IMPORTED_MODULE_33__["RoomUnitHandItemEvent"]) || !event.connection || !this._roomCreator)
            return;
        this._roomCreator.updateRoomObjectUserAction(this._currentRoomId, event.getParser().unitId, _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].FIGURE_CARRY_OBJECT, event.getParser().handId);
    }
    onRoomUnitIdleEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitIdleEvent__WEBPACK_IMPORTED_MODULE_34__["RoomUnitIdleEvent"]) || !event.connection || !this._roomCreator)
            return;
        this._roomCreator.updateRoomObjectUserAction(this._currentRoomId, event.getParser().unitId, _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].FIGURE_SLEEP, (event.getParser().isIdle ? 1 : 0));
    }
    onRoomUnitInfoEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitInfoEvent__WEBPACK_IMPORTED_MODULE_35__["RoomUnitInfoEvent"]) || !event.connection || !this._roomCreator)
            return;
        this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId, event.getParser().unitId, event.getParser().figure, event.getParser().gender);
    }
    onRoomUnitRemoveEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitRemoveEvent__WEBPACK_IMPORTED_MODULE_36__["RoomUnitRemoveEvent"]) || !event.connection || !this._roomCreator)
            return;
        this._roomCreator.removeRoomObjectUser(this._currentRoomId, event.getParser().unitId);
    }
    onRoomUnitStatusEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitStatusEvent__WEBPACK_IMPORTED_MODULE_37__["RoomUnitStatusEvent"]) || !event.connection || !this._roomCreator)
            return;
        const statuses = event.getParser().statuses;
        if (!statuses || !statuses.length)
            return;
        const roomInstance = this._roomCreator.getRoomInstance(this._currentRoomId);
        if (!roomInstance)
            return;
        //@ts-ignore
        const zScale = (roomInstance.model.getValue(_RoomVariableEnum__WEBPACK_IMPORTED_MODULE_45__["RoomVariableEnum"].ROOM_Z_SCALE) || 1);
        for (let status of statuses) {
            if (!status)
                continue;
            let height = status.height;
            if (height)
                height = (height / zScale);
            const location = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](status.x, status.y, (status.z + height));
            const direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](status.direction);
            let goal = null;
            if (status.didMove)
                goal = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](status.targetX, status.targetY, status.targetZ);
            this._roomCreator.updateRoomObjectUserLocation(this._currentRoomId, status.id, location, goal, status.canStandUp, height, direction, status.headDirection);
            this._roomCreator.updateRoomObjectUserFlatControl(this._currentRoomId, status.id, null);
            let isPosture = true;
            let postureUpdate = false;
            let postureType = _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].STD;
            let parameter = '';
            if (status.actions && status.actions.length) {
                for (let action of status.actions) {
                    if (!action)
                        continue;
                    switch (action.action) {
                        case 'flatctrl':
                            this._roomCreator.updateRoomObjectUserFlatControl(this._currentRoomId, status.id, action.value);
                            break;
                        case 'sign':
                            if (status.actions.length === 1)
                                isPosture = false;
                            this._roomCreator.updateRoomObjectUserAction(this._currentRoomId, status.id, _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].FIGURE_SIGN, parseInt(action.value));
                            break;
                        case 'gst':
                            if (status.actions.length === 1)
                                isPosture = false;
                            this._roomCreator.updateRoomObjectUserPetGesture(this._currentRoomId, status.id, action.value);
                            break;
                        case 'wav':
                        case 'mv':
                            postureUpdate = true;
                            postureType = action.action;
                            parameter = action.value;
                            break;
                        case 'trd': break;
                        default:
                            postureUpdate = true;
                            postureType = action.action;
                            parameter = action.value;
                            break;
                    }
                }
            }
            if (postureUpdate)
                this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId, status.id, postureType, parameter);
            else if (isPosture)
                this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId, status.id, _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].STD, '');
        }
    }
    onRoomUnitChatEvent(event) {
        if (!event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this._roomCreator.updateRoomObjectUserGesture(this._currentRoomId, parser.unitId, parser.gesture);
        this._roomCreator.updateRoomObjectUserAction(this._currentRoomId, parser.unitId, _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].FIGURE_TALK, (parser.message.length / 10));
    }
    onRoomUnitTypingEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_chat_RoomUnitTypingEvent__WEBPACK_IMPORTED_MODULE_28__["RoomUnitTypingEvent"]) || !event.connection || !this._roomCreator)
            return;
        this._roomCreator.updateRoomObjectUserAction(this._currentRoomId, event.getParser().unitId, _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_43__["RoomObjectVariable"].FIGURE_IS_TYPING, event.getParser().isTyping ? 1 : 0);
    }
    onPetFigureUpdateEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_pet_PetFigureUpdateEvent__WEBPACK_IMPORTED_MODULE_24__["PetFigureUpdateEvent"]) || !event.connection || !this._roomCreator)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId, parser.roomIndex, parser.figureData.figuredata, '', '', parser.isRiding);
    }
    addRoomObjectFurnitureFloor(roomId, data) {
        if (!data || !this._roomCreator)
            return;
        const location = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](data.x, data.y, data.z);
        const direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](data.direction);
        if (data.spriteName) {
            this._roomCreator.addFurnitureFloorByTypeName(roomId, data.itemId, data.spriteName, location, direction, data.state, data.data, NaN, data.expires, data.usagePolicy, data.userId, data.username, true, true, data.stackHeight);
        }
        else {
            this._roomCreator.addFurnitureFloor(roomId, data.itemId, data.spriteId, location, direction, data.state, data.data, NaN, data.expires, data.usagePolicy, data.userId, data.username, true, true, data.stackHeight);
        }
    }
    addRoomObjectFurnitureWall(roomId, data) {
        if (!data || !this._roomCreator)
            return;
        const wallGeometry = this._roomCreator.getLegacyWallGeometry(roomId);
        if (!wallGeometry)
            return;
        let location = null;
        if (!data._Str_22379) {
            location = wallGeometry.getLocation(data.width, data.height, data.localX, data.localY, data.direction);
        }
        else {
            //location = wallGeometry._Str_24084(data.y, data.z, data.direction);
        }
        const direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](wallGeometry.getDirection(data.direction));
        this._roomCreator.addFurnitureWall(roomId, data.itemId, data.spriteId, location, direction, data.state, data.stuffData, data.secondsToExpiration, data.usagePolicy, data.userId, data.username);
    }
    // public _SafeStr_10580(event:_SafeStr_2242): void
    // {
    //     var arrayIndex:int;
    //     var discoColours:Array;
    //     var discoTimer:Timer;
    //     var eventParser:_SafeStr_4576 = (event.parser as _SafeStr_4576);
    //     switch (eventParser._SafeStr_7025)
    //     {
    //         case 0:
    //             _SafeStr_4588.init(250, 5000);
    //             _SafeStr_4588._SafeStr_6766();
    //             return;
    //         case 1:
    //             _SafeStr_4231.init(250, 5000);
    //             _SafeStr_4231._SafeStr_6766();
    //             return;
    //         case 2:
    //             this._SafeStr_10592.roomSessionManager.events.dispatchEvent(new _SafeStr_2821(this._SafeStr_10593, -1, true));
    //             return;
    //         case 3:
    //             arrayIndex = 0;
    //             discoColours = [29371, 16731195, 16764980, 0x99FF00, 29371, 16731195, 16764980, 0x99FF00, 0];
    //             discoTimer = new Timer(1000, (discoColours.length + 1));
    //             discoTimer.addEventListener(TimerEvent.TIMER, function (k:TimerEvent): void
    //             {
    //                 if (arrayIndex == discoColours.length)
    //                 {
    //                     _SafeStr_10592._SafeStr_21164(_SafeStr_10593, discoColours[arrayIndex++], 176, true);
    //                 } else
    //                 {
    //                     _SafeStr_10592._SafeStr_21164(_SafeStr_10593, discoColours[arrayIndex++], 176, false);
    //                 };
    //             });
    //             discoTimer.start();
    //             return;
    //     };
    // }
    get currentRoomId() {
        return this._currentRoomId;
    }
}


/***/ }),

/***/ "83pK":
/*!*****************************************!*\
  !*** ./src/client/room/RoomInstance.ts ***!
  \*****************************************/
/*! exports provided: RoomInstance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInstance", function() { return RoomInstance; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _object_RoomObjectModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./object/RoomObjectModel */ "JDu+");


class RoomInstance extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor(id, container) {
        super();
        this._id = id;
        this._container = container;
        this._renderer = null;
        this._managers = new Map();
        this._updateCategories = [];
        this._model = new _object_RoomObjectModel__WEBPACK_IMPORTED_MODULE_1__["RoomObjectModel"]();
    }
    onDispose() {
        this.removeAllManagers();
        this.destroyRenderer();
        this._container = null;
        this._model.dispose();
    }
    setRenderer(renderer) {
        if (renderer === this._renderer)
            return;
        if (this._renderer)
            this.destroyRenderer();
        this._renderer = renderer;
        if (!this._renderer)
            return;
        this._renderer.reset();
        if (this._managers.size) {
            for (let manager of this._managers.values()) {
                if (!manager)
                    continue;
                const objects = manager.objects;
                if (!objects.length)
                    continue;
                for (let object of objects.getValues()) {
                    if (!object)
                        continue;
                    this._renderer.addObject(object);
                }
            }
        }
    }
    destroyRenderer() {
        if (!this._renderer)
            return;
        this._renderer.dispose();
        this._renderer = null;
    }
    getManager(category) {
        const manager = this._managers.get(category);
        if (!manager)
            return null;
        return manager;
    }
    getManagerOrCreate(category) {
        let manager = this.getManager(category);
        if (manager)
            return manager;
        manager = this._container.createRoomObjectManager(category);
        if (!manager)
            return null;
        this._managers.set(category, manager);
        return manager;
    }
    getTotalObjectsForManager(category) {
        const manager = this.getManager(category);
        if (!manager)
            return 0;
        return manager.totalObjects;
    }
    getRoomObject(id, category) {
        const manager = this.getManager(category);
        if (!manager)
            return null;
        const object = manager.getObject(id);
        if (!object)
            return null;
        return object;
    }
    getRoomObjectsForCategory(category) {
        const manager = this.getManager(category);
        return (manager ? manager.objects.getValues() : []);
    }
    getRoomObjectByIndex(index, category) {
        const manager = this.getManager(category);
        if (!manager)
            return null;
        const object = manager.getObjectByIndex(index);
        if (!object)
            return null;
        return object;
    }
    createRoomObject(id, stateCount, type, category) {
        const manager = this.getManagerOrCreate(category);
        if (!manager)
            return null;
        const object = manager.createObject(id, stateCount, type);
        if (!object)
            return null;
        if (this._renderer)
            this._renderer.addObject(object);
        return object;
    }
    createRoomObjectAndInitalize(objectId, type, category) {
        if (!this._container)
            return null;
        return this._container.createRoomObjectAndInitalize(this._id, objectId, type, category);
    }
    removeRoomObject(id, category) {
        const manager = this.getManager(category);
        if (!manager)
            return;
        const object = manager.getObject(id);
        if (!object)
            return;
        if (this._renderer)
            this._renderer.removeObject(object);
        manager.removeObject(id);
    }
    removeAllManagers() {
        for (let manager of this._managers.values()) {
            if (!manager)
                continue;
            if (this._renderer) {
                const objects = manager.objects;
                if (objects.length) {
                    for (let object of objects.getValues()) {
                        if (!object)
                            continue;
                        this._renderer.removeObject(object);
                    }
                }
            }
            manager.dispose();
        }
        this._managers.clear();
    }
    addUpdateCategory(category) {
        const index = this._updateCategories.indexOf(category);
        if (index >= 0)
            return;
        this._updateCategories.push(category);
    }
    removeUpdateCategory(category) {
        const index = this._updateCategories.indexOf(category);
        if (index === -1)
            return;
        this._updateCategories.splice(index, 1);
    }
    update(time) {
        for (let category of this._updateCategories) {
            const manager = this.getManager(category);
            if (!manager)
                continue;
            const objects = manager.objects;
            if (!objects.length)
                continue;
            for (let object of objects.getValues()) {
                if (!object)
                    continue;
                const logic = object.logic;
                if (logic)
                    logic.update(time);
            }
        }
        this._renderer && this._renderer.update(time);
    }
    hasUninitializedObjects() {
        for (let manager of this._managers.values()) {
            if (!manager)
                continue;
            for (let object of manager.objects.getValues()) {
                if (!object)
                    continue;
                if (!object.isReady)
                    return true;
            }
        }
        return false;
    }
    get id() {
        return this._id;
    }
    get container() {
        return this._container;
    }
    get renderer() {
        return this._renderer;
    }
    get managers() {
        return this._managers;
    }
    get model() {
        return this._model;
    }
}


/***/ }),

/***/ "87jD":
/*!********************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/pet/component.ts ***!
  \********************************************************************/
/*! exports provided: RoomInfoStandPetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoStandPetComponent", function() { return RoomInfoStandPetComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");



const _c0 = function (a0) { return { "active": a0 }; };
class RoomInfoStandPetComponent {
    constructor() {
        this.visible = false;
    }
    show() {
        if (!this.visible)
            this.visible = true;
    }
    hide() {
        if (this.visible)
            this.visible = false;
    }
}
RoomInfoStandPetComponent.ɵfac = function RoomInfoStandPetComponent_Factory(t) { return new (t || RoomInfoStandPetComponent)(); };
RoomInfoStandPetComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomInfoStandPetComponent, selectors: [["nitro-room-infostand-pet-component"]], inputs: { widget: "widget", data: "data" }, decls: 2, vars: 3, consts: [[1, "nitro-room-infostand-pet-component", 3, "ngClass"]], template: function RoomInfoStandPetComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " pet ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx.visible));
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomInfoStandPetComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-infostand-pet-component',
                template: `
    <div class="nitro-room-infostand-pet-component" [ngClass]="{ 'active': visible }">
        pet
    </div>`
            }]
    }], null, { widget: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "87uH":
/*!******************************************************************!*\
  !*** ./src/client/room/object/visualization/RoomObjectSprite.ts ***!
  \******************************************************************/
/*! exports provided: RoomObjectSprite */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectSprite", function() { return RoomObjectSprite; });
/* harmony import */ var _enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enum/AlphaTolerance */ "7UKb");
/* harmony import */ var _enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enum/RoomObjectSpriteType */ "9ewd");


class RoomObjectSprite {
    constructor() {
        this._id = RoomObjectSprite.SPRITE_COUNTER++;
        this._name = '';
        this._type = '';
        this._spriteType = _enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_1__["RoomObjectSpriteType"].DEFAULT;
        this._texture = null;
        this._width = 0;
        this._height = 0;
        this._offsetX = 0;
        this._offsetY = 0;
        this._flipH = false;
        this._flipV = false;
        this._direction = 0;
        this._alpha = 255;
        this._blendMode = PIXI.BLEND_MODES.NORMAL;
        this._color = 0xFFFFFF;
        this._relativeDepth = 0;
        this._Str_8253 = false;
        this._Str_11397 = '';
        this._clickHandling = false;
        this._visible = true;
        this._tag = '';
        this._posture = null;
        this._alphaTolerance = _enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__["AlphaTolerance"]._Str_9735;
        this._filters = [];
        this._updateCounter = 0;
    }
    dispose() {
        this._texture = null;
        this._width = 0;
        this._height = 0;
    }
    get id() {
        return this._id;
    }
    set id(id) {
        this._id = id;
    }
    get name() {
        return this._name;
    }
    set name(name) {
        if (this._name === name)
            return;
        this._name = name;
        this._updateCounter++;
    }
    get type() {
        return this._type;
    }
    set type(type) {
        this._type = type;
    }
    get spriteType() {
        return this._spriteType;
    }
    set spriteType(type) {
        this._spriteType = type;
    }
    get texture() {
        return this._texture;
    }
    set texture(texture) {
        if (this._texture === texture)
            return;
        if (texture) {
            this._width = texture.width;
            this._height = texture.height;
        }
        this._texture = texture;
        this._updateCounter++;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
    get offsetX() {
        return this._offsetX;
    }
    set offsetX(x) {
        if (this._offsetX === x)
            return;
        this._offsetX = x;
        this._updateCounter++;
    }
    get offsetY() {
        return this._offsetY;
    }
    set offsetY(y) {
        if (this._offsetY === y)
            return;
        this._offsetY = y;
        this._updateCounter++;
    }
    get flipH() {
        return this._flipH;
    }
    set flipH(flip) {
        if (this._flipH === flip)
            return;
        this._flipH = flip;
        this._updateCounter++;
    }
    get flipV() {
        return this._flipV;
    }
    set flipV(flip) {
        if (this._flipV === flip)
            return;
        this._flipV = flip;
        this._updateCounter++;
    }
    get direction() {
        return this._direction;
    }
    set direction(direction) {
        this._direction = direction;
    }
    get alpha() {
        return this._alpha;
    }
    set alpha(alpha) {
        alpha = (alpha & 0xFF);
        if (this._alpha === alpha)
            return;
        this._alpha = alpha;
        this._updateCounter++;
    }
    get blendMode() {
        return this._blendMode;
    }
    set blendMode(blend) {
        if (this._blendMode === blend)
            return;
        this._blendMode = blend;
        this._updateCounter++;
    }
    get color() {
        return this._color;
    }
    set color(color) {
        color = (color & 0xFFFFFF);
        if (this._color === color)
            return;
        this._color = color;
        this._updateCounter++;
    }
    get relativeDepth() {
        return this._relativeDepth;
    }
    set relativeDepth(depth) {
        if (this._relativeDepth === depth)
            return;
        this._relativeDepth = depth;
        this._updateCounter++;
    }
    get _Str_4593() {
        return this._Str_8253;
    }
    set _Str_4593(flag) {
        if (flag === this._Str_8253)
            return;
        this._Str_8253 = flag;
        this._updateCounter++;
    }
    get _Str_3582() {
        return this._Str_11397;
    }
    set _Str_3582(value) {
        this._Str_11397 = value;
    }
    get clickHandling() {
        return this._clickHandling;
    }
    set clickHandling(flag) {
        this._clickHandling = flag;
    }
    get visible() {
        return this._visible;
    }
    set visible(visible) {
        if (this._visible === visible)
            return;
        this._visible = visible;
        this._updateCounter++;
    }
    get tag() {
        return this._tag;
    }
    set tag(tag) {
        if (this._tag === tag)
            return;
        this._tag = tag;
        this._updateCounter++;
    }
    get posture() {
        return this._posture;
    }
    set posture(posture) {
        if (this._posture === posture)
            return;
        this._posture = posture;
        this._updateCounter++;
    }
    get alphaTolerance() {
        return this._alphaTolerance;
    }
    set alphaTolerance(tolerance) {
        if (this._alphaTolerance === tolerance)
            return;
        this._alphaTolerance = tolerance;
        this._updateCounter++;
    }
    get filters() {
        return this._filters;
    }
    set filters(filters) {
        this._filters = filters;
    }
    get updateCounter() {
        return this._updateCounter;
    }
}
RoomObjectSprite.SPRITE_COUNTER = 0;


/***/ }),

/***/ "8Bwm":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/RoomPlaneBitmapMask.ts ***!
  \********************************************************************************/
/*! exports provided: RoomPlaneBitmapMask */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPlaneBitmapMask", function() { return RoomPlaneBitmapMask; });
class RoomPlaneBitmapMask {
    constructor(k, _arg_2, _arg_3) {
        this._type = k;
        this._leftSideLoc = _arg_2;
        this._rightSideLoc = _arg_3;
    }
    get type() {
        return this._type;
    }
    get _Str_5120() {
        return this._leftSideLoc;
    }
    get _Str_4659() {
        return this._rightSideLoc;
    }
}


/***/ }),

/***/ "8Dbs":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/user/access/UserPermissionsEvent.ts ***!
  \**********************************************************************************************/
/*! exports provided: UserPermissionsEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPermissionsEvent", function() { return UserPermissionsEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_user_access_UserPermissionsParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/user/access/UserPermissionsParser */ "byIU");


class UserPermissionsEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_user_access_UserPermissionsParser__WEBPACK_IMPORTED_MODULE_1__["UserPermissionsParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "8IEq":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureVoteMajorityVisualization.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurnitureVoteMajorityVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureVoteMajorityVisualization", function() { return FurnitureVoteMajorityVisualization; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");


class FurnitureVoteMajorityVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureAnimatedVisualization"] {
    getFrameNumber(scale, layerId) {
        const result = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_VOTE_MAJORITY_RESULT);
        const tag = this.getLayerTag(scale, this.direction, layerId);
        switch (tag) {
            case FurnitureVoteMajorityVisualization.ONES_SPRITE: return (result % 10);
            case FurnitureVoteMajorityVisualization.TENS_SPRITE: return ((result / 10) % 10);
            case FurnitureVoteMajorityVisualization.HUNDREDS_SPRITE: return ((result / 100) % 10);
            default: return super.getFrameNumber(scale, layerId);
        }
    }
    getLayerAlpha(scale, direction, layerId) {
        const result = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_VOTE_MAJORITY_RESULT);
        if (((!(FurnitureVoteMajorityVisualization._Str_16109.indexOf(this.object.getState(0)) === -1)) || (result === FurnitureVoteMajorityVisualization._Str_17618))) {
            const tag = this.getLayerTag(scale, direction, layerId);
            switch (tag) {
                case FurnitureVoteMajorityVisualization.ONES_SPRITE:
                case FurnitureVoteMajorityVisualization.TENS_SPRITE:
                case FurnitureVoteMajorityVisualization.HUNDREDS_SPRITE:
                    return 0;
            }
        }
        return super.getLayerAlpha(scale, direction, layerId);
    }
}
FurnitureVoteMajorityVisualization.ONES_SPRITE = 'ones_sprite';
FurnitureVoteMajorityVisualization.TENS_SPRITE = 'tens_sprite';
FurnitureVoteMajorityVisualization.HUNDREDS_SPRITE = 'hundreds_sprite';
FurnitureVoteMajorityVisualization._Str_16109 = [-1, 1];
FurnitureVoteMajorityVisualization._Str_17618 = -1;


/***/ }),

/***/ "8YxM":
/*!*********************************************************************!*\
  !*** ./src/app/components/inventory/enum/UnseenItemCategoryEnum.ts ***!
  \*********************************************************************/
/*! exports provided: UnseenItemCategoryEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnseenItemCategoryEnum", function() { return UnseenItemCategoryEnum; });
class UnseenItemCategoryEnum {
}
UnseenItemCategoryEnum.FURNI = 1;
UnseenItemCategoryEnum.RENTABLE = 2;
UnseenItemCategoryEnum.PET = 3;
UnseenItemCategoryEnum.BADGE = 4;
UnseenItemCategoryEnum.BOT = 5;
UnseenItemCategoryEnum.GAMES = 6;
UnseenItemCategoryEnum._Str_12463 = [UnseenItemCategoryEnum.FURNI, UnseenItemCategoryEnum.RENTABLE, UnseenItemCategoryEnum.PET, UnseenItemCategoryEnum.BADGE, UnseenItemCategoryEnum.BOT];


/***/ }),

/***/ "8ZkN":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/catalog/CatalogPurchaseComposer.ts ***!
  \*********************************************************************************************/
/*! exports provided: CatalogPurchaseComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseComposer", function() { return CatalogPurchaseComposer; });
class CatalogPurchaseComposer {
    constructor(pageId, offerId, extraData, amount) {
        this._data = [pageId, offerId, extraData, amount];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "8aMC":
/*!*****************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/PlaneDrawingData.ts ***!
  \*****************************************************************************/
/*! exports provided: PlaneDrawingData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneDrawingData", function() { return PlaneDrawingData; });
class PlaneDrawingData {
    constructor(k = null, _arg_2 = 0, _arg_3 = false) {
        this._assetNames = [];
        this._maskAssetNames = [];
        this._maskAssetLocations = [];
        this._maskAssetFlipHs = [];
        this._maskAssetFlipVs = [];
        if (k != null) {
            this._maskAssetNames = k._maskAssetNames;
            this._maskAssetLocations = k._maskAssetLocations;
            this._maskAssetFlipHs = k._maskAssetFlipHs;
            this._maskAssetFlipVs = k._maskAssetFlipVs;
        }
        this._color = _arg_2;
        this._alignBottom = _arg_3;
    }
    addMask(k, _arg_2, _arg_3, _arg_4) {
        this._maskAssetNames.push(k);
        this._maskAssetLocations.push(_arg_2);
        this._maskAssetFlipHs.push(_arg_3);
        this._maskAssetFlipVs.push(_arg_4);
    }
    _Str_22862(k) {
        this._assetNames.push(k);
    }
    set z(k) {
        this._z = k;
    }
    get z() {
        return this._z;
    }
    set cornerPoints(k) {
        this._points = k;
    }
    get cornerPoints() {
        return this._points;
    }
    get color() {
        return this._color;
    }
    get _Str_21807() {
        return this._maskAssetNames;
    }
    get _Str_20731() {
        return this._maskAssetLocations;
    }
    get _Str_21810() {
        return this._maskAssetFlipHs;
    }
    get _Str_19044() {
        return this._maskAssetFlipVs;
    }
    _Str_14945() {
        return this._alignBottom;
    }
    get _Str_17636() {
        return this._assetNames;
    }
}


/***/ }),

/***/ "8bTt":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetRentableBotInfostandUpdateEvent.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomWidgetRentableBotInfostandUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetRentableBotInfostandUpdateEvent", function() { return RoomWidgetRentableBotInfostandUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetRentableBotInfostandUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor() {
        super(RoomWidgetRentableBotInfostandUpdateEvent.RENTABLE_BOT);
        this._name = "";
        this._motto = "";
        this._Str_4900 = 0;
        this._figure = "";
        this._Str_5228 = 0;
        this._Str_5131 = 0;
        this._Str_4026 = false;
        this._Str_4028 = false;
        this._roomControllerLevel = 0;
        this._badges = [];
    }
    set name(k) {
        this._name = k;
    }
    get name() {
        return this._name;
    }
    set motto(k) {
        this._motto = k;
    }
    get motto() {
        return this._motto;
    }
    set _Str_2394(k) {
        this._Str_4900 = k;
    }
    get _Str_2394() {
        return this._Str_4900;
    }
    set figure(k) {
        this._figure = k;
    }
    get figure() {
        return this._figure;
    }
    set badges(k) {
        this._badges = k;
    }
    get badges() {
        return this._badges;
    }
    get ownerId() {
        return this._ownerId;
    }
    set ownerId(k) {
        this._ownerId = k;
    }
    get ownerName() {
        return this._ownerName;
    }
    set ownerName(k) {
        this._ownerName = k;
    }
    set _Str_3246(k) {
        this._Str_4026 = k;
    }
    get _Str_3246() {
        return this._Str_4026;
    }
    set roomControllerLevel(k) {
        this._roomControllerLevel = k;
    }
    get roomControllerLevel() {
        return this._roomControllerLevel;
    }
    set _Str_3529(k) {
        this._Str_4028 = k;
    }
    get _Str_3529() {
        return this._Str_4028;
    }
    set _Str_3249(k) {
        this._Str_5228 = k;
    }
    get _Str_3249() {
        return this._Str_5228;
    }
    set _Str_3313(k) {
        this._Str_5131 = k;
    }
    get _Str_3313() {
        return this._Str_5131;
    }
    get _Str_2899() {
        return this._Str_3986;
    }
    set _Str_2899(k) {
        this._Str_3986 = k;
    }
}
RoomWidgetRentableBotInfostandUpdateEvent.RENTABLE_BOT = "RWRBIUE_RENTABLE_BOT";
RoomWidgetRentableBotInfostandUpdateEvent._Str_7492 = "RENTABLE_BOT";


/***/ }),

/***/ "8cFD":
/*!************************************************!*\
  !*** ./src/client/nitro/avatar/AvatarImage.ts ***!
  \************************************************/
/*! exports provided: AvatarImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarImage", function() { return AvatarImage; });
/* harmony import */ var _pixi_filter_convolution__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/filter-convolution */ "+2Xs");
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../room/utils/TextureUtils */ "IxQr");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Nitro */ "P7Cj");
/* harmony import */ var _actions_ActiveActionData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actions/ActiveActionData */ "90ny");
/* harmony import */ var _AvatarFigureContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AvatarFigureContainer */ "/niJ");
/* harmony import */ var _cache_AvatarImageCache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cache/AvatarImageCache */ "H9Sz");
/* harmony import */ var _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enum/AvatarAction */ "/PsI");
/* harmony import */ var _enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./enum/AvatarDirectionAngle */ "sRxW");
/* harmony import */ var _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./enum/AvatarScaleType */ "uEox");
/* harmony import */ var _enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./enum/AvatarSetType */ "Kx+W");










class AvatarImage {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6 = null) {
        this._Str_1724 = 0;
        this._Str_1005 = 0;
        this._Str_2091 = false;
        this._Str_2143 = false;
        this._Str_1586 = false;
        this._Str_1514 = -1;
        this._Str_1949 = -1;
        this._Str_1499 = null;
        this._Str_1992 = null;
        this._Str_903 = [];
        this._Str_614 = [];
        this._Str_1945 = [];
        this._Str_1535 = true;
        this._disposed = false;
        this._Str_1210 = _arg_5;
        this._Str_581 = k;
        this._assets = _arg_2;
        this._Str_842 = _arg_4;
        this._Str_1153 = _arg_6;
        if (this._Str_842 == null) {
            this._Str_842 = _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_8__["AvatarScaleType"].LARGE;
        }
        if (_arg_3 == null) {
            _arg_3 = new _AvatarFigureContainer__WEBPACK_IMPORTED_MODULE_4__["AvatarFigureContainer"]('hr-893-45.hd-180-2.ch-210-66.lg-270-82.sh-300-91.wa-2007-.ri-1-');
        }
        this._Str_1710 = _arg_3;
        this._Str_586 = new _cache_AvatarImageCache__WEBPACK_IMPORTED_MODULE_5__["AvatarImageCache"](this._Str_581, this, this._assets, this._Str_842);
        this.setDirection(AvatarImage._Str_1501, AvatarImage._Str_1301);
        this._Str_614 = [];
        this._Str_612 = new _actions_ActiveActionData__WEBPACK_IMPORTED_MODULE_3__["ActiveActionData"](_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].POSTURE_STAND);
        this._Str_612._Str_742 = this._Str_581._Str_1675(AvatarImage.DEFAULT);
        this._Str_1632();
        this._Str_864 = new Map();
        this._Str_2146 = 0;
    }
    _Str_1009() {
        this._Str_1972(_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_9__["AvatarSetType"].FULL);
        return this._Str_586._Str_1009();
    }
    dispose() {
        if (this._disposed)
            return;
        this._Str_581 = null;
        this._assets = null;
        this._Str_1708 = null;
        this._Str_1710 = null;
        this._Str_2121 = null;
        this._Str_614 = null;
        if (this._Str_671) {
            this._Str_671.destroy();
            this._Str_671 = null;
        }
        if (this._Str_586) {
            this._Str_586.dispose();
            this._Str_586 = null;
        }
        if (this._Str_864) {
            for (let k of this._Str_864.values())
                if (k)
                    k.destroy();
            this._Str_864 = null;
        }
        this._Str_671 = null;
        this._Str_903 = null;
        this._disposed = true;
    }
    get disposed() {
        return this._disposed;
    }
    _Str_784() {
        return this._Str_1710;
    }
    _Str_797() {
        return this._Str_842;
    }
    _Str_867(k) {
        return this._Str_581._Str_867(this._Str_1710, k);
    }
    setDirection(k, _arg_2) {
        _arg_2 = (_arg_2 + this._Str_1005);
        if (_arg_2 < _enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_7__["AvatarDirectionAngle"].MIN_DIRECTION) {
            _arg_2 = (_enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_7__["AvatarDirectionAngle"].MAX_DIRECTION + (_arg_2 + 1));
        }
        if (_arg_2 > _enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_7__["AvatarDirectionAngle"].MAX_DIRECTION) {
            _arg_2 = (_arg_2 - (_enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_7__["AvatarDirectionAngle"].MAX_DIRECTION + 1));
        }
        if (this._Str_581._Str_1939(k)) {
            this._Str_1668 = _arg_2;
        }
        if ((k === _enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_9__["AvatarSetType"].HEAD) || (k === _enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_9__["AvatarSetType"].FULL)) {
            if ((k === _enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_9__["AvatarSetType"].HEAD) && (this._Str_1285())) {
                _arg_2 = this._Str_1668;
            }
            this._Str_1374 = _arg_2;
        }
        this._Str_586.setDirection(k, _arg_2);
        this._Str_1535 = true;
    }
    _Str_880(k, _arg_2) {
        var _local_3;
        _local_3 = Math.floor(_arg_2 / 45);
        this.setDirection(k, _local_3);
    }
    _Str_754() {
        return this._Str_1786;
    }
    _Str_781() {
        return this._Str_903;
    }
    _Str_607(k) {
        return this._Str_581._Str_1881(k.animation.id, this._Str_1724, k.id);
    }
    _Str_953(k = 1) {
        this._Str_1724 += k;
        this._Str_1535 = true;
    }
    _Str_833() {
        this._Str_1724 = 0;
        this._Str_1535 = true;
    }
    _Str_1469() {
        var k;
        var _local_2;
        if (!this._Str_2042) {
            return null;
        }
        if (((this._Str_1163.length == 1) && (this._Str_1668 == this._Str_1374))) {
            return (this._Str_1668 + this._Str_1306) + (this._Str_1724 % 4);
        }
        if (this._Str_1163.length == 2) {
            for (let k of this._Str_1163) {
                if (((k._Str_695 == 'fx') && ((((k._Str_727 == '33') || (k._Str_727 == '34')) || (k._Str_727 == '35')) || (k._Str_727 == '36')))) {
                    return (this._Str_1668 + this._Str_1306) + 0;
                }
                if (((k._Str_695 == 'fx') && ((k._Str_727 == '38') || (k._Str_727 == '39')))) {
                    _local_2 = (this._Str_1724 % 11);
                    return (((this._Str_1668 + '_') + this._Str_1374) + this._Str_1306) + _local_2;
                }
            }
        }
        return null;
    }
    _Str_755(k, _arg_2, _arg_3) {
        if ((((!(_arg_3 == this._Str_1949)) || (!(_arg_2 == this._Str_1499))) || (!(k == this._Str_1992)))) {
            this._Str_1949 = _arg_3;
            this._Str_1499 = _arg_2;
            this._Str_1992 = k;
            this._Str_1945 = this._Str_581._Str_755(k, _arg_2, _arg_3);
        }
        return this._Str_1945;
    }
    _Str_1972(k) {
        var _local_4;
        if (this._Str_1708 == null) {
            return;
        }
        var _local_2 = this._Str_581._Str_1664(this._Str_842, this._Str_1708._Str_742._Str_868);
        if (_local_2 == null) {
            return;
        }
        var _local_3 = this._Str_755(k, this._Str_1708._Str_742._Str_868, this._Str_1668);
        var _local_6 = (_local_3.length - 1);
        while (_local_6 >= 0) {
            _local_4 = _local_3[_local_6];
            const _local_5 = this._Str_586._Str_1629(_local_4, this._Str_1724, true);
            _local_6--;
        }
    }
    getImage(setType, hightlight, scale = 1) {
        if (!this._Str_1535)
            return this._Str_671;
        if (!this._Str_1708)
            return null;
        if (!this._Str_2143)
            this._Str_962();
        const _local_4 = this._Str_1469();
        if (_local_4) {
            if (this.getFullImage(_local_4)) {
                this._Str_1535 = false;
                if (hightlight)
                    return this.getFullImage(_local_4).clone();
                this._Str_671 = this.getFullImage(_local_4);
                this._Str_1586 = true;
                return this._Str_671;
            }
        }
        const avatarCanvas = this._Str_581._Str_1664(this._Str_842, this._Str_1708._Str_742._Str_868);
        if (!avatarCanvas)
            return null;
        if ((this._Str_1586 || (this._Str_671 == null)) || ((!(this._Str_671.width == avatarCanvas.width)) || (!(this._Str_671.height == avatarCanvas.height)))) {
            if (this._Str_671 && !this._Str_1586)
                this._Str_671.destroy();
            this._Str_671 = null;
            this._Str_1586 = false;
        }
        const _local_6 = this._Str_755(setType, this._Str_1708._Str_742._Str_868, this._Str_1668);
        this._Str_671 = null;
        const container = new PIXI.Container();
        var _local_11 = true;
        var _local_12 = (_local_6.length - 1);
        while (_local_12 >= 0) {
            const _local_7 = _local_6[_local_12];
            const _local_8 = this._Str_586._Str_1629(_local_7, this._Str_1724);
            if (_local_8) {
                const _local_9 = _local_8.image;
                _local_11 = ((_local_11) && (_local_8._Str_1807));
                let _local_10 = _local_8._Str_1076.clone();
                _local_10.x += avatarCanvas.offset.x;
                _local_10.y += avatarCanvas.offset.y;
                if (_local_9 && _local_10) {
                    _local_10.x += avatarCanvas._Str_1076.x;
                    _local_10.y += avatarCanvas._Str_1076.y;
                    const sprite = PIXI.Sprite.from(_local_9);
                    if (sprite) {
                        sprite.position.set(_local_10.x, _local_10.y);
                        container.addChild(sprite);
                    }
                }
            }
            _local_12--;
        }
        const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_1__["TextureUtils"].generateTexture(container, new PIXI.Rectangle(0, 0, avatarCanvas.width, avatarCanvas.height));
        if (!texture)
            return null;
        this._Str_671 = texture;
        this._Str_1535 = false;
        if (this._Str_2121) {
            if (this._Str_2121._Str_832) {
                let avatarImage = this._Str_1894(this._Str_671);
                this.applyPalette(avatarImage, this._Str_2121.reds);
                if (this._Str_671)
                    this._Str_671.destroy();
                this._Str_671 = avatarImage;
            }
        }
        if (((!(_local_4 == null)) && (_local_11))) {
            this.cacheFullImage(_local_4, this._Str_671.clone());
        }
        if (scale !== 1) {
            const matrix = new PIXI.Matrix();
            matrix.scale(scale, scale);
            const graphic = new PIXI.Graphics();
            graphic
                .beginTextureFill({ texture: this._Str_671, matrix })
                .drawRect(0, 0, (this._Str_671.width * scale), (this._Str_671.height * scale))
                .endFill();
            const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_1__["TextureUtils"].generateTexture(graphic);
            if (texture)
                this._Str_671 = texture;
        }
        if (this._Str_671 && hightlight)
            return this._Str_671.clone();
        return this._Str_671;
    }
    _Str_1901() {
        var k = 8;
        var _local_2 = (k / -100);
        var _local_3 = ((_local_2 * -8) + 1);
        var _local_4 = [_local_2, _local_2, _local_2, _local_2, _local_3, _local_2, _local_2, _local_2, _local_2];
        return new _pixi_filter_convolution__WEBPACK_IMPORTED_MODULE_0__["ConvolutionFilter"](_local_4, 3, 3);
    }
    _Str_1894(k, _arg_2 = 'CHANNELS_EQUAL') {
        let _local_3 = 0.33;
        let _local_4 = 0.33;
        let _local_5 = 0.33;
        let _local_6 = 1;
        switch (_arg_2) {
            case "CHANNELS_UNIQUE":
                _local_3 = 0.3;
                _local_4 = 0.59;
                _local_5 = 0.11;
                break;
            case "CHANNELS_RED":
                _local_3 = 1;
                _local_4 = 0;
                _local_5 = 0;
                break;
            case "CHANNELS_GREEN":
                _local_3 = 0;
                _local_4 = 1;
                _local_5 = 0;
                break;
            case "CHANNELS_BLUE":
                _local_3 = 0;
                _local_4 = 0;
                _local_5 = 1;
                break;
            case "CHANNELS_DESATURATED":
                _local_3 = 0.3086;
                _local_4 = 0.6094;
                _local_5 = 0.082;
                break;
        }
        const colorFilter = new PIXI.filters.ColorMatrixFilter();
        colorFilter.matrix = [_local_3, _local_4, _local_5, 0, 0, _local_3, _local_4, _local_5, 0, 0, _local_3, _local_4, _local_5, 0, 0, 0, 0, 0, 1, 0];
        const sprite = PIXI.Sprite.from(k);
        if (sprite) {
            sprite.filters = [colorFilter];
            return _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_1__["TextureUtils"].generateTexture(sprite, new PIXI.Rectangle(0, 0, k.width, k.height));
        }
        return null;
    }
    applyPalette(texture, reds = null, greens = null, blues = null, alphas = null) {
        const sprite = PIXI.Sprite.from(texture);
        const textureCanvas = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.renderer.extract.canvas(sprite);
        const textureCtx = textureCanvas.getContext('2d');
        const textureImageData = textureCtx.getImageData(0, 0, textureCanvas.width, textureCanvas.height);
        const data = textureImageData.data;
        for (let i = 0; i < data.length; i += 4) {
            var r = i;
            var g = i + 1;
            var b = i + 2;
            var a = i + 3;
            var red = (reds) ? reds[data[r]] : data[r] << 16;
            var green = (greens) ? greens[data[g]] : data[g] << 8;
            var blue = (blues) ? blues[data[b]] : data[b];
            var alpha = (alphas) ? alphas[data[a]] : (data[a] << 24) >>> 0;
            data[r] = ((red >> 16 & 0xFF) + (green >> 16 & 0xFF) + (blue >> 16 & 0xFF) + (alpha >> 16 & 0xFF)) % 256;
            data[g] = ((red >> 8 & 0xFF) + (green >> 8 & 0xFF) + (blue >> 8 & 0xFF) + (alpha >> 8 & 0xFF)) % 256;
            data[b] = ((red & 0xFF) + (green & 0xFF) + (blue & 0xFF) + (alpha & 0xFF)) % 256;
            data[a] = ((red >> 24 & 0xFF) + (green >> 24 & 0xFF) + (blue >> 24 & 0xFF) + (alpha >> 24 & 0xFF)) % 256;
        }
        textureCtx.putImageData(textureImageData, 0, 0);
        return PIXI.Texture.from(textureCanvas);
    }
    getCroppedImage(setType, scale = 1) {
        if (!this._Str_1708)
            return null;
        if (!this._Str_2143)
            this._Str_962();
        const avatarCanvas = this._Str_581._Str_1664(this._Str_842, this._Str_1708._Str_742._Str_868);
        if (!avatarCanvas)
            return null;
        const setTypes = this._Str_755(setType, this._Str_1708._Str_742._Str_868, this._Str_1668);
        const container = new PIXI.Container();
        let _local_12 = (setTypes.length - 1);
        while (_local_12 >= 0) {
            const set = setTypes[_local_12];
            const bodyPart = this._Str_586._Str_1629(set, this._Str_1724);
            if (bodyPart) {
                const texture = bodyPart.image;
                if (!texture) {
                    container.destroy();
                    return null;
                }
                const offset = bodyPart._Str_1076;
                const sprite = PIXI.Sprite.from(texture);
                sprite.x = offset.x;
                sprite.y = offset.y;
                container.addChild(sprite);
            }
            _local_12--;
        }
        const image = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.renderer.extract.image(container);
        if (!image)
            return null;
        return image;
    }
    getFullImage(k) {
        return (this._Str_864.get(k) || null);
    }
    cacheFullImage(k, _arg_2) {
        let existing = this._Str_864.get(k);
        if (existing) {
            existing.destroy();
            this._Str_864.delete(k);
            existing = _arg_2;
        }
        this._Str_864.set(k, existing);
    }
    getAsset(k) {
        return this._assets.getAsset(k);
    }
    getDirection() {
        return this._Str_1668;
    }
    _Str_913() {
        this._Str_614 = [];
        this._Str_2143 = false;
        this._Str_1306 = '';
        this._Str_2042 = false;
    }
    _Str_962() {
        var k;
        if (!this._Str_711())
            return;
        for (let k of this._Str_1163) {
            if (k._Str_695 === _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EFFECT) {
                if (!this._Str_1210.isAvatarEffectReady(parseInt(k._Str_727)))
                    this._Str_1210.downloadAvatarEffect(parseInt(k._Str_727), this);
            }
        }
        this._Str_1632();
        this._Str_1679();
    }
    appendAction(k, ..._args) {
        let _local_3 = '';
        this._Str_2143 = false;
        if (_args && (_args.length > 0))
            _local_3 = _args[0];
        if ((_local_3 !== undefined) && (_local_3 !== null))
            _local_3 = _local_3.toString();
        switch (k) {
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].POSTURE:
                switch (_local_3) {
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].POSTURE_LAY:
                        if (this._Str_1668 == 0) {
                            this.setDirection(_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_9__["AvatarSetType"].FULL, 4);
                        }
                        else {
                            this.setDirection(_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_9__["AvatarSetType"].FULL, 2);
                        }
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].POSTURE_WALK:
                        this._Str_2042 = true;
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].POSTURE_STAND:
                        this._Str_2042 = true;
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].POSTURE_SWIM:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].POSTURE_FLOAT:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].POSTURE_SIT:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].SNOWWAR_RUN:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].SNOWWAR_DIE_FRONT:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].SNOWWAR_DIE_BACK:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].SNOWWAR_PICK:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].SNOWWAR_THROW:
                        this._Str_1182(_local_3);
                        break;
                }
                break;
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].GESTURE:
                switch (_local_3) {
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].GESTURE_AGGRAVATED:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].GESTURE_SAD:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].GESTURE_SMILE:
                    case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].GESTURE_SURPRISED:
                        this._Str_1182(_local_3);
                        break;
                }
                break;
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EFFECT:
                if ((((((_local_3 === '33') || (_local_3 === '34')) || (_local_3 === '35')) || (_local_3 === '36')) || (_local_3 === '38')) || (_local_3 === '39')) {
                    this._Str_2042 = true;
                }
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].DANCE:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].TALK:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_WAVE:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].SLEEP:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].SIGN:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_RESPECT:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_BLOW_A_KISS:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_LAUGH:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_CRY:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_IDLE:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_SNOWBOARD_OLLIE:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_SNOWBORD_360:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EXPRESSION_RIDE_JUMP:
                this._Str_1182(k, _local_3);
                break;
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].CARRY_OBJECT:
            case _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].USE_OBJECT:
                const _local_4 = this._Str_581._Str_2018(k);
                if (_local_4)
                    _local_3 = _local_4._Str_1350(_local_3);
                this._Str_1182(k, _local_3);
                break;
        }
        return true;
    }
    _Str_1182(k, _arg_2 = '') {
        var _local_3;
        if (!this._Str_614)
            this._Str_614 = [];
        var _local_4 = 0;
        while (_local_4 < this._Str_614.length) {
            _local_3 = this._Str_614[_local_4];
            if (((_local_3._Str_695 == k) && (_local_3._Str_727 == _arg_2))) {
                return;
            }
            _local_4++;
        }
        this._Str_614.push(new _actions_ActiveActionData__WEBPACK_IMPORTED_MODULE_3__["ActiveActionData"](k, _arg_2, this._Str_1724));
    }
    _Str_899() {
        return (this._Str_1222) || (this._Str_2146 > 1);
    }
    _Str_1632() {
        this._Str_2091 = false;
        this._Str_1222 = false;
        this._Str_1786 = [];
        this._Str_2121 = null;
        this._Str_1005 = 0;
        this._Str_581._Str_2101(this);
        this._Str_1708 = this._Str_612;
        this._Str_1708._Str_742 = this._Str_612._Str_742;
        this._Str_741(this._Str_612);
        return true;
    }
    _Str_1285() {
        var _local_2;
        var _local_3;
        var k;
        if (this._Str_1163 == null) {
            return false;
        }
        for (let _local_3 of this._Str_1163) {
            _local_2 = this._Str_581._Str_2018(_local_3._Str_695);
            if (((!(_local_2 == null)) && (_local_2._Str_715(_local_3._Str_727)))) {
                k = true;
            }
        }
        return k;
    }
    _Str_711() {
        var _local_2;
        var _local_3;
        var _local_4;
        var _local_5;
        var k;
        this._Str_1306 = '';
        this._Str_1163 = this._Str_581._Str_711(this._Str_614);
        this._Str_2146 = this._Str_581._Str_1936(this._Str_1163);
        if (!this._Str_1163) {
            this._Str_903 = [0, 0, 0];
            if (this._Str_1566 !== '') {
                k = true;
                this._Str_1566 = '';
            }
        }
        else {
            this._Str_903 = this._Str_581._Str_781(this._Str_1163, this._Str_842, this._Str_1668);
            for (let _local_4 of this._Str_1163) {
                this._Str_1306 = (this._Str_1306 + (_local_4._Str_695 + _local_4._Str_727));
                if (_local_4._Str_695 === _enum_AvatarAction__WEBPACK_IMPORTED_MODULE_6__["AvatarAction"].EFFECT) {
                    const _local_5 = parseInt(_local_4._Str_727);
                    if (this._Str_1514 !== _local_5)
                        _local_2 = true;
                    this._Str_1514 = _local_5;
                    _local_3 = true;
                }
            }
            if (!_local_3) {
                if (this._Str_1514 > -1)
                    _local_2 = true;
                this._Str_1514 = -1;
            }
            if (_local_2)
                this._Str_586._Str_1086(0);
            if (this._Str_1566 != this._Str_1306) {
                k = true;
                this._Str_1566 = this._Str_1306;
            }
        }
        this._Str_2143 = true;
        return k;
    }
    _Str_1679() {
        if (!this._Str_1163 == null)
            return;
        var _local_3 = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.time;
        var _local_4 = [];
        for (let k of this._Str_1163)
            _local_4.push(k._Str_695);
        for (let k of this._Str_1163) {
            if ((k && k._Str_742) && k._Str_742._Str_861) {
                const _local_2 = this._Str_581._Str_720(((k._Str_742.state + '.') + k._Str_727));
                if (_local_2 && _local_2._Str_1892()) {
                    const _local_5 = _local_2._Str_1571();
                    if (_local_5) {
                        for (let _local_6 of _local_5) {
                            if (_local_4.indexOf(_local_6) >= 0)
                                k._Str_707 = _local_2._Str_707(_local_6);
                        }
                    }
                }
                if (_local_2 && _local_2.resetOnToggle)
                    this._Str_2091 = true;
            }
        }
        for (let k of this._Str_1163) {
            if (!((!(k)) || (!(k._Str_742)))) {
                if (k._Str_742._Str_861 && (k._Str_727 === ''))
                    k._Str_727 = '1';
                this._Str_1496(k, _local_3);
                if (k._Str_742._Str_861) {
                    this._Str_1222 = k._Str_742._Str_801(k._Str_727);
                    const _local_2 = this._Str_581._Str_720(((k._Str_742.state + '.') + k._Str_727));
                    if (_local_2) {
                        this._Str_1786 = this._Str_1786.concat(_local_2._Str_786);
                        if (_local_2._Str_776())
                            this._Str_1005 = _local_2._Str_1493.offset;
                        if (_local_2._Str_872())
                            this._Str_2121 = _local_2._Str_1475;
                    }
                }
            }
        }
    }
    _Str_1496(k, _arg_2) {
        if (((k == null) || (k._Str_742 == null))) {
            return;
        }
        if (k._Str_742._Str_778 == '') {
            return;
        }
        if (k._Str_742._Str_779) {
            this._Str_1708 = k;
            this._Str_586._Str_2014(k._Str_742._Str_868);
        }
        this._Str_586._Str_1565(k, _arg_2);
        this._Str_1535 = true;
    }
    _Str_741(k) {
        if (!k)
            return;
        if (k._Str_742._Str_778 === '')
            return;
        if (k._Str_742._Str_779) {
            this._Str_1708 = k;
            this._Str_586._Str_2014(k._Str_742._Str_868);
        }
        this._Str_586._Str_741(k);
        this._Str_1535 = true;
    }
    get _Str_920() {
        return this._Str_2121;
    }
    _Str_1591(k) {
    }
    _Str_1511(k) {
    }
    isPlaceholder() {
        return false;
    }
    _Str_998() {
        this._Str_1566 = '';
    }
    get _Str_677() {
        return this._Str_2091;
    }
    get _Str_792() {
        return this._Str_1708._Str_695;
    }
    resetEffect(effect) {
        if (effect === this._Str_1514) {
            this._Str_1632();
            this._Str_1679();
            this._Str_2091 = true;
            this._Str_1535 = true;
            if (this._Str_1153)
                this._Str_1153.resetEffect(effect);
        }
    }
}
AvatarImage.CHANNELS_EQUAL = 'CHANNELS_EQUAL';
AvatarImage.CHANNELS_UNIQUE = 'CHANNELS_UNIQUE';
AvatarImage.CHANNELS_RED = 'CHANNELS_RED';
AvatarImage.CHANNELS_GREEN = 'CHANNELS_GREEN';
AvatarImage.CHANNELS_BLUE = 'CHANNELS_BLUE';
AvatarImage.CHANNELS_SATURATED = 'CHANNELS_SATURATED';
AvatarImage.DEFAULT = 'Default';
AvatarImage._Str_1301 = 2;
AvatarImage._Str_1501 = _enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_9__["AvatarSetType"].FULL;


/***/ }),

/***/ "8cm3":
/*!******************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/parts/ActivePartSet.ts ***!
  \******************************************************************/
/*! exports provided: ActivePartSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivePartSet", function() { return ActivePartSet; });
class ActivePartSet {
    constructor(data) {
        this._id = data.id;
        this._parts = [];
        if (data.activeParts && (data.activeParts.length > 0)) {
            for (let part of data.activeParts) {
                if (!part)
                    continue;
                this._parts.push(part.setType);
            }
        }
    }
    get _Str_806() {
        return this._parts;
    }
}


/***/ }),

/***/ "8dyV":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/data/UserInfoDataParser.ts ***!
  \****************************************************************************************/
/*! exports provided: UserInfoDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserInfoDataParser", function() { return UserInfoDataParser; });
class UserInfoDataParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._userId = 0;
        this._username = null;
        this._figure = null;
        this._gender = null;
        this._motto = null;
        this._realName = null;
        this._boolean1 = false;
        this._respectsReceived = 0;
        this._respectsRemaining = 0;
        this._respectsPetRemaining = 0;
        this._boolean2 = false;
        this._accountCreated = null;
        this._canChangeName = false;
        this._boolean3 = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._userId = wrapper.readInt();
        this._username = wrapper.readString();
        this._figure = wrapper.readString();
        this._gender = wrapper.readString();
        this._motto = wrapper.readString();
        this._realName = wrapper.readString();
        this._boolean1 = wrapper.readBoolean();
        this._respectsReceived = wrapper.readInt();
        this._respectsRemaining = wrapper.readInt();
        this._respectsPetRemaining = wrapper.readInt();
        this._boolean2 = wrapper.readBoolean();
        this._accountCreated = wrapper.readString();
        this._canChangeName = wrapper.readBoolean();
        this._boolean3 = wrapper.readBoolean();
        return true;
    }
    get userId() {
        return this._userId;
    }
    get username() {
        return this._username;
    }
    get figure() {
        return this._figure;
    }
    get gender() {
        return this._gender;
    }
    get motto() {
        return this._motto;
    }
    get realName() {
        return this._realName;
    }
}


/***/ }),

/***/ "8i/q":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneVisualizationLayer.ts ***!
  \*****************************************************************************************************/
/*! exports provided: PlaneVisualizationLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneVisualizationLayer", function() { return PlaneVisualizationLayer; });
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/TextureUtils */ "IxQr");

class PlaneVisualizationLayer {
    constructor(k, _arg_2, _arg_3, _arg_4 = 0) {
        this._material = k;
        this._offset = _arg_4;
        this._align = _arg_3;
        this._color = _arg_2;
        this._bitmapData = null;
        this._isDisposed = false;
    }
    get offset() {
        return this._offset;
    }
    get align() {
        return this._align;
    }
    get disposed() {
        return this._isDisposed;
    }
    dispose() {
        this._isDisposed = true;
        this._material = null;
        this._Str_3355();
    }
    _Str_3355() {
        if (this._bitmapData) {
            this._bitmapData.destroy();
            this._bitmapData = null;
        }
    }
    render(canvas, width, height, normal, useTexture, offsetX, offsetY) {
        if (!canvas || (canvas.width !== width) || (canvas.height !== height))
            canvas = null;
        let bitmapData = null;
        if (this._material) {
            bitmapData = this._material.render(null, width, height, normal, useTexture, offsetX, (offsetY + this.offset), (this.align === PlaneVisualizationLayer.ALIGN_TOP));
            if (bitmapData && (bitmapData !== canvas)) {
                if (this._bitmapData)
                    this._bitmapData.destroy();
                this._bitmapData = bitmapData.clone();
                bitmapData = this._bitmapData;
            }
        }
        else {
            if (!canvas) {
                if (this._bitmapData && (this._bitmapData.width === width) && (this._bitmapData.height === height))
                    return this._bitmapData;
                if (this._bitmapData)
                    this._bitmapData.destroy();
                const graphic = new PIXI.Graphics()
                    .beginFill(0xFFFFFF)
                    .drawRect(0, 0, width, height)
                    .endFill();
                this._bitmapData = graphic;
                bitmapData = this._bitmapData;
            }
            else {
                canvas
                    .beginFill(0xFFFFFF)
                    .drawRect(0, 0, width, height)
                    .endFill();
                bitmapData = canvas;
            }
        }
        if (bitmapData) {
            bitmapData.tint = this._color;
            if (canvas && (bitmapData !== canvas)) {
                const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(bitmapData, new PIXI.Rectangle(0, 0, width, height));
                canvas
                    .beginTextureFill({ texture })
                    .drawRect(0, 0, width, height)
                    .endFill();
                bitmapData = canvas;
            }
        }
        return bitmapData;
    }
    _Str_8547() {
        return this._material;
    }
    _Str_751() {
        return this._color;
    }
}
PlaneVisualizationLayer._Str_1934 = 0;
PlaneVisualizationLayer.ALIGN_TOP = 1;
PlaneVisualizationLayer._Str_3606 = 2;
PlaneVisualizationLayer._Str_6914 = PlaneVisualizationLayer.ALIGN_TOP;


/***/ }),

/***/ "8lyl":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/data/RoomInfoOwnerEvent.ts ***!
  \******************************************************************************************/
/*! exports provided: RoomInfoOwnerEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoOwnerEvent", function() { return RoomInfoOwnerEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_data_RoomInfoOwnerParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/data/RoomInfoOwnerParser */ "hP0c");


class RoomInfoOwnerEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_data_RoomInfoOwnerParser__WEBPACK_IMPORTED_MODULE_1__["RoomInfoOwnerParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "8mH1":
/*!*********************************************************!*\
  !*** ./src/client/nitro/session/handler/BaseHandler.ts ***!
  \*********************************************************/
/*! exports provided: BaseHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseHandler", function() { return BaseHandler; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/common/disposable/Disposable */ "Xr/m");

class BaseHandler extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor(connection, listener) {
        super();
        this._connection = connection;
        this._listener = listener;
        this._roomId = 0;
    }
    onDispose() {
        this._connection = null;
        this._listener = null;
    }
    setRoomId(id) {
        this._roomId = id;
    }
    get connection() {
        return this._connection;
    }
    get listener() {
        return this._listener;
    }
    get roomId() {
        return this._roomId;
    }
}


/***/ }),

/***/ "8oQA":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureBadgeDisplayVisualization.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurnitureBadgeDisplayVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureBadgeDisplayVisualization", function() { return FurnitureBadgeDisplayVisualization; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");


class FurnitureBadgeDisplayVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._badgeAssetNameNormalScale = '';
        this._badgeAssetNameSmallScale = '';
        this._badgeVisibleInState = -1;
    }
    updateModel(scale) {
        let updateModel = super.updateModel(scale);
        const imageStatus = (this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_BADGE_IMAGE_STATUS) || 0);
        if (imageStatus && this._badgeAssetNameNormalScale === '') {
            this._badgeAssetNameNormalScale = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_BADGE_ASSET_NAME);
            if (this._badgeAssetNameSmallScale === '')
                this._badgeAssetNameSmallScale = this._badgeAssetNameNormalScale + '_32';
            const visibleInState = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_BADGE_VISIBLE_IN_STATE);
            if (!isNaN)
                this._badgeVisibleInState = visibleInState;
            updateModel = true;
        }
        return updateModel;
    }
    getSpriteAssetName(scale, layerId) {
        const tag = this.getLayerTag(scale, this.direction, layerId);
        if ((tag !== FurnitureBadgeDisplayVisualization.BADGE) || ((this._badgeVisibleInState !== -1) && (this.object.getState(0) !== this._badgeVisibleInState)))
            return super.getSpriteAssetName(scale, layerId);
        if (scale === 32)
            return this._badgeAssetNameSmallScale;
        return this._badgeAssetNameNormalScale;
    }
    getLayerXOffset(scale, direction, layerId) {
        let offset = super.getLayerXOffset(scale, direction, layerId);
        if (this.getLayerTag(scale, direction, layerId) === FurnitureBadgeDisplayVisualization.BADGE) {
            const asset = this.getAsset(((scale === 32) ? this._badgeAssetNameSmallScale : this._badgeAssetNameNormalScale), layerId);
            if (asset) {
                if (scale === 64)
                    offset += ((40 - asset.width) / 2);
                else
                    offset += ((20 - asset.width) / 2);
            }
        }
        return offset;
    }
    getLayerYOffset(scale, direction, layerId) {
        let offset = super.getLayerYOffset(scale, direction, layerId);
        if (this.getLayerTag(scale, direction, layerId) === FurnitureBadgeDisplayVisualization.BADGE) {
            const asset = this.getAsset(((scale === 32) ? this._badgeAssetNameSmallScale : this._badgeAssetNameNormalScale), layerId);
            if (asset) {
                if (scale === 64)
                    offset += ((40 - asset.height) / 2);
                else
                    offset += ((20 - asset.height) / 2);
            }
        }
        return offset;
    }
}
FurnitureBadgeDisplayVisualization.BADGE = 'BADGE';


/***/ }),

/***/ "8oUj":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/utils/NavigatorSearchResultRoom.ts ***!
  \*****************************************************************************************************/
/*! exports provided: NavigatorSearchResultRoom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchResultRoom", function() { return NavigatorSearchResultRoom; });
class NavigatorSearchResultRoom {
    constructor(wrapper) {
        this.THUMBNAIL_BITMASK = 1;
        this.GROUPDATA_BITMASK = 2;
        this.ROOMAD_BITMASK = 4;
        this.SHOWOWNER_BITMASK = 8;
        this.ALLOWPETS_BITMASK = 16;
        this.DISPLAYROOMENTRYAD_BITMASK = 32;
        this._habboGroupId = 0;
        this._groupName = "";
        this._groupBadgeCode = "";
        this._roomAdName = "";
        this._roomAdDescription = "";
        this._roomAdExpiresInMin = 0;
        this._officialRoomPicRef = null;
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._flatId = -1;
        this._roomName = null;
        this._ownerId = -1;
        this._ownerName = null;
        this._doorMode = 0;
        this._userCount = 0;
        this._maxUserCount = 0;
        this._description = null;
        this._tradeMode = 0;
        this._score = 0;
        this._ranking = 0;
        this._categoryId = -1;
        this._tags = [];
        this._officialRoomPicRef = null;
        this._habboGroupId = -1;
        this._groupName = null;
        this._groupBadgeCode = null;
        this._roomAdName = null;
        this._roomAdDescription = null;
        this._roomAdExpiresInMin = 0;
        this._showOwner = false;
        this._allowPets = false;
        this._displayRoomEntryAd = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._flatId = wrapper.readInt();
        this._roomName = wrapper.readString();
        this._ownerId = wrapper.readInt();
        this._ownerName = wrapper.readString();
        this._doorMode = wrapper.readInt();
        this._userCount = wrapper.readInt();
        this._maxUserCount = wrapper.readInt();
        this._description = wrapper.readString();
        this._tradeMode = wrapper.readInt();
        this._score = wrapper.readInt();
        this._ranking = wrapper.readInt();
        this._categoryId = wrapper.readInt();
        let totalTags = wrapper.readInt();
        while (totalTags > 0) {
            this._tags.push(wrapper.readString());
            totalTags--;
        }
        const bitmask = wrapper.readInt();
        if ((bitmask & this.THUMBNAIL_BITMASK) > 0)
            this._officialRoomPicRef = wrapper.readString();
        if ((bitmask & this.GROUPDATA_BITMASK) > 0) {
            this._habboGroupId = wrapper.readInt();
            this._groupName = wrapper.readString();
            this._groupBadgeCode = wrapper.readString();
        }
        if ((bitmask & this.ROOMAD_BITMASK) > 0) {
            this._roomAdName = wrapper.readString();
            this._roomAdDescription = wrapper.readString();
            this._roomAdExpiresInMin = wrapper.readInt();
        }
        this._showOwner = ((bitmask & this.SHOWOWNER_BITMASK) > 0);
        this._allowPets = ((bitmask & this.ALLOWPETS_BITMASK) > 0);
        this._displayRoomEntryAd = ((bitmask & this.DISPLAYROOMENTRYAD_BITMASK) > 0);
        return true;
    }
}


/***/ }),

/***/ "8ujE":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/avatar/geometry/AvatarModelGeometry.ts ***!
  \*****************************************************************/
/*! exports provided: AvatarModelGeometry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarModelGeometry", function() { return AvatarModelGeometry; });
/* harmony import */ var _structure_AvatarCanvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../structure/AvatarCanvas */ "dx49");
/* harmony import */ var _AvatarSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AvatarSet */ "ze8N");
/* harmony import */ var _GeometryBodyPart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GeometryBodyPart */ "ZCWo");
/* harmony import */ var _Matrix4x4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Matrix4x4 */ "Vp9w");
/* harmony import */ var _Vector3D__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Vector3D */ "lQzo");





class AvatarModelGeometry {
    constructor(k) {
        this._camera = new _Vector3D__WEBPACK_IMPORTED_MODULE_4__["Vector3D"](0, 0, 10);
        this._avatarSet = new _AvatarSet__WEBPACK_IMPORTED_MODULE_1__["AvatarSet"](k.avatarSets[0]);
        this._geometryTypes = new Map();
        this._itemIdToBodyPartMap = new Map();
        this._transformation = new _Matrix4x4__WEBPACK_IMPORTED_MODULE_3__["Matrix4x4"]();
        this._canvases = new Map();
        const camera = k.camera;
        if (camera) {
            this._camera.x = parseFloat(camera.x);
            this._camera.y = parseFloat(camera.y);
            this._camera.z = parseFloat(camera.z);
        }
        if (k.canvases && (k.canvases.length > 0)) {
            for (let canvas of k.canvases) {
                if (!canvas)
                    continue;
                const scale = canvas.scale;
                const geometries = new Map();
                if (canvas.geometries && (canvas.geometries.length > 0)) {
                    for (let geometry of canvas.geometries) {
                        if (!geometry)
                            continue;
                        const avatarCanvas = new _structure_AvatarCanvas__WEBPACK_IMPORTED_MODULE_0__["AvatarCanvas"](geometry, scale);
                        geometries.set(avatarCanvas.id, avatarCanvas);
                    }
                }
                this._canvases.set(scale, geometries);
            }
        }
        if (k.types && (k.types.length > 0)) {
            for (let type of k.types) {
                if (!type)
                    continue;
                const bodyParts = new Map();
                const itemIds = new Map();
                if (type.bodyParts && (type.bodyParts.length > 0)) {
                    for (let bodyPart of type.bodyParts) {
                        if (!bodyPart)
                            continue;
                        const geometryBodyPart = new _GeometryBodyPart__WEBPACK_IMPORTED_MODULE_2__["GeometryBodyPart"](bodyPart);
                        bodyParts.set(geometryBodyPart.id, geometryBodyPart);
                        for (let part of geometryBodyPart._Str_1456(null)) {
                            itemIds.set(part, geometryBodyPart);
                        }
                    }
                }
                this._geometryTypes.set(type.id, bodyParts);
                this._itemIdToBodyPartMap.set(type.id, itemIds);
            }
        }
    }
    _Str_2101(k) {
        for (let geometry of this._geometryTypes.values()) {
            if (!geometry)
                continue;
            for (let part of geometry.values()) {
                if (!part)
                    continue;
                part._Str_2004(k);
            }
        }
    }
    _Str_1307(k) {
        const avatarSet = this._avatarSet._Str_1498(k);
        if (!avatarSet)
            return [];
        return avatarSet._Str_755();
    }
    _Str_1939(k) {
        const avatarSet = this._avatarSet._Str_1498(k);
        if (!avatarSet)
            return false;
        return avatarSet._Str_779;
    }
    _Str_1664(k, _arg_2) {
        const canvas = this._canvases.get(k);
        if (!canvas)
            return null;
        return (canvas.get(_arg_2) || null);
    }
    _Str_1342(k) {
        const existing = this._geometryTypes.get(k);
        if (existing)
            return true;
        return false;
    }
    _Str_1332(k, _arg_2) {
        if (this._Str_1342(k)) {
            const existing = this._geometryTypes.get(k);
            if (existing && existing.get(_arg_2))
                return true;
        }
        return false;
    }
    _Str_2072(k) {
        const parts = this._Str_1280(k);
        const types = [];
        if (parts) {
            for (let part of parts.values()) {
                if (!part)
                    continue;
                types.push(part.id);
            }
        }
        return types;
    }
    _Str_1280(k) {
        if (this._Str_1342(k))
            return this._geometryTypes.get(k);
        return new Map();
    }
    _Str_1919(k, _arg_2) {
        return (this._Str_1280(k).get(_arg_2) || null);
    }
    _Str_1701(k, _arg_2, _arg_3) {
        const itemIds = this._itemIdToBodyPartMap.get(k);
        if (itemIds) {
            const part = itemIds.get(_arg_2);
            if (part)
                return part;
            const parts = this._Str_1280(k);
            if (parts) {
                for (let part of parts.values()) {
                    if (!part)
                        continue;
                    if (part._Str_2030(_arg_2, _arg_3))
                        return part;
                }
            }
        }
        return null;
    }
    _Str_1787(k, _arg_2) {
        const parts = this._Str_1307(_arg_2);
        const geometryParts = [];
        for (let part of parts) {
            if (!part)
                continue;
            const bodyPart = k.get(part);
            if (bodyPart) {
                geometryParts.push(bodyPart);
            }
        }
        return geometryParts;
    }
    _Str_2250(k, _arg_2, _arg_3) {
        if (!_arg_3)
            return [];
        const geometryParts = this._Str_1280(_arg_3);
        const parts = this._Str_1787(geometryParts, k);
        const sets = [];
        const ids = [];
        this._transformation = _Matrix4x4__WEBPACK_IMPORTED_MODULE_3__["Matrix4x4"]._Str_1560(_arg_2);
        for (let part of parts.values()) {
            if (!part)
                continue;
            part._Str_1101(this._transformation);
            sets.push([part._Str_1522(this._camera), part]);
        }
        sets.sort((a, b) => {
            const partA = a[0];
            const partB = b[0];
            if (partA < partB)
                return -1;
            if (partA > partB)
                return 1;
            return 0;
        });
        for (let set of sets) {
            if (!set)
                continue;
            ids.push(set[1].id);
        }
        return ids;
    }
    _Str_713(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        if (this._Str_1332(k, _arg_2)) {
            const part = this._Str_1280(k).get(_arg_2);
            this._transformation = _Matrix4x4__WEBPACK_IMPORTED_MODULE_3__["Matrix4x4"]._Str_1560(_arg_3);
            return part._Str_713(this._transformation, this._camera, _arg_4, _arg_5);
        }
        return [];
    }
}


/***/ }),

/***/ "8vq6":
/*!******************************************!*\
  !*** ./src/client/NitroConfiguration.ts ***!
  \******************************************/
/*! exports provided: NitroConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroConfiguration", function() { return NitroConfiguration; });
class NitroConfiguration {
}
NitroConfiguration.RELEASE_VERSION = 'PRODUCTION-201611291003-338511768';
NitroConfiguration.SOCKET_URL = 'ws://127.0.0.1:30010';
NitroConfiguration.ASSET_URL = 'https://assets.nitrots.co';
NitroConfiguration.EXTERNAL_TEXTS_URL = NitroConfiguration.ASSET_URL + '/gamedata/json/ExternalTexts.json';
NitroConfiguration.AVATAR_GEOMETRY_URL = NitroConfiguration.ASSET_URL + '/gamedata/json/HabboAvatarGeometry.json';
NitroConfiguration.AVATAR_PARTSETS_URL = NitroConfiguration.ASSET_URL + '/gamedata/json/HabboAvatarPartSets.json';
NitroConfiguration.AVATAR_ACTIONS_URL = NitroConfiguration.ASSET_URL + '/gamedata/json/HabboAvatarActions.json';
NitroConfiguration.AVATAR_ANIMATIONS_URL = NitroConfiguration.ASSET_URL + '/gamedata/json/HabboAvatarAnimations.json';
NitroConfiguration.AVATAR_FIGUREDATA_URL = NitroConfiguration.ASSET_URL + '/gamedata/habbo/figuredata.xml';
NitroConfiguration.AVATAR_FIGUREMAP_URL = NitroConfiguration.ASSET_URL + '/gamedata/json/FigureMap.json';
NitroConfiguration.AVATAR_EFFECTMAP_URL = NitroConfiguration.ASSET_URL + '/gamedata/json/EffectMap.json';
NitroConfiguration.AVATAR_ASSET_URL = NitroConfiguration.ASSET_URL + '/figure/%libname%/%libname%.json';
NitroConfiguration.AVATAR_ASSET_EFFECT_URL = NitroConfiguration.ASSET_URL + '/effect/%libname%/%libname%.json';
NitroConfiguration.FURNIDATA_URL = NitroConfiguration.ASSET_URL + '/gamedata/json/FurnitureDataNGH.json';
NitroConfiguration.BADGE_URL = NitroConfiguration.ASSET_URL + '/badges/%badgename%.gif';
NitroConfiguration.GROUP_BADGE_URL = NitroConfiguration.ASSET_URL + '/group-badge/%badgedata%';
NitroConfiguration.PET_ASSET_URL = NitroConfiguration.ASSET_URL + '/pet/%libname%/%libname%.json';
NitroConfiguration.FURNI_ASSET_URL = NitroConfiguration.ASSET_URL + '/furniture/%libname%/%libname%.json';
NitroConfiguration.FURNI_ASSET_ICON_URL = 'https://swf.nextgenhabbo.com/dcr/hof_furni/icons/%libname%%param%_icon.png';
NitroConfiguration.ROOM_ASSET_URL = NitroConfiguration.ASSET_URL + '/room/%libname%/%libname%.json';
NitroConfiguration.FPS = 24;
NitroConfiguration.PACKET_LOG = false;
NitroConfiguration.EVENT_DISPATCHER_LOG = false;
NitroConfiguration.ROLLING_OVERRIDES_POSTURE = true;
NitroConfiguration.CLIENT_KEEPS_ALIVE = true;
NitroConfiguration.PONG_INTERVAL_MS = 30000;
NitroConfiguration.FIGURE_HIGHLIGHT_ENABLED = false;
NitroConfiguration.PET_TYPES = ['dog', 'cat', 'croco', 'terrier', 'bear', 'pig', 'lion', 'rhino', 'spider', 'turtle', 'chicken', 'frog', 'dragon', 'monster', 'monkey', 'horse', 'monsterplant', 'bunnyeaster', 'bunnyevil', 'bunnydepressed', 'bunnylove', 'pigeongood', 'pigeonevil', 'demonmonkey', 'bearbaby', 'terrierbaby', 'gnome', 'gnome', 'kittenbaby', 'puppybaby', 'pigletbaby', 'haloompa', 'fools', 'pterosaur', 'velociraptor', 'cow', 'LeetPen', 'bbwibb', 'elephants'];
NitroConfiguration.MANDATORY_AVATAR_LIBRARIES = ['bd:1', 'li:0'];
NitroConfiguration.MANDATORY_EFFECT_LIBRARIES = ['dance.1', 'dance.2', 'dance.3', 'dance.4'];
NitroConfiguration.PRELOAD_ASSETS = [
    NitroConfiguration.ASSET_URL + `/images/additions/user_blowkiss.png`,
    NitroConfiguration.ASSET_URL + `/images/additions/user_idle_left_1.png`,
    NitroConfiguration.ASSET_URL + `/images/additions/user_idle_left_2.png`,
    NitroConfiguration.ASSET_URL + `/images/additions/user_idle_right_1.png`,
    NitroConfiguration.ASSET_URL + `/images/additions/user_idle_right_2.png`,
    NitroConfiguration.ASSET_URL + `/images/additions/user_typing.png`,
    NitroConfiguration.ASSET_URL + `/images/loading_icon.png`,
];
NitroConfiguration.AVATAR_DEFAULT_ACTIONS = {
    "actions": [
        {
            "id": "Default",
            "state": "std",
            "precedence": 1000,
            "main": true,
            "isDefault": true,
            "geometryType": "vertical",
            "activePartSet": "figure",
            "assetPartDefinition": "std"
        }
    ]
};
NitroConfiguration.AVATAR_DEFAULT_FIGUREDATA = `<?xml version="1.0" encoding="UTF-8"?>
    <figuredata>
        <colors>
            <palette id="1">
                <color id="99999" index="1001" club="0" selectable="0">DDDDDD</color>
                <color id="99998" index="1001" club="0" selectable="0">FAFAFA</color>
            </palette>
            <palette id="3">
                <color id="10001" index="1001" club="0" selectable="0">EEEEEE</color>
                <color id="10002" index="1002" club="0" selectable="0">FA3831</color>
                <color id="10003" index="1003" club="0" selectable="0">FD92A0</color>
                <color id="10004" index="1004" club="0" selectable="0">2AC7D2</color>
                <color id="10005" index="1005" club="0" selectable="0">35332C</color>
                <color id="10006" index="1006" club="0" selectable="0">EFFF92</color>
                <color id="10007" index="1007" club="0" selectable="0">C6FF98</color>
                <color id="10008" index="1008" club="0" selectable="0">FF925A</color>
                <color id="10009" index="1009" club="0" selectable="0">9D597E</color>
                <color id="10010" index="1010" club="0" selectable="0">B6F3FF</color>
                <color id="10011" index="1011" club="0" selectable="0">6DFF33</color>
                <color id="10012" index="1012" club="0" selectable="0">3378C9</color>
                <color id="10013" index="1013" club="0" selectable="0">FFB631</color>
                <color id="10014" index="1014" club="0" selectable="0">DFA1E9</color>
                <color id="10015" index="1015" club="0" selectable="0">F9FB32</color>
                <color id="10016" index="1016" club="0" selectable="0">CAAF8F</color>
                <color id="10017" index="1017" club="0" selectable="0">C5C6C5</color>
                <color id="10018" index="1018" club="0" selectable="0">47623D</color>
                <color id="10019" index="1019" club="0" selectable="0">8A8361</color>
                <color id="10020" index="1020" club="0" selectable="0">FF8C33</color>
                <color id="10021" index="1021" club="0" selectable="0">54C627</color>
                <color id="10022" index="1022" club="0" selectable="0">1E6C99</color>
                <color id="10023" index="1023" club="0" selectable="0">984F88</color>
                <color id="10024" index="1024" club="0" selectable="0">77C8FF</color>
                <color id="10025" index="1025" club="0" selectable="0">FFC08E</color>
                <color id="10026" index="1026" club="0" selectable="0">3C4B87</color>
                <color id="10027" index="1027" club="0" selectable="0">7C2C47</color>
                <color id="10028" index="1028" club="0" selectable="0">D7FFE3</color>
                <color id="10029" index="1029" club="0" selectable="0">8F3F1C</color>
                <color id="10030" index="1030" club="0" selectable="0">FF6393</color>
                <color id="10031" index="1031" club="0" selectable="0">1F9B79</color>
                <color id="10032" index="1032" club="0" selectable="0">FDFF33</color>
            </palette>
        </colors>
        <sets>
            <settype type="hd" paletteid="1" mand_m_0="1" mand_f_0="1" mand_m_1="1" mand_f_1="1">
                <set id="99999" gender="U" club="0" colorable="1" selectable="0">
                <part id="1" type="bd" colorable="1" index="0" colorindex="1" />
                <part id="1" type="hd" colorable="1" index="0" colorindex="1" />
                <part id="1" type="lh" colorable="1" index="0" colorindex="1" />
                <part id="1" type="rh" colorable="1" index="0" colorindex="1" />
                </set>
            </settype>
            <settype type="bds" paletteid="1" mand_m_0="0" mand_f_0="0" mand_m_1="0" mand_f_1="0">
                <set id="10001" gender="U" club="0" colorable="1" selectable="0">
                    <part id="10001" type="bds" colorable="1" index="0" colorindex="1"/>
                    <part id="10001" type="lhs" colorable="1" index="0" colorindex="1"/>
                    <part id="10001" type="rhs" colorable="1" index="0" colorindex="1"/>
                    <hiddenlayers>
                        <layer parttype="bd"/>
                        <layer parttype="rh"/>
                        <layer parttype="lh"/>
                    </hiddenlayers>
                </set>
            </settype>
            <settype type="ss" paletteid="3" mand_m_0="0" mand_f_0="0" mand_m_1="0" mand_f_1="0">
                <set id="10010" gender="F" club="0" colorable="1" selectable="0">
                    <part id="10001" type="ss" colorable="1" index="0" colorindex="1"/>
                    <hiddenlayers>
                        <layer parttype="ch"/>
                        <layer parttype="lg"/>
                        <layer parttype="ca"/>
                        <layer parttype="wa"/>
                        <layer parttype="sh"/>
                        <layer parttype="ls"/>
                        <layer parttype="rs"/>
                        <layer parttype="lc"/>
                        <layer parttype="rc"/>
                        <layer parttype="cc"/>
                        <layer parttype="cp"/>
                    </hiddenlayers>
                </set>
                <set id="10011" gender="M" club="0" colorable="1" selectable="0">
                    <part id="10002" type="ss" colorable="1" index="0" colorindex="1"/>
                    <hiddenlayers>
                        <layer parttype="ch"/>
                        <layer parttype="lg"/>
                        <layer parttype="ca"/>
                        <layer parttype="wa"/>
                        <layer parttype="sh"/>
                        <layer parttype="ls"/>
                        <layer parttype="rs"/>
                        <layer parttype="lc"/>
                        <layer parttype="rc"/>
                        <layer parttype="cc"/>
                        <layer parttype="cp"/>
                    </hiddenlayers>
                </set>
            </settype>
        </sets>
    </figuredata>`;


/***/ }),

/***/ "8wzi":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectRoomPlanePropertyUpdateMessage.ts ***!
  \********************************************************************************/
/*! exports provided: ObjectRoomPlanePropertyUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectRoomPlanePropertyUpdateMessage", function() { return ObjectRoomPlanePropertyUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectRoomPlanePropertyUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(type, value) {
        super(null, null);
        this._type = type;
        this._value = value;
    }
    get type() {
        return this._type;
    }
    get value() {
        return this._value;
    }
}
ObjectRoomPlanePropertyUpdateMessage.WALL_THICKNESS = 'RORPPUM_WALL_THICKNESS';
ObjectRoomPlanePropertyUpdateMessage.FLOOR_THICKNESS = 'RORPVUM_FLOOR_THICKNESS';


/***/ }),

/***/ "8zfy":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureMannequinVisualizationData.ts ***!
  \*****************************************************************************************************/
/*! exports provided: FurnitureMannequinVisualizationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureMannequinVisualizationData", function() { return FurnitureMannequinVisualizationData; });
/* harmony import */ var _avatar_AvatarVisualizationData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../avatar/AvatarVisualizationData */ "xeBG");
/* harmony import */ var _FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureVisualizationData */ "NyXN");


class FurnitureMannequinVisualizationData extends _FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_1__["FurnitureVisualizationData"] {
    constructor() {
        super();
        this._avatarData = new _avatar_AvatarVisualizationData__WEBPACK_IMPORTED_MODULE_0__["AvatarVisualizationData"]();
    }
    dispose() {
        super.dispose();
        if (this._avatarData) {
            this._avatarData.dispose();
            this._avatarData = null;
        }
    }
    createAvatarImage(figure, size, gender = null, avatarListener = null, effectListener = null) {
        return this._avatarData.createAvatarImage(figure, size, gender, avatarListener, effectListener);
    }
    set avatarManager(renderer) {
        this._avatarData.avatarManager = renderer;
    }
}


/***/ }),

/***/ "90ny":
/*!*************************************************************!*\
  !*** ./src/client/nitro/avatar/actions/ActiveActionData.ts ***!
  \*************************************************************/
/*! exports provided: ActiveActionData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActiveActionData", function() { return ActiveActionData; });
class ActiveActionData {
    constructor(action, parameter = '', startFrame = 0) {
        this._actionType = action || '';
        this._actionParameter = parameter || '';
        this._definition = null;
        this._startFrame = startFrame || 0;
        this._overridingAction = null;
    }
    dispose() {
        this._actionType = null;
        this._actionParameter = null;
        this._definition = null;
    }
    get id() {
        if (!this._definition)
            return '';
        return this._definition.id + '_' + this._actionParameter;
    }
    get _Str_695() {
        return this._actionType;
    }
    get _Str_727() {
        return this._actionParameter;
    }
    set _Str_727(parameter) {
        this._actionParameter = parameter;
    }
    get _Str_742() {
        return this._definition;
    }
    set _Str_742(definition) {
        this._definition = definition;
    }
    get _Str_664() {
        return this._startFrame;
    }
    get _Str_707() {
        return this._overridingAction;
    }
    set _Str_707(action) {
        this._overridingAction = action;
    }
}


/***/ }),

/***/ "9JiG":
/*!*************************************************************!*\
  !*** ./src/app/shared/components/alerts/alert/component.ts ***!
  \*************************************************************/
/*! exports provided: AlertToastComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertToastComponent", function() { return AlertToastComponent; });
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/animations */ "R0Ic");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var ng_animate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng-animate */ "5Rqa");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-toastr */ "5eHb");
/* harmony import */ var _directives_draggable_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../directives/draggable/directive */ "yd8t");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");








const _c0 = ["nitro-toast-alert-component", ""];
function AlertToastComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "div", 9);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r0.options.messageClass);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("innerHTML", ctx_r0.message, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeHtml"]);
} }
function AlertToastComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r1.options.messageClass);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r1.message);
} }
function AlertToastComponent_button_9_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AlertToastComponent_button_9_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r3.remove(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Close");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
class AlertToastComponent extends ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["Toast"] {
    constructor(toastrService, toastPackage) {
        super(toastrService, toastPackage);
        this.toastrService = toastrService;
        this.toastPackage = toastPackage;
    }
}
AlertToastComponent.ɵfac = function AlertToastComponent_Factory(t) { return new (t || AlertToastComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastPackage"])); };
AlertToastComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: AlertToastComponent, selectors: [["", "nitro-toast-alert-component", ""]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]], attrs: _c0, decls: 10, vars: 7, consts: [["dragHandle", ".card-header", 1, "card", "nitro-alert", "nitro-toast-alert-component", 3, "draggable"], [1, "card-header"], [1, "header-title"], [1, "card-body"], [3, "class", "innerHTML", 4, "ngIf"], [3, "class", 4, "ngIf"], [1, "card-footer"], [1, "button-container", "btn-group"], ["type", "button", "class", "btn btn-primary", 3, "click", 4, "ngIf"], [3, "innerHTML"], ["type", "button", 1, "btn", "btn-primary", 3, "click"]], template: function AlertToastComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, AlertToastComponent_div_5_Template, 1, 3, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, AlertToastComponent_div_6_Template, 2, 3, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, AlertToastComponent_button_9_Template, 2, 0, "button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", ctx.state.value === "inactive" ? "none" : "");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("@animation", ctx.animation);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.message && ctx.options.enableHtml);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.message && !ctx.options.enableHtml);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.options.closeButton);
    } }, directives: [_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_4__["DraggableDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], encapsulation: 2, data: { animation: [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('animation', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["bounceIn"], {
                    params: { timing: 0.5, delay: 0 }
                }))
            ])
        ] } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AlertToastComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: '[nitro-toast-alert-component]',
                template: `
    <div [@animation]="animation" class="card nitro-alert nitro-toast-alert-component" [draggable] dragHandle=".card-header" [style.display]="state.value === 'inactive' ? 'none' : ''">
        <div class="card-header">
            <div class="header-title">{{ title }}</div>
        </div>
        <div class="card-body">
            <div *ngIf="message && options.enableHtml" [class]="options.messageClass" [innerHTML]="message"></div>
            <div *ngIf="message && !options.enableHtml" [class]="options.messageClass">{{ message }}</div>
        </div>
        <div class="card-footer">
            <div class="button-container btn-group">
                <button *ngIf="options.closeButton" type="button" class="btn btn-primary" (click)="remove()">Close</button>
            </div>
        </div>
    </div>`,
                animations: [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('animation', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["bounceIn"], {
                            params: { timing: 0.5, delay: 0 }
                        }))
                    ])
                ]
            }]
    }], function () { return [{ type: ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"] }, { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastPackage"] }]; }, null); })();


/***/ }),

/***/ "9KXm":
/*!*********************************************************!*\
  !*** ./src/client/nitro/room/object/RoomMapMaskData.ts ***!
  \*********************************************************/
/*! exports provided: RoomMapMaskData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomMapMaskData", function() { return RoomMapMaskData; });
class RoomMapMaskData {
    constructor() {
        this._masks = [];
    }
    get masks() {
        return this._masks;
    }
}


/***/ }),

/***/ "9LM3":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectStateChangedEvent.ts ***!
  \*********************************************************************/
/*! exports provided: RoomObjectStateChangedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectStateChangedEvent", function() { return RoomObjectStateChangedEvent; });
/* harmony import */ var _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectEvent */ "y81I");

class RoomObjectStateChangedEvent extends _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
    constructor(type, object, state = 0) {
        super(type, object);
        this._state = state;
    }
    get state() {
        return this._state;
    }
}
RoomObjectStateChangedEvent.STATE_CHANGE = 'ROSCE_STATE_CHANGE';
RoomObjectStateChangedEvent.STATE_RANDOM = 'ROSCE_STATE_RANDOM';


/***/ }),

/***/ "9NDz":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogClubEvent.ts ***!
  \**************************************************************************************/
/*! exports provided: CatalogClubEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogClubEvent", function() { return CatalogClubEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogClubParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogClubParser */ "4hkc");


class CatalogClubEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogClubParser__WEBPACK_IMPORTED_MODULE_1__["CatalogClubParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "9RxG":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/data/RoomInfoComposer.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomInfoComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoComposer", function() { return RoomInfoComposer; });
class RoomInfoComposer {
    constructor(roomId, enterRoom, forwardRoom) {
        this._data = [roomId, (enterRoom ? 1 : 0), (forwardRoom ? 1 : 0)];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "9SF+":
/*!*************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomObjectLogicType.ts ***!
  \*************************************************************/
/*! exports provided: RoomObjectLogicType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectLogicType", function() { return RoomObjectLogicType; });
class RoomObjectLogicType {
}
RoomObjectLogicType.FURNITURE_BASIC = 'furniture_basic';
RoomObjectLogicType.FURNITURE_MULTISTATE = 'furniture_multistate';
RoomObjectLogicType.FURNITURE_MULTIHEIGHT = 'furniture_multiheight';
RoomObjectLogicType.FURNITURE_RANDOMSTATE = 'furniture_randomstate';
RoomObjectLogicType.FURNITURE_PLACEHOLDER = 'furniture_placeholder';
RoomObjectLogicType.FURNITURE_CREDIT = 'furniture_credit';
RoomObjectLogicType.FURNITURE_STICKIE = 'furniture_stickie';
RoomObjectLogicType.FURNITURE_PRESENT = 'furniture_present';
RoomObjectLogicType.FURNITURE_TROPHY = 'furniture_trophy';
RoomObjectLogicType.FURNITURE_ECOTRON_BOX = 'furniture_ecotron_box';
RoomObjectLogicType.FURNITURE_DICE = 'furniture_dice';
RoomObjectLogicType.FURNITURE_HOCKEY_SCORE = 'furniture_hockey_score';
RoomObjectLogicType.FURNITURE_HABBOWHEEL = 'furniture_habbowheel';
RoomObjectLogicType.FURNITURE_ONE_WAY_DOOR = 'furniture_one_way_door';
RoomObjectLogicType.FURNITURE_PLANET_SYSTEM = 'furniture_planet_system';
RoomObjectLogicType.FURNITURE_WINDOW = 'furniture_window';
RoomObjectLogicType.FURNITURE_EXTERNAL_IMAGE_WALLITEM = 'furniture_external_image_wallitem';
RoomObjectLogicType.FURNITURE_ROOMDIMMER = 'furniture_roomdimmer';
RoomObjectLogicType.FURNITURE_SOUND_MACHINE = 'furniture_sound_machine';
RoomObjectLogicType.FURNITURE_JUKEBOX = 'furniture_jukebox';
RoomObjectLogicType.FURNITURE_CRACKABLE = 'furniture_crackable';
RoomObjectLogicType.FURNITURE_PUSHABLE = 'furniture_pushable';
RoomObjectLogicType.FURNITURE_CLOTHING_CHANGE = 'furniture_clothing_change';
RoomObjectLogicType.FURNITURE_COUNTER_CLOCK = 'furniture_counter_clock';
RoomObjectLogicType.FURNITURE_SCORE = 'furniture_score';
RoomObjectLogicType.FURNITURE_ES = 'furniture_es';
RoomObjectLogicType.FURNITURE_FIREWORKS = 'furniture_fireworks';
RoomObjectLogicType.FURNITURE_SONG_DISK = 'furniture_song_disk';
RoomObjectLogicType.FURNITURE_BB = 'furniture_bb';
RoomObjectLogicType.FURNITURE_BG = 'furniture_bg';
RoomObjectLogicType.FURNITURE_WELCOME_GIFT = 'furniture_welcome_gift';
RoomObjectLogicType.FURNITURE_FLOOR_HOLE = 'furniture_floor_hole';
RoomObjectLogicType.FURNITURE_MANNEQUIN = 'furniture_mannequin';
RoomObjectLogicType.FURNITURE_GUILD_CUSTOMIZED = 'furniture_guild_customized';
RoomObjectLogicType.FURNITURE_GROUP_FORUM_TERMINAL = 'furniture_group_forum_terminal';
RoomObjectLogicType.FURNITURE_PET_CUSTOMIZATION = 'furniture_pet_customization';
RoomObjectLogicType.FURNITURE_CUCKOO_CLOCK = 'furniture_cuckoo_clock';
RoomObjectLogicType.FURNITURE_VOTE_COUNTER = 'furniture_vote_counter';
RoomObjectLogicType.FURNITURE_VOTE_MAJORITY = 'furniture_vote_majority';
RoomObjectLogicType.FURNITURE_SOUNDBLOCK = 'furniture_soundblock';
RoomObjectLogicType.FURNITURE_RANDOM_TELEPORT = 'furniture_random_teleport';
RoomObjectLogicType.FURNITURE_MONSTERPLANT_SEED = 'furniture_monsterplant_seed';
RoomObjectLogicType.FURNITURE_PURCHASABLE_CLOTHING = 'furniture_purchasable_clothing';
RoomObjectLogicType.FURNITURE_BACKGROUND_COLOR = 'furniture_background_color';
RoomObjectLogicType.FURNITURE_MYSTERYBOX = 'furniture_mysterybox';
RoomObjectLogicType.FURNITURE_EFFECTBOX = 'furniture_effectbox';
RoomObjectLogicType.FURNITURE_MYSTERYTROPHY = 'furniture_mysterytrophy';
RoomObjectLogicType.FURNITURE_ACHIEVEMENT_RESOLUTION = 'furniture_achievement_resolution';
RoomObjectLogicType.FURNITURE_LOVELOCK = 'furniture_lovelock';
RoomObjectLogicType.FURNITURE_WILDWEST_WANTED = 'furniture_wildwest_wanted';
RoomObjectLogicType.FURNITURE_HWEEN_LOVELOCK = 'furniture_hween_lovelock';
RoomObjectLogicType.FURNITURE_BADGE_DISPLAY = 'furniture_badge_display';
RoomObjectLogicType.FURNITURE_HIGH_SCORE = 'furniture_high_score';
RoomObjectLogicType.FURNITURE_INTERNAL_LINK = 'furniture_internal_link';
RoomObjectLogicType.FURNITURE_CUSTOM_STACK_HEIGHT = 'furniture_custom_stack_height';
RoomObjectLogicType.FURNITURE_YOUTUBE = 'furniture_youtube';
RoomObjectLogicType.FURNITURE_RENTABLE_SPACE = 'furniture_rentable_space';
RoomObjectLogicType.FURNITURE_CHANGE_STATE_WHEN_STEP_ON = 'furniture_change_state_when_step_on';
RoomObjectLogicType.FURNITURE_VIMEO = 'furniture_vimeo';
RoomObjectLogicType.FURNITURE_EDITABLE_INTERNAL_LINK = 'furniture_editable_internal_link';
RoomObjectLogicType.FURNITURE_EDITABLE_ROOM_LINK = 'furniture_editable_room_link';
RoomObjectLogicType.FURNITURE_CRAFTING_GIZMO = 'furniture_crafting_gizmo';
RoomObjectLogicType.ROOM = 'room';
RoomObjectLogicType.USER = 'user';
RoomObjectLogicType.BOT = 'bot';
RoomObjectLogicType.RENTABLE_BOT = 'rentable_bot';
RoomObjectLogicType.PET = 'pet';
RoomObjectLogicType.TILE_CURSOR = 'tile_cursor';
RoomObjectLogicType.SELECTION_ARROW = 'selection_arrow';
RoomObjectLogicType.GAME_SNOWBALL = 'game_snowball';
RoomObjectLogicType.GAME_SNOWSPLASH = 'game_snowsplash';


/***/ }),

/***/ "9SFl":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitStatusParser.ts ***!
  \******************************************************************************************/
/*! exports provided: RoomUnitStatusParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitStatusParser", function() { return RoomUnitStatusParser; });
/* harmony import */ var _RoomUnitStatusAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomUnitStatusAction */ "FOjo");
/* harmony import */ var _RoomUnitStatusMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomUnitStatusMessage */ "2CxI");


class RoomUnitStatusParser {
    flush() {
        this._statuses = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalUnits = wrapper.readInt();
        while (totalUnits > 0) {
            const status = this.parseStatus(wrapper);
            if (!status) {
                totalUnits--;
                continue;
            }
            this._statuses.push(status);
            totalUnits--;
        }
        return true;
    }
    parseStatus(wrapper) {
        if (!wrapper)
            return null;
        const unitId = wrapper.readInt();
        let x = wrapper.readInt();
        let y = wrapper.readInt();
        let z = parseFloat(wrapper.readString());
        const headDirection = ((wrapper.readInt() % 8) * 45);
        const direction = ((wrapper.readInt() % 8) * 45);
        const actions = wrapper.readString();
        let targetX = 0;
        let targetY = 0;
        let targetZ = 0;
        let height = 0;
        let canStandUp = false;
        let didMove = false;
        let isSlide = false;
        if (actions) {
            const actionParts = actions.split('/');
            const totalActions = actionParts.length;
            const statusActions = [];
            if (totalActions) {
                for (let i = 0; i < totalActions; i++) {
                    const action = actionParts[i];
                    if (!action)
                        continue;
                    const [key, value, extra] = action.split(' ');
                    if (!key || !value)
                        continue;
                    switch (key) {
                        case 'mv':
                            [targetX, targetY, targetZ] = value.split(',').map(a => parseFloat(a));
                            didMove = true;
                            break;
                        case 'sit':
                            const sitHeight = parseFloat(value);
                            if (extra !== undefined)
                                canStandUp = value === '1';
                            height = sitHeight;
                            break;
                        case 'lay':
                            const layHeight = parseFloat(value);
                            height = layHeight;
                            break;
                    }
                    statusActions.push(new _RoomUnitStatusAction__WEBPACK_IMPORTED_MODULE_0__["RoomUnitStatusAction"](key, value));
                }
            }
            this._statuses.push(new _RoomUnitStatusMessage__WEBPACK_IMPORTED_MODULE_1__["RoomUnitStatusMessage"](unitId, x, y, z, height, headDirection, direction, targetX, targetY, targetZ, didMove, canStandUp, statusActions));
        }
    }
    get statuses() {
        return this._statuses;
    }
}


/***/ }),

/***/ "9Vq3":
/*!*************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectMoveEvent.ts ***!
  \*************************************************************/
/*! exports provided: RoomObjectMoveEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectMoveEvent", function() { return RoomObjectMoveEvent; });
/* harmony import */ var _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectEvent */ "y81I");

class RoomObjectMoveEvent extends _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
    constructor(k, _arg_2) {
        super(k, _arg_2);
    }
}
RoomObjectMoveEvent.POSITION_CHANGED = 'ROME_POSITION_CHANGED';
RoomObjectMoveEvent.OBJECT_REMOVED = 'ROME_OBJECT_REMOVED';


/***/ }),

/***/ "9WAT":
/*!*******************************************************!*\
  !*** ./src/app/components/purse/credits/component.ts ***!
  \*******************************************************/
/*! exports provided: PurseCreditsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PurseCreditsComponent", function() { return PurseCreditsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_purse_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/purse.service */ "KeNc");



const _c0 = ["creditCanvas"];
const _c1 = ["nitro-purse-credits-component", ""];
class PurseCreditsComponent {
    constructor(purseService, ngZone) {
        this.purseService = purseService;
        this.ngZone = ngZone;
        this.value = 0;
        this.hasPendingChange = false;
        this.image = null;
        this.imageLoaded = false;
        this.width = 22;
        this.height = 22;
        this.isFirstRun = true;
        this.frameNumber = 0;
        this.totalFrames = 6;
        this.interval = null;
    }
    ngOnInit() {
        this.loadImage();
    }
    ngOnChanges(changes) {
        const previous = changes.value.previousValue;
        const next = changes.value.currentValue;
        if (next === previous)
            return;
        this.hasPendingChange = true;
    }
    ngAfterViewChecked() {
        if (this.hasPendingChange) {
            this.runAnimation();
            this.hasPendingChange = false;
        }
    }
    loadImage() {
        if (this.image || this.imageLoaded)
            return;
        this.image = new Image();
        this.image.src = '../../../assets/images/wallet/credit-sprite.png';
        this.image.onload = (() => {
            this.imageLoaded = true;
            this.runAnimation();
        });
    }
    startAnimation() {
        this.stopAnimation();
        this.interval = setInterval(() => {
            this.drawSprite();
            if (this.frameNumber === 0)
                this.stopAnimation();
        }, 80);
    }
    stopAnimation() {
        if (this.interval) {
            clearInterval(this.interval);
            this.interval = null;
        }
        this.frameNumber = 0;
    }
    runAnimation() {
        if (!this.imageLoaded)
            return;
        this.ngZone.runOutsideAngular(() => this.startAnimation());
    }
    updateFrame() {
        this.frameNumber = (++this.frameNumber % this.totalFrames);
    }
    drawSprite() {
        if (!this.imageLoaded || !this.image)
            return;
        this.updateFrame();
        const canvas = this.creditCanvas.nativeElement;
        const context = (canvas && canvas.getContext('2d'));
        if (!canvas || !context)
            return;
        context.clearRect(0, 0, this.width, this.height);
        context.drawImage(this.image, this.frameNumber * this.width, 0, this.width, this.height, 0, 0, this.width, this.height);
    }
}
PurseCreditsComponent.ɵfac = function PurseCreditsComponent_Factory(t) { return new (t || PurseCreditsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_purse_service__WEBPACK_IMPORTED_MODULE_1__["PurseService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
PurseCreditsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PurseCreditsComponent, selectors: [["", "nitro-purse-credits-component", ""]], viewQuery: function PurseCreditsComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.creditCanvas = _t.first);
    } }, inputs: { value: "value" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], attrs: _c1, decls: 4, vars: 3, consts: [[1, "nitro-purse-credits-component"], [3, "width", "height"], ["creditCanvas", ""]], template: function PurseCreditsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "canvas", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("width", ctx.width);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("height", ctx.height);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.value, " ");
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PurseCreditsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[nitro-purse-credits-component]',
                template: `
    <div class="nitro-purse-credits-component">
        <canvas #creditCanvas width="{{ width }}" height="{{ height }}"></canvas>
        {{ value }}
    </div>`
            }]
    }], function () { return [{ type: _services_purse_service__WEBPACK_IMPORTED_MODULE_1__["PurseService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { value: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], creditCanvas: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['creditCanvas']
        }] }); })();


/***/ }),

/***/ "9Xzp":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/trading/TradingAcceptParser.ts ***!
  \*************************************************************************************************/
/*! exports provided: TradingAcceptParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingAcceptParser", function() { return TradingAcceptParser; });
class TradingAcceptParser {
    flush() {
        this._userID = -1;
        this._userAccepts = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._userID = wrapper.readInt();
        this._userAccepts = (wrapper.readInt() > 0);
        return true;
    }
    get _Str_4963() {
        return this._userID;
    }
    get _Str_15794() {
        return this._userAccepts;
    }
}


/***/ }),

/***/ "9b5J":
/*!***************************************************************!*\
  !*** ./src/client/nitro/navigator/NavigatorMessageHandler.ts ***!
  \***************************************************************/
/*! exports provided: NavigatorMessageHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorMessageHandler", function() { return NavigatorMessageHandler; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _communication_messages_incoming_room_access_RoomFowardEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../communication/messages/incoming/room/access/RoomFowardEvent */ "33V3");
/* harmony import */ var _communication_messages_incoming_room_data_RoomInfoEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../communication/messages/incoming/room/data/RoomInfoEvent */ "10wl");
/* harmony import */ var _communication_messages_incoming_room_data_RoomInfoOwnerEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../communication/messages/incoming/room/data/RoomInfoOwnerEvent */ "8lyl");
/* harmony import */ var _communication_messages_outgoing_room_data_RoomInfoComposer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../communication/messages/outgoing/room/data/RoomInfoComposer */ "9RxG");
/* harmony import */ var _communication_messages_parser_room_data_RoomDataParser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../communication/messages/parser/room/data/RoomDataParser */ "o/0e");






class NavigatorMessageHandler extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor(navigator) {
        super();
        this._navigator = navigator;
        this._connection = null;
    }
    onDispose() {
        this._navigator = null;
        this._connection = null;
        super.onDispose();
    }
    setConnection(connection) {
        if (this._connection || !connection)
            return;
        this._connection = connection;
        connection.addMessageEvent(new _communication_messages_incoming_room_access_RoomFowardEvent__WEBPACK_IMPORTED_MODULE_1__["RoomFowardEvent"](this.onRoomForwardEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_data_RoomInfoOwnerEvent__WEBPACK_IMPORTED_MODULE_3__["RoomInfoOwnerEvent"](this.onRoomInfoOwnerEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_data_RoomInfoEvent__WEBPACK_IMPORTED_MODULE_2__["RoomInfoEvent"](this.onRoomInfoEvent.bind(this)));
    }
    onRoomForwardEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_access_RoomFowardEvent__WEBPACK_IMPORTED_MODULE_1__["RoomFowardEvent"]))
            return;
        this._connection.send(new _communication_messages_outgoing_room_data_RoomInfoComposer__WEBPACK_IMPORTED_MODULE_4__["RoomInfoComposer"](event.getParser().roomId, false, true));
    }
    onRoomInfoOwnerEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_data_RoomInfoOwnerEvent__WEBPACK_IMPORTED_MODULE_3__["RoomInfoOwnerEvent"]))
            return;
        this._connection.send(new _communication_messages_outgoing_room_data_RoomInfoComposer__WEBPACK_IMPORTED_MODULE_4__["RoomInfoComposer"](event.getParser().roomId, true, false));
    }
    onRoomInfoEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_data_RoomInfoEvent__WEBPACK_IMPORTED_MODULE_2__["RoomInfoEvent"]))
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        if (parser.roomEnter) {
            // if an ad needs to display, do it here
            // refresh the room info window / display it
        }
        else {
            if (parser.roomForward) {
                if (parser.data.ownerName !== this._navigator.session.userName) {
                    switch (parser.data.doorMode) {
                        case _communication_messages_parser_room_data_RoomDataParser__WEBPACK_IMPORTED_MODULE_5__["RoomDataParser"].DOORBELL_STATE:
                            console.log('DOORBELL');
                            return;
                        case _communication_messages_parser_room_data_RoomDataParser__WEBPACK_IMPORTED_MODULE_5__["RoomDataParser"].PASSWORD_STATE:
                            console.log('PASSWORD');
                            return;
                    }
                }
                this._navigator.goToRoom(parser.data.id);
            }
            else {
                // update room data with new data
            }
        }
    }
}


/***/ }),

/***/ "9cwZ":
/*!**************************!*\
  !*** ./src/app/index.ts ***!
  \**************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component */ "jRgO");
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components */ "lbq7");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core */ "ey9i");
/* harmony import */ var _security__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./security */ "OLrf");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shared */ "M0ag");







class AppModule {
}
AppModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AppModule, bootstrap: [_component__WEBPACK_IMPORTED_MODULE_1__["AppComponent"]] });
AppModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AppModule_Factory(t) { return new (t || AppModule)(); }, imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_5__["SharedModule"],
            _core__WEBPACK_IMPORTED_MODULE_3__["CoreModule"],
            _security__WEBPACK_IMPORTED_MODULE_4__["SecurityModule"],
            _components__WEBPACK_IMPORTED_MODULE_2__["ComponentsModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AppModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_1__["AppComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_5__["SharedModule"],
        _core__WEBPACK_IMPORTED_MODULE_3__["CoreModule"],
        _security__WEBPACK_IMPORTED_MODULE_4__["SecurityModule"],
        _components__WEBPACK_IMPORTED_MODULE_2__["ComponentsModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_5__["SharedModule"],
                    _core__WEBPACK_IMPORTED_MODULE_3__["CoreModule"],
                    _security__WEBPACK_IMPORTED_MODULE_4__["SecurityModule"],
                    _components__WEBPACK_IMPORTED_MODULE_2__["ComponentsModule"]
                ],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_1__["AppComponent"]
                ],
                bootstrap: [_component__WEBPACK_IMPORTED_MODULE_1__["AppComponent"]]
            }]
    }], null, null); })();


/***/ }),

/***/ "9ewd":
/*!*************************************************************!*\
  !*** ./src/client/room/object/enum/RoomObjectSpriteType.ts ***!
  \*************************************************************/
/*! exports provided: RoomObjectSpriteType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectSpriteType", function() { return RoomObjectSpriteType; });
class RoomObjectSpriteType {
}
RoomObjectSpriteType.DEFAULT = 1;
RoomObjectSpriteType._Str_8616 = 2;
RoomObjectSpriteType._Str_11629 = 3;
RoomObjectSpriteType._Str_10494 = 4;


/***/ }),

/***/ "9fVB":
/*!****************************************************!*\
  !*** ./src/client/nitro/window/motion/Interval.ts ***!
  \****************************************************/
/*! exports provided: Interval */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Interval", function() { return Interval; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");
/* harmony import */ var _Motion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Motion */ "YBQe");


class Interval extends _Motion__WEBPACK_IMPORTED_MODULE_1__["Motion"] {
    constructor(target, duration) {
        super(target);
        this._complete = false;
        this._duration = duration;
    }
    get duration() {
        return this._duration;
    }
    start() {
        super.start();
        this._complete = false;
        this._startTimeMs = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time;
    }
    tick(time) {
        super.tick(time);
        let elapsed = ((time - this._startTimeMs) / this._duration);
        if (elapsed < 1) {
            this.update(elapsed);
        }
        else {
            this.update(1);
            this._complete = true;
        }
    }
}


/***/ }),

/***/ "9loD":
/*!**********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/furni/FurnitureListInvalidateEvent.ts ***!
  \**********************************************************************************************************/
/*! exports provided: FurnitureListInvalidateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListInvalidateEvent", function() { return FurnitureListInvalidateEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_furniture_FurnitureListInvalidateParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/furniture/FurnitureListInvalidateParser */ "h3kw");


class FurnitureListInvalidateEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_furniture_FurnitureListInvalidateParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureListInvalidateParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "9mJe":
/*!******************************************************!*\
  !*** ./src/client/nitro/room/utils/ObjectRolling.ts ***!
  \******************************************************/
/*! exports provided: ObjectRolling */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectRolling", function() { return ObjectRolling; });
class ObjectRolling {
    constructor(id, location, targetLocation, movementType = null) {
        this._id = id;
        this._location = location;
        this._targetLocation = targetLocation;
        this._movementType = movementType;
    }
    get id() {
        return this._id;
    }
    get location() {
        return this._location;
    }
    get targetLocation() {
        return this._targetLocation;
    }
    get movementType() {
        return this._movementType;
    }
}
ObjectRolling.MOVE = 'mv';
ObjectRolling.SLIDE = 'sld';


/***/ }),

/***/ "9scY":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarPostureUpdateMessage.ts ***!
  \****************************************************************************/
/*! exports provided: ObjectAvatarPostureUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarPostureUpdateMessage", function() { return ObjectAvatarPostureUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarPostureUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(postureType, parameter = '') {
        super();
        this._postureType = postureType;
        this._parameter = parameter;
    }
    get postureType() {
        return this._postureType;
    }
    get parameter() {
        return this._parameter;
    }
}


/***/ }),

/***/ "9t4n":
/*!******************************************************************!*\
  !*** ./src/client/nitro/avatar/animation/SpriteDataContainer.ts ***!
  \******************************************************************/
/*! exports provided: SpriteDataContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpriteDataContainer", function() { return SpriteDataContainer; });
class SpriteDataContainer {
    constructor(k, _arg_2) {
        this._animation = k;
        this._id = _arg_2.id;
        this._ink = _arg_2.ink;
        this._member = _arg_2.member;
        this._hasStaticY = _arg_2.staticY ? true : false;
        this._hasDirections = _arg_2.directions ? true : false;
        this._dx = [];
        this._dy = [];
        this._dz = [];
        const directions = _arg_2.directionList;
        if (directions && directions.length) {
            for (let direction of directions) {
                const id = direction.id;
                if (id === undefined)
                    continue;
                this._dx[id] = (direction.dx || 0);
                this._dy[id] = (direction.dy || 0);
                this._dz[id] = (direction.dz || 0);
            }
        }
    }
    _Str_809(k) {
        if (k < this._dx.length)
            return this._dx[k];
        return 0;
    }
    _Str_739(k) {
        if (k < this._dy.length)
            return this._dy[k];
        return 0;
    }
    _Str_839(k) {
        if (k < this._dz.length)
            return this._dz[k];
        return 0;
    }
    get animation() {
        return this._animation;
    }
    get id() {
        return this._id;
    }
    get ink() {
        return this._ink;
    }
    get member() {
        return this._member;
    }
    get _Str_949() {
        return this._hasDirections;
    }
    get _Str_767() {
        return this._hasStaticY;
    }
}


/***/ }),

/***/ "9vQN":
/*!**************************************************************!*\
  !*** ./src/client/nitro/session/enum/RoomControllerLevel.ts ***!
  \**************************************************************/
/*! exports provided: RoomControllerLevel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomControllerLevel", function() { return RoomControllerLevel; });
class RoomControllerLevel {
}
RoomControllerLevel.NONE = 0;
RoomControllerLevel.GUEST = 1;
RoomControllerLevel.GUILD_MEMBER = 2;
RoomControllerLevel.GUILD_ADMIN = 3;
RoomControllerLevel.ROOM_OWNER = 4;
RoomControllerLevel.MODERATOR = 5;


/***/ }),

/***/ "9zSk":
/*!***************************************************************************!*\
  !*** ./src/app/components/catalog/layouts/frontpagefeatured/component.ts ***!
  \***************************************************************************/
/*! exports provided: CatalogLayoutFrontPageFeaturedComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogLayoutFrontPageFeaturedComponent", function() { return CatalogLayoutFrontPageFeaturedComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "0UMw");



class CatalogLayoutFrontPageFeaturedComponent extends _component__WEBPACK_IMPORTED_MODULE_1__["CatalogLayout"] {
}
CatalogLayoutFrontPageFeaturedComponent.LAYOUT_CODE = 'frontpage_featured';
CatalogLayoutFrontPageFeaturedComponent.ɵfac = function CatalogLayoutFrontPageFeaturedComponent_Factory(t) { return ɵCatalogLayoutFrontPageFeaturedComponent_BaseFactory(t || CatalogLayoutFrontPageFeaturedComponent); };
CatalogLayoutFrontPageFeaturedComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogLayoutFrontPageFeaturedComponent, selectors: [["nitro-catalog-layout-frontpagefeatured-component"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 2, vars: 0, consts: [[1, "nitro-catalog-layout-frontpagefeatured-component"]], template: function CatalogLayoutFrontPageFeaturedComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " frontpage ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, encapsulation: 2 });
const ɵCatalogLayoutFrontPageFeaturedComponent_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](CatalogLayoutFrontPageFeaturedComponent);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogLayoutFrontPageFeaturedComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-catalog-layout-frontpagefeatured-component',
                template: `
    <div class="nitro-catalog-layout-frontpagefeatured-component">
        frontpage
    </div>`
            }]
    }], null, null); })();


/***/ }),

/***/ "A4mR":
/*!*************************************************************!*\
  !*** ./src/client/nitro/avatar/actions/ActionDefinition.ts ***!
  \*************************************************************/
/*! exports provided: ActionDefinition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionDefinition", function() { return ActionDefinition; });
/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionType */ "FXC9");

class ActionDefinition {
    constructor(data) {
        this._id = data.id;
        this._state = data.state;
        this._precedence = data.precedence;
        this._activePartSet = data.activePartSet;
        this._assetPartDefinition = data.assetPartDefinition;
        this._lay = data.lay;
        this._geometryType = data.geometryType;
        this._isMain = data.main || false;
        this._isDefault = data.isDefault || false;
        this._isAnimation = data.animation || false;
        this._startFromFrameZero = data.startFromFrameZero || false;
        this._prevents = data.prevents || [];
        this._preventHeadTurn = data.preventHeadTurn || false;
        this._types = new Map();
        this._params = new Map();
        this._defaultParameterValue = '';
        this._canvasOffsets = null;
        if (data.params && (data.params.length > 0)) {
            for (let param of data.params) {
                if (!param)
                    continue;
                if (param.id === 'default')
                    this._defaultParameterValue = param.value;
                else
                    this._params.set(param.id, param.value);
            }
        }
        if (data.types && (data.types.length > 0)) {
            for (let type of data.types) {
                if (!type)
                    continue;
                const action = new _ActionType__WEBPACK_IMPORTED_MODULE_0__["ActionType"](type);
                this._types.set(action.id, action);
            }
        }
    }
    _Str_772(k, _arg_2, _arg_3) {
        if (!this._canvasOffsets)
            this._canvasOffsets = new Map();
        let existing = this._canvasOffsets.get(k);
        if (!existing) {
            existing = new Map();
            this._canvasOffsets.set(k, existing);
        }
        existing.set(_arg_2, _arg_3);
    }
    _Str_805(k, _arg_2) {
        if (!this._canvasOffsets)
            return null;
        const existing = this._canvasOffsets.get(k);
        if (!existing)
            return null;
        return existing.get(_arg_2);
    }
    getType(id) {
        if (!id)
            return null;
        const existing = this._types.get(parseInt(id));
        if (!existing)
            return null;
        return existing;
    }
    _Str_1350(id) {
        if (!id)
            return '';
        const existing = this._params.get(id);
        if (!existing)
            return this._defaultParameterValue;
        return existing;
    }
    _Str_733(type) {
        return this._prevents.concat(this._Str_1889(type));
    }
    _Str_1889(type) {
        if (!type)
            return [];
        const existing = this._types.get(parseInt(type));
        if (!existing)
            return [];
        return existing.prevents;
    }
    _Str_715(k) {
        if (!k)
            return this._preventHeadTurn;
        const type = this.getType(k);
        if (!type)
            return this._preventHeadTurn;
        return type._Str_1891;
    }
    _Str_801(k) {
        if (!k)
            return true;
        const type = this.getType(k);
        if (!type)
            return true;
        return type._Str_801;
    }
    get id() {
        return this._id;
    }
    get state() {
        return this._state;
    }
    get precedence() {
        return this._precedence;
    }
    get activePartSet() {
        return this._activePartSet;
    }
    get _Str_778() {
        return this._assetPartDefinition;
    }
    get lay() {
        return this._lay;
    }
    get _Str_868() {
        return this._geometryType;
    }
    get _Str_779() {
        return this._isMain;
    }
    get _Str_804() {
        return this._isDefault;
    }
    get _Str_861() {
        return this._isAnimation;
    }
    get _Str_812() {
        return this._startFromFrameZero;
    }
    get prevents() {
        return this._prevents;
    }
    get preventHeadTurn() {
        return this._preventHeadTurn;
    }
    get params() {
        return this._params;
    }
}


/***/ }),

/***/ "A63o":
/*!*****************************************!*\
  !*** ./src/client/room/utils/RoomId.ts ***!
  \*****************************************/
/*! exports provided: RoomId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomId", function() { return RoomId; });
class RoomId {
    static makeRoomPreviewerId(k) {
        return (k & 0xFFFF) + RoomId.PREVIEW_ROOM_ID_BASE;
    }
    static isRoomPreviewerId(k) {
        return (k >= RoomId.PREVIEW_ROOM_ID_BASE);
    }
}
RoomId.PREVIEW_ROOM_ID_BASE = 0x7FFF0000;


/***/ }),

/***/ "AFd5":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/access/RoomEnterEvent.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomEnterEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEnterEvent", function() { return RoomEnterEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_access_RoomEnterParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/access/RoomEnterParser */ "/LY3");


class RoomEnterEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_access_RoomEnterParser__WEBPACK_IMPORTED_MODULE_1__["RoomEnterParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Aavw":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitChatComposer.ts ***!
  \*************************************************************************************************/
/*! exports provided: RoomUnitChatComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitChatComposer", function() { return RoomUnitChatComposer; });
class RoomUnitChatComposer {
    constructor(message, styleId) {
        this._data = [message, styleId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "AsRw":
/*!*****************************************************************************!*\
  !*** ./src/app/components/room/widgets/avatarinfo/AvatarContextInfoView.ts ***!
  \*****************************************************************************/
/*! exports provided: AvatarContextInfoView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarContextInfoView", function() { return AvatarContextInfoView; });
/* harmony import */ var _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectType */ "+kDp");
/* harmony import */ var _contextmenu_ContextInfoView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contextmenu/ContextInfoView */ "o52k");


class AvatarContextInfoView extends _contextmenu_ContextInfoView__WEBPACK_IMPORTED_MODULE_1__["ContextInfoView"] {
    constructor() {
        super(...arguments);
        this.userId = -1;
        this.userName = '';
        this.userType = -1;
        this.roomIndex = -1;
    }
    static extendedSetup(view, userId, userName, userType, roomIndex) {
        view.userId = userId;
        view.userName = userName;
        view.userType = userType;
        view.roomIndex = roomIndex;
        view.completeSetup();
    }
    getOffset(k) {
        let y = -(this.activeViewElement.offsetHeight);
        if ((this.userType === _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__["RoomObjectType"].USER) || (this.userType === _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__["RoomObjectType"].BOT) || (this.userType === _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__["RoomObjectType"].RENTABLE_BOT)) {
            y = (y + ((k.height > 50) ? 25 : 0));
        }
        else {
            y = (y - 4);
        }
        return y;
    }
}


/***/ }),

/***/ "Audg":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectDataUpdateMessage.ts ***!
  \*******************************************************************/
/*! exports provided: ObjectDataUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectDataUpdateMessage", function() { return ObjectDataUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectDataUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(state, data, extra = NaN) {
        super(null, null);
        this._state = state;
        this._data = data;
        this._extra = extra;
    }
    get state() {
        return this._state;
    }
    get data() {
        return this._data;
    }
    get extra() {
        return this._extra;
    }
}


/***/ }),

/***/ "Ays+":
/*!*******************************************************!*\
  !*** ./src/client/nitro/avatar/pets/PetFigureData.ts ***!
  \*******************************************************/
/*! exports provided: PetFigureData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetFigureData", function() { return PetFigureData; });
/* harmony import */ var _PetCustomPart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PetCustomPart */ "ngmT");

class PetFigureData {
    constructor(k) {
        this._typeId = this.getTypeId(k);
        this._paletteId = this.getPaletteId(k);
        this._color = this.getColor(k);
        this._headOnly = this.getHeadOnly(k);
        const _local_2 = this.getCustomData(k);
        this._customLayerIds = this.getCustomLayerIds(_local_2);
        this._customPartIds = this.getCustomPartIds(_local_2);
        this._customPaletteIds = this.getCustomPaletteIds(_local_2);
        this._customParts = [];
        let i = 0;
        while (i < this._customLayerIds.length) {
            this._customParts.push(new _PetCustomPart__WEBPACK_IMPORTED_MODULE_0__["PetCustomPart"](this._customLayerIds[i], this._customPartIds[i], this._customPaletteIds[i]));
            i++;
        }
    }
    get typeId() {
        return this._typeId;
    }
    get paletteId() {
        return this._paletteId;
    }
    get color() {
        return this._color;
    }
    get customLayerIds() {
        return this._customLayerIds;
    }
    get customPartIds() {
        return this._customPartIds;
    }
    get customPaletteIds() {
        return this._customPaletteIds;
    }
    get customParts() {
        return this._customParts;
    }
    getCustomPart(k) {
        if (this._customParts) {
            for (let _local_2 of this._customParts) {
                if (_local_2.layerId === k)
                    return _local_2;
            }
        }
        return null;
    }
    get hasCustomParts() {
        return (!(this._customLayerIds == null)) && (this._customLayerIds.length > 0);
    }
    get headOnly() {
        return this._headOnly;
    }
    get figureString() {
        let figure = ((((this.typeId + ' ') + this.paletteId) + ' ') + this.color.toString(16));
        figure = (figure + (' ' + this.customParts.length));
        for (let _local_2 of this.customParts) {
            figure = (figure + (((((' ' + _local_2.layerId) + ' ') + _local_2.partId) + ' ') + _local_2.paletteId));
        }
        return figure;
    }
    getCustomData(k) {
        let _local_2 = [];
        if (k) {
            const _local_3 = k.split(' ');
            const _local_4 = ((this._headOnly) ? 1 : 0);
            const _local_5 = (4 + _local_4);
            if (_local_3.length > _local_5) {
                const _local_6 = (3 + _local_4);
                const _local_7 = parseInt(_local_3[_local_6]);
                _local_2 = _local_3.slice(_local_5, (_local_5 + (_local_7 * 3)));
            }
        }
        return _local_2;
    }
    getCustomLayerIds(data) {
        const layerIds = [];
        let i = 0;
        while (i < data.length) {
            layerIds.push(parseInt(data[(i + 0)]));
            i = (i + 3);
        }
        return layerIds;
    }
    getCustomPartIds(data) {
        const partIds = [];
        let i = 0;
        while (i < data.length) {
            partIds.push(parseInt(data[(i + 1)]));
            i = (i + 3);
        }
        return partIds;
    }
    getCustomPaletteIds(data) {
        const paletteIds = [];
        let i = 0;
        while (i < data.length) {
            paletteIds.push(parseInt(data[(i + 2)]));
            i = (i + 3);
        }
        return paletteIds;
    }
    getTypeId(data) {
        if (data) {
            const parts = data.split(' ');
            if (parts.length >= 1)
                return parseInt(parts[0]);
        }
        return 0;
    }
    getPaletteId(data) {
        if (data) {
            const parts = data.split(' ');
            if (parts.length >= 2)
                return parseInt(parts[1]);
        }
        return 0;
    }
    getColor(data) {
        if (data) {
            const parts = data.split(' ');
            if (parts.length >= 3)
                return parseInt(parts[2], 16);
        }
        return 0xFFFFFF;
    }
    getHeadOnly(data) {
        if (data) {
            const parts = data.split(' ');
            if (parts.length >= 4)
                return parts[3] === 'head';
        }
        return false;
    }
}


/***/ }),

/***/ "AytR":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "B+OB":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorMetadataParser.ts ***!
  \*********************************************************************************************/
/*! exports provided: NavigatorMetadataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorMetadataParser", function() { return NavigatorMetadataParser; });
/* harmony import */ var _utils_NavigatorTopLevelContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/NavigatorTopLevelContext */ "maL4");

class NavigatorMetadataParser {
    flush() {
        this._topLevelContexts = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalContexts = wrapper.readInt();
        while (totalContexts > 0) {
            this._topLevelContexts.push(new _utils_NavigatorTopLevelContext__WEBPACK_IMPORTED_MODULE_0__["NavigatorTopLevelContext"](wrapper));
            totalContexts--;
        }
        return true;
    }
    get topLevelContexts() {
        return this._topLevelContexts;
    }
}


/***/ }),

/***/ "B2vL":
/*!***********************************************************************!*\
  !*** ./src/client/core/communication/messages/MessageClassManager.ts ***!
  \***********************************************************************/
/*! exports provided: MessageClassManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageClassManager", function() { return MessageClassManager; });
/* harmony import */ var _MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MessageEvent */ "5+UO");

class MessageClassManager {
    constructor() {
        this._messageIdByEvent = new Map();
        this._messageIdByComposer = new Map();
        this._messageInstancesById = new Map();
    }
    dispose() {
        this._messageIdByEvent.clear();
        this._messageIdByComposer.clear();
        this._messageInstancesById.clear();
    }
    registerMessages(configuration) {
        for (let [header, handler] of configuration.events)
            this.registerMessageEventClass(header, handler);
        for (let [header, handler] of configuration.composers)
            this.registerMessageComposerClass(header, handler);
    }
    registerMessageEventClass(header, handler) {
        if (!header || !handler)
            return;
        const existing = this._messageIdByEvent.get(handler);
        if (existing)
            return;
        this._messageIdByEvent.set(handler, header);
    }
    registerMessageComposerClass(header, handler) {
        if (!header || !handler)
            return;
        const existing = this._messageIdByComposer.get(handler);
        if (existing)
            return;
        this._messageIdByComposer.set(handler, header);
    }
    registerMessageEvent(event) {
        const header = this.getEventId(event);
        if (!header)
            return;
        let existing = this._messageInstancesById.get(header);
        if (!existing || !existing.length) {
            existing = [];
            this._messageInstancesById.set(header, existing);
            //@ts-ignore
            event.parser = new event.parserClass();
        }
        else {
            event.parser = existing[0].parser;
        }
        existing.push(event);
    }
    removeMessageEvent(event) {
        const header = this.getEventId(event);
        if (!header)
            return;
        const existing = this._messageInstancesById.get(header);
        if (!existing)
            return;
        for (let [index, message] of existing.entries()) {
            if (!message)
                continue;
            if (message !== event)
                continue;
            existing.splice(index, 1);
            if (existing.length === 0)
                this._messageInstancesById.delete(header);
            message.dispose();
            return;
        }
    }
    getEvents(header) {
        if (!header)
            return;
        const existing = this._messageInstancesById.get(header);
        if (!existing)
            return;
        return existing;
    }
    getEventId(event) {
        if (!event)
            return -1;
        //@ts-ignore
        const name = (event instanceof _MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] ? event.constructor : event);
        const existing = this._messageIdByEvent.get(name);
        if (!existing)
            return -1;
        return existing;
    }
    getComposerId(composer) {
        if (!composer)
            return -1;
        const existing = this._messageIdByComposer.get(composer.constructor);
        if (!existing)
            return -1;
        return existing;
    }
}


/***/ }),

/***/ "BBqr":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureCuboidVisualization.ts ***!
  \**********************************************************************************************/
/*! exports provided: FurnitureCuboidVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureCuboidVisualization", function() { return FurnitureCuboidVisualization; });
/* harmony import */ var _room_object_visualization_RoomObjectSpriteVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/object/visualization/RoomObjectSpriteVisualization */ "dp49");

class FurnitureCuboidVisualization extends _room_object_visualization_RoomObjectSpriteVisualization__WEBPACK_IMPORTED_MODULE_0__["RoomObjectSpriteVisualization"] {
}


/***/ }),

/***/ "BBsB":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/EmptyDataType.ts ***!
  \*****************************************************************/
/*! exports provided: EmptyDataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyDataType", function() { return EmptyDataType; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectDataBase */ "MeCd");
/* harmony import */ var _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ObjectDataKey */ "KQk8");



class EmptyDataType extends _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__["ObjectDataBase"] {
    parseWrapper(wrapper) {
        if (!wrapper)
            return;
        this._state = '';
        super.parseWrapper(wrapper);
    }
    writeRoomObjectModel(model) {
        super.writeRoomObjectModel(model);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA_FORMAT, EmptyDataType.FORMAT_KEY);
    }
    getLegacyString() {
        return this._state;
    }
    compare(data) {
        return super.compare(data);
    }
}
EmptyDataType.FORMAT_KEY = _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__["ObjectDataKey"].EMPTY_KEY;


/***/ }),

/***/ "BCdO":
/*!*************************************************!*\
  !*** ./src/client/nitro/window/motion/Queue.ts ***!
  \*************************************************/
/*! exports provided: Queue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Queue", function() { return Queue; });
/* harmony import */ var _Motion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Motion */ "YBQe");

class Queue extends _Motion__WEBPACK_IMPORTED_MODULE_0__["Motion"] {
    constructor(...motions) {
        super((motions ? motions[0].target : null));
        this._queue = [];
        for (let motion of motions)
            this._queue.push(motion);
        this._motion = motions[0];
        this._complete = !!!this._motion;
    }
    get running() {
        return ((this._running && this._motion) ? this._motion.running : false);
    }
    start() {
        super.start();
        this._motion.start();
    }
    update(k) {
        super.update(k);
        if (this._motion.running)
            this._motion.update(k);
    }
    stop() {
        super.stop();
        this._motion.stop();
    }
    tick(k) {
        super.tick(k);
        this._motion.tick(k);
        if (this._motion.complete) {
            this._motion.stop();
            const index = this._queue.indexOf(this._motion);
            if (index < (this._queue.length - 1)) {
                this._motion = this._queue[(index + 1)];
                this._target = this._motion.target;
                this._motion.start();
            }
            else {
                this._complete = true;
            }
        }
    }
}


/***/ }),

/***/ "BFtu":
/*!*********************************************************!*\
  !*** ./src/client/nitro/room/object/RoomPlaneParser.ts ***!
  \*********************************************************/
/*! exports provided: RoomPlaneParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPlaneParser", function() { return RoomPlaneParser; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _RoomFloorHole__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomFloorHole */ "wR2t");
/* harmony import */ var _RoomMapData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RoomMapData */ "QzjD");
/* harmony import */ var _RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RoomPlaneData */ "mkz/");
/* harmony import */ var _RoomWallData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RoomWallData */ "vtlK");





class RoomPlaneParser {
    constructor() {
        this._width = 0;
        this._height = 0;
        this._minX = 0;
        this._maxX = 0;
        this._minY = 0;
        this._maxY = 0;
        this._fixedWallHeight = -1;
        this._floorHeight = 0;
        this._tileMatrix = [];
        this._tileMatrixOriginal = [];
        this._planes = [];
        this._floorHoleMatrix = [];
        this._wallHeight = 3.6;
        this._wallThicknessMultiplier = 1;
        this._floorThicknessMultiplier = 1;
        this._floorHoles = new Map();
    }
    static getFloorHeight(matricies) {
        const length = matricies.length;
        if (!length)
            return 0;
        let tileHeight = 0;
        let i = 0;
        while (i < length) {
            const matrix = matricies[i];
            let j = 0;
            while (j < matrix.length) {
                const height = matrix[j];
                if (height > tileHeight)
                    tileHeight = height;
                j++;
            }
            i++;
        }
        return tileHeight;
    }
    static findEntranceTile(matricies) {
        if (!matricies)
            return null;
        let length = matricies.length;
        if (!length)
            return null;
        var _local_6 = [];
        let i = 0;
        while (i < length) {
            const matrix = matricies[i];
            if (!matrix || !matrix.length)
                return null;
            let j = 0;
            while (j < matrix.length) {
                if (matrix[j] >= 0) {
                    _local_6.push(j);
                    break;
                }
                j++;
            }
            if (_local_6.length < (i + 1))
                _local_6.push((matrix.length + 1));
            i++;
        }
        i = 1;
        while (i < (_local_6.length - 1)) {
            if (((Math.trunc(_local_6[i]) <= (Math.trunc(_local_6[(i - 1)]) - 1)) && (Math.trunc(_local_6[i]) <= (Math.trunc(_local_6[(i + 1)]) - 1))))
                return new PIXI.Point(Math.trunc((_local_6[i]) | 0), i);
            i++;
        }
        return null;
    }
    static expandFloorTiles(k) {
        var _local_2;
        var _local_5;
        var _local_6;
        var _local_7;
        var _local_8;
        var _local_10;
        var _local_11;
        var _local_12;
        var _local_13;
        var _local_14;
        var _local_15;
        var _local_16;
        var _local_17;
        _local_2 = k.length;
        var _local_3 = k[0].length;
        var _local_4 = [];
        _local_6 = 0;
        while (_local_6 < (_local_2 * 4)) {
            _local_4[_local_6] = [];
            _local_6++;
        }
        var _local_9 = 0;
        _local_6 = 0;
        while (_local_6 < _local_2) {
            _local_10 = 0;
            _local_5 = 0;
            while (_local_5 < _local_3) {
                _local_11 = k[_local_6][_local_5];
                if (((_local_11 < 0) || (_local_11 <= 0xFF))) {
                    _local_8 = 0;
                    while (_local_8 < 4) {
                        _local_7 = 0;
                        while (_local_7 < 4) {
                            if (_local_4[(_local_9 + _local_8)] === undefined)
                                _local_4[(_local_9 + _local_8)] = [];
                            _local_4[(_local_9 + _local_8)][(_local_10 + _local_7)] = ((_local_11 < 0) ? _local_11 : (_local_11 * 4));
                            _local_7++;
                        }
                        _local_8++;
                    }
                }
                else {
                    _local_12 = ((_local_11 & 0xFF) * 4);
                    _local_13 = (_local_12 + (((_local_11 >> 11) & 0x01) * 3));
                    _local_14 = (_local_12 + (((_local_11 >> 10) & 0x01) * 3));
                    _local_15 = (_local_12 + (((_local_11 >> 9) & 0x01) * 3));
                    _local_16 = (_local_12 + (((_local_11 >> 8) & 0x01) * 3));
                    _local_7 = 0;
                    while (_local_7 < 3) {
                        _local_17 = (_local_7 + 1);
                        _local_4[_local_9][(_local_10 + _local_7)] = (((_local_13 * (3 - _local_7)) + (_local_14 * _local_7)) / 3);
                        _local_4[(_local_9 + 3)][(_local_10 + _local_17)] = (((_local_15 * (3 - _local_17)) + (_local_16 * _local_17)) / 3);
                        _local_4[(_local_9 + _local_17)][_local_10] = (((_local_13 * (3 - _local_17)) + (_local_15 * _local_17)) / 3);
                        _local_4[(_local_9 + _local_7)][(_local_10 + 3)] = (((_local_14 * (3 - _local_7)) + (_local_16 * _local_7)) / 3);
                        _local_7++;
                    }
                    _local_4[(_local_9 + 1)][(_local_10 + 1)] = ((_local_13 > _local_12) ? (_local_12 + 2) : (_local_12 + 1));
                    _local_4[(_local_9 + 1)][(_local_10 + 2)] = ((_local_14 > _local_12) ? (_local_12 + 2) : (_local_12 + 1));
                    _local_4[(_local_9 + 2)][(_local_10 + 1)] = ((_local_15 > _local_12) ? (_local_12 + 2) : (_local_12 + 1));
                    _local_4[(_local_9 + 2)][(_local_10 + 2)] = ((_local_16 > _local_12) ? (_local_12 + 2) : (_local_12 + 1));
                }
                _local_10 = (_local_10 + 4);
                _local_5++;
            }
            _local_9 = (_local_9 + 4);
            _local_6++;
        }
        return _local_4;
    }
    static addTileTypes(k) {
        var _local_4;
        var _local_5;
        var _local_6;
        var _local_7;
        var _local_8;
        var _local_9;
        var _local_10;
        var _local_11;
        var _local_12;
        var _local_13;
        var _local_14;
        var _local_15;
        var _local_16;
        var _local_17;
        var _local_2 = (k.length - 1);
        var _local_3 = (k[0].length - 1);
        _local_5 = 1;
        while (_local_5 < _local_2) {
            _local_4 = 1;
            while (_local_4 < _local_3) {
                _local_6 = k[_local_5][_local_4];
                if (_local_6 < 0) {
                }
                else {
                    _local_7 = (k[(_local_5 - 1)][(_local_4 - 1)] & 0xFF);
                    _local_8 = (k[(_local_5 - 1)][_local_4] & 0xFF);
                    _local_9 = (k[(_local_5 - 1)][(_local_4 + 1)] & 0xFF);
                    _local_10 = (k[_local_5][(_local_4 - 1)] & 0xFF);
                    _local_11 = (k[_local_5][(_local_4 + 1)] & 0xFF);
                    _local_12 = (k[(_local_5 + 1)][(_local_4 - 1)] & 0xFF);
                    _local_13 = (k[(_local_5 + 1)][_local_4] & 0xFF);
                    _local_14 = (k[(_local_5 + 1)][(_local_4 + 1)] & 0xFF);
                    _local_15 = (_local_6 + 1);
                    _local_16 = (_local_6 - 1);
                    _local_17 = (((((((_local_7 == _local_15) || (_local_8 == _local_15)) || (_local_10 == _local_15)) ? 8 : 0) | ((((_local_9 == _local_15) || (_local_8 == _local_15)) || (_local_11 == _local_15)) ? 4 : 0)) | ((((_local_12 == _local_15) || (_local_13 == _local_15)) || (_local_10 == _local_15)) ? 2 : 0)) | ((((_local_14 == _local_15) || (_local_13 == _local_15)) || (_local_11 == _local_15)) ? 1 : 0));
                    if (_local_17 == 15) {
                        _local_17 = 0;
                    }
                    k[_local_5][_local_4] = (_local_6 | (_local_17 << 8));
                }
                _local_4++;
            }
            _local_5++;
        }
    }
    static unpadHeightMap(k) {
        k.shift();
        k.pop();
        for (let _local_2 of k) {
            _local_2.shift();
            _local_2.pop();
        }
    }
    static padHeightMap(k) {
        var _local_2 = [];
        var _local_3 = [];
        for (let _local_4 of k) {
            _local_4.push(RoomPlaneParser.TILE_BLOCKED);
            _local_4.unshift(RoomPlaneParser.TILE_BLOCKED);
        }
        for (let _local_5 of k[0]) {
            _local_2.push(RoomPlaneParser.TILE_BLOCKED);
            _local_3.push(RoomPlaneParser.TILE_BLOCKED);
        }
        k.push(_local_3);
        k.unshift(_local_2);
    }
    get minX() {
        return this._minX;
    }
    get maxX() {
        return this._maxX;
    }
    get minY() {
        return this._minY;
    }
    get maxY() {
        return this._maxY;
    }
    get tileMapWidth() {
        return this._width;
    }
    get tileMapHeight() {
        return this._height;
    }
    get planeCount() {
        return this._planes.length;
    }
    get floorHeight() {
        if (this._fixedWallHeight != -1) {
            return this._fixedWallHeight;
        }
        return this._floorHeight;
    }
    get wallHeight() {
        if (this._fixedWallHeight != -1) {
            return this._fixedWallHeight + 3.6;
        }
        return this._wallHeight;
    }
    set wallHeight(k) {
        if (k < 0) {
            k = 0;
        }
        this._wallHeight = k;
    }
    get wallThicknessMultiplier() {
        return this._wallThicknessMultiplier;
    }
    set wallThicknessMultiplier(k) {
        if (k < 0) {
            k = 0;
        }
        this._wallThicknessMultiplier = k;
    }
    get floorThicknessMultiplier() {
        return this._floorThicknessMultiplier;
    }
    set floorThicknessMultiplier(k) {
        if (k < 0) {
            k = 0;
        }
        this._floorThicknessMultiplier = k;
    }
    dispose() {
        this._planes = null;
        this._tileMatrix = null;
        this._tileMatrixOriginal = null;
        this._floorHoleMatrix = null;
        if (this._floorHoles != null) {
            this._floorHoles.clear();
            this._floorHoles = null;
        }
    }
    reset() {
        this._planes = [];
        this._tileMatrix = [];
        this._tileMatrixOriginal = [];
        this._width = 0;
        this._height = 0;
        this._minX = 0;
        this._maxX = 0;
        this._minY = 0;
        this._maxY = 0;
        this._floorHeight = 0;
        this._floorHoleMatrix = [];
    }
    initializeTileMap(width, height) {
        if (width < 0)
            width = 0;
        if (height < 0)
            height = 0;
        this._tileMatrix = [];
        this._tileMatrixOriginal = [];
        this._floorHoleMatrix = [];
        let y = 0;
        while (y < height) {
            let tileMatrix = [];
            let tileMatrixOriginal = [];
            let floorHoleMatrix = [];
            let x = 0;
            while (x < width) {
                tileMatrix[x] = RoomPlaneParser.TILE_BLOCKED;
                tileMatrixOriginal[x] = RoomPlaneParser.TILE_BLOCKED;
                floorHoleMatrix[x] = false;
                x++;
            }
            this._tileMatrix.push(tileMatrix);
            this._tileMatrixOriginal.push(tileMatrixOriginal);
            this._floorHoleMatrix.push(floorHoleMatrix);
            y++;
        }
        this._width = width;
        this._height = height;
        this._minX = this._width;
        this._maxX = -1;
        this._minY = this._height;
        this._maxY = -1;
        return true;
    }
    setTileHeight(k, _arg_2, _arg_3) {
        var _local_4;
        var _local_5;
        var _local_6;
        var _local_7;
        var _local_8;
        if (((((k >= 0) && (k < this._width)) && (_arg_2 >= 0)) && (_arg_2 < this._height))) {
            _local_4 = this._tileMatrix[_arg_2];
            _local_4[k] = _arg_3;
            if (_arg_3 >= 0) {
                if (k < this._minX) {
                    this._minX = k;
                }
                if (k > this._maxX) {
                    this._maxX = k;
                }
                if (_arg_2 < this._minY) {
                    this._minY = _arg_2;
                }
                if (_arg_2 > this._maxY) {
                    this._maxY = _arg_2;
                }
            }
            else {
                if (((k == this._minX) || (k == this._maxX))) {
                    _local_5 = false;
                    _local_6 = this._minY;
                    while (_local_6 < this._maxY) {
                        if (this.getTileHeightInternal(k, _local_6) >= 0) {
                            _local_5 = true;
                            break;
                        }
                        _local_6++;
                    }
                    if (!_local_5) {
                        if (k == this._minX) {
                            this._minX++;
                        }
                        if (k == this._maxX) {
                            this._maxX--;
                        }
                    }
                }
                if (((_arg_2 == this._minY) || (_arg_2 == this._maxY))) {
                    _local_7 = false;
                    _local_8 = this._minX;
                    while (_local_8 < this._maxX) {
                        if (this.getTileHeight(_local_8, _arg_2) >= 0) {
                            _local_7 = true;
                            break;
                        }
                        _local_8++;
                    }
                    if (!_local_7) {
                        if (_arg_2 == this._minY) {
                            this._minY++;
                        }
                        if (_arg_2 == this._maxY) {
                            this._maxY--;
                        }
                    }
                }
            }
            return true;
        }
        return false;
    }
    getTileHeight(k, _arg_2) {
        if (((((k < 0) || (k >= this._width)) || (_arg_2 < 0)) || (_arg_2 >= this._height))) {
            return RoomPlaneParser.TILE_BLOCKED;
        }
        var _local_3 = this._tileMatrix[_arg_2];
        if (_local_3[k] === undefined)
            return 0;
        return Math.abs(_local_3[k]);
    }
    getTileHeightOriginal(k, _arg_2) {
        if (((((k < 0) || (k >= this._width)) || (_arg_2 < 0)) || (_arg_2 >= this._height))) {
            return RoomPlaneParser.TILE_BLOCKED;
        }
        if (this._floorHoleMatrix[_arg_2][k]) {
            return RoomPlaneParser.TILE_HOLE;
        }
        var _local_3 = this._tileMatrixOriginal[_arg_2];
        return _local_3[k];
    }
    getTileHeightInternal(k, _arg_2) {
        if (((((k < 0) || (k >= this._width)) || (_arg_2 < 0)) || (_arg_2 >= this._height))) {
            return RoomPlaneParser.TILE_BLOCKED;
        }
        var _local_3 = this._tileMatrix[_arg_2];
        return _local_3[k];
    }
    initializeFromTileData(k = -1) {
        var _local_2;
        var _local_3;
        this._fixedWallHeight = k;
        _local_3 = 0;
        while (_local_3 < this._height) {
            _local_2 = 0;
            while (_local_2 < this._width) {
                if (this._tileMatrixOriginal[_local_3] === undefined)
                    this._tileMatrixOriginal[_local_3] = [];
                this._tileMatrixOriginal[_local_3][_local_2] = this._tileMatrix[_local_3][_local_2];
                _local_2++;
            }
            _local_3++;
        }
        var _local_4 = RoomPlaneParser.findEntranceTile(this._tileMatrix);
        _local_3 = 0;
        while (_local_3 < this._height) {
            _local_2 = 0;
            while (_local_2 < this._width) {
                if (this._floorHoleMatrix[_local_3] === undefined)
                    this._floorHoleMatrix[_local_3] = [];
                if (this._floorHoleMatrix[_local_3][_local_2]) {
                    this.setTileHeight(_local_2, _local_3, RoomPlaneParser.TILE_HOLE);
                }
                _local_2++;
            }
            _local_3++;
        }
        return this.initialize(_local_4);
    }
    initialize(k) {
        var _local_5;
        var _local_2 = 0;
        if (k != null) {
            _local_2 = this.getTileHeight(k.x, k.y);
            this.setTileHeight(k.x, k.y, RoomPlaneParser.TILE_BLOCKED);
        }
        this._floorHeight = RoomPlaneParser.getFloorHeight(this._tileMatrix);
        this.createWallPlanes();
        var _local_3 = [];
        for (let _local_4 of this._tileMatrix)
            _local_3.push(_local_4.concat());
        RoomPlaneParser.padHeightMap(_local_3);
        RoomPlaneParser.addTileTypes(_local_3);
        RoomPlaneParser.unpadHeightMap(_local_3);
        _local_5 = RoomPlaneParser.expandFloorTiles(_local_3);
        this.extractPlanes(_local_5);
        if (k != null) {
            this.setTileHeight(k.x, k.y, _local_2);
            this.addFloor(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((k.x + 0.5), (k.y + 0.5), _local_2), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](-1, 0, 0), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, -1, 0), false, false, false, false);
        }
        return true;
    }
    generateWallData(k, _arg_2) {
        var _local_8;
        var _local_9;
        var _local_10;
        var _local_11;
        var _local_12;
        var _local_3 = new _RoomWallData__WEBPACK_IMPORTED_MODULE_4__["RoomWallData"]();
        var _local_4 = [this.extractTopWall.bind(this), this.extractRightWall.bind(this), this.extractBottomWall.bind(this), this.extractLeftWall.bind(this)];
        var _local_5 = 0;
        var _local_6 = new PIXI.Point(k.x, k.y);
        var _local_7 = 0;
        while (_local_7++ < 1000) {
            _local_8 = false;
            _local_9 = false;
            _local_10 = _local_5;
            if (((((_local_6.x < this.minX) || (_local_6.x > this.maxX)) || (_local_6.y < this.minY)) || (_local_6.y > this.maxY))) {
                _local_8 = true;
            }
            _local_11 = _local_4[_local_5](_local_6, _arg_2);
            if (_local_11 == null) {
                return null;
            }
            _local_12 = (Math.abs((_local_11.x - _local_6.x)) + Math.abs((_local_11.y - _local_6.y)));
            if (((_local_6.x == _local_11.x) || (_local_6.y == _local_11.y))) {
                _local_5 = (((_local_5 - 1) + _local_4.length) % _local_4.length);
                _local_12 = (_local_12 + 1);
                _local_9 = true;
            }
            else {
                _local_5 = ((_local_5 + 1) % _local_4.length);
                _local_12--;
            }
            _local_3._Str_17862(_local_6, _local_10, _local_12, _local_8, _local_9);
            if ((((_local_11.x == k.x) && (_local_11.y == k.y)) && ((!(_local_11.x == _local_6.x)) || (!(_local_11.y == _local_6.y))))) {
                break;
            }
            _local_6 = _local_11;
        }
        if (_local_3.count == 0) {
            return null;
        }
        return _local_3;
    }
    hidePeninsulaWallChains(k) {
        var _local_5;
        var _local_6;
        var _local_7;
        var _local_8;
        var _local_2 = 0;
        var _local_3 = k.count;
        while (_local_2 < _local_3) {
            const _local_4 = _local_2;
            _local_5 = _local_2;
            _local_6 = 0;
            _local_7 = false;
            while (((!(k._Str_25208(_local_2))) && (_local_2 < _local_3))) {
                if (k._Str_17084(_local_2)) {
                    _local_6++;
                }
                else {
                    if (_local_6 > 0) {
                        _local_6--;
                    }
                }
                if (_local_6 > 1) {
                    _local_7 = true;
                }
                _local_5 = _local_2;
                _local_2++;
            }
            if (_local_7) {
                _local_8 = _local_4;
                while (_local_8 <= _local_5) {
                    k._Str_15901(_local_8, true);
                    _local_8++;
                }
            }
            _local_2++;
        }
    }
    updateWallsNextToHoles(k) {
        var _local_4;
        var _local_5;
        var _local_6;
        var _local_7;
        var _local_8;
        var _local_9;
        var _local_10;
        var _local_2 = k.count;
        var _local_3 = 0;
        while (_local_3 < _local_2) {
            if (!k._Str_10019(_local_3)) {
                _local_4 = k._Str_10778(_local_3);
                _local_5 = k.getDirection(_local_3);
                _local_6 = k._Str_13743(_local_3);
                _local_7 = _RoomWallData__WEBPACK_IMPORTED_MODULE_4__["RoomWallData"]._Str_5077[_local_5];
                _local_8 = _RoomWallData__WEBPACK_IMPORTED_MODULE_4__["RoomWallData"]._Str_5543[_local_5];
                _local_9 = 0;
                _local_10 = 0;
                while (_local_10 < _local_6) {
                    if (this.getTileHeightInternal(((_local_4.x + (_local_10 * _local_7.x)) - _local_8.x), ((_local_4.y + (_local_10 * _local_7.y)) - _local_8.y)) == RoomPlaneParser.TILE_HOLE) {
                        if (((_local_10 > 0) && (_local_9 == 0))) {
                            k._Str_24531(_local_3, _local_10);
                            break;
                        }
                        _local_9++;
                    }
                    else {
                        if (_local_9 > 0) {
                            k._Str_23976(_local_3, _local_9);
                            break;
                        }
                    }
                    _local_10++;
                }
                if (_local_9 == _local_6) {
                    k._Str_15901(_local_3, true);
                }
            }
            _local_3++;
        }
    }
    resolveOriginalWallIndex(k, _arg_2, _arg_3) {
        var _local_10;
        var _local_11;
        var _local_12;
        var _local_13;
        var _local_14;
        var _local_15;
        var _local_4 = Math.min(k.y, _arg_2.y);
        var _local_5 = Math.max(k.y, _arg_2.y);
        var _local_6 = Math.min(k.x, _arg_2.x);
        var _local_7 = Math.max(k.x, _arg_2.x);
        var _local_8 = _arg_3.count;
        var _local_9 = 0;
        while (_local_9 < _local_8) {
            _local_10 = _arg_3._Str_10778(_local_9);
            _local_11 = _arg_3._Str_19138(_local_9);
            if (k.x == _arg_2.x) {
                if (((_local_10.x == k.x) && (_local_11.x == k.x))) {
                    _local_12 = Math.min(_local_10.y, _local_11.y);
                    _local_13 = Math.max(_local_10.y, _local_11.y);
                    if (((_local_12 <= _local_4) && (_local_5 <= _local_13))) {
                        return _local_9;
                    }
                }
            }
            else {
                if (k.y == _arg_2.y) {
                    if (((_local_10.y == k.y) && (_local_11.y == k.y))) {
                        _local_14 = Math.min(_local_10.x, _local_11.x);
                        _local_15 = Math.max(_local_10.x, _local_11.x);
                        if (((_local_14 <= _local_6) && (_local_7 <= _local_15))) {
                            return _local_9;
                        }
                    }
                }
            }
            _local_9++;
        }
        return -1;
    }
    hideOriginallyHiddenWalls(k, _arg_2) {
        var _local_5;
        var _local_6;
        var _local_7;
        var _local_8;
        var _local_9;
        var _local_3 = k.count;
        var _local_4 = 0;
        while (_local_4 < _local_3) {
            if (!k._Str_10019(_local_4)) {
                _local_5 = k._Str_10778(_local_4);
                _local_6 = new PIXI.Point(_local_5.x, _local_5.y);
                _local_7 = _RoomWallData__WEBPACK_IMPORTED_MODULE_4__["RoomWallData"]._Str_5077[k.getDirection(_local_4)];
                _local_8 = k._Str_13743(_local_4);
                _local_6.x = (_local_6.x + (_local_7.x * _local_8));
                _local_6.y = (_local_6.y + (_local_7.y * _local_8));
                _local_9 = this.resolveOriginalWallIndex(_local_5, _local_6, _arg_2);
                if (_local_9 >= 0) {
                    if (_arg_2._Str_10019(_local_9)) {
                        k._Str_15901(_local_4, true);
                    }
                }
                else {
                    k._Str_15901(_local_4, true);
                }
            }
            _local_4++;
        }
    }
    checkWallHiding(k, _arg_2) {
        this.hidePeninsulaWallChains(_arg_2);
        this.updateWallsNextToHoles(k);
        this.hideOriginallyHiddenWalls(k, _arg_2);
    }
    addWalls(k, _arg_2) {
        var _local_5;
        var _local_6;
        var _local_8;
        var _local_9;
        var _local_10;
        var _local_11;
        var _local_12;
        var _local_13;
        var _local_14;
        var _local_15;
        var _local_16;
        var _local_17;
        var _local_18;
        var _local_19;
        var _local_20;
        var _local_21;
        var _local_22;
        var _local_23;
        var _local_24;
        var _local_25;
        var _local_26;
        var _local_27;
        var _local_3 = k.count;
        var _local_4 = _arg_2.count;
        var _local_7 = 0;
        while (_local_7 < _local_3) {
            if (!k._Str_10019(_local_7)) {
                _local_8 = k._Str_10778(_local_7);
                _local_9 = k.getDirection(_local_7);
                _local_10 = k._Str_13743(_local_7);
                _local_11 = _RoomWallData__WEBPACK_IMPORTED_MODULE_4__["RoomWallData"]._Str_5077[_local_9];
                _local_12 = _RoomWallData__WEBPACK_IMPORTED_MODULE_4__["RoomWallData"]._Str_5543[_local_9];
                _local_13 = -1;
                _local_14 = 0;
                while (_local_14 < _local_10) {
                    _local_27 = this.getTileHeightInternal(((_local_8.x + (_local_14 * _local_11.x)) + _local_12.x), ((_local_8.y + (_local_14 * _local_11.y)) + _local_12.y));
                    if (((_local_27 >= 0) && ((_local_27 < _local_13) || (_local_13 < 0)))) {
                        _local_13 = _local_27;
                    }
                    _local_14++;
                }
                _local_15 = _local_13;
                _local_16 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_8.x, _local_8.y, _local_15);
                _local_16 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_local_16, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_12, 0.5));
                _local_16 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_local_16, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_11, -0.5));
                _local_17 = ((this.wallHeight + Math.min(RoomPlaneParser.MAX_WALL_ADDITIONAL_HEIGHT, this.floorHeight)) - _local_13);
                _local_18 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_11, -(_local_10));
                _local_19 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, _local_17);
                _local_16 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dif(_local_16, _local_18);
                _local_20 = this.resolveOriginalWallIndex(_local_8, k._Str_19138(_local_7), _arg_2);
                if (_local_20 >= 0) {
                    _local_5 = _arg_2.getDirection(((_local_20 + 1) % _local_4));
                    _local_6 = _arg_2.getDirection((((_local_20 - 1) + _local_4) % _local_4));
                }
                else {
                    _local_5 = k.getDirection(((_local_7 + 1) % _local_3));
                    _local_6 = k.getDirection((((_local_7 - 1) + _local_3) % _local_3));
                }
                _local_21 = null;
                if ((((_local_5 - _local_9) + 4) % 4) == 3) {
                    _local_21 = _RoomWallData__WEBPACK_IMPORTED_MODULE_4__["RoomWallData"]._Str_5543[_local_5];
                }
                else {
                    if ((((_local_9 - _local_6) + 4) % 4) == 3) {
                        _local_21 = _RoomWallData__WEBPACK_IMPORTED_MODULE_4__["RoomWallData"]._Str_5543[_local_6];
                    }
                }
                _local_22 = k._Str_17084(_local_7);
                _local_23 = k._Str_17084((((_local_7 - 1) + _local_3) % _local_3));
                _local_24 = k._Str_10019(((_local_7 + 1) % _local_3));
                _local_25 = k._Str_25455(_local_7);
                _local_26 = k._Str_24163(_local_7);
                this.addWall(_local_16, _local_18, _local_19, _local_21, ((!(_local_23)) || (_local_25)), ((!(_local_22)) || (_local_26)), (!(_local_24)));
            }
            _local_7++;
        }
    }
    createWallPlanes() {
        var _local_13;
        var _local_14;
        var k = this._tileMatrix;
        if (k == null) {
            return false;
        }
        var _local_2;
        var _local_3;
        var _local_4;
        var _local_5 = k.length;
        var _local_6 = 0;
        if (_local_5 == 0) {
            return false;
        }
        _local_2 = 0;
        while (_local_2 < _local_5) {
            _local_4 = k[_local_2];
            if (((_local_4 == null) || (_local_4.length == 0))) {
                return false;
            }
            if (_local_6 > 0) {
                _local_6 = Math.min(_local_6, _local_4.length);
            }
            else {
                _local_6 = _local_4.length;
            }
            _local_2++;
        }
        var _local_7 = Math.min(RoomPlaneParser.MAX_WALL_ADDITIONAL_HEIGHT, ((this._fixedWallHeight != -1) ? this._fixedWallHeight : RoomPlaneParser.getFloorHeight(k)));
        var _local_8 = this.minX;
        var _local_9 = this.minY;
        _local_9 = this.minY;
        while (_local_9 <= this.maxY) {
            if (this.getTileHeightInternal(_local_8, _local_9) > RoomPlaneParser.TILE_HOLE) {
                _local_9--;
                break;
            }
            _local_9++;
        }
        if (_local_9 > this.maxY) {
            return false;
        }
        var _local_10 = new PIXI.Point(_local_8, _local_9);
        var _local_11 = this.generateWallData(_local_10, true);
        var _local_12 = this.generateWallData(_local_10, false);
        if (_local_11 != null) {
            _local_13 = _local_11.count;
            _local_14 = _local_12.count;
            this.checkWallHiding(_local_11, _local_12);
            this.addWalls(_local_11, _local_12);
        }
        _local_3 = 0;
        while (_local_3 < this.tileMapHeight) {
            _local_2 = 0;
            while (_local_2 < this.tileMapWidth) {
                if (this.getTileHeightInternal(_local_2, _local_3) < 0) {
                    this.setTileHeight(_local_2, _local_3, -(_local_7 + this.wallHeight));
                }
                _local_2++;
            }
            _local_3++;
        }
        return true;
    }
    extractTopWall(k, _arg_2) {
        if (k == null) {
            return null;
        }
        var _local_3 = 1;
        var _local_4 = RoomPlaneParser.TILE_HOLE;
        if (!_arg_2) {
            _local_4 = RoomPlaneParser.TILE_BLOCKED;
        }
        while (_local_3 < 1000) {
            if (this.getTileHeightInternal((k.x + _local_3), k.y) > _local_4) {
                return new PIXI.Point(((k.x + _local_3) - 1), k.y);
            }
            if (this.getTileHeightInternal((k.x + _local_3), (k.y + 1)) <= _local_4) {
                return new PIXI.Point((k.x + _local_3), (k.y + 1));
            }
            _local_3++;
        }
        return null;
    }
    extractRightWall(k, _arg_2) {
        if (k == null) {
            return null;
        }
        var _local_3 = 1;
        var _local_4 = RoomPlaneParser.TILE_HOLE;
        if (!_arg_2) {
            _local_4 = RoomPlaneParser.TILE_BLOCKED;
        }
        while (_local_3 < 1000) {
            if (this.getTileHeightInternal(k.x, (k.y + _local_3)) > _local_4) {
                return new PIXI.Point(k.x, (k.y + (_local_3 - 1)));
            }
            if (this.getTileHeightInternal((k.x - 1), (k.y + _local_3)) <= _local_4) {
                return new PIXI.Point((k.x - 1), (k.y + _local_3));
            }
            _local_3++;
        }
        return null;
    }
    extractBottomWall(k, _arg_2) {
        if (k == null) {
            return null;
        }
        var _local_3 = 1;
        var _local_4 = RoomPlaneParser.TILE_HOLE;
        if (!_arg_2) {
            _local_4 = RoomPlaneParser.TILE_BLOCKED;
        }
        while (_local_3 < 1000) {
            if (this.getTileHeightInternal((k.x - _local_3), k.y) > _local_4) {
                return new PIXI.Point((k.x - (_local_3 - 1)), k.y);
            }
            if (this.getTileHeightInternal((k.x - _local_3), (k.y - 1)) <= _local_4) {
                return new PIXI.Point((k.x - _local_3), (k.y - 1));
            }
            _local_3++;
        }
        return null;
    }
    extractLeftWall(k, _arg_2) {
        if (k == null) {
            return null;
        }
        var _local_3 = 1;
        var _local_4 = RoomPlaneParser.TILE_HOLE;
        if (!_arg_2) {
            _local_4 = RoomPlaneParser.TILE_BLOCKED;
        }
        while (_local_3 < 1000) {
            if (this.getTileHeightInternal(k.x, (k.y - _local_3)) > _local_4) {
                return new PIXI.Point(k.x, (k.y - (_local_3 - 1)));
            }
            if (this.getTileHeightInternal((k.x + 1), (k.y - _local_3)) <= _local_4) {
                return new PIXI.Point((k.x + 1), (k.y - _local_3));
            }
            _local_3++;
        }
        return null;
    }
    addWall(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7) {
        var _local_12;
        this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_WALL, k, _arg_2, _arg_3, [_arg_4]);
        this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_LANDSCAPE, k, _arg_2, _arg_3, [_arg_4]);
        var _local_8 = (RoomPlaneParser.WALL_THICKNESS * this._wallThicknessMultiplier);
        var _local_9 = (RoomPlaneParser.FLOOR_THICKNESS * this._floorThicknessMultiplier);
        var _local_10 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].crossProduct(_arg_2, _arg_3);
        var _local_11 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_10, ((1 / _local_10.length) * -(_local_8)));
        this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_WALL, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(k, _arg_3), _arg_2, _local_11, [_local_10, _arg_4]);
        if (_arg_5) {
            this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_WALL, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(k, _arg_2), _arg_3), _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_arg_3, (-(_arg_3.length + _local_9) / _arg_3.length)), _local_11, [_local_10, _arg_4]);
        }
        if (_arg_6) {
            this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_WALL, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(k, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_arg_3, (-(_local_9) / _arg_3.length))), _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_arg_3, ((_arg_3.length + _local_9) / _arg_3.length)), _local_11, [_local_10, _arg_4]);
            if (_arg_7) {
                _local_12 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_arg_2, (_local_8 / _arg_2.length));
                this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_WALL, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(k, _arg_3), _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_12, -1)), _local_12, _local_11, [_local_10, _arg_2, _arg_4]);
            }
        }
    }
    addFloor(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7) {
        var _local_9;
        var _local_10;
        var _local_11;
        var _local_8 = this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_FLOOR, k, _arg_2, _arg_3);
        if (_local_8 != null) {
            _local_9 = (RoomPlaneParser.FLOOR_THICKNESS * this._floorThicknessMultiplier);
            _local_10 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, _local_9);
            _local_11 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dif(k, _local_10);
            if (_arg_6) {
                this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_FLOOR, _local_11, _arg_2, _local_10);
            }
            if (_arg_7) {
                this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_FLOOR, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_local_11, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_arg_2, _arg_3)), _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_arg_2, -1), _local_10);
            }
            if (_arg_4) {
                this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_FLOOR, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_local_11, _arg_3), _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_arg_3, -1), _local_10);
            }
            if (_arg_5) {
                this.addPlane(_RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_FLOOR, _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_local_11, _arg_2), _arg_3, _local_10);
            }
        }
    }
    initializeFromMapData(data) {
        if (!data)
            return false;
        this.reset();
        this.resetFloorHoles();
        const width = data.width;
        const height = data.height;
        const wallHeight = data.wallHeight;
        const fixedWallsHeight = data.fixedWallsHeight;
        this.initializeTileMap(width, height);
        if (data.tileMap) {
            let y = 0;
            while (y < data.tileMap.length) {
                const row = data.tileMap[y];
                if (row) {
                    let x = 0;
                    while (x < row.length) {
                        const column = row[x];
                        if (column)
                            this.setTileHeight(x, y, column.height);
                        x++;
                    }
                }
                y++;
            }
        }
        if (data.holeMap && data.holeMap.length) {
            let index = 0;
            while (index < data.holeMap.length) {
                const hole = data.holeMap[index];
                if (!hole)
                    continue;
                this.addFloorHole(hole.id, hole.x, hole.y, hole.width, hole.height);
                index++;
            }
            this.initializeHoleMap();
        }
        this.wallHeight = wallHeight;
        this.initializeFromTileData(fixedWallsHeight);
        return true;
    }
    addPlane(k, _arg_2, _arg_3, _arg_4, _arg_5 = null) {
        if (((_arg_3.length == 0) || (_arg_4.length == 0))) {
            return null;
        }
        var _local_6 = new _RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"](k, _arg_2, _arg_3, _arg_4, _arg_5);
        this._planes.push(_local_6);
        return _local_6;
    }
    getMapData() {
        const data = new _RoomMapData__WEBPACK_IMPORTED_MODULE_2__["RoomMapData"]();
        data.width = this._width;
        data.height = this._height;
        data.wallHeight = this._wallHeight;
        data.fixedWallsHeight = this._fixedWallHeight;
        data.dimensions.minX = this.minX;
        data.dimensions.maxX = this.maxX;
        data.dimensions.minY = this.minY;
        data.dimensions.maxY = this.maxY;
        let y = 0;
        while (y < this._height) {
            const tileRow = [];
            const tileMatrix = this._tileMatrixOriginal[y];
            let x = 0;
            while (x < this._width) {
                const tileHeight = tileMatrix[x];
                tileRow.push({ height: tileHeight });
                x++;
            }
            data.tileMap.push(tileRow);
            y++;
        }
        for (let [holeId, holeData] of this._floorHoles.entries()) {
            if (!holeData)
                continue;
            data.holeMap.push({
                id: holeId,
                x: holeData.x,
                y: holeData.y,
                width: holeData.width,
                height: holeData.height
            });
        }
        return data;
    }
    getPlaneLocation(k) {
        if (((k < 0) || (k >= this.planeCount)))
            return null;
        const planeData = this._planes[k];
        if (!planeData)
            return null;
        return planeData.loc;
    }
    getPlaneNormal(k) {
        if (((k < 0) || (k >= this.planeCount)))
            return null;
        const planeData = this._planes[k];
        if (!planeData)
            return null;
        return planeData.normal;
    }
    getPlaneLeftSide(k) {
        if (((k < 0) || (k >= this.planeCount)))
            return null;
        const planeData = this._planes[k];
        if (!planeData)
            return null;
        return planeData._Str_5424;
    }
    getPlaneRightSide(k) {
        if (((k < 0) || (k >= this.planeCount)))
            return null;
        const planeData = this._planes[k];
        if (!planeData)
            return null;
        return planeData._Str_4968;
    }
    getPlaneNormalDirection(k) {
        if (((k < 0) || (k >= this.planeCount)))
            return null;
        const planeData = this._planes[k];
        if (!planeData)
            return null;
        return planeData._Str_25207;
    }
    getPlaneSecondaryNormals(k) {
        var _local_3;
        var _local_4;
        if (((k < 0) || (k >= this.planeCount))) {
            return null;
        }
        var _local_2 = this._planes[k];
        if (_local_2 != null) {
            _local_3 = [];
            _local_4 = 0;
            while (_local_4 < _local_2._Str_20277) {
                _local_3.push(_local_2._Str_22585(_local_4));
                _local_4++;
            }
            return _local_3;
        }
        return null;
    }
    getPlaneType(k) {
        if (((k < 0) || (k >= this.planeCount)))
            return _RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_UNDEFINED;
        const planeData = this._planes[k];
        if (!planeData)
            return _RoomPlaneData__WEBPACK_IMPORTED_MODULE_3__["RoomPlaneData"].PLANE_UNDEFINED;
        return planeData.type;
    }
    getPlaneMaskCount(k) {
        if (((k < 0) || (k >= this.planeCount)))
            return 0;
        const planeData = this._planes[k];
        if (!planeData)
            return 0;
        return planeData._Str_6845;
    }
    getPlaneMaskLeftSideLoc(k, _arg_2) {
        if (((k < 0) || (k >= this.planeCount)))
            return -1;
        const planeData = this._planes[k];
        if (!planeData)
            return -1;
        return planeData._Str_25133(_arg_2);
    }
    getPlaneMaskRightSideLoc(k, _arg_2) {
        if (((k < 0) || (k >= this.planeCount)))
            return -1;
        const planeData = this._planes[k];
        if (!planeData)
            return -1;
        return planeData._Str_23609(_arg_2);
    }
    getPlaneMaskLeftSideLength(k, _arg_2) {
        if (((k < 0) || (k >= this.planeCount)))
            return -1;
        const planeData = this._planes[k];
        if (!planeData)
            return -1;
        return planeData._Str_25097(_arg_2);
    }
    getPlaneMaskRightSideLength(k, _arg_2) {
        if (((k < 0) || (k >= this.planeCount)))
            return -1;
        const planeData = this._planes[k];
        if (!planeData)
            return -1;
        return planeData._Str_25617(_arg_2);
    }
    addFloorHole(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        this.removeFloorHole(k);
        this._floorHoles.set(k, new _RoomFloorHole__WEBPACK_IMPORTED_MODULE_1__["RoomFloorHole"](_arg_2, _arg_3, _arg_4, _arg_5));
    }
    removeFloorHole(k) {
        this._floorHoles.delete(k);
    }
    resetFloorHoles() {
        this._floorHoles.clear();
    }
    initializeHoleMap() {
        var k;
        var _local_2;
        var _local_3;
        var _local_5;
        var _local_6;
        var _local_7;
        var _local_8;
        var _local_9;
        _local_2 = 0;
        while (_local_2 < this._height) {
            _local_3 = this._floorHoleMatrix[_local_2];
            k = 0;
            while (k < this._width) {
                _local_3[k] = false;
                k++;
            }
            _local_2++;
        }
        for (let _local_4 of this._floorHoles.values()) {
            _local_5 = _local_4;
            if (_local_5 != null) {
                _local_6 = _local_5.x;
                _local_7 = ((_local_5.x + _local_5.width) - 1);
                _local_8 = _local_5.y;
                _local_9 = ((_local_5.y + _local_5.height) - 1);
                _local_6 = ((_local_6 < 0) ? 0 : _local_6);
                _local_7 = ((_local_7 >= this._width) ? (this._width - 1) : _local_7);
                _local_8 = ((_local_8 < 0) ? 0 : _local_8);
                _local_9 = ((_local_9 >= this._height) ? (this._height - 1) : _local_9);
                _local_2 = _local_8;
                while (_local_2 <= _local_9) {
                    _local_3 = this._floorHoleMatrix[_local_2];
                    k = _local_6;
                    while (k <= _local_7) {
                        _local_3[k] = true;
                        k++;
                    }
                    _local_2++;
                }
            }
        }
    }
    extractPlanes(k) {
        var _local_2;
        var _local_7;
        var _local_8;
        var _local_9;
        var _local_10;
        var _local_11;
        var _local_12;
        var _local_13;
        var _local_14;
        var _local_15;
        var _local_16;
        var _local_17;
        var _local_18;
        var _local_19;
        var _local_20;
        var _local_21;
        _local_2 = k.length;
        var _local_3 = k[0].length;
        var _local_4 = [];
        var _local_5 = 0;
        while (_local_5 < _local_2) {
            _local_4[_local_5] = [];
            _local_5++;
        }
        var _local_6 = 0;
        while (_local_6 < _local_2) {
            _local_7 = 0;
            while (_local_7 < _local_3) {
                _local_8 = k[_local_6][_local_7];
                if (((_local_8 < 0) || (_local_4[_local_6][_local_7]))) {
                }
                else {
                    _local_11 = ((_local_7 == 0) || (!(k[_local_6][(_local_7 - 1)] == _local_8)));
                    _local_12 = ((_local_6 == 0) || (!(k[(_local_6 - 1)][_local_7] == _local_8)));
                    _local_9 = (_local_7 + 1);
                    while (_local_9 < _local_3) {
                        if ((((!(k[_local_6][_local_9] == _local_8)) || (_local_4[_local_6][_local_9])) || ((_local_6 > 0) && ((k[(_local_6 - 1)][_local_9] == _local_8) == _local_12)))) {
                            break;
                        }
                        _local_9++;
                    }
                    _local_13 = ((_local_9 == _local_3) || (!(k[_local_6][_local_9] == _local_8)));
                    _local_17 = false;
                    _local_10 = (_local_6 + 1);
                    while (((_local_10 < _local_2) && (!(_local_17)))) {
                        _local_14 = (!(k[_local_10][_local_7] == _local_8));
                        _local_17 = (((_local_14) || ((_local_7 > 0) && ((k[_local_10][(_local_7 - 1)] == _local_8) == _local_11))) || ((_local_9 < _local_3) && ((k[_local_10][_local_9] == _local_8) == _local_13)));
                        _local_15 = _local_7;
                        while (_local_15 < _local_9) {
                            if ((k[_local_10][_local_15] == _local_8) == _local_14) {
                                _local_17 = true;
                                _local_9 = _local_15;
                                break;
                            }
                            _local_15++;
                        }
                        if (_local_17) {
                            break;
                        }
                        _local_10++;
                    }
                    _local_14 = ((_local_14) || (_local_10 == _local_2));
                    _local_13 = ((_local_9 == _local_3) || (!(k[_local_6][_local_9] == _local_8)));
                    _local_16 = _local_6;
                    while (_local_16 < _local_10) {
                        _local_15 = _local_7;
                        while (_local_15 < _local_9) {
                            _local_4[_local_16][_local_15] = true;
                            _local_15++;
                        }
                        _local_16++;
                    }
                    _local_18 = ((_local_7 / 4) - 0.5);
                    _local_19 = ((_local_6 / 4) - 0.5);
                    _local_20 = ((_local_9 - _local_7) / 4);
                    _local_21 = ((_local_10 - _local_6) / 4);
                    this.addFloor(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((_local_18 + _local_20), (_local_19 + _local_21), (_local_8 / 4)), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](-(_local_20), 0, 0), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, -(_local_21), 0), _local_13, _local_11, _local_14, _local_12);
                }
                _local_7++;
            }
            _local_6++;
        }
    }
}
RoomPlaneParser.FLOOR_THICKNESS = 0.25;
RoomPlaneParser.WALL_THICKNESS = 0.25;
RoomPlaneParser.MAX_WALL_ADDITIONAL_HEIGHT = 20;
RoomPlaneParser.TILE_BLOCKED = -110;
RoomPlaneParser.TILE_HOLE = -100;


/***/ }),

/***/ "BG3s":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/catalog/CatalogModeComposer.ts ***!
  \*****************************************************************************************/
/*! exports provided: CatalogModeComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogModeComposer", function() { return CatalogModeComposer; });
class CatalogModeComposer {
    constructor(mode) {
        this._data = [mode];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "BHwH":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomSettingsParser.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomSettingsParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSettingsParser", function() { return RoomSettingsParser; });
/* harmony import */ var _RoomChatParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomChatParser */ "fFOI");
/* harmony import */ var _RoomModerationParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomModerationParser */ "/FfH");


class RoomSettingsParser {
    flush() {
        this._roomId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomId = wrapper.readInt();
        this._name = wrapper.readString();
        this._description = wrapper.readString();
        this._state = wrapper.readInt();
        this._categoryId = wrapper.readInt();
        this._userCount = wrapper.readInt();
        this._maxUserCount = wrapper.readInt();
        this.parseTags(wrapper);
        this._allowPets = wrapper.readInt();
        this._allowPetsEat = wrapper.readInt();
        this._allowWalkthrough = wrapper.readInt();
        this._hideWalls = wrapper.readInt();
        this._thicknessWall = wrapper.readInt();
        this._thicknessFloor = wrapper.readInt();
        this._chat = new _RoomChatParser__WEBPACK_IMPORTED_MODULE_0__["RoomChatParser"](wrapper);
        this._moderation = new _RoomModerationParser__WEBPACK_IMPORTED_MODULE_1__["RoomModerationParser"](wrapper);
        return true;
    }
    parseTags(wrapper) {
        if (!wrapper)
            return false;
        this._tags = [];
        let totalTags = wrapper.readInt();
        while (totalTags > 0) {
            this._tags.push(wrapper.readString());
            totalTags--;
        }
        return true;
    }
    get roomId() {
        return this._roomId;
    }
}


/***/ }),

/***/ "BVCN":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitEffectEvent.ts ***!
  \*******************************************************************************************/
/*! exports provided: RoomUnitEffectEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitEffectEvent", function() { return RoomUnitEffectEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitEffectParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitEffectParser */ "M0Sd");


class RoomUnitEffectEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitEffectParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitEffectParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "BYlm":
/*!********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/availability/AvailabilityStatusMessageParser.ts ***!
  \********************************************************************************************************/
/*! exports provided: AvailabilityStatusMessageParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvailabilityStatusMessageParser", function() { return AvailabilityStatusMessageParser; });
class AvailabilityStatusMessageParser {
    flush() {
        this._isOpen = false;
        this._onShutdown = false;
        this._isAuthenticUser = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._isOpen = wrapper.readBoolean();
        this._onShutdown = wrapper.readBoolean();
        if (wrapper.bytesAvailable) {
            this._isAuthenticUser = wrapper.readBoolean();
        }
        return true;
    }
    get isOpen() {
        return this._isOpen;
    }
    get onShutdown() {
        return this._onShutdown;
    }
    get isAuthenticUser() {
        return this._isAuthenticUser;
    }
}


/***/ }),

/***/ "Bbk2":
/*!********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/furni/FurniturePostItPlacedEvent.ts ***!
  \********************************************************************************************************/
/*! exports provided: FurniturePostItPlacedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePostItPlacedEvent", function() { return FurniturePostItPlacedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_furniture_FurniturePostItPlacedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/furniture/FurniturePostItPlacedParser */ "ERUy");


class FurniturePostItPlacedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_furniture_FurniturePostItPlacedParser__WEBPACK_IMPORTED_MODULE_1__["FurniturePostItPlacedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Bdrp":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/avatar/animation/AnimationLayerData.ts ***!
  \*****************************************************************/
/*! exports provided: AnimationLayerData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationLayerData", function() { return AnimationLayerData; });
/* harmony import */ var _actions_ActiveActionData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions/ActiveActionData */ "90ny");

class AnimationLayerData {
    constructor(k, _arg_2, _arg_3) {
        this._id = k.id;
        this._animationFrame = parseInt(k.frame) || 0;
        this._dx = ((k.dx !== undefined) ? parseInt(k.dx) : 0);
        this._dy = ((k.dy !== undefined) ? parseInt(k.dy) : 0);
        this._dz = ((k.dz !== undefined) ? parseInt(k.dz) : 0);
        this._directionOffset = ((k.dd !== undefined) ? parseInt(k.dd) : 0);
        this._type = _arg_2;
        this._base = (k.base || '');
        this._items = new Map();
        if (k.items)
            for (let _local_4 of k.items)
                this._items.set(_local_4.id, _local_4.base);
        let _local_5 = '';
        if (this._base !== '')
            _local_5 = this._Str_2108().toString();
        if (_arg_3) {
            this._action = new _actions_ActiveActionData__WEBPACK_IMPORTED_MODULE_0__["ActiveActionData"](_arg_3.state, this.base);
            this._action._Str_742 = _arg_3;
        }
    }
    get items() {
        return this._items;
    }
    _Str_2108() {
        let k = 0;
        let index = 0;
        while (index < this._base.length) {
            k = (k + this._base.charCodeAt(index));
            index++;
        }
        return k;
    }
    get id() {
        return this._id;
    }
    get _Str_891() {
        return this._animationFrame;
    }
    get dx() {
        return this._dx;
    }
    get dy() {
        return this._dy;
    }
    get dz() {
        return this._dz;
    }
    get dd() {
        return this._directionOffset;
    }
    get type() {
        return this._type;
    }
    get base() {
        return this._base;
    }
    get action() {
        return this._action;
    }
}
AnimationLayerData.BODYPART = "bodypart";
AnimationLayerData.FX = "fx";


/***/ }),

/***/ "BgaL":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/catalog/CatalogSearchComposer.ts ***!
  \*******************************************************************************************/
/*! exports provided: CatalogSearchComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogSearchComposer", function() { return CatalogSearchComposer; });
class CatalogSearchComposer {
    constructor(offerId) {
        this._data = [offerId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "Bo5J":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureRoomBackgroundColorLogic.ts ***!
  \*******************************************************************************************/
/*! exports provided: FurnitureRoomBackgroundColorLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureRoomBackgroundColorLogic", function() { return FurnitureRoomBackgroundColorLogic; });
/* harmony import */ var _events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../events/RoomObjectHSLColorEnableEvent */ "JaRE");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _data_type_NumberDataType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/type/NumberDataType */ "uUF/");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");





class FurnitureRoomBackgroundColorLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_4__["FurnitureMultiStateLogic"] {
    constructor() {
        super();
        this._roomColorUpdated = false;
    }
    getEventTypes() {
        const types = [_events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectHSLColorEnableEvent"].ROOM_BACKGROUND_COLOR];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    dispose() {
        if (this._roomColorUpdated) {
            if (this.eventDispatcher && this.object) {
                const realRoomObject = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVariable"].FURNITURE_REAL_ROOM_OBJECT);
                if (realRoomObject === 1) {
                    this.eventDispatcher.dispatchEvent(new _events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectHSLColorEnableEvent"](_events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectHSLColorEnableEvent"].ROOM_BACKGROUND_COLOR, this.object, false, 0, 0, 0));
                }
            }
            this._roomColorUpdated = false;
        }
        super.dispose();
    }
    processUpdateMessage(message) {
        super.processUpdateMessage(message);
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_1__["ObjectDataUpdateMessage"]) {
            message.data.writeRoomObjectModel(this.object.model);
            const realRoomObject = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVariable"].FURNITURE_REAL_ROOM_OBJECT);
            if (realRoomObject === 1)
                this.processColorUpdate();
        }
    }
    processColorUpdate() {
        if (!this.object || !this.object.model)
            return;
        const numberData = new _data_type_NumberDataType__WEBPACK_IMPORTED_MODULE_2__["NumberDataType"]();
        numberData.initializeFromRoomObjectModel(this.object.model);
        const state = numberData.getValue(0);
        const hue = numberData.getValue(1);
        const saturation = numberData.getValue(2);
        const lightness = numberData.getValue(3);
        if ((state > -1) && (hue > -1) && (saturation > -1) && (lightness > -1)) {
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVariable"].FURNITURE_ROOM_BACKGROUND_COLOR_HUE, hue);
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVariable"].FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION, saturation);
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVariable"].FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS, lightness);
            this.object.setState(state, 0);
            if (this.eventDispatcher) {
                this.eventDispatcher.dispatchEvent(new _events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectHSLColorEnableEvent"](_events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectHSLColorEnableEvent"].ROOM_BACKGROUND_COLOR, this.object, (state === 1), hue, saturation, lightness));
            }
            this._roomColorUpdated = true;
        }
    }
}


/***/ }),

/***/ "BrIf":
/*!*********************************************!*\
  !*** ./src/app/components/catalog/index.ts ***!
  \*********************************************/
/*! exports provided: CatalogModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogModule", function() { return CatalogModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "M0ag");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component */ "MGYS");
/* harmony import */ var _confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./confirmpurchase/component */ "6Y6K");
/* harmony import */ var _layouts_default_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layouts/default/component */ "Pt5X");
/* harmony import */ var _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layouts/frontpagefeatured/component */ "9zSk");
/* harmony import */ var _layouts_pets_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./layouts/pets/component */ "Kbxs");
/* harmony import */ var _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./layouts/pets2/component */ "PY38");
/* harmony import */ var _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./layouts/trophies/component */ "EBlL");
/* harmony import */ var _navigation_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./navigation/component */ "b9MM");
/* harmony import */ var _navigation_navigationitem_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./navigation/navigationitem/component */ "mJ6T");
/* harmony import */ var _navigation_navigationset_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./navigation/navigationset/component */ "WVQs");
/* harmony import */ var _offergrid_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./offergrid/component */ "1pJR");
/* harmony import */ var _offergrid_griditem_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./offergrid/griditem/component */ "CsXu");
/* harmony import */ var _purchase_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./purchase/component */ "11td");
/* harmony import */ var _services_catalog_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./services/catalog.service */ "ywHV");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _shared_components_avatarimage_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../shared/components/avatarimage/component */ "mjBu");
/* harmony import */ var _shared_components_badge_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../shared/components/badge/component */ "f/8j");
/* harmony import */ var _shared_components_loading_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../shared/components/loading/component */ "aJmH");
/* harmony import */ var _shared_components_roompreview_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../shared/components/roompreview/component */ "KVvL");
/* harmony import */ var _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../shared/directives/draggable/directive */ "yd8t");
/* harmony import */ var _shared_directives_bringtotop_directive__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../shared/directives/bringtotop/directive */ "Ci1R");

























class CatalogModule {
}
CatalogModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: CatalogModule });
CatalogModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function CatalogModule_Factory(t) { return new (t || CatalogModule)(); }, providers: [
        _services_catalog_service__WEBPACK_IMPORTED_MODULE_15__["CatalogService"]
    ], imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](CatalogModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_2__["CatalogComponent"],
        _confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmPurchaseToastComponent"],
        _layouts_default_component__WEBPACK_IMPORTED_MODULE_4__["CatalogLayoutDefaultComponent"],
        _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_5__["CatalogLayoutFrontPageFeaturedComponent"],
        _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_8__["CatalogLayoutTrophiesComponent"],
        _layouts_pets_component__WEBPACK_IMPORTED_MODULE_6__["CatalogLayoutPetsComponent"],
        _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_7__["CatalogLayoutPets2Component"],
        _navigation_component__WEBPACK_IMPORTED_MODULE_9__["CatalogNavigationComponent"],
        _navigation_navigationitem_component__WEBPACK_IMPORTED_MODULE_10__["CatalogNavigationItemComponent"],
        _navigation_navigationset_component__WEBPACK_IMPORTED_MODULE_11__["CatalogNavigationSetComponent"],
        _offergrid_griditem_component__WEBPACK_IMPORTED_MODULE_13__["CatalogOfferGridItemComponent"],
        _offergrid_component__WEBPACK_IMPORTED_MODULE_12__["CatalogOfferGridComponent"],
        _purchase_component__WEBPACK_IMPORTED_MODULE_14__["CatalogPurchaseComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]], exports: [_component__WEBPACK_IMPORTED_MODULE_2__["CatalogComponent"],
        _confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmPurchaseToastComponent"],
        _layouts_default_component__WEBPACK_IMPORTED_MODULE_4__["CatalogLayoutDefaultComponent"],
        _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_5__["CatalogLayoutFrontPageFeaturedComponent"],
        _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_8__["CatalogLayoutTrophiesComponent"],
        _layouts_pets_component__WEBPACK_IMPORTED_MODULE_6__["CatalogLayoutPetsComponent"],
        _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_7__["CatalogLayoutPets2Component"],
        _navigation_component__WEBPACK_IMPORTED_MODULE_9__["CatalogNavigationComponent"],
        _navigation_navigationitem_component__WEBPACK_IMPORTED_MODULE_10__["CatalogNavigationItemComponent"],
        _navigation_navigationset_component__WEBPACK_IMPORTED_MODULE_11__["CatalogNavigationSetComponent"],
        _offergrid_component__WEBPACK_IMPORTED_MODULE_12__["CatalogOfferGridComponent"],
        _offergrid_griditem_component__WEBPACK_IMPORTED_MODULE_13__["CatalogOfferGridItemComponent"],
        _purchase_component__WEBPACK_IMPORTED_MODULE_14__["CatalogPurchaseComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
                ],
                exports: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["CatalogComponent"],
                    _confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmPurchaseToastComponent"],
                    _layouts_default_component__WEBPACK_IMPORTED_MODULE_4__["CatalogLayoutDefaultComponent"],
                    _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_5__["CatalogLayoutFrontPageFeaturedComponent"],
                    _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_8__["CatalogLayoutTrophiesComponent"],
                    _layouts_pets_component__WEBPACK_IMPORTED_MODULE_6__["CatalogLayoutPetsComponent"],
                    _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_7__["CatalogLayoutPets2Component"],
                    _navigation_component__WEBPACK_IMPORTED_MODULE_9__["CatalogNavigationComponent"],
                    _navigation_navigationitem_component__WEBPACK_IMPORTED_MODULE_10__["CatalogNavigationItemComponent"],
                    _navigation_navigationset_component__WEBPACK_IMPORTED_MODULE_11__["CatalogNavigationSetComponent"],
                    _offergrid_component__WEBPACK_IMPORTED_MODULE_12__["CatalogOfferGridComponent"],
                    _offergrid_griditem_component__WEBPACK_IMPORTED_MODULE_13__["CatalogOfferGridItemComponent"],
                    _purchase_component__WEBPACK_IMPORTED_MODULE_14__["CatalogPurchaseComponent"]
                ],
                providers: [
                    _services_catalog_service__WEBPACK_IMPORTED_MODULE_15__["CatalogService"]
                ],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["CatalogComponent"],
                    _confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmPurchaseToastComponent"],
                    _layouts_default_component__WEBPACK_IMPORTED_MODULE_4__["CatalogLayoutDefaultComponent"],
                    _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_5__["CatalogLayoutFrontPageFeaturedComponent"],
                    _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_8__["CatalogLayoutTrophiesComponent"],
                    _layouts_pets_component__WEBPACK_IMPORTED_MODULE_6__["CatalogLayoutPetsComponent"],
                    _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_7__["CatalogLayoutPets2Component"],
                    _navigation_component__WEBPACK_IMPORTED_MODULE_9__["CatalogNavigationComponent"],
                    _navigation_navigationitem_component__WEBPACK_IMPORTED_MODULE_10__["CatalogNavigationItemComponent"],
                    _navigation_navigationset_component__WEBPACK_IMPORTED_MODULE_11__["CatalogNavigationSetComponent"],
                    _offergrid_griditem_component__WEBPACK_IMPORTED_MODULE_13__["CatalogOfferGridItemComponent"],
                    _offergrid_component__WEBPACK_IMPORTED_MODULE_12__["CatalogOfferGridComponent"],
                    _purchase_component__WEBPACK_IMPORTED_MODULE_14__["CatalogPurchaseComponent"]
                ],
                entryComponents: [
                    _confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmPurchaseToastComponent"]
                ]
            }]
    }], null, null); })();
_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetComponentScope"](_navigation_navigationset_component__WEBPACK_IMPORTED_MODULE_11__["CatalogNavigationSetComponent"], [_angular_common__WEBPACK_IMPORTED_MODULE_16__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgComponentOutlet"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgTemplateOutlet"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgStyle"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgSwitch"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgSwitchCase"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgSwitchDefault"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgPlural"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["NgPluralCase"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["ɵangular_packages_forms_forms_x"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NumberValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["RangeValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["CheckboxControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["SelectControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["SelectMultipleControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["RadioControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["RequiredValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["MinLengthValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["MaxLengthValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["PatternValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["CheckboxRequiredValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["EmailValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NgModel"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NgModelGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["NgForm"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["FormControlDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["FormControlName"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["FormGroupName"], _angular_forms__WEBPACK_IMPORTED_MODULE_17__["FormArrayName"], _shared_components_avatarimage_component__WEBPACK_IMPORTED_MODULE_18__["AvatarImageComponent"], _shared_components_badge_component__WEBPACK_IMPORTED_MODULE_19__["BadgeComponent"], _shared_components_loading_component__WEBPACK_IMPORTED_MODULE_20__["LoadingComponent"], _shared_components_roompreview_component__WEBPACK_IMPORTED_MODULE_21__["RoomPreviewComponent"], _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_22__["DraggableDirective"], _shared_directives_bringtotop_directive__WEBPACK_IMPORTED_MODULE_23__["BringToTopDirective"], _component__WEBPACK_IMPORTED_MODULE_2__["CatalogComponent"],
    _confirmpurchase_component__WEBPACK_IMPORTED_MODULE_3__["ConfirmPurchaseToastComponent"],
    _layouts_default_component__WEBPACK_IMPORTED_MODULE_4__["CatalogLayoutDefaultComponent"],
    _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_5__["CatalogLayoutFrontPageFeaturedComponent"],
    _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_8__["CatalogLayoutTrophiesComponent"],
    _layouts_pets_component__WEBPACK_IMPORTED_MODULE_6__["CatalogLayoutPetsComponent"],
    _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_7__["CatalogLayoutPets2Component"],
    _navigation_component__WEBPACK_IMPORTED_MODULE_9__["CatalogNavigationComponent"],
    _navigation_navigationitem_component__WEBPACK_IMPORTED_MODULE_10__["CatalogNavigationItemComponent"],
    _navigation_navigationset_component__WEBPACK_IMPORTED_MODULE_11__["CatalogNavigationSetComponent"],
    _offergrid_griditem_component__WEBPACK_IMPORTED_MODULE_13__["CatalogOfferGridItemComponent"],
    _offergrid_component__WEBPACK_IMPORTED_MODULE_12__["CatalogOfferGridComponent"],
    _purchase_component__WEBPACK_IMPORTED_MODULE_14__["CatalogPurchaseComponent"]], [_angular_common__WEBPACK_IMPORTED_MODULE_16__["AsyncPipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["UpperCasePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["LowerCasePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["JsonPipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["SlicePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["DecimalPipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["PercentPipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["TitleCasePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["CurrencyPipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["DatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["I18nPluralPipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["I18nSelectPipe"], _angular_common__WEBPACK_IMPORTED_MODULE_16__["KeyValuePipe"]]);


/***/ }),

/***/ "BrMT":
/*!***************************************************!*\
  !*** ./src/client/nitro/room/RoomVariableEnum.ts ***!
  \***************************************************/
/*! exports provided: RoomVariableEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomVariableEnum", function() { return RoomVariableEnum; });
class RoomVariableEnum {
}
RoomVariableEnum.ROOM_MIN_X = 'room_min_x';
RoomVariableEnum.ROOM_MAX_X = 'room_max_x';
RoomVariableEnum.ROOM_MIN_Y = 'room_min_y';
RoomVariableEnum.ROOM_MAX_Y = 'room_max_y';
RoomVariableEnum.ROOM_IS_PUBLIC = 'room_is_public';
RoomVariableEnum.ROOM_Z_SCALE = 'room_z_scale';
RoomVariableEnum.AD_DISPLAY_DELAY = 'ad_display_delay';
RoomVariableEnum.IS_PLAYING_GAME = 'is_playing_game';


/***/ }),

/***/ "BsSY":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorLiftedParser.ts ***!
  \*******************************************************************************************/
/*! exports provided: NavigatorLiftedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorLiftedParser", function() { return NavigatorLiftedParser; });
/* harmony import */ var _NavigatorLiftedDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavigatorLiftedDataParser */ "iua6");

class NavigatorLiftedParser {
    flush() {
        this._rooms = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalRooms = wrapper.readInt();
        while (totalRooms > 0) {
            this._rooms.push(new _NavigatorLiftedDataParser__WEBPACK_IMPORTED_MODULE_0__["NavigatorLiftedDataParser"](wrapper));
            totalRooms--;
        }
        return true;
    }
    get rooms() {
        return this._rooms;
    }
}


/***/ }),

/***/ "BuZm":
/*!***************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/mask/PlaneMask.ts ***!
  \***************************************************************************/
/*! exports provided: PlaneMask */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneMask", function() { return PlaneMask; });
/* harmony import */ var _PlaneMaskVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlaneMaskVisualization */ "1P3/");

class PlaneMask {
    constructor() {
        this._sizes = [];
        this._maskVisualizations = new Map();
        this._assetNames = new Map();
        this._lastMaskVisualization = null;
        this._lastSize = -1;
    }
    dispose() {
        if (this._maskVisualizations) {
            for (let mask of this._maskVisualizations.values()) {
                if (!mask)
                    continue;
                mask.dispose();
            }
            this._maskVisualizations = null;
        }
        this._lastMaskVisualization = null;
        this._sizes = null;
    }
    _Str_24540(size) {
        const existing = this._maskVisualizations.get(size);
        if (existing)
            return null;
        const visualization = new _PlaneMaskVisualization__WEBPACK_IMPORTED_MODULE_0__["PlaneMaskVisualization"]();
        this._maskVisualizations.set(size, visualization);
        this._sizes.push(size);
        this._sizes.sort();
        return visualization;
    }
    _Str_8560(k) {
        let sizeIndex = 0;
        let index = 1;
        while (index < this._sizes.length) {
            if (this._sizes[index] > k) {
                if ((this._sizes[index] - k) < (k - this._sizes[(index - 1)]))
                    sizeIndex = index;
                break;
            }
            sizeIndex = index;
        }
        return sizeIndex;
    }
    _Str_24650(k) {
        if (k === this._lastSize)
            return this._lastMaskVisualization;
        const sizeIndex = this._Str_8560(k);
        if (sizeIndex < this._sizes.length) {
            this._lastMaskVisualization = (this._maskVisualizations.get(this._sizes[sizeIndex]));
        }
        else {
            this._lastMaskVisualization = null;
        }
        this._lastSize = k;
        return this._lastMaskVisualization;
    }
    _Str_21021(k, _arg_2) {
        const visualization = this._Str_24650(k);
        if (!visualization)
            return null;
        return visualization.getAsset(_arg_2);
    }
    _Str_2125(k) {
        if (!this._assetNames)
            return null;
        return this._assetNames.get(k) || null;
    }
    _Str_24425(k, _arg_2) {
        if (!this._assetNames)
            return;
        this._assetNames.set(k, _arg_2);
    }
}


/***/ }),

/***/ "CH4U":
/*!*****************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/utils/Randomizer.ts ***!
  \*****************************************************************************/
/*! exports provided: Randomizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Randomizer", function() { return Randomizer; });
class Randomizer {
    constructor() {
        this._Str_16737 = 1;
        this._Str_16979 = 16777216;
        this._Str_25697 = 69069;
        this._Str_23320 = 5;
    }
    static _Str_17384(k = 1) {
        if (!Randomizer._Str_3699)
            Randomizer._Str_3699 = new Randomizer();
        Randomizer._Str_3699._Str_15634 = k;
    }
    static _Str_26085(k = 16777216) {
        if (!Randomizer._Str_3699)
            Randomizer._Str_3699 = new Randomizer();
        Randomizer._Str_3699._Str_25321 = k;
    }
    static _Str_1612(k, _arg_2, _arg_3) {
        if (!Randomizer._Str_3699)
            Randomizer._Str_3699 = new Randomizer();
        return Randomizer._Str_3699._Str_24535(k, _arg_2, _arg_3);
    }
    static _Str_23572(k, _arg_2) {
        if (!Randomizer._Str_3699)
            Randomizer._Str_3699 = new Randomizer();
        return Randomizer._Str_3699._Str_24231(k, _arg_2);
    }
    set _Str_15634(k) {
        this._Str_16737 = k;
    }
    set _Str_25321(k) {
        if (k < 1)
            k = 1;
        this._Str_16979 = k;
    }
    dispose() {
    }
    _Str_24535(k, _arg_2, _arg_3) {
        const _local_4 = [];
        let _local_5 = 0;
        while (_local_5 < k) {
            _local_4.push(this._Str_19361(_arg_2, (_arg_3 - _arg_2)));
            _local_5++;
        }
        return _local_4;
    }
    _Str_24231(k, _arg_2) {
        if (((k > _arg_2) || (_arg_2 > 1000)))
            return null;
        const _local_3 = [];
        let _local_4 = 0;
        while (_local_4 <= _arg_2) {
            _local_3.push(_local_4);
            _local_4++;
        }
        const _local_5 = [];
        let _local_6 = 0;
        while (_local_6 < k) {
            const _local_7 = this._Str_19361(0, (_local_3.length - 1));
            _local_5.push(_local_3[_local_7]);
            _local_3.splice(_local_7, 1);
            _local_6++;
        }
        return _local_5;
    }
    _Str_24980() {
        let k = ((this._Str_25697 * this._Str_16737) + this._Str_23320);
        if (k < 0)
            k = -(k);
        k = (k % this._Str_16979);
        this._Str_16737 = k;
        return k;
    }
    _Str_19361(k, _arg_2) {
        let _local_3 = this._Str_24980();
        if (_arg_2 < 1)
            return k;
        _local_3 = (k + ((_local_3 / this._Str_16979) * _arg_2));
        return _local_3;
    }
}
Randomizer._Str_21045 = 1;
Randomizer._Str_20078 = 16777216;
Randomizer._Str_3699 = null;


/***/ }),

/***/ "CKlU":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/security/AuthenticatedEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: AuthenticatedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticatedEvent", function() { return AuthenticatedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_security_AuthenticatedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/security/AuthenticatedParser */ "bNFM");


class AuthenticatedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_security_AuthenticatedParser__WEBPACK_IMPORTED_MODULE_1__["AuthenticatedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Cf3r":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogSoldOutParser.ts ***!
  \****************************************************************************************/
/*! exports provided: CatalogSoldOutParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogSoldOutParser", function() { return CatalogSoldOutParser; });
class CatalogSoldOutParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "Chl+":
/*!************************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/animation/AnimationAction.ts ***!
  \************************************************************************/
/*! exports provided: AnimationAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationAction", function() { return AnimationAction; });
/* harmony import */ var _AnimationActionPart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationActionPart */ "in8K");

class AnimationAction {
    constructor(data) {
        this._id = data.id;
        this._actionParts = new Map();
        this._bodyPartOffsets = new Map();
        this._frameCount = 0;
        this._frameIndexes = [];
        if (data.parts && (data.parts.length > 0)) {
            for (let part of data.parts) {
                if (!part)
                    continue;
                const newPart = new _AnimationActionPart__WEBPACK_IMPORTED_MODULE_0__["AnimationActionPart"](part);
                this._actionParts.set(part.setType, newPart);
                this._frameCount = Math.max(this._frameCount, newPart.frames.length);
            }
        }
        if (data.offsets && data.offsets.frames && (data.offsets.frames.length > 0)) {
            for (let frame of data.offsets.frames) {
                if (!frame)
                    continue;
                const frameId = frame.id;
                this._frameCount = Math.max(this._frameCount, frameId);
                const directions = new Map();
                this._bodyPartOffsets.set(frameId, directions);
                if (frame.directions && (frame.directions.length > 0)) {
                    for (let direction of frame.directions) {
                        if (!direction)
                            continue;
                        const directionId = direction.id;
                        const offsets = new Map();
                        directions.set(directionId, offsets);
                        if (direction.bodyParts && (direction.bodyParts.length > 0)) {
                            for (let part of direction.bodyParts) {
                                if (!part)
                                    continue;
                                const partId = part.id;
                                let dx = 0;
                                let dy = 0;
                                if (part.dx !== undefined)
                                    dx = part.dx;
                                if (part.dy !== undefined)
                                    dy = part.dy;
                                offsets.set(partId, new PIXI.Point(dx, dy));
                            }
                        }
                    }
                }
                this._frameIndexes.push(frameId);
                if (frame.repeats !== undefined) {
                    let repeats = frame.repeats || 0;
                    if (repeats > 1)
                        while (--repeats > 0)
                            this._frameIndexes.push(frameId);
                }
            }
        }
    }
    _Str_989(type) {
        if (!type)
            return null;
        const existing = this._actionParts.get(type);
        if (!existing)
            return null;
        return existing;
    }
    _Str_1888(frameId, frameCount, partId) {
        const frameIndex = (frameCount % this._frameIndexes.length);
        const frameNumber = this._frameIndexes[frameIndex];
        const offsets = this._bodyPartOffsets.get(frameNumber);
        if (!offsets)
            return AnimationAction._Str_1934;
        const frameOffset = offsets.get(frameId);
        if (!frameOffset)
            return AnimationAction._Str_1934;
        const offset = frameOffset.get(partId);
        if (!offset)
            return AnimationAction._Str_1934;
        return offset;
    }
    get id() {
        return this._id;
    }
    get _Str_806() {
        return this._actionParts;
    }
    get _Str_2185() {
        return this._frameCount;
    }
}
AnimationAction._Str_1934 = new PIXI.Point(0, 0);


/***/ }),

/***/ "Ci1R":
/*!***********************************************************!*\
  !*** ./src/app/shared/directives/bringtotop/directive.ts ***!
  \***********************************************************/
/*! exports provided: BringToTopDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BringToTopDirective", function() { return BringToTopDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");


class BringToTopDirective {
    constructor(elementRef, ngZone) {
        this.elementRef = elementRef;
        this.ngZone = ngZone;
        this.target = null;
    }
    ngAfterViewInit() {
        const element = this.elementRef.nativeElement;
        if (!element)
            return;
        this.target = element;
        this.addTarget();
        this.registerEvents();
        this.bringToTop();
    }
    ngOnDestroy() {
        this.unregisterEvents();
        this.removeTarget();
        this.bringToTop();
    }
    addTarget() {
        if (!this.target)
            return;
        const index = BringToTopDirective.TOP_TARGETS.indexOf(this.target);
        if (index >= 0)
            return;
        BringToTopDirective.TOP_TARGETS.push(this.target);
    }
    removeTarget() {
        if (!this.target)
            return;
        const index = BringToTopDirective.TOP_TARGETS.indexOf(this.target);
        if (index === -1)
            return;
        BringToTopDirective.TOP_TARGETS.splice(index, 1);
    }
    registerEvents() {
        this.ngZone.runOutsideAngular(() => {
            if (!this.target)
                return;
            this.target.addEventListener('mousedown', this.bringToTop.bind(this));
        });
    }
    unregisterEvents() {
        this.ngZone.runOutsideAngular(() => {
            if (!this.target)
                return;
            this.target.removeEventListener('mousedown', this.bringToTop.bind(this));
        });
    }
    bringToTop(event = null) {
        this.moveTarget();
        let zIndex = BringToTopDirective.Z_INDEX_START;
        for (let target of BringToTopDirective.TOP_TARGETS) {
            if (!target)
                continue;
            zIndex = (zIndex + BringToTopDirective.Z_INDEX_INCREASE);
            target.style.zIndex = (zIndex.toString());
        }
    }
    moveTarget() {
        const index = BringToTopDirective.TOP_TARGETS.indexOf(this.target);
        if (index === -1)
            return;
        const deleted = BringToTopDirective.TOP_TARGETS.splice(index, 1);
        BringToTopDirective.TOP_TARGETS.push(...deleted);
    }
    isTopTarget() {
        if (!this.target)
            return false;
        const index = BringToTopDirective.TOP_TARGETS.indexOf(this.target);
        if ((index === -1) || (index < (BringToTopDirective.TOP_TARGETS.length - 1)))
            return false;
        return true;
    }
}
BringToTopDirective.TOP_TARGETS = [];
BringToTopDirective.Z_INDEX_START = 400;
BringToTopDirective.Z_INDEX_INCREASE = 1;
BringToTopDirective.ɵfac = function BringToTopDirective_Factory(t) { return new (t || BringToTopDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
BringToTopDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: BringToTopDirective, selectors: [["", "bringToTop", ""]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BringToTopDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: '[bringToTop]'
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, null); })();


/***/ }),

/***/ "Cj+m":
/*!**********************************************************!*\
  !*** ./src/client/nitro/avatar/geometry/GeometryItem.ts ***!
  \**********************************************************/
/*! exports provided: GeometryItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeometryItem", function() { return GeometryItem; });
/* harmony import */ var _Node3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Node3D */ "QVRr");
/* harmony import */ var _Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vector3D */ "lQzo");


class GeometryItem extends _Node3D__WEBPACK_IMPORTED_MODULE_0__["Node3D"] {
    constructor(k, _arg_2 = false) {
        super(parseFloat(k.x), parseFloat(k.y), parseFloat(k.z));
        this._id = k.id;
        this._radius = parseFloat(k.radius);
        this._normal = new _Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](parseFloat(k.nx), parseFloat(k.ny), parseFloat(k.nz));
        this._isDoubleSided = k.double || false;
        this._isDynamic = _arg_2;
    }
    _Str_1522(k) {
        const _local_2 = Math.abs(((k.z - this._Str_1604.z) - this._radius));
        const _local_3 = Math.abs(((k.z - this._Str_1604.z) + this._radius));
        return Math.min(_local_2, _local_3);
    }
    get id() {
        return this._id;
    }
    get normal() {
        return this._normal;
    }
    get _Str_2207() {
        return this._isDoubleSided;
    }
    toString() {
        return ((((this._id + ": ") + this.location) + " - ") + this._Str_1604);
    }
    get _Str_1457() {
        return this._isDynamic;
    }
}


/***/ }),

/***/ "CpcG":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/animation/AddDataContainer.ts ***!
  \***************************************************************/
/*! exports provided: AddDataContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddDataContainer", function() { return AddDataContainer; });
class AddDataContainer {
    constructor(k) {
        this._id = k.id || '';
        this._align = k.align || '';
        this._base = k.base || '';
        this._ink = k.ink || 0;
        this._blend = 0;
        var _local_2 = k.blend;
        if (_local_2) {
            if (_local_2.length > 0) {
                this._blend = parseInt(_local_2);
                if (this._blend > 1)
                    this._blend = (this._blend / 100);
            }
        }
    }
    get id() {
        return this._id;
    }
    get align() {
        return this._align;
    }
    get base() {
        return this._base;
    }
    get ink() {
        return this._ink;
    }
    get blend() {
        return this._blend;
    }
    get _Str_1096() {
        return this._blend !== 1;
    }
}


/***/ }),

/***/ "CsXu":
/*!********************************************************************!*\
  !*** ./src/app/components/catalog/offergrid/griditem/component.ts ***!
  \********************************************************************/
/*! exports provided: CatalogOfferGridItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogOfferGridItemComponent", function() { return CatalogOfferGridItemComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_catalog_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/catalog.service */ "ywHV");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");




const _c0 = ["nitro-catalog-offer-grid-item-component", ""];
function CatalogOfferGridItemComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.offerCount);
} }
const _c1 = function (a0) { return { "background-image": a0 }; };
class CatalogOfferGridItemComponent {
    constructor(catalogService) {
        this.catalogService = catalogService;
        this.catalogPage = null;
        this.offer = null;
    }
    selectOffer() {
        if (this.offer)
            this.catalogService.selectOffer(this.offer);
    }
    getFirstProduct() {
        const product = ((this.offer && this.offer.products[0]) || null);
        if (!product)
            return null;
        return product;
    }
    hasMultipleItems() {
        return (this.offer.products.length > 1);
    }
    get offerName() {
        return ((this.offer && this.offer.localizationId) || '');
    }
    get offerImage() {
        if (!this.hasMultipleItems()) {
            const product = this.getFirstProduct();
            const furniData = this.catalogService.getFurnitureDataForProductOffer(product);
            if (furniData)
                return 'url(' + this.catalogService.getFurnitureDataIconUrl(furniData) + ')';
        }
        return null;
    }
    get offerCount() {
        if (!this.hasMultipleItems()) {
            const product = this.getFirstProduct();
            if (product)
                return product.productCount;
        }
        return 1;
    }
}
CatalogOfferGridItemComponent.ɵfac = function CatalogOfferGridItemComponent_Factory(t) { return new (t || CatalogOfferGridItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_catalog_service__WEBPACK_IMPORTED_MODULE_1__["CatalogService"])); };
CatalogOfferGridItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogOfferGridItemComponent, selectors: [["", "nitro-catalog-offer-grid-item-component", ""]], inputs: { catalogPage: "catalogPage", offer: "offer" }, attrs: _c0, decls: 2, vars: 4, consts: [[1, "nitro-catalog-offer-grid-item-component", 3, "ngStyle", "click"], ["class", "badge badge-secondary", 4, "ngIf"], [1, "badge", "badge-secondary"]], template: function CatalogOfferGridItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CatalogOfferGridItemComponent_Template_div_click_0_listener() { return ctx.selectOffer(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CatalogOfferGridItemComponent_div_1_Template, 2, 1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c1, ctx.offerImage));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.offerCount > 1);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgStyle"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogOfferGridItemComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[nitro-catalog-offer-grid-item-component]',
                template: `
    <div class="nitro-catalog-offer-grid-item-component" [ngStyle]="{ 'background-image': offerImage }" (click)="selectOffer()">
        <div class="badge badge-secondary" *ngIf="offerCount > 1">{{ offerCount }}</div>
    </div>`
            }]
    }], function () { return [{ type: _services_catalog_service__WEBPACK_IMPORTED_MODULE_1__["CatalogService"] }]; }, { catalogPage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], offer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "Cyol":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/access/rights/RoomRightsEvent.ts ***!
  \************************************************************************************************/
/*! exports provided: RoomRightsEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomRightsEvent", function() { return RoomRightsEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_access_rights_RoomRightsParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/access/rights/RoomRightsParser */ "t4Lu");


class RoomRightsEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_access_rights_RoomRightsParser__WEBPACK_IMPORTED_MODULE_1__["RoomRightsParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "CzV9":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/mapping/RoomThicknessEvent.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomThicknessEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomThicknessEvent", function() { return RoomThicknessEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_mapping_RoomThicknessParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/mapping/RoomThicknessParser */ "Kn/2");


class RoomThicknessEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_mapping_RoomThicknessParser__WEBPACK_IMPORTED_MODULE_1__["RoomThicknessParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "D+D5":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/data/RoomSettingsSavedEvent.ts ***!
  \**********************************************************************************************/
/*! exports provided: RoomSettingsSavedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSettingsSavedEvent", function() { return RoomSettingsSavedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_data_RoomSettingsSavedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/data/RoomSettingsSavedParser */ "JPh/");


class RoomSettingsSavedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_data_RoomSettingsSavedParser__WEBPACK_IMPORTED_MODULE_1__["RoomSettingsSavedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "D/zE":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitHandItemEvent.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomUnitHandItemEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitHandItemEvent", function() { return RoomUnitHandItemEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitHandItemParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitHandItemParser */ "dTvR");


class RoomUnitHandItemEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitHandItemParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitHandItemParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "D2g+":
/*!*****************************************************!*\
  !*** ./src/client/nitro/session/UserDataManager.ts ***!
  \*****************************************************/
/*! exports provided: UserDataManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserDataManager", function() { return UserDataManager; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _communication_messages_outgoing_user_data_UserCurrentBadgesComposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../communication/messages/outgoing/user/data/UserCurrentBadgesComposer */ "nMRu");


class UserDataManager extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor() {
        super();
        this._connection = null;
        this._userDataByType = new Map();
        this._userDataByRoomIndex = new Map();
        this._userBadges = new Map();
    }
    onDispose() {
        this._connection = null;
    }
    setConnection(connection) {
        this._connection = connection;
    }
    getUserData(webID) {
        return this.getDataByType(webID, UserDataManager.TYPE_USER);
    }
    getPetData(webID) {
        return this.getDataByType(webID, UserDataManager.TYPE_PET);
    }
    getBotData(webID) {
        return this.getDataByType(webID, UserDataManager.TYPE_BOT);
    }
    getRentableBotData(webID) {
        return this.getDataByType(webID, UserDataManager.TYPE_RENTABLE_BOT);
    }
    getDataByType(webID, type) {
        const existing = this._userDataByType.get(type);
        if (!existing)
            return null;
        const userData = existing.get(webID);
        if (!userData)
            return null;
        return userData;
    }
    getUserDataByIndex(roomIndex) {
        const existing = this._userDataByRoomIndex.get(roomIndex);
        if (!existing)
            return null;
        return existing;
    }
    updateUserData(data) {
        if (!data)
            return;
        this.removeUserData(data.roomIndex);
        let existingType = this._userDataByType.get(data.type);
        if (!existingType) {
            existingType = new Map();
            this._userDataByType.set(data.type, existingType);
        }
        existingType.set(data.webID, data);
        this._userDataByRoomIndex.set(data.roomIndex, data);
    }
    removeUserData(roomIndex) {
        const existing = this.getUserDataByIndex(roomIndex);
        if (!existing)
            return;
        this._userDataByRoomIndex.delete(roomIndex);
        const existingType = this._userDataByType.get(existing.type);
        if (existingType)
            existingType.delete(existing.webID);
    }
    getUserBadges(userId) {
        if (this._connection) {
            this._connection.send(new _communication_messages_outgoing_user_data_UserCurrentBadgesComposer__WEBPACK_IMPORTED_MODULE_1__["UserCurrentBadgesComposer"](userId));
        }
        const badges = this._userBadges.get(userId);
        if (!badges)
            return [];
        return badges;
    }
    setUserBadges(userId, badges) {
        this._userBadges.set(userId, badges);
    }
    updateFigure(roomIndex, figure, sex, hasSaddle, isRiding) {
        const userData = this.getUserDataByIndex(roomIndex);
        if (!userData)
            return;
        userData.figure = figure;
        userData.sex = sex;
        userData.hasSaddle = hasSaddle;
        userData.isRiding = isRiding;
    }
    updateMotto(roomIndex, custom) {
        const userData = this.getUserDataByIndex(roomIndex);
        if (!userData)
            return;
        userData.custom = custom;
    }
    get connection() {
        return this._connection;
    }
}
UserDataManager.TYPE_USER = 1;
UserDataManager.TYPE_PET = 2;
UserDataManager.TYPE_BOT = 3;
UserDataManager.TYPE_RENTABLE_BOT = 4;


/***/ }),

/***/ "DACI":
/*!***********************************************!*\
  !*** ./src/client/room/utils/RoomGeometry.ts ***!
  \***********************************************/
/*! exports provided: RoomGeometry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomGeometry", function() { return RoomGeometry; });
/* harmony import */ var _Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3D */ "LGmI");

class RoomGeometry {
    constructor(scale, direction, location, _arg_4 = null) {
        this._updateId = 0;
        this._scale = 1;
        this._x_scale = 1;
        this._y_scale = 1;
        this._z_scale = 1;
        this._x_scale_internal = 1;
        this._y_scale_internal = 1;
        this._z_scale_internal = 1;
        this._clipNear = -500;
        this._clipFar = 500;
        this._displacements = null;
        this.scale = scale;
        this._x = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._y = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._z = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._directionAxis = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._location = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._direction = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._depth = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._x_scale_internal = 1;
        this._y_scale_internal = 1;
        this.x_scale = 1;
        this.y_scale = 1;
        this._z_scale_internal = (Math.sqrt((1 / 2)) / Math.sqrt((3 / 4)));
        this.z_scale = 1;
        this.location = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](location.x, location.y, location.z);
        this.direction = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](direction.x, direction.y, direction.z);
        if (_arg_4 != null) {
            this.setDepthVector(_arg_4);
        }
        else {
            this.setDepthVector(direction);
        }
        this._displacements = new Map();
    }
    static getIntersectionVector(k, _arg_2, _arg_3, _arg_4) {
        var _local_5 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dotProduct(_arg_2, _arg_4);
        if (Math.abs(_local_5) < 1E-5) {
            return null;
        }
        var _local_6 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dif(k, _arg_3);
        var _local_7 = (-(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dotProduct(_arg_4, _local_6)) / _local_5);
        var _local_8 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(k, _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_arg_2, _local_7));
        return _local_8;
    }
    get updateId() {
        return this._updateId;
    }
    get scale() {
        return this._scale / Math.sqrt(0.5);
    }
    get directionAxis() {
        return this._directionAxis;
    }
    get location() {
        this._location.assign(this._loc);
        this._location.x = (this._location.x * this._x_scale);
        this._location.y = (this._location.y * this._y_scale);
        this._location.z = (this._location.z * this._z_scale);
        return this._location;
    }
    get direction() {
        return this._direction;
    }
    set x_scale(k) {
        if (this._x_scale != (k * this._x_scale_internal)) {
            this._x_scale = (k * this._x_scale_internal);
            this._updateId++;
        }
    }
    set y_scale(k) {
        if (this._y_scale != (k * this._y_scale_internal)) {
            this._y_scale = (k * this._y_scale_internal);
            this._updateId++;
        }
    }
    set z_scale(k) {
        if (this._z_scale != (k * this._z_scale_internal)) {
            this._z_scale = (k * this._z_scale_internal);
            this._updateId++;
        }
    }
    set scale(k) {
        if (k <= 1) {
            k = 1;
        }
        k = (k * Math.sqrt(0.5));
        if (k != this._scale) {
            this._scale = k;
            this._updateId++;
        }
    }
    set location(k) {
        if (k == null) {
            return;
        }
        if (this._loc == null) {
            this._loc = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        }
        var _local_2 = this._loc.x;
        var _local_3 = this._loc.y;
        var _local_4 = this._loc.z;
        this._loc.assign(k);
        this._loc.x = (this._loc.x / this._x_scale);
        this._loc.y = (this._loc.y / this._y_scale);
        this._loc.z = (this._loc.z / this._z_scale);
        if ((((!(this._loc.x == _local_2)) || (!(this._loc.y == _local_3))) || (!(this._loc.z == _local_4)))) {
            this._updateId++;
        }
    }
    set direction(k) {
        var _local_21;
        var _local_22;
        var _local_23;
        var _local_24;
        var _local_25;
        if (k == null) {
            return;
        }
        if (this._dir == null) {
            this._dir = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        }
        var _local_2 = this._dir.x;
        var _local_3 = this._dir.y;
        var _local_4 = this._dir.z;
        this._dir.assign(k);
        this._direction.assign(k);
        if ((((!(this._dir.x == _local_2)) || (!(this._dir.y == _local_3))) || (!(this._dir.z == _local_4)))) {
            this._updateId++;
        }
        var _local_5 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 1, 0);
        var _local_6 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, 1);
        var _local_7 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](1, 0, 0);
        var _local_8 = ((k.x / 180) * Math.PI);
        var _local_9 = ((k.y / 180) * Math.PI);
        var _local_10 = ((k.z / 180) * Math.PI);
        var _local_11 = Math.cos(_local_8);
        var _local_12 = Math.sin(_local_8);
        var _local_13 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_5, _local_11), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_7, -(_local_12)));
        var _local_14 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_6.x, _local_6.y, _local_6.z);
        var _local_15 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_5, _local_12), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_7, _local_11));
        var _local_16 = Math.cos(_local_9);
        var _local_17 = Math.sin(_local_9);
        var _local_18 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_13.x, _local_13.y, _local_13.z);
        var _local_19 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_14, _local_16), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_15, _local_17));
        var _local_20 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_14, -(_local_17)), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_15, _local_16));
        if (_local_10 != 0) {
            _local_21 = Math.cos(_local_10);
            _local_22 = Math.sin(_local_10);
            _local_23 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_18, _local_21), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_19, _local_22));
            _local_24 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_18, -(_local_22)), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_19, _local_21));
            _local_25 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_20.x, _local_20.y, _local_20.z);
            this._x.assign(_local_23);
            this._y.assign(_local_24);
            this._z.assign(_local_25);
            this._directionAxis.assign(this._z);
        }
        else {
            this._x.assign(_local_18);
            this._y.assign(_local_19);
            this._z.assign(_local_20);
            this._directionAxis.assign(this._z);
        }
    }
    dispose() {
        this._x = null;
        this._y = null;
        this._z = null;
        this._loc = null;
        this._dir = null;
        this._directionAxis = null;
        this._location = null;
        if (this._displacements != null) {
            this._displacements.clear();
            this._displacements = null;
        }
    }
    setDisplacement(k, _arg_2) {
        var _local_3;
        var _local_4;
        if (((k == null) || (_arg_2 == null))) {
            return;
        }
        if (this._displacements != null) {
            _local_3 = Math.trunc(Math.round(k.x)) + '_' + Math.trunc(Math.round(k.y)) + '_' + Math.trunc(Math.round(k.z));
            this._displacements.delete(_local_3);
            _local_4 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
            _local_4.assign(_arg_2);
            this._displacements.set(_local_3, _local_4);
            this._updateId++;
        }
    }
    getDisplacenent(k) {
        var _local_2;
        if (this._displacements != null) {
            _local_2 = Math.trunc(Math.round(k.x)) + '_' + Math.trunc(Math.round(k.y)) + '_' + Math.trunc(Math.round(k.z));
            return this._displacements.get(_local_2);
        }
        return null;
    }
    setDepthVector(k) {
        var _local_18;
        var _local_19;
        var _local_20;
        var _local_21;
        var _local_22;
        var _local_2 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 1, 0);
        var _local_3 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, 1);
        var _local_4 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](1, 0, 0);
        var _local_5 = ((k.x / 180) * Math.PI);
        var _local_6 = ((k.y / 180) * Math.PI);
        var _local_7 = ((k.z / 180) * Math.PI);
        var _local_8 = Math.cos(_local_5);
        var _local_9 = Math.sin(_local_5);
        var _local_10 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_2, _local_8), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_4, -(_local_9)));
        var _local_11 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_3.x, _local_3.y, _local_3.z);
        var _local_12 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_2, _local_9), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_4, _local_8));
        var _local_13 = Math.cos(_local_6);
        var _local_14 = Math.sin(_local_6);
        var _local_15 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_10.x, _local_10.y, _local_10.z);
        var _local_16 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_11, _local_13), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_12, _local_14));
        var _local_17 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_11, -(_local_14)), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_12, _local_13));
        if (_local_7 != 0) {
            _local_18 = Math.cos(_local_7);
            _local_19 = Math.sin(_local_7);
            _local_20 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_15, _local_18), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_16, _local_19));
            _local_21 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_15, -(_local_19)), _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(_local_16, _local_18));
            _local_22 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_17.x, _local_17.y, _local_17.z);
            this._depth.assign(_local_22);
        }
        else {
            this._depth.assign(_local_17);
        }
        this._updateId++;
    }
    adjustLocation(k, _arg_2) {
        if (((k == null) || (this._z == null))) {
            return;
        }
        var _local_3 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(this._z, -(_arg_2));
        var _local_4 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((k.x + _local_3.x), (k.y + _local_3.y), (k.z + _local_3.z));
        this.location = _local_4;
    }
    getCoordinatePosition(k) {
        if (k == null) {
            return null;
        }
        var _local_2 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(k, this._x);
        var _local_3 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(k, this._y);
        var _local_4 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(k, this._z);
        var _local_5 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_2, _local_3, _local_4);
        return _local_5;
    }
    getScreenPosition(k) {
        var _local_2 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dif(k, this._loc);
        _local_2.x = (_local_2.x * this._x_scale);
        _local_2.y = (_local_2.y * this._y_scale);
        _local_2.z = (_local_2.z * this._z_scale);
        var _local_3 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(_local_2, this._depth);
        if (((_local_3 < this._clipNear) || (_local_3 > this._clipFar))) {
            return null;
        }
        var _local_4 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(_local_2, this._x);
        var _local_5 = -(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(_local_2, this._y));
        _local_4 = (_local_4 * this._scale);
        _local_5 = (_local_5 * this._scale);
        var _local_6 = this.getDisplacenent(k);
        if (_local_6 != null) {
            _local_2 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dif(k, this._loc);
            _local_2.add(_local_6);
            _local_2.x = (_local_2.x * this._x_scale);
            _local_2.y = (_local_2.y * this._y_scale);
            _local_2.z = (_local_2.z * this._z_scale);
            _local_3 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(_local_2, this._depth);
        }
        _local_2.x = _local_4;
        _local_2.y = _local_5;
        _local_2.z = _local_3;
        return _local_2;
    }
    getScreenPoint(k) {
        var _local_2 = this.getScreenPosition(k);
        if (_local_2 == null) {
            return null;
        }
        var _local_3 = new PIXI.Point(_local_2.x, _local_2.y);
        return _local_3;
    }
    getPlanePosition(k, _arg_2, _arg_3, _arg_4) {
        var _local_15;
        var _local_16;
        var _local_5 = (k.x / this._scale);
        var _local_6 = (-(k.y) / this._scale);
        var _local_7 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(this._x, _local_5);
        _local_7.add(_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].product(this._y, _local_6));
        var _local_8 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((this._loc.x * this._x_scale), (this._loc.y * this._y_scale), (this._loc.z * this._z_scale));
        _local_8.add(_local_7);
        var _local_9 = this._z;
        var _local_10 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((_arg_2.x * this._x_scale), (_arg_2.y * this._y_scale), (_arg_2.z * this._z_scale));
        var _local_11 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((_arg_3.x * this._x_scale), (_arg_3.y * this._y_scale), (_arg_3.z * this._z_scale));
        var _local_12 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((_arg_4.x * this._x_scale), (_arg_4.y * this._y_scale), (_arg_4.z * this._z_scale));
        var _local_13 = _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].crossProduct(_local_11, _local_12);
        var _local_14 = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        _local_14.assign(RoomGeometry.getIntersectionVector(_local_8, _local_9, _local_10, _local_13));
        if (_local_14 != null) {
            _local_14.subtract(_local_10);
            _local_15 = ((_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(_local_14, _arg_3) / _local_11.length) * _arg_3.length);
            _local_16 = ((_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].scalarProjection(_local_14, _arg_4) / _local_12.length) * _arg_4.length);
            return new PIXI.Point(_local_15, _local_16);
        }
        return null;
    }
    performZoom() {
        if (this.isZoomedIn()) {
            this.scale = RoomGeometry.SCALE_ZOOMED_OUT;
        }
        else {
            this.scale = RoomGeometry.SCALE_ZOOMED_IN;
        }
    }
    isZoomedIn() {
        return this.scale == RoomGeometry.SCALE_ZOOMED_IN;
    }
    performZoomOut() {
        this.scale = RoomGeometry.SCALE_ZOOMED_OUT;
    }
    performZoomIn() {
        this.scale = RoomGeometry.SCALE_ZOOMED_IN;
    }
}
RoomGeometry.SCALE_ZOOMED_IN = 64;
RoomGeometry.SCALE_ZOOMED_OUT = 32;


/***/ }),

/***/ "DG3E":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/avatar/additions/ExpressionAddition.ts ***!
  \*******************************************************************************************/
/*! exports provided: ExpressionAddition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExpressionAddition", function() { return ExpressionAddition; });
class ExpressionAddition {
    constructor(id, type, visualization) {
        this._id = id;
        this._type = type;
        this._visualization = visualization;
    }
    dispose() {
        this._visualization = null;
    }
    update(sprite, scale) {
        return;
    }
    animate(sprite) {
        return false;
    }
    get id() {
        return this._id;
    }
    get type() {
        return this._type;
    }
    get visualization() {
        return this._visualization;
    }
}


/***/ }),

/***/ "DKkG":
/*!*********************************************************!*\
  !*** ./src/client/nitro/room/RoomObjectLogicFactory.ts ***!
  \*********************************************************/
/*! exports provided: RoomObjectLogicFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectLogicFactory", function() { return RoomObjectLogicFactory; });
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _object_logic_avatar_AvatarLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./object/logic/avatar/AvatarLogic */ "mVL6");
/* harmony import */ var _object_logic_furniture_FurnitureBadgeDisplayLogic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureBadgeDisplayLogic */ "RGbm");
/* harmony import */ var _object_logic_furniture_FurnitureChangeStateWhenStepOnLogic__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureChangeStateWhenStepOnLogic */ "yCsC");
/* harmony import */ var _object_logic_furniture_FurnitureCounterClockLogic__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureCounterClockLogic */ "I9i5");
/* harmony import */ var _object_logic_furniture_FurnitureCreditLogic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureCreditLogic */ "Xc8i");
/* harmony import */ var _object_logic_furniture_FurnitureCustomStackHeightLogic__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureCustomStackHeightLogic */ "Znue");
/* harmony import */ var _object_logic_furniture_FurnitureDiceLogic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureDiceLogic */ "bYEj");
/* harmony import */ var _object_logic_furniture_FurnitureEditableInternalLinkLogic__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureEditableInternalLinkLogic */ "a6s0");
/* harmony import */ var _object_logic_furniture_FurnitureExternalImageLogic__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureExternalImageLogic */ "eGu0");
/* harmony import */ var _object_logic_furniture_FurnitureFireworksLogic__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureFireworksLogic */ "R5Am");
/* harmony import */ var _object_logic_furniture_FurnitureFloorHoleLogic__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureFloorHoleLogic */ "5O5G");
/* harmony import */ var _object_logic_furniture_FurnitureGuildCustomizedLogic__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureGuildCustomizedLogic */ "3MU0");
/* harmony import */ var _object_logic_furniture_FurnitureHighScoreLogic__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureHighScoreLogic */ "OMME");
/* harmony import */ var _object_logic_furniture_FurnitureHockeyScoreLogic__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureHockeyScoreLogic */ "E5GA");
/* harmony import */ var _object_logic_furniture_FurnitureIceStormLogic__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureIceStormLogic */ "QxiR");
/* harmony import */ var _object_logic_furniture_FurnitureLogic__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureLogic */ "fBF8");
/* harmony import */ var _object_logic_furniture_FurnitureMannequinLogic__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureMannequinLogic */ "tgey");
/* harmony import */ var _object_logic_furniture_FurnitureMultiHeightLogic__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureMultiHeightLogic */ "F1B2");
/* harmony import */ var _object_logic_furniture_FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureMultiStateLogic */ "5sbG");
/* harmony import */ var _object_logic_furniture_FurnitureOneWayDoorLogic__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureOneWayDoorLogic */ "ysun");
/* harmony import */ var _object_logic_furniture_FurniturePetCustomizationLogic__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./object/logic/furniture/FurniturePetCustomizationLogic */ "zaSZ");
/* harmony import */ var _object_logic_furniture_FurniturePresentLogic__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./object/logic/furniture/FurniturePresentLogic */ "ho33");
/* harmony import */ var _object_logic_furniture_FurniturePurchaseableClothingLogic__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./object/logic/furniture/FurniturePurchaseableClothingLogic */ "tfZg");
/* harmony import */ var _object_logic_furniture_FurniturePushableLogic__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./object/logic/furniture/FurniturePushableLogic */ "l7mE");
/* harmony import */ var _object_logic_furniture_FurnitureRoomBackgroundColorLogic__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureRoomBackgroundColorLogic */ "Bo5J");
/* harmony import */ var _object_logic_furniture_FurnitureRoomBackgroundLogic__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureRoomBackgroundLogic */ "LV+M");
/* harmony import */ var _object_logic_furniture_FurnitureRoomBillboardLogic__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureRoomBillboardLogic */ "jn+Z");
/* harmony import */ var _object_logic_furniture_FurnitureRoomDimmerLogic__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureRoomDimmerLogic */ "SS+8");
/* harmony import */ var _object_logic_furniture_FurnitureScoreLogic__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureScoreLogic */ "k+ip");
/* harmony import */ var _object_logic_furniture_FurnitureSoundBlockLogic__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureSoundBlockLogic */ "d4m4");
/* harmony import */ var _object_logic_furniture_FurnitureStickieLogic__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureStickieLogic */ "czWm");
/* harmony import */ var _object_logic_furniture_FurnitureTrophyLogic__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureTrophyLogic */ "wQ8q");
/* harmony import */ var _object_logic_furniture_FurnitureVoteCounterLogic__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureVoteCounterLogic */ "4MdB");
/* harmony import */ var _object_logic_furniture_FurnitureVoteMajorityLogic__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureVoteMajorityLogic */ "Wmih");
/* harmony import */ var _object_logic_furniture_FurnitureWindowLogic__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./object/logic/furniture/FurnitureWindowLogic */ "aq2s");
/* harmony import */ var _object_logic_pet_PetLogic__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./object/logic/pet/PetLogic */ "GMXr");
/* harmony import */ var _object_logic_room_RoomLogic__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./object/logic/room/RoomLogic */ "mzk4");
/* harmony import */ var _object_logic_room_TileCursorLogic__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./object/logic/room/TileCursorLogic */ "jDzL");
/* harmony import */ var _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./object/RoomObjectLogicType */ "9SF+");









































class RoomObjectLogicFactory {
    constructor() {
        this._events = new _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_1__["EventDispatcher"]();
        this._cachedEvents = new Map();
        this._registeredEvents = new Map();
        this._functions = [];
    }
    getLogic(type) {
        const logic = this.getLogicType(type);
        if (!logic)
            return null;
        const instance = new logic();
        if (!instance)
            return null;
        instance.eventDispatcher = this._events;
        if (!this._cachedEvents.get(type)) {
            this._cachedEvents.set(type, true);
            const eventTypes = instance.getEventTypes();
            for (let eventType of eventTypes) {
                if (!eventType)
                    continue;
                this.registerEventType(eventType);
            }
        }
        return instance;
    }
    registerEventType(type) {
        if (this._registeredEvents.get(type))
            return;
        this._registeredEvents.set(type, true);
        for (let func of this._functions) {
            if (!func)
                continue;
            this._events.addEventListener(type, func);
        }
    }
    registerEventFunction(func) {
        if (!func)
            return;
        if (this._functions.indexOf(func) >= 0)
            return;
        this._functions.push(func);
        for (let eventType of this._registeredEvents.keys()) {
            if (!eventType)
                continue;
            this._events.addEventListener(eventType, func);
        }
    }
    removeEventFunction(func) {
        if (!func)
            return;
        const index = this._functions.indexOf(func);
        if (index === -1)
            return;
        this._functions.splice(index, 1);
        for (let event of this._registeredEvents.keys()) {
            if (!event)
                continue;
            this._events.removeEventListener(event, func);
        }
    }
    getLogicType(type) {
        if (!type)
            return null;
        let logic = null;
        switch (type) {
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].ROOM:
                logic = _object_logic_room_RoomLogic__WEBPACK_IMPORTED_MODULE_38__["RoomLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].TILE_CURSOR:
                logic = _object_logic_room_TileCursorLogic__WEBPACK_IMPORTED_MODULE_39__["TileCursorLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].USER:
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].BOT:
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].RENTABLE_BOT:
                logic = _object_logic_avatar_AvatarLogic__WEBPACK_IMPORTED_MODULE_2__["AvatarLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].PET:
                logic = _object_logic_pet_PetLogic__WEBPACK_IMPORTED_MODULE_37__["PetLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_BASIC:
                logic = _object_logic_furniture_FurnitureLogic__WEBPACK_IMPORTED_MODULE_17__["FurnitureLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_BADGE_DISPLAY:
                logic = _object_logic_furniture_FurnitureBadgeDisplayLogic__WEBPACK_IMPORTED_MODULE_3__["FurnitureBadgeDisplayLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_CHANGE_STATE_WHEN_STEP_ON:
                logic = _object_logic_furniture_FurnitureChangeStateWhenStepOnLogic__WEBPACK_IMPORTED_MODULE_4__["FurnitureChangeStateWhenStepOnLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_COUNTER_CLOCK:
                logic = _object_logic_furniture_FurnitureCounterClockLogic__WEBPACK_IMPORTED_MODULE_5__["FurnitureCounterClockLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_CREDIT:
                logic = _object_logic_furniture_FurnitureCreditLogic__WEBPACK_IMPORTED_MODULE_6__["FurnitureCreditLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_CUSTOM_STACK_HEIGHT:
                logic = _object_logic_furniture_FurnitureCustomStackHeightLogic__WEBPACK_IMPORTED_MODULE_7__["FurnitureCustomStackHeightLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_DICE:
                logic = _object_logic_furniture_FurnitureDiceLogic__WEBPACK_IMPORTED_MODULE_8__["FurnitureDiceLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_EDITABLE_INTERNAL_LINK:
                logic = _object_logic_furniture_FurnitureEditableInternalLinkLogic__WEBPACK_IMPORTED_MODULE_9__["FurnitureEditableInternalLinkLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_EXTERNAL_IMAGE_WALLITEM:
                logic = _object_logic_furniture_FurnitureExternalImageLogic__WEBPACK_IMPORTED_MODULE_10__["FurnitureExternalImageLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_FIREWORKS:
                logic = _object_logic_furniture_FurnitureFireworksLogic__WEBPACK_IMPORTED_MODULE_11__["FurnitureFireworksLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_FLOOR_HOLE:
                logic = _object_logic_furniture_FurnitureFloorHoleLogic__WEBPACK_IMPORTED_MODULE_12__["FurnitureFloorHoleLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_GUILD_CUSTOMIZED:
                logic = _object_logic_furniture_FurnitureGuildCustomizedLogic__WEBPACK_IMPORTED_MODULE_13__["FurnitureGuildCustomizedLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_HIGH_SCORE:
                logic = _object_logic_furniture_FurnitureHighScoreLogic__WEBPACK_IMPORTED_MODULE_14__["FurnitureHighScoreLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_HOCKEY_SCORE:
                logic = _object_logic_furniture_FurnitureHockeyScoreLogic__WEBPACK_IMPORTED_MODULE_15__["FurnitureHockeyScoreLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_ES:
                logic = _object_logic_furniture_FurnitureIceStormLogic__WEBPACK_IMPORTED_MODULE_16__["FurnitureIceStormLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_MANNEQUIN:
                logic = _object_logic_furniture_FurnitureMannequinLogic__WEBPACK_IMPORTED_MODULE_18__["FurnitureMannequinLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_MULTIHEIGHT:
                logic = _object_logic_furniture_FurnitureMultiHeightLogic__WEBPACK_IMPORTED_MODULE_19__["FurnitureMultiHeightLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_MULTISTATE:
                logic = _object_logic_furniture_FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_20__["FurnitureMultiStateLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_ONE_WAY_DOOR:
                logic = _object_logic_furniture_FurnitureOneWayDoorLogic__WEBPACK_IMPORTED_MODULE_21__["FurnitureOneWayDoorLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_PET_CUSTOMIZATION:
                logic = _object_logic_furniture_FurniturePetCustomizationLogic__WEBPACK_IMPORTED_MODULE_22__["FurniturePetCustomizationLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_PRESENT:
                logic = _object_logic_furniture_FurniturePresentLogic__WEBPACK_IMPORTED_MODULE_23__["FurniturePresentLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_PURCHASABLE_CLOTHING:
                logic = _object_logic_furniture_FurniturePurchaseableClothingLogic__WEBPACK_IMPORTED_MODULE_24__["FurniturePurchaseableClothingLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_PUSHABLE:
                logic = _object_logic_furniture_FurniturePushableLogic__WEBPACK_IMPORTED_MODULE_25__["FurniturePushableLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_BACKGROUND_COLOR:
                logic = _object_logic_furniture_FurnitureRoomBackgroundColorLogic__WEBPACK_IMPORTED_MODULE_26__["FurnitureRoomBackgroundColorLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_BG:
                logic = _object_logic_furniture_FurnitureRoomBackgroundLogic__WEBPACK_IMPORTED_MODULE_27__["FurnitureRoomBackgroundLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_BB:
                logic = _object_logic_furniture_FurnitureRoomBillboardLogic__WEBPACK_IMPORTED_MODULE_28__["FurnitureRoomBillboardLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_ROOMDIMMER:
                logic = _object_logic_furniture_FurnitureRoomDimmerLogic__WEBPACK_IMPORTED_MODULE_29__["FurnitureRoomDimmerLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_SCORE:
                logic = _object_logic_furniture_FurnitureScoreLogic__WEBPACK_IMPORTED_MODULE_30__["FurnitureScoreLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_SOUNDBLOCK:
                logic = _object_logic_furniture_FurnitureSoundBlockLogic__WEBPACK_IMPORTED_MODULE_31__["FurnitureSoundBlockLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_STICKIE:
                logic = _object_logic_furniture_FurnitureStickieLogic__WEBPACK_IMPORTED_MODULE_32__["FurnitureStickieLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_TROPHY:
                logic = _object_logic_furniture_FurnitureTrophyLogic__WEBPACK_IMPORTED_MODULE_33__["FurnitureTrophyLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_VOTE_COUNTER:
                logic = _object_logic_furniture_FurnitureVoteCounterLogic__WEBPACK_IMPORTED_MODULE_34__["FurnitureVoteCounterLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_VOTE_MAJORITY:
                logic = _object_logic_furniture_FurnitureVoteMajorityLogic__WEBPACK_IMPORTED_MODULE_35__["FurnitureVoteMajorityLogic"];
                break;
            case _object_RoomObjectLogicType__WEBPACK_IMPORTED_MODULE_40__["RoomObjectLogicType"].FURNITURE_WINDOW:
                logic = _object_logic_furniture_FurnitureWindowLogic__WEBPACK_IMPORTED_MODULE_36__["FurnitureWindowLogic"];
                break;
            default:
                logic = _object_logic_furniture_FurnitureLogic__WEBPACK_IMPORTED_MODULE_17__["FurnitureLogic"];
                break;
        }
        if (!logic) {
            _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log(`Unknown Logic: ${type}`);
            return null;
        }
        return logic;
    }
    get events() {
        return this._events;
    }
}


/***/ }),

/***/ "DQM0":
/*!**********************************************!*\
  !*** ./src/client/room/RoomObjectManager.ts ***!
  \**********************************************/
/*! exports provided: RoomObjectManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectManager", function() { return RoomObjectManager; });
/* harmony import */ var _core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils/AdvancedMap */ "hTzv");
/* harmony import */ var _object_RoomObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./object/RoomObject */ "iw1w");


class RoomObjectManager {
    constructor() {
        this._objects = new _core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_0__["AdvancedMap"]();
        this._objectsPerType = new _core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_0__["AdvancedMap"]();
    }
    dispose() {
        this.removeAllObjects();
    }
    getObject(id) {
        const object = this._objects.getValue(id);
        if (!object)
            return null;
        return object;
    }
    getObjectByIndex(index) {
        const object = this._objects.getWithIndex(index);
        if (!object)
            return null;
        return object;
    }
    createObject(id, stateCount, type) {
        const object = new _object_RoomObject__WEBPACK_IMPORTED_MODULE_1__["RoomObject"](id, stateCount, type);
        return this.addObject(id, type, object);
    }
    addObject(id, type, object) {
        if (this._objects.getValue(id)) {
            object.dispose();
            return null;
        }
        this._objects.add(id, object);
        const typeMap = this.getTypeMap(type);
        if (typeMap)
            typeMap.add(id, object);
        return object;
    }
    removeObject(id) {
        const object = this._objects.remove(id);
        if (object) {
            const typeMap = this.getTypeMap(object.type);
            if (typeMap)
                typeMap.remove(object.id);
            object.dispose();
        }
    }
    removeAllObjects() {
        let i = 0;
        while (i < this._objects.length) {
            const object = this._objects.getWithIndex(i);
            if (object)
                object.dispose();
            i++;
        }
        this._objects.reset();
        i = 0;
        while (i < this._objectsPerType.length) {
            const typeMap = this._objectsPerType.getWithIndex(i);
            if (typeMap)
                typeMap.dispose();
            i++;
        }
        this._objectsPerType.reset();
    }
    getTypeMap(k, _arg_2 = true) {
        let existing = this._objectsPerType.getValue(k);
        if (!existing && _arg_2) {
            existing = new _core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_0__["AdvancedMap"]();
            this._objectsPerType.add(k, existing);
        }
        return existing;
    }
    get objects() {
        return this._objects;
    }
    get totalObjects() {
        return this._objects.length;
    }
}


/***/ }),

/***/ "DWaW":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarOwnMessage.ts ***!
  \******************************************************************/
/*! exports provided: ObjectAvatarOwnMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarOwnMessage", function() { return ObjectAvatarOwnMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarOwnMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
}


/***/ }),

/***/ "DZd4":
/*!**********************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/ColorData.ts ***!
  \**********************************************************************/
/*! exports provided: ColorData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorData", function() { return ColorData; });
class ColorData {
    constructor(layerCount) {
        this._colors = [];
        this.createColors(layerCount);
    }
    createColors(count) {
        if (!count)
            return;
        for (let i = 0; i < count; i++)
            this._colors.push(ColorData.DEFAULT_COLOR);
    }
    dispose() {
        this._colors = [];
    }
    getLayerColor(layerId) {
        const existing = this._colors[layerId];
        if (!existing)
            return ColorData.DEFAULT_COLOR;
        return existing;
    }
    setColorLayer(layerId, color) {
        const existing = this._colors[layerId];
        if (!existing)
            return;
        this._colors[layerId] = color;
    }
}
ColorData.DEFAULT_COLOR = 0xFFFFFF;


/***/ }),

/***/ "DaQz":
/*!*********************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/user/component.ts ***!
  \*********************************************************************/
/*! exports provided: RoomInfoStandUserComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoStandUserComponent", function() { return RoomInfoStandUserComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../events/RoomWidgetUserInfostandUpdateEvent */ "7KBg");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_components_badge_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../shared/components/badge/component */ "f/8j");





const _c0 = ["imageContainer"];
function RoomInfoStandUserComponent_div_13_nitro_badge_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "nitro-badge", 18);
} if (rf & 2) {
    const badge_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("badge", badge_r4);
} }
function RoomInfoStandUserComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RoomInfoStandUserComponent_div_13_nitro_badge_1_Template, 1, 1, "nitro-badge", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const badge_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", badge_r4 !== "");
} }
function RoomInfoStandUserComponent_div_15_span_2_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandUserComponent_div_15_span_2_Template_span_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r9.toggleMottoEditor(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r7.motto === "" ? "\u00A0" : ctx_r7.motto);
} }
function RoomInfoStandUserComponent_div_15_input_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "input", 24);
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx_r8.motto);
} }
function RoomInfoStandUserComponent_div_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, RoomInfoStandUserComponent_div_15_span_2_Template, 2, 1, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, RoomInfoStandUserComponent_div_15_input_3_Template, 1, 1, "input", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r2.isEditingMotto);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.isEditingMotto);
} }
function RoomInfoStandUserComponent_div_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r3.motto === "" ? "\u00A0" : ctx_r3.motto);
} }
const _c1 = function (a0) { return { "active": a0 }; };
class RoomInfoStandUserComponent {
    constructor() {
        this.name = '';
        this.motto = '';
        this.badges = [];
        this.activityPoints = 0;
        this.isEditingMotto = false;
        this.visible = false;
    }
    show() {
        if (!this.visible)
            this.visible = true;
    }
    hide() {
        if (this.visible)
            this.visible = false;
    }
    update(event) {
        this.name = event.name;
        this.motto = event.motto;
        this.badges = event.badges;
        this.activityPoints = event.activityPoints;
        this.isEditingMotto = false;
        this.badges.splice(1, 0, '');
        this.setImage(event.figure);
    }
    resetBadges() {
        if (!this.visible)
            return;
        this.badges = this.widget.userData.badges;
        this.badges.splice(1, 0, '');
    }
    setImage(figure) {
        if (!figure)
            return;
        const image = this.widget.handler.getUserImage(figure);
        this.imageElement.innerHTML = '';
        this.imageElement.appendChild(image);
    }
    toggleMottoEditor() {
        this.isEditingMotto = !this.isEditingMotto;
    }
    get imageElement() {
        return ((this.imageContainer && this.imageContainer.nativeElement) || null);
    }
    get isOwnProfile() {
        return (this.widget.userData.type === _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_1__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER);
    }
}
RoomInfoStandUserComponent.ɵfac = function RoomInfoStandUserComponent_Factory(t) { return new (t || RoomInfoStandUserComponent)(); };
RoomInfoStandUserComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomInfoStandUserComponent, selectors: [["nitro-room-infostand-user-component"]], viewQuery: function RoomInfoStandUserComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.imageContainer = _t.first);
    } }, inputs: { widget: "widget" }, decls: 20, vars: 8, consts: [[1, "nitro-room-infostand-user-component", 3, "ngClass"], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "card-body"], [1, "row", "flex-nowrap"], [1, "body-image"], ["imageContainer", ""], [1, "flex-grow-1"], [1, "badge-container"], ["class", "badge-item", 4, "ngFor", "ngForOf"], [1, "row", "mt-2"], ["class", "motto-container", 4, "ngIf"], [1, "activity-points"], [1, "badge-item"], [3, "badge", 4, "ngIf"], [3, "badge"], [1, "motto-container"], [1, "icon", "pencil-icon"], ["class", "motto", 3, "click", 4, "ngIf"], ["type", "text", "class", "motto-input", "autofocus", "true", 3, "value", 4, "ngIf"], [1, "motto", 3, "click"], ["type", "text", "autofocus", "true", 1, "motto-input", 3, "value"], [1, "motto"]], template: function RoomInfoStandUserComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandUserComponent_Template_div_click_5_listener() { return ctx.hide(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "i", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "div", 8, 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, RoomInfoStandUserComponent_div_13_Template, 2, 1, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, RoomInfoStandUserComponent_div_15_Template, 4, 2, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, RoomInfoStandUserComponent_div_16_Template, 3, 1, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "span", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c1, ctx.visible));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.badges);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isOwnProfile);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isOwnProfile);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Achievement Score: ", ctx.activityPoints, "");
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _shared_components_badge_component__WEBPACK_IMPORTED_MODULE_3__["BadgeComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomInfoStandUserComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-infostand-user-component',
                template: `
    <div class="nitro-room-infostand-user-component" [ngClass]="{ 'active': visible }">
        <div class="card">
            <div class="card-header">
                <div class="header-title">{{ name }}</div>
                <div class="header-close" (click)="hide()"><i class="fas fa-times"></i></div>
            </div>
            <div class="card-body">
                <div class="row flex-nowrap">
                    <div #imageContainer class="body-image"></div>
                    <div class="flex-grow-1">
                        <div class="badge-container">
                            <div *ngFor="let badge of badges" class="badge-item">
                                <nitro-badge *ngIf="(badge !== '')" [badge]="badge"></nitro-badge>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-2">
                    <div *ngIf="isOwnProfile" class="motto-container">
                        <i class="icon pencil-icon"></i>
                        <span *ngIf="!isEditingMotto" class="motto" (click)="toggleMottoEditor()">{{ ((motto === '') ? '&nbsp;' : motto) }}</span>
                        <input *ngIf="isEditingMotto" type="text" class="motto-input" [value]="motto" autofocus="true" />
                    </div>
                    <div *ngIf="!isOwnProfile" class="motto-container">
                        <span class="motto">{{ ((motto === '') ? '&nbsp;' : motto) }}</span>
                    </div>
                </div>
                <div class="row mt-2">
                    <span class="activity-points">Achievement Score: {{ activityPoints }}</span>
                </div>
            </div>
        </div>
    </div>`
            }]
    }], null, { widget: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], imageContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['imageContainer']
        }] }); })();


/***/ }),

/***/ "DafA":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/OutgoingHeader.ts ***!
  \****************************************************************************/
/*! exports provided: OutgoingHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutgoingHeader", function() { return OutgoingHeader; });
class OutgoingHeader {
}
OutgoingHeader.ACHIEVEMENT_LIST = 219;
OutgoingHeader.BOT_INFO = 1986;
OutgoingHeader.BOT_PICKUP = 3323;
OutgoingHeader.BOT_PLACE = 1592;
OutgoingHeader.BOT_SETTINGS_SAVE = 2624;
OutgoingHeader.CAMERA_PRICE = 796;
OutgoingHeader.CAMERA_SAVE = 3226;
OutgoingHeader.CAMERA_THUMBNAIL = 1982;
OutgoingHeader.CATALOG_CLUB = 3285;
OutgoingHeader.CATALOG_MODE = 1195;
OutgoingHeader.CATALOG_PAGE = 412;
OutgoingHeader.CATALOG_PURCHASE = 3492;
OutgoingHeader.CATALOG_SEARCH = 2594;
OutgoingHeader.CLIENT_LATENCY = 295;
OutgoingHeader.CLIENT_LATENCY_MEASURE = 96;
OutgoingHeader.CLIENT_POLICY = 26979;
OutgoingHeader.CLIENT_PONG = 2596;
OutgoingHeader.CLIENT_TOOLBAR_TOGGLE = 2313;
OutgoingHeader.CLIENT_VARIABLES = 1053;
OutgoingHeader.DESKTOP_CAMPAIGNS = 2912;
OutgoingHeader.DESKTOP_NEWS = 1827;
OutgoingHeader.DESKTOP_VIEW = 105;
OutgoingHeader.DISCOUNT_CONFIG = 223;
OutgoingHeader.EVENT_TRACKER = 3457;
OutgoingHeader.FIND_FRIENDS = 516;
OutgoingHeader.FURNITURE_FLOOR_UPDATE = 248;
OutgoingHeader.FURNITURE_WALL_UPDATE = 168;
OutgoingHeader.FURNITURE_PICKUP = 3456;
OutgoingHeader.FURNITURE_PLACE = 1258;
OutgoingHeader.FURNITURE_POSTIT_PLACE = 2248;
OutgoingHeader.GAMES_INIT = 2914;
OutgoingHeader.GAMES_LIST = 741;
OutgoingHeader.GIFT_CONFIG = 418;
OutgoingHeader.GROUP_ADMIN_ADD = 2894;
OutgoingHeader.GROUP_ADMIN_REMOVE = 722;
OutgoingHeader.GROUP_CREATE_OPTIONS = 798;
OutgoingHeader.GROUP_FORUM_INFO = 3149;
OutgoingHeader.GROUP_FORUM_LIST = 873;
OutgoingHeader.GROUP_FORUM_THREADS = 436;
OutgoingHeader.GROUP_INFO = 2991;
OutgoingHeader.GROUP_MEMBER_REMOVE = 3593;
OutgoingHeader.GROUP_MEMBERS = 312;
OutgoingHeader.GROUP_MEMBERSHIPS = 367;
OutgoingHeader.GROUP_REQUEST = 998;
OutgoingHeader.GROUP_REQUEST_ACCEPT = 3386;
OutgoingHeader.GROUP_REQUEST_DECLINE = 1894;
OutgoingHeader.GROUP_SETTINGS = 1004;
OutgoingHeader.INVENTORY_UNKNOWN = 1371;
OutgoingHeader.ITEM_CLOTHING_REDEEM = 3374;
OutgoingHeader.ITEM_COLOR_WHEEL_CLICK = 2144;
OutgoingHeader.ITEM_DICE_CLICK = 1990;
OutgoingHeader.ITEM_DICE_CLOSE = 1533;
OutgoingHeader.ITEM_DIMMER_SAVE = 1648;
OutgoingHeader.ITEM_DIMMER_SETTINGS = 2813;
OutgoingHeader.ITEM_DIMMER_TOGGLE = 2296;
OutgoingHeader.ITEM_EXCHANGE_REDEEM = 3115;
OutgoingHeader.FURNITURE_WALL_MULTISTATE = 210;
OutgoingHeader.FURNITURE_MULTISTATE = 99;
OutgoingHeader.FURNITURE_RANDOMSTATE = 3617;
OutgoingHeader.ITEM_PAINT = 711;
OutgoingHeader.ITEM_SAVE_BACKGROUND = 3608;
OutgoingHeader.ITEM_STACK_HELPER = 3839;
OutgoingHeader.ITEM_WALL_CLICK = 210;
OutgoingHeader.ITEM_WALL_UPDATE = 168;
OutgoingHeader.MARKETPLACE_CONFIG = 2597;
OutgoingHeader.MESSENGER_ACCEPT = 137;
OutgoingHeader.MESSENGER_CHAT = 3567;
OutgoingHeader.MESSENGER_DECLINE = 2890;
OutgoingHeader.MESSENGER_FRIENDS = 1523;
OutgoingHeader.MESSENGER_INIT = 2781;
OutgoingHeader.MESSENGER_RELATIONSHIPS = 2138;
OutgoingHeader.MESSENGER_RELATIONSHIPS_UPDATE = 3768;
OutgoingHeader.MESSENGER_REMOVE = 1689;
OutgoingHeader.MESSENGER_REQUEST = 3157;
OutgoingHeader.MESSENGER_REQUESTS = 2448;
OutgoingHeader.MESSENGER_ROOM_INVITE = 1276;
OutgoingHeader.MESSENGER_SEARCH = 1210;
OutgoingHeader.MESSENGER_UPDATES = 1419;
OutgoingHeader.MOD_TOOL_USER_INFO = 3295;
OutgoingHeader.NAVIGATOR_CATEGORIES = 3027;
OutgoingHeader.NAVIGATOR_INIT = 2110;
OutgoingHeader.NAVIGATOR_SEARCH = 249;
OutgoingHeader.NAVIGATOR_SEARCH_CLOSE = 1834;
OutgoingHeader.NAVIGATOR_SEARCH_OPEN = 637;
OutgoingHeader.NAVIGATOR_SEARCH_SAVE = 2226;
OutgoingHeader.NAVIGATOR_SETTINGS = 1782;
OutgoingHeader.NAVIGATOR_SETTINGS_SAVE = 3159;
OutgoingHeader.PET_INFO = 2934;
OutgoingHeader.PET_PICKUP = 1581;
OutgoingHeader.PET_PLACE = 2647;
OutgoingHeader.PET_RIDE = 1036;
OutgoingHeader.RECYCLER_PRIZES = 398;
OutgoingHeader.RELEASE_VERSION = 4000;
OutgoingHeader.REPORT = 1691;
OutgoingHeader.ROOM_BAN_GIVE = 1477;
OutgoingHeader.ROOM_BAN_LIST = 2267;
OutgoingHeader.ROOM_BAN_REMOVE = 992;
OutgoingHeader.ROOM_CREATE = 2752;
OutgoingHeader.ROOM_DELETE = 532;
OutgoingHeader.ROOM_DOORBELL = 1644;
OutgoingHeader.ROOM_ENTER = 2312;
OutgoingHeader.ROOM_FAVORITE = 3817;
OutgoingHeader.ROOM_FAVORITE_REMOVE = 309;
OutgoingHeader.ROOM_INFO = 2230;
OutgoingHeader.ROOM_KICK = 1320;
OutgoingHeader.ROOM_LIKE = 3582;
OutgoingHeader.FURNITURE_ALIASES = 3898;
OutgoingHeader.ROOM_MODEL_BLOCKED_TILES = 1687;
OutgoingHeader.ROOM_MODEL_DOOR = 3559;
OutgoingHeader.ROOM_MODEL_SAVE = 875;
OutgoingHeader.ROOM_MODEL = 2300;
OutgoingHeader.ROOM_MUTE = 3637;
OutgoingHeader.ROOM_MUTE_USER = 3485;
OutgoingHeader.ROOM_RIGHTS_GIVE = 808;
OutgoingHeader.ROOM_RIGHTS_LIST = 3385;
OutgoingHeader.ROOM_RIGHTS_REMOVE = 2064;
OutgoingHeader.ROOM_RIGHTS_REMOVE_ALL = 2683;
OutgoingHeader.ROOM_RIGHTS_REMOVE_OWN = 3182;
OutgoingHeader.ROOM_SETTINGS = 3129;
OutgoingHeader.ROOM_SETTINGS_SAVE = 1969;
OutgoingHeader.SECURITY_MACHINE = 2490;
OutgoingHeader.SECURITY_TICKET = 2419;
OutgoingHeader.TRADE = 1481;
OutgoingHeader.TRADE_ACCEPT = 3863;
OutgoingHeader.TRADE_CANCEL = 2341;
OutgoingHeader.TRADE_CLOSE = 2551;
OutgoingHeader.TRADE_CONFIRM = 2760;
OutgoingHeader.TRADE_ITEM = 3107;
OutgoingHeader.TRADE_ITEM_REMOVE = 3845;
OutgoingHeader.TRADE_ITEMS = 1263;
OutgoingHeader.UNIT_ACTION = 2456;
OutgoingHeader.UNIT_CHAT = 1314;
OutgoingHeader.UNIT_CHAT_SHOUT = 2085;
OutgoingHeader.UNIT_CHAT_WHISPER = 1543;
OutgoingHeader.UNIT_DANCE = 2080;
OutgoingHeader.UNIT_DROP_HAND_ITEM = 2814;
OutgoingHeader.UNIT_GIVE_HANDITEM = 2941;
OutgoingHeader.UNIT_LOOK = 3301;
OutgoingHeader.UNIT_SIGN = 1975;
OutgoingHeader.UNIT_POSTURE = 2235;
OutgoingHeader.UNIT_TYPING = 1597;
OutgoingHeader.UNIT_TYPING_STOP = 1474;
OutgoingHeader.UNIT_WALK = 3320;
OutgoingHeader.USER_BADGES = 2769;
OutgoingHeader.USER_BADGES_CURRENT = 2091;
OutgoingHeader.USER_BADGES_CURRENT_UPDATE = 644;
OutgoingHeader.USER_BOTS = 3848;
OutgoingHeader.USER_CURRENCY = 273;
OutgoingHeader.USER_EFFECT_ACTIVATE = 2959;
OutgoingHeader.USER_EFFECT_ENABLE = 1752;
OutgoingHeader.USER_FIGURE = 2730;
OutgoingHeader.USER_FOLLOW = 3997;
OutgoingHeader.USER_FURNITURE = 3150; // sent when in room
OutgoingHeader.USER_FURNITURE2 = 3500; // sent when not in room
OutgoingHeader.USER_HOME_ROOM = 1740;
OutgoingHeader.USER_INFO = 357;
OutgoingHeader.USER_MOTTO = 2228;
OutgoingHeader.USER_ONLINE = 3878;
OutgoingHeader.USER_OUTFIT_SAVE = 800;
OutgoingHeader.USER_OUTFITS = 2742;
OutgoingHeader.USER_PETS = 3095;
OutgoingHeader.USER_PROFILE = 3265;
OutgoingHeader.USER_RESPECT = 2694;
OutgoingHeader.USER_SETTINGS = 2388;
OutgoingHeader.USER_SETTINGS_CAMERA = 1461;
OutgoingHeader.USER_SETTINGS_CHAT_STYLE = 1030;
OutgoingHeader.USER_SETTINGS_INVITES = 1086;
OutgoingHeader.USER_SETTINGS_OLD_CHAT = 1262;
OutgoingHeader.USER_SETTINGS_VOLUME = 1367;
OutgoingHeader.USER_SUBSCRIPTION = 3166;
OutgoingHeader.USER_TAGS = 17;
OutgoingHeader.WIRED_ACTION_SAVE = 2281;
OutgoingHeader.WIRED_TRIGGER_SAVE = 1520;
OutgoingHeader.WIRED_CONDITION_SAVE = 3203;


/***/ }),

/***/ "E5GA":
/*!***********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureHockeyScoreLogic.ts ***!
  \***********************************************************************************/
/*! exports provided: FurnitureHockeyScoreLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureHockeyScoreLogic", function() { return FurnitureHockeyScoreLogic; });
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events/RoomObjectStateChangedEvent */ "9LM3");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");



class FurnitureHockeyScoreLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureLogic"] {
    getEventTypes() {
        const types = [_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        let objectEvent = null;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DOUBLE_CLICK:
                switch (event._Str_4216) {
                    case 'off':
                        objectEvent = new _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"](_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE, this.object, 3);
                        break;
                }
                break;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MOUSE_CLICK:
                switch (event._Str_4216) {
                    case 'inc':
                        objectEvent = new _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"](_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE, this.object, 2);
                        break;
                    case 'dec':
                        objectEvent = new _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"](_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE, this.object, 1);
                        break;
                }
                break;
        }
        if (this.eventDispatcher && objectEvent) {
            this.eventDispatcher.dispatchEvent(objectEvent);
            return;
        }
        super.mouseEvent(event, geometry);
    }
    useObject() {
        if (!this.object || !this.eventDispatcher)
            return;
        this.eventDispatcher.dispatchEvent(new _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"](_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE, this.object, 3));
    }
}


/***/ }),

/***/ "E8E1":
/*!************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/PetSizeData.ts ***!
  \************************************************************************/
/*! exports provided: PetSizeData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetSizeData", function() { return PetSizeData; });
/* harmony import */ var _AnimationSizeData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationSizeData */ "sZiI");

class PetSizeData extends _AnimationSizeData__WEBPACK_IMPORTED_MODULE_0__["AnimationSizeData"] {
    constructor(layerCount, angle) {
        super(layerCount, angle);
        this._posturesToAnimations = new Map();
        this._gesturesToAnimations = new Map();
        this._defaultPosture = null;
    }
    processPostures(postures) {
        if (!postures)
            return false;
        for (let key in postures) {
            const posture = postures[key];
            if (!posture)
                continue;
            if (this._posturesToAnimations.get(posture.id))
                continue;
            if (this._defaultPosture === null)
                this._defaultPosture = posture.id;
            this._posturesToAnimations.set(posture.id, posture.animationId);
        }
        if (this._posturesToAnimations.get(this._defaultPosture) === undefined)
            return false;
        return true;
    }
    processGestures(gestures) {
        if (!gestures)
            return false;
        for (let key in gestures) {
            const gesture = gestures[key];
            if (!gesture)
                continue;
            if (this._gesturesToAnimations.get(gesture.id))
                continue;
            this._gesturesToAnimations.set(gesture.id, gesture.animationId);
        }
        return true;
    }
    postureToAnimation(posture) {
        if (!this._posturesToAnimations.get(posture))
            posture = this._defaultPosture;
        return this._posturesToAnimations.get(posture);
    }
    _Str_18284(k) {
        if (k === 'ded')
            return true;
        return false;
    }
    gestureToAnimation(gesture) {
        if (!this._gesturesToAnimations.get(gesture))
            return PetSizeData.DEFAULT;
        return this._gesturesToAnimations.get(gesture);
    }
    _Str_14207(k, _arg_2) {
        if ((k >= 0) && (k < this._posturesToAnimations.size)) {
            const keys = this._posturesToAnimations.keys();
            for (;;) {
                const key = keys.next();
                if (key.done)
                    return null;
                if (k <= 0)
                    return key.value;
                --k;
            }
        }
        return (_arg_2) ? this._defaultPosture : null;
    }
    _Str_17844(index) {
        if ((index >= 0) && (index < this._gesturesToAnimations.size)) {
            const keys = this._gesturesToAnimations.keys();
            for (;;) {
                const key = keys.next();
                if (key.done)
                    return null;
                if (index <= 0)
                    return key.value;
                --index;
            }
        }
        return null;
    }
    _Str_17976(k) {
        for (let _local_2 of this._gesturesToAnimations.keys()) {
            if (this._gesturesToAnimations.get(_local_2) === k)
                return _local_2;
        }
        return null;
    }
    get totalPostures() {
        return this._posturesToAnimations.size;
    }
    get totalGestures() {
        return this._gesturesToAnimations.size;
    }
}
PetSizeData.DEFAULT = -1;


/***/ }),

/***/ "EAxq":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/access/rights/RoomRightsOwnerEvent.ts ***!
  \*****************************************************************************************************/
/*! exports provided: RoomRightsOwnerEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomRightsOwnerEvent", function() { return RoomRightsOwnerEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_access_rights_RoomRightsOwnerParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/access/rights/RoomRightsOwnerParser */ "6w3x");


class RoomRightsOwnerEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_access_rights_RoomRightsOwnerParser__WEBPACK_IMPORTED_MODULE_1__["RoomRightsOwnerParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "EBlL":
/*!******************************************************************!*\
  !*** ./src/app/components/catalog/layouts/trophies/component.ts ***!
  \******************************************************************/
/*! exports provided: CatalogLayoutTrophiesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogLayoutTrophiesComponent", function() { return CatalogLayoutTrophiesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "0UMw");



class CatalogLayoutTrophiesComponent extends _component__WEBPACK_IMPORTED_MODULE_1__["CatalogLayout"] {
    constructor() {
        super(...arguments);
        this.trophyOffers = [];
    }
}
CatalogLayoutTrophiesComponent.LAYOUT_CODE = 'trophies';
CatalogLayoutTrophiesComponent.ɵfac = function CatalogLayoutTrophiesComponent_Factory(t) { return ɵCatalogLayoutTrophiesComponent_BaseFactory(t || CatalogLayoutTrophiesComponent); };
CatalogLayoutTrophiesComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogLayoutTrophiesComponent, selectors: [["nitro-catalog-layout-trophies-component"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 10, vars: 0, consts: [[1, "d-flex", "flex-column", "w-100", "h-100", "nitro-catalog-layout-trophies-component"], [1, "d-flex", "flex-row", "justify-content-center", "align-items-center", "layout-header"], [1, "justify-content-center", "align-items-center"], [1, "d-flex", "flex-row"], [1, "w-100"]], template: function CatalogLayoutTrophiesComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "preview trophy");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "color options");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "trophy textarea here");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, encapsulation: 2 });
const ɵCatalogLayoutTrophiesComponent_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](CatalogLayoutTrophiesComponent);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogLayoutTrophiesComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-catalog-layout-trophies-component',
                template: `
    <div class="d-flex flex-column w-100 h-100 nitro-catalog-layout-trophies-component">
        <div class="d-flex flex-row justify-content-center align-items-center layout-header">
            <div class="justify-content-center align-items-center">preview trophy</div>
        </div>
        <div class="d-flex flex-row">
            <div class="w-100">color options</div>
        </div>
        <div class="d-flex flex-row">
            <div class="w-100">trophy textarea here</div>
        </div>
    </div>`
            }]
    }], null, null); })();


/***/ }),

/***/ "EHDF":
/*!***************************************************************************!*\
  !*** ./src/client/nitro/session/events/RoomSessionUserDataUpdateEvent.ts ***!
  \***************************************************************************/
/*! exports provided: RoomSessionUserDataUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSessionUserDataUpdateEvent", function() { return RoomSessionUserDataUpdateEvent; });
/* harmony import */ var _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomSessionEvent */ "Ns5P");

class RoomSessionUserDataUpdateEvent extends _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__["RoomSessionEvent"] {
    constructor(session, addedUsers) {
        super(RoomSessionUserDataUpdateEvent.USER_DATA_UPDATED, session);
        this._addedUsers = addedUsers;
    }
    get addedUsers() {
        return this._addedUsers;
    }
}
RoomSessionUserDataUpdateEvent.USER_DATA_UPDATED = 'RMUDUE_USER_DATA_UPDATED';


/***/ }),

/***/ "EM05":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogPurchaseParser.ts ***!
  \*****************************************************************************************/
/*! exports provided: CatalogPurchaseParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseParser", function() { return CatalogPurchaseParser; });
/* harmony import */ var _utils_CatalogPurchaseData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/CatalogPurchaseData */ "ajqW");

class CatalogPurchaseParser {
    flush() {
        this._offer = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._offer = new _utils_CatalogPurchaseData__WEBPACK_IMPORTED_MODULE_0__["CatalogPurchaseData"](wrapper);
        return true;
    }
    get offer() {
        return this._offer;
    }
}


/***/ }),

/***/ "ERUy":
/*!***********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/furniture/FurniturePostItPlacedParser.ts ***!
  \***********************************************************************************************************/
/*! exports provided: FurniturePostItPlacedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePostItPlacedParser", function() { return FurniturePostItPlacedParser; });
class FurniturePostItPlacedParser {
    flush() {
        this._itemId = 0;
        this._itemsLeft = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = wrapper.readInt();
        this._itemsLeft = wrapper.readInt();
        return true;
    }
    get itemId() {
        return this._itemId;
    }
    get itemsLeft() {
        return this._itemsLeft;
    }
}


/***/ }),

/***/ "EXpq":
/*!******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/inventory/currency/UserCurrencyParser.ts ***!
  \******************************************************************************************************/
/*! exports provided: UserCurrencyParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCurrencyParser", function() { return UserCurrencyParser; });
class UserCurrencyParser {
    flush() {
        this._currencies = new Map();
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalCurrencies = wrapper.readInt();
        while (totalCurrencies > 0) {
            this._currencies.set(wrapper.readInt(), wrapper.readInt());
            totalCurrencies--;
        }
        return true;
    }
    get currencies() {
        return this._currencies;
    }
}


/***/ }),

/***/ "Ecq7":
/*!*********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallRemoveParser.ts ***!
  \*********************************************************************************************************/
/*! exports provided: FurnitureWallRemoveParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallRemoveParser", function() { return FurnitureWallRemoveParser; });
class FurnitureWallRemoveParser {
    flush() {
        this._itemId = 0;
        this._userId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = parseInt(wrapper.readString());
        this._userId = wrapper.readInt();
        return true;
    }
    get itemId() {
        return this._itemId;
    }
    get userId() {
        return this._userId;
    }
}


/***/ }),

/***/ "EjjF":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/EffectAssetDownloadManager.ts ***!
  \***************************************************************/
/*! exports provided: EffectAssetDownloadManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EffectAssetDownloadManager", function() { return EffectAssetDownloadManager; });
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/events/NitroEvent */ "3r1x");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _EffectAssetDownloadLibrary__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EffectAssetDownloadLibrary */ "s1+1");
/* harmony import */ var _events_AvatarRenderEffectLibraryEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events/AvatarRenderEffectLibraryEvent */ "eQvG");
/* harmony import */ var _events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events/AvatarRenderEvent */ "qEDl");







class EffectAssetDownloadManager extends _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_1__["EventDispatcher"] {
    constructor(assets, structure) {
        super();
        this._assets = assets;
        this._structure = structure;
        this._missingMandatoryLibs = _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].MANDATORY_EFFECT_LIBRARIES;
        this._effectMap = new Map();
        this._effectListeners = new Map();
        this._incompleteEffects = new Map();
        this._initDownloadBuffer = [];
        this._pendingDownloadQueue = [];
        this._currentDownloads = [];
        this._libraryNames = [];
        this._isReady = false;
        this.loadEffectMap();
        this._structure.renderManager.events.addEventListener(_events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_6__["AvatarRenderEvent"].AVATAR_RENDER_READY, this.onAvatarRenderReady.bind(this));
    }
    loadEffectMap() {
        const request = new XMLHttpRequest();
        try {
            request.open('GET', _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].AVATAR_EFFECTMAP_URL);
            request.send();
            request.onloadend = e => {
                if (request.responseText) {
                    const data = JSON.parse(request.responseText);
                    this.processEffectMap(data.effects);
                    this.processMissingLibraries();
                    this._isReady = true;
                    this.dispatchEvent(new _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_2__["NitroEvent"](EffectAssetDownloadManager.DOWNLOADER_READY));
                }
            };
            request.onerror = e => { throw new Error('invalid_avatar_effect_map'); };
        }
        catch (e) {
            _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log(e);
        }
    }
    processEffectMap(data) {
        if (!data)
            return;
        for (let effect of data) {
            if (!effect)
                continue;
            const id = effect.id;
            const lib = effect.lib;
            const revision = effect.revision;
            if (this._libraryNames.indexOf(lib) >= 0)
                continue;
            this._libraryNames.push(lib);
            const downloadLibrary = new _EffectAssetDownloadLibrary__WEBPACK_IMPORTED_MODULE_4__["EffectAssetDownloadLibrary"](lib, revision, this._assets, _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].AVATAR_ASSET_EFFECT_URL);
            downloadLibrary.addEventListener(_events_AvatarRenderEffectLibraryEvent__WEBPACK_IMPORTED_MODULE_5__["AvatarRenderEffectLibraryEvent"].DOWNLOAD_COMPLETE, this.onLibraryLoaded.bind(this));
            let existing = this._effectMap.get(id);
            if (!existing)
                existing = [];
            existing.push(downloadLibrary);
            this._effectMap.set(id, existing);
        }
    }
    downloadAvatarEffect(id, listener) {
        if (!this._isReady || !this._structure.renderManager.isReady) {
            this._initDownloadBuffer.push([id, listener]);
            return;
        }
        const pendingLibraries = this.getAvatarEffectPendingLibraries(id);
        if (pendingLibraries && pendingLibraries.length) {
            if (listener && !listener.disposed) {
                let listeners = this._effectListeners.get(id.toString());
                if (!listeners)
                    listeners = [];
                listeners.push(listener);
                this._effectListeners.set(id.toString(), listeners);
            }
            this._incompleteEffects.set(id.toString(), pendingLibraries);
            for (let library of pendingLibraries) {
                if (!library)
                    continue;
                this.downloadLibrary(library);
            }
        }
        else {
            if (listener && !listener.disposed)
                listener.resetEffect(id);
        }
    }
    onAvatarRenderReady(event) {
        if (!event)
            return;
        for (let [id, listener] of this._initDownloadBuffer) {
            this.downloadAvatarEffect(id, listener);
        }
        this._initDownloadBuffer = [];
    }
    onLibraryLoaded(event) {
        if (!event || !event.library)
            return;
        const loadedEffects = [];
        this._structure._Str_2061(event.library.animation);
        for (let [id, libraries] of this._incompleteEffects.entries()) {
            let isReady = true;
            for (let library of libraries) {
                if (!library || library.isLoaded)
                    continue;
                isReady = false;
                break;
            }
            if (isReady) {
                loadedEffects.push(id);
                const listeners = this._effectListeners.get(id);
                for (let listener of listeners) {
                    if (!listener || listener.disposed)
                        continue;
                    listener.resetEffect(parseInt(id));
                }
                this._effectListeners.delete(id);
                this.dispatchEvent(new _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_2__["NitroEvent"](EffectAssetDownloadManager.LIBRARY_LOADED));
            }
        }
        for (let id of loadedEffects)
            this._incompleteEffects.delete(id);
        let index = 0;
        while (index < this._currentDownloads.length) {
            const download = this._currentDownloads[index];
            if (download) {
                if (download.libraryName === event.library.libraryName)
                    this._currentDownloads.splice(index, 1);
            }
            index++;
        }
    }
    processMissingLibraries() {
        const libraries = this._missingMandatoryLibs.slice();
        for (let library of libraries) {
            if (!library)
                continue;
            const map = this._effectMap.get(library);
            if (map)
                for (let effect of map)
                    effect && this.downloadLibrary(effect);
        }
    }
    isAvatarEffectReady(effect) {
        if (!this._isReady || !this._structure.renderManager.isReady) {
            return false;
        }
        const pendingLibraries = this.getAvatarEffectPendingLibraries(effect);
        return !pendingLibraries.length;
    }
    getAvatarEffectPendingLibraries(id) {
        let pendingLibraries = [];
        if (!this._structure)
            return pendingLibraries;
        var libraries = this._effectMap.get(id.toString());
        if (libraries) {
            for (let library of libraries) {
                if (!library || library.isLoaded)
                    continue;
                if (pendingLibraries.indexOf(library) === -1)
                    pendingLibraries.push(library);
            }
        }
        return pendingLibraries;
    }
    downloadLibrary(library) {
        if (!library || library.isLoaded)
            return;
        if ((this._pendingDownloadQueue.indexOf(library) >= 0) || (this._currentDownloads.indexOf(library) >= 0))
            return;
        this._pendingDownloadQueue.push(library);
        this.processDownloadQueue();
    }
    processDownloadQueue() {
        while (this._pendingDownloadQueue.length) {
            const library = this._pendingDownloadQueue[0];
            library.downloadAsset();
            this._currentDownloads.push(this._pendingDownloadQueue.shift());
        }
    }
}
EffectAssetDownloadManager.DOWNLOADER_READY = 'EADM_DOWNLOADER_READY';
EffectAssetDownloadManager.LIBRARY_LOADED = 'EADM_LIBRARY_LOADED';
EffectAssetDownloadManager.MAX_DOWNLOADS = 2;


/***/ }),

/***/ "F1B2":
/*!***********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureMultiHeightLogic.ts ***!
  \***********************************************************************************/
/*! exports provided: FurnitureMultiHeightLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureMultiHeightLogic", function() { return FurnitureMultiHeightLogic; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");


class FurnitureMultiHeightLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_1__["FurnitureMultiStateLogic"] {
    initialize(asset) {
        super.initialize(asset);
        if (this.object && this.object.model)
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_IS_VARIABLE_HEIGHT, 1);
    }
}


/***/ }),

/***/ "F6Vg":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/trading/TradingCompletedParser.ts ***!
  \****************************************************************************************************/
/*! exports provided: TradingCompletedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingCompletedParser", function() { return TradingCompletedParser; });
class TradingCompletedParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "F97h":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureSoundblockVisualization.ts ***!
  \**************************************************************************************************/
/*! exports provided: FurnitureSoundblockVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureSoundblockVisualization", function() { return FurnitureSoundblockVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureSoundblockVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
}


/***/ }),

/***/ "FOjo":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitStatusAction.ts ***!
  \******************************************************************************************/
/*! exports provided: RoomUnitStatusAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitStatusAction", function() { return RoomUnitStatusAction; });
class RoomUnitStatusAction {
    constructor(action, value) {
        this._action = action;
        this._value = value;
    }
    get action() {
        return this._action;
    }
    get value() {
        return this._value;
    }
}


/***/ }),

/***/ "FXC9":
/*!*******************************************************!*\
  !*** ./src/client/nitro/avatar/actions/ActionType.ts ***!
  \*******************************************************/
/*! exports provided: ActionType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionType", function() { return ActionType; });
class ActionType {
    constructor(data) {
        this._id = parseInt(data.id);
        this._value = parseInt(data.id);
        this._prevents = data.prevents || [];
        this._preventHeadTurn = data.preventHeadTurn || false;
        this._isAnimated = true;
        if ((data.animated !== undefined) && (data.animated === false))
            this._isAnimated = false;
    }
    get id() {
        return this._id;
    }
    get value() {
        return this._value;
    }
    get prevents() {
        return this._prevents;
    }
    get _Str_1891() {
        return this._preventHeadTurn;
    }
    get _Str_801() {
        return this._isAnimated;
    }
}


/***/ }),

/***/ "FXla":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureStickieVisualization.ts ***!
  \***********************************************************************************************/
/*! exports provided: FurnitureStickieVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureStickieVisualization", function() { return FurnitureStickieVisualization; });
/* harmony import */ var _data_ColorData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/ColorData */ "DZd4");
/* harmony import */ var _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureVisualization */ "vAq0");


class FurnitureStickieVisualization extends _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureVisualization"] {
    getLayerColor(scale, layerId, colorId) {
        if (!this._data)
            return _data_ColorData__WEBPACK_IMPORTED_MODULE_0__["ColorData"].DEFAULT_COLOR;
        return this._data.getLayerColor(scale, layerId, colorId);
    }
}


/***/ }),

/***/ "Ffqm":
/*!**************************************************!*\
  !*** ./src/app/shared/services/alert/service.ts ***!
  \**************************************************/
/*! exports provided: AlertService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertService", function() { return AlertService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_communication_messages_incoming_generic_GenericAlertEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/communication/messages/incoming/generic/GenericAlertEvent */ "q7w6");
/* harmony import */ var _client_nitro_communication_messages_incoming_generic_GenericAlertLinkEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/nitro/communication/messages/incoming/generic/GenericAlertLinkEvent */ "bFXL");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _components_alerts_alert_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/alerts/alert/component */ "9JiG");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "5eHb");







class AlertService {
    constructor(toastrService, ngZone) {
        this.toastrService = toastrService;
        this.ngZone = ngZone;
        this.registerMessages();
    }
    ngOnDestroy() {
        this.unregisterMessages();
    }
    registerMessages() {
        if (this._messages)
            this.unregisterMessages();
        this._messages = [
            new _client_nitro_communication_messages_incoming_generic_GenericAlertEvent__WEBPACK_IMPORTED_MODULE_1__["GenericAlertEvent"](this.onGenericAlertEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_generic_GenericAlertLinkEvent__WEBPACK_IMPORTED_MODULE_2__["GenericAlertLinkEvent"](this.onGenericAlertLinkEvent.bind(this))
        ];
        for (let message of this._messages)
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.communication.registerMessageEvent(message);
    }
    unregisterMessages() {
        if (this._messages && this._messages.length) {
            for (let message of this._messages)
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.communication.removeMessageEvent(message);
        }
    }
    onGenericAlertEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        this.alert(parser.message);
    }
    onGenericAlertLinkEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        this.alert(parser.message);
    }
    alert(template) {
        this.ngZone.run(() => {
            const config = this.alertConfig();
            if (!config)
                return;
            config.positionClass = 'toast-hotel-alert';
            this.createToast(_components_alerts_alert_component__WEBPACK_IMPORTED_MODULE_4__["AlertToastComponent"], template, this.getTitle(), config);
        });
    }
    clearToast(toastId) {
        this.toastrService.clear(toastId);
    }
    createToast(component, template, title = null, options = null) {
        //@ts-ignore
        if (!options)
            options = {};
        options.toastComponent = component;
        return this.toastrService.show(template, title, options);
    }
    getTitle() {
        return 'Nitro Alert';
    }
    alertConfig() {
        //@ts-ignore
        const options = {};
        options.toastClass = '';
        options.positionClass = 'toast-center-center';
        options.enableHtml = true;
        options.disableTimeOut = true;
        options.closeButton = true;
        options.tapToDismiss = false;
        return Object.assign({}, options);
    }
}
AlertService.ɵfac = function AlertService_Factory(t) { return new (t || AlertService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
AlertService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AlertService, factory: AlertService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AlertService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, null); })();


/***/ }),

/***/ "Fg/i":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/utils/CatalogLocalizationData.ts ***!
  \*************************************************************************************************/
/*! exports provided: CatalogLocalizationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogLocalizationData", function() { return CatalogLocalizationData; });
class CatalogLocalizationData {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._images = [];
        this._texts = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalImages = wrapper.readInt();
        while (totalImages > 0) {
            this._images.push(wrapper.readString());
            totalImages--;
        }
        let totalTexts = wrapper.readInt();
        while (totalTexts > 0) {
            this._texts.push(wrapper.readString());
            totalTexts--;
        }
        return true;
    }
    get images() {
        return this._images;
    }
    get texts() {
        return this._texts;
    }
}


/***/ }),

/***/ "Fjo1":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectTileMouseEvent.ts ***!
  \******************************************************************/
/*! exports provided: RoomObjectTileMouseEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectTileMouseEvent", function() { return RoomObjectTileMouseEvent; });
/* harmony import */ var _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectMouseEvent */ "iiZs");

class RoomObjectTileMouseEvent extends _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"] {
    constructor(type, object, eventId, tileX, tileY, tileZ, altKey = false, ctrlKey = false, shiftKey = false, buttonDown = false) {
        super(type, object, eventId, altKey, ctrlKey, shiftKey, buttonDown);
        this._tileX = tileX;
        this._tileY = tileY;
        this._tileZ = tileZ;
    }
    get tileX() {
        return this._tileX;
    }
    get tileY() {
        return this._tileY;
    }
    get tileZ() {
        return this._tileZ;
    }
    get _Str_16836() {
        return Math.trunc(this._tileX + 0.499);
    }
    get _Str_17676() {
        return Math.trunc(this._tileY + 0.499);
    }
    get _Str_21459() {
        return Math.trunc(this._tileZ + 0.499);
    }
}


/***/ }),

/***/ "Ftck":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogSoldOutEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: CatalogSoldOutEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogSoldOutEvent", function() { return CatalogSoldOutEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogSoldOutParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogSoldOutParser */ "Cf3r");


class CatalogSoldOutEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogSoldOutParser__WEBPACK_IMPORTED_MODULE_1__["CatalogSoldOutParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Fv14":
/*!************************************************!*\
  !*** ./src/client/core/common/NitroManager.ts ***!
  \************************************************/
/*! exports provided: NitroManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroManager", function() { return NitroManager; });
/* harmony import */ var _events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events/EventDispatcher */ "vuPI");
/* harmony import */ var _disposable_Disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./disposable/Disposable */ "Xr/m");
/* harmony import */ var _logger_NitroLogger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger/NitroLogger */ "vzKh");



class NitroManager extends _disposable_Disposable__WEBPACK_IMPORTED_MODULE_1__["Disposable"] {
    constructor(logger = null) {
        super();
        this._logger = logger instanceof _logger_NitroLogger__WEBPACK_IMPORTED_MODULE_2__["NitroLogger"] ? logger : new _logger_NitroLogger__WEBPACK_IMPORTED_MODULE_2__["NitroLogger"](this.constructor.name);
        this._events = new _events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__["EventDispatcher"]();
        this._isLoaded = false;
        this._isLoading = false;
    }
    init() {
        if (this._isLoaded || this._isLoading || this.isDisposing)
            return;
        this._isLoading = true;
        this.onInit();
        this._isLoaded = true;
        this._isLoading = false;
    }
    onInit() {
        return;
    }
    onDispose() {
        if (this._events)
            this._events.dispose();
        super.onDispose();
    }
    reload() {
        this.dispose();
        this.init();
    }
    get logger() {
        return this._logger;
    }
    get events() {
        return this._events;
    }
    get isLoaded() {
        return this._isLoaded;
    }
    get isLoading() {
        return this._isLoading;
    }
}


/***/ }),

/***/ "Fwdp":
/*!**************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/inventory/subscription/UserSubscriptionParser.ts ***!
  \**************************************************************************************************************/
/*! exports provided: UserSubscriptionParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserSubscriptionParser", function() { return UserSubscriptionParser; });
class UserSubscriptionParser {
    flush() {
        this._name = null;
        this._days = 0;
        this._int1 = 0;
        this._months = 0;
        this._years = 0;
        this._bool1 = false;
        this._bool2 = false;
        this._int2 = 0;
        this._int3 = 0;
        this._totalSeconds = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._name = wrapper.readString();
        this._days = wrapper.readInt();
        this._int1 = wrapper.readInt();
        this._months = wrapper.readInt();
        this._years = wrapper.readInt();
        this._bool1 = wrapper.readBoolean();
        this._bool2 = wrapper.readBoolean();
        this._int2 = wrapper.readInt();
        this._int3 = wrapper.readInt();
        this._totalSeconds = wrapper.readInt();
        return true;
    }
    get name() {
        return this._name;
    }
    get days() {
        return this._days;
    }
    get int1() {
        return this._int1;
    }
    get months() {
        return this._months;
    }
    get years() {
        return this._years;
    }
    get bool1() {
        return this._bool1;
    }
    get bool2() {
        return this._bool2;
    }
    get int2() {
        return this._int2;
    }
    get int3() {
        return this._int3;
    }
    get totalSeconds() {
        return this._totalSeconds;
    }
}


/***/ }),

/***/ "Fxxc":
/*!*****************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetAvatarInfoEvent.ts ***!
  \*****************************************************************************/
/*! exports provided: RoomWidgetAvatarInfoEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetAvatarInfoEvent", function() { return RoomWidgetAvatarInfoEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetAvatarInfoEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        super(RoomWidgetAvatarInfoEvent.RWAIE_AVATAR_INFO);
        this._userId = k;
        this._userName = _arg_2;
        this._Str_3021 = _arg_3;
        this._Str_2775 = _arg_4;
        this._Str_3947 = _arg_5;
    }
    get userId() {
        return this._userId;
    }
    get userName() {
        return this._userName;
    }
    get _Str_2908() {
        return this._Str_3021;
    }
    get _Str_2707() {
        return this._Str_2775;
    }
    get _Str_4330() {
        return this._Str_3947;
    }
}
RoomWidgetAvatarInfoEvent.RWAIE_AVATAR_INFO = 'RWAIE_AVATAR_INFO';


/***/ }),

/***/ "G0tw":
/*!*********************************************************!*\
  !*** ./src/client/nitro/room/events/RoomEngineEvent.ts ***!
  \*********************************************************/
/*! exports provided: RoomEngineEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEngineEvent", function() { return RoomEngineEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/events/NitroEvent */ "3r1x");

class RoomEngineEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type, roomId) {
        super(type);
        this._roomId = roomId;
    }
    get roomId() {
        return this._roomId;
    }
}
RoomEngineEvent.INITIALIZED = 'REE_INITIALIZED';
RoomEngineEvent.ENGINE_INITIALIZED = 'REE_ENGINE_INITIALIZED';
RoomEngineEvent.OBJECTS_INITIALIZED = 'REE_OBJECTS_INITIALIZED';
RoomEngineEvent.ROOM_ZOOMED = 'REE_ROOM_ZOOMED';
RoomEngineEvent.DISPOSED = 'REE_DISPOSED';


/***/ }),

/***/ "GEOe":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarUpdateMessage.ts ***!
  \*********************************************************************/
/*! exports provided: ObjectAvatarUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarUpdateMessage", function() { return ObjectAvatarUpdateMessage; });
/* harmony import */ var _ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectMoveUpdateMessage */ "jNIr");

class ObjectAvatarUpdateMessage extends _ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectMoveUpdateMessage"] {
    constructor(location, targetLocation, direction, headDirection, canStandUp, baseY) {
        super(location, targetLocation, direction);
        this._headDirection = headDirection;
        this._canStandUp = canStandUp;
        this._baseY = baseY;
    }
    get headDirection() {
        return this._headDirection;
    }
    get canStandUp() {
        return this._canStandUp;
    }
    get baseY() {
        return this._baseY;
    }
}


/***/ }),

/***/ "GFY8":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneVisualization.ts ***!
  \************************************************************************************************/
/*! exports provided: PlaneVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneVisualization", function() { return PlaneVisualization; });
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/TextureUtils */ "IxQr");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _animated_PlaneVisualizationAnimationLayer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../animated/PlaneVisualizationAnimationLayer */ "t590");
/* harmony import */ var _PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PlaneVisualizationLayer */ "8i/q");




class PlaneVisualization {
    constructor(k, _arg_2, _arg_3) {
        this._layers = [];
        this._geometry = _arg_3;
        this._cachedBitmapData = null;
        this._cachedBitmapNormal = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._isCached = false;
        this._hasAnimationLayers = false;
        if (_arg_2 < 0)
            _arg_2 = 0;
        let index = 0;
        while (index < _arg_2) {
            this._layers.push(null);
            index++;
        }
    }
    get geometry() {
        return this._geometry;
    }
    get _Str_20530() {
        return this._hasAnimationLayers;
    }
    dispose() {
        if (this._layers && this._layers.length) {
            for (let layer of this._layers) {
                if (!layer)
                    continue;
                layer.dispose();
            }
            this._layers = null;
        }
        this._geometry = null;
        if (this._cachedBitmapData) {
            this._cachedBitmapData.destroy();
            this._cachedBitmapData = null;
        }
        if (this._cachedBitmapNormal)
            this._cachedBitmapNormal = null;
    }
    _Str_3355() {
        if (!this._isCached)
            return;
        if (this._cachedBitmapData) {
            this._cachedBitmapData.destroy();
            this._cachedBitmapData = null;
        }
        if (this._cachedBitmapNormal) {
            this._cachedBitmapNormal.assign(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]());
        }
        if (this._layers && this._layers.length) {
            for (let layer of this._layers) {
                if (!layer)
                    continue;
                const planeLayer = layer;
                planeLayer._Str_3355();
            }
        }
        this._isCached = false;
    }
    _Str_21464(k, _arg_2, _arg_3, _arg_4, _arg_5 = 0) {
        if ((k < 0) || (k > this._layers.length))
            return false;
        let layer = this._layers[k];
        if (layer)
            layer.dispose();
        layer = new _PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_3__["PlaneVisualizationLayer"](_arg_2, _arg_3, _arg_4, _arg_5);
        this._layers[k] = layer;
        return true;
    }
    _Str_23489(k, _arg_2, _arg_3) {
        if ((k < 0) || (k > this._layers.length))
            return false;
        let layer = this._layers[k];
        if (layer)
            layer.dispose();
        layer = new _animated_PlaneVisualizationAnimationLayer__WEBPACK_IMPORTED_MODULE_2__["PlaneVisualizationAnimationLayer"](_arg_2, _arg_3);
        this._layers[k] = layer;
        this._hasAnimationLayers = true;
        return true;
    }
    _Str_8988() {
        return this._layers;
    }
    render(canvas, width, height, normal, useTexture, offsetX = 0, offsetY = 0, maxX = 0, maxY = 0, dimensionX = 0, dimensionY = 0, timeSinceStartMs = 0) {
        if (width < 1)
            width = 1;
        if (height < 1)
            height = 1;
        if ((!canvas || (canvas.width !== width)) || (canvas.height !== height))
            canvas = null;
        if (this._cachedBitmapData) {
            if (((this._cachedBitmapData.width === width) && (this._cachedBitmapData.height === height)) && (_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].isEqual(this._cachedBitmapNormal, normal))) {
                if (!this._Str_20530) {
                    if (canvas) {
                        const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(this._cachedBitmapData, new PIXI.Rectangle(0, 0, width, height));
                        if (texture) {
                            canvas
                                .beginTextureFill({ texture })
                                .drawRect(0, 0, texture.width, texture.height)
                                .endFill();
                            return canvas;
                        }
                    }
                    return this._cachedBitmapData;
                }
            }
            else {
                this._cachedBitmapData.destroy();
                this._cachedBitmapData = null;
            }
        }
        this._isCached = true;
        if (!this._cachedBitmapData) {
            const graphic = new PIXI.Graphics()
                .beginFill(0xFFFFFF)
                .drawRect(0, 0, width, height)
                .endFill();
            this._cachedBitmapData = graphic;
        }
        else {
            this._cachedBitmapData
                .beginFill(0xFFFFFF)
                .drawRect(0, 0, width, height)
                .endFill();
        }
        if (!canvas)
            canvas = this._cachedBitmapData;
        this._cachedBitmapNormal.assign(normal);
        if (this._layers && this._layers.length) {
            for (let layer of this._layers) {
                if (!layer)
                    continue;
                if (layer instanceof _PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_3__["PlaneVisualizationLayer"]) {
                    layer.render(canvas, width, height, normal, useTexture, offsetX, offsetY);
                }
                else if (layer instanceof _animated_PlaneVisualizationAnimationLayer__WEBPACK_IMPORTED_MODULE_2__["PlaneVisualizationAnimationLayer"]) {
                    layer.render(canvas, width, height, normal, offsetX, offsetY, maxX, maxY, dimensionX, dimensionY, timeSinceStartMs);
                }
            }
        }
        if (canvas && (canvas !== this._cachedBitmapData)) {
            const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(canvas, new PIXI.Rectangle(0, 0, canvas.width, canvas.height));
            this._cachedBitmapData
                .beginTextureFill({ texture })
                .drawRect(0, 0, canvas.width, canvas.height)
                .endFill();
            return canvas;
        }
        return this._cachedBitmapData;
    }
}


/***/ }),

/***/ "GK65":
/*!****************************************************************************!*\
  !*** ./src/app/components/room/widgets/handlers/InfoStandWidgetHandler.ts ***!
  \****************************************************************************/
/*! exports provided: InfoStandWidgetHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoStandWidgetHandler", function() { return InfoStandWidgetHandler; });
/* harmony import */ var _client_nitro_avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/avatar/enum/AvatarScaleType */ "uEox");
/* harmony import */ var _client_nitro_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/nitro/avatar/enum/AvatarSetType */ "Kx+W");
/* harmony import */ var _client_nitro_communication_messages_outgoing_room_unit_RoomUnitDropHandItemComposer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../client/nitro/communication/messages/outgoing/room/unit/RoomUnitDropHandItemComposer */ "pGYl");
/* harmony import */ var _client_nitro_communication_messages_outgoing_room_unit_RoomUnitGiveHandItemComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../client/nitro/communication/messages/outgoing/room/unit/RoomUnitGiveHandItemComposer */ "0DoP");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/data/ObjectDataFactory */ "2L69");
/* harmony import */ var _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _client_nitro_room_object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectOperationType */ "UTUL");
/* harmony import */ var _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectType */ "+kDp");
/* harmony import */ var _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../client/nitro/session/enum/RoomControllerLevel */ "9vQN");
/* harmony import */ var _client_nitro_session_enum_RoomTradingLevelEnum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../client/nitro/session/enum/RoomTradingLevelEnum */ "/OJ4");
/* harmony import */ var _client_nitro_session_events_RoomSessionUserBadgesEvent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../client/nitro/session/events/RoomSessionUserBadgesEvent */ "hXx8");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/enums/RoomWidgetEnum */ "f6o4");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetEnumItemExtradataParameter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/enums/RoomWidgetEnumItemExtradataParameter */ "6j78");
/* harmony import */ var _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../client/room/utils/Vector3D */ "LGmI");
/* harmony import */ var _events_RoomObjectNameEvent__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../events/RoomObjectNameEvent */ "JOb7");
/* harmony import */ var _events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../events/RoomWidgetFurniInfostandUpdateEvent */ "1tVg");
/* harmony import */ var _events_RoomWidgetRentableBotInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../events/RoomWidgetRentableBotInfostandUpdateEvent */ "8bTt");
/* harmony import */ var _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../events/RoomWidgetUserInfostandUpdateEvent */ "7KBg");
/* harmony import */ var _messages_RoomWidgetChangeMottoMessage__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../messages/RoomWidgetChangeMottoMessage */ "XjQ+");
/* harmony import */ var _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../messages/RoomWidgetFurniActionMessage */ "zFyg");
/* harmony import */ var _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../messages/RoomWidgetRoomObjectMessage */ "NpmB");
/* harmony import */ var _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../messages/RoomWidgetUserActionMessage */ "Tngy");
























class InfoStandWidgetHandler {
    constructor() {
        this._container = null;
        this._widget = null;
        this._avatarImageCache = new Map();
        this._disposed = false;
    }
    dispose() {
        if (this.disposed)
            return;
        this._avatarImageCache = null;
        this.container = null;
        this._disposed = true;
    }
    update() {
    }
    processWidgetMessage(message) {
        if (!message || !this._container)
            return null;
        let userId = 0;
        let userData = null;
        if (message instanceof _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"]) {
            userId = message.userId;
            const petMessages = [
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_REQUEST_PET_UPDATE,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"]._Str_6480,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_PICKUP_PET,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_MOUNT_PET,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_TOGGLE_PET_RIDING_PERMISSION,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_TOGGLE_PET_BREEDING_PERMISSION,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_DISMOUNT_PET,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_SADDLE_OFF,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_GIVE_CARRY_ITEM_TO_PET,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_GIVE_WATER_TO_PET,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_GIVE_LIGHT_TO_PET,
                _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_TREAT_PET
            ];
            if (petMessages.indexOf(message.type) >= 0) {
                userData = this._container.roomSession.userDataManager.getPetData(userId);
            }
            else {
                userData = this._container.roomSession.userDataManager.getUserData(userId);
            }
            if (!userData)
                return null;
        }
        let objectId = 0;
        let objectCategory = 0;
        if (message instanceof _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"]) {
            objectId = message.furniId;
            objectCategory = message.furniCategory;
        }
        switch (message.type) {
            case _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_22__["RoomWidgetRoomObjectMessage"].GET_OBJECT_INFO:
                return this.processObjectInfoMessage(message);
            case _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_22__["RoomWidgetRoomObjectMessage"].GET_OBJECT_NAME:
                return this.processObjectNameMessage(message);
            case _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_DROP_CARRY_ITEM:
                this._container.connection.send(new _client_nitro_communication_messages_outgoing_room_unit_RoomUnitDropHandItemComposer__WEBPACK_IMPORTED_MODULE_2__["RoomUnitDropHandItemComposer"]());
                return;
            case _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_PASS_CARRY_ITEM:
                this._container.connection.send(new _client_nitro_communication_messages_outgoing_room_unit_RoomUnitGiveHandItemComposer__WEBPACK_IMPORTED_MODULE_3__["RoomUnitGiveHandItemComposer"](userId));
                return;
            case _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFAM_MOVE:
                this._container.roomEngine.processRoomObjectOperation(objectId, objectCategory, _client_nitro_room_object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_7__["RoomObjectOperationType"].OBJECT_MOVE);
                return;
            case _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFUAM_ROTATE:
                this._container.roomEngine.processRoomObjectOperation(objectId, objectCategory, _client_nitro_room_object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_7__["RoomObjectOperationType"].OBJECT_ROTATE_POSITIVE);
                return;
            case _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFAM_PICKUP:
                this._container.roomEngine.processRoomObjectOperation(objectId, objectCategory, _client_nitro_room_object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_7__["RoomObjectOperationType"].OBJECT_PICKUP);
                return;
            case _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFAM_EJECT:
                this._container.roomEngine.processRoomObjectOperation(objectId, objectCategory, _client_nitro_room_object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_7__["RoomObjectOperationType"].OBJECT_EJECT);
                return;
            case _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFAM_USE:
                this._container.roomEngine.useRoomObject(objectId, objectCategory);
                return;
            case _messages_RoomWidgetChangeMottoMessage__WEBPACK_IMPORTED_MODULE_20__["RoomWidgetChangeMottoMessage"].RWVM_CHANGE_MOTTO_MESSAGE:
                const mottoMessage = message;
                this._container.roomSession.sendMottoMessage(mottoMessage.motto);
                return;
        }
        return null;
    }
    processEvent(k) {
        if (!event)
            return;
        switch (k.type) {
            case _client_nitro_session_events_RoomSessionUserBadgesEvent__WEBPACK_IMPORTED_MODULE_12__["RoomSessionUserBadgesEvent"].RSUBE_BADGES:
                const badgesEvent = k;
                this.widget.updateUserBadges(badgesEvent.userId, badgesEvent.badges);
                return;
        }
    }
    processObjectInfoMessage(message) {
        const roomId = this._container.roomSession.roomId;
        switch (message.category) {
            case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].FLOOR:
            case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].WALL:
                this._Str_23142(message, roomId);
                break;
            case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].UNIT:
                if (!this._container.roomSession || !this._container.sessionDataManager || !this._container.events || !this._container.roomEngine)
                    return null;
                const userData = this._container.roomSession.userDataManager.getUserDataByIndex(message.id);
                if (!userData)
                    return null;
                switch (userData.type) {
                    case _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_8__["RoomObjectType"].PET:
                        //this._Str_25299(userData._Str_2394);
                        break;
                    case _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_8__["RoomObjectType"].USER:
                        this._Str_22722(roomId, message.id, message.category, userData);
                        break;
                    case _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_8__["RoomObjectType"].BOT:
                        this._Str_22312(roomId, message.id, message.category, userData);
                        break;
                    case _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_8__["RoomObjectType"].RENTABLE_BOT:
                        this._Str_23115(roomId, message.id, message.category, userData);
                        break;
                }
                break;
        }
        return null;
    }
    processObjectNameMessage(k) {
        const roomId = this._container.roomSession.roomId;
        let id = 0;
        let name = null;
        let type = 0;
        let roomIndex = 0;
        switch (k.category) {
            case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].FLOOR:
            case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].WALL:
                if (!this._container.events || !this._container.roomEngine)
                    return null;
                const roomObject = this._container.roomEngine.getRoomObject(roomId, k.id, k.category);
                const objectType = roomObject.type;
                if (objectType.indexOf('poster') === 0) {
                    id = -1;
                    name = ('poster_' + parseInt(objectType.replace('poster', '')) + '_name');
                    roomIndex = roomObject.id;
                }
                else {
                    let furniData = null;
                    //@ts-ignore
                    const typeId = roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_TYPE_ID);
                    if (k.category === _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].FLOOR) {
                        furniData = this._container.sessionDataManager.getFloorItemData(typeId);
                    }
                    else if (k.category === _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].WALL) {
                        furniData = this._container.sessionDataManager.getWallItemData(typeId);
                    }
                    if (!furniData)
                        return null;
                    id = furniData.id;
                    name = furniData.name;
                    roomIndex = roomObject.id;
                }
                break;
            case _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].UNIT:
                if (!this._container.roomSession || !this._container.roomSession.userDataManager)
                    return null;
                const userData = this._container.roomSession.userDataManager.getUserDataByIndex(k.id);
                if (!userData)
                    return null;
                id = userData.webID;
                name = userData.name;
                type = userData.type;
                roomIndex = userData.roomIndex;
                break;
        }
        if (name)
            this._container.events.dispatchEvent(new _events_RoomObjectNameEvent__WEBPACK_IMPORTED_MODULE_16__["RoomObjectNameEvent"](id, k.category, name, type, roomIndex));
        return null;
    }
    _Str_23142(k, _arg_2) {
        if (!this._container || !this._container.events || !this._container.roomEngine)
            return;
        if (k.id < 0)
            return;
        const infostandEvent = new _events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetFurniInfostandUpdateEvent"](_events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_17__["RoomWidgetFurniInfostandUpdateEvent"].FURNI);
        infostandEvent.id = k.id;
        infostandEvent.category = k.category;
        const roomObject = this._container.roomEngine.getRoomObject(_arg_2, k.id, k.category);
        if (!roomObject)
            return;
        const model = roomObject.model;
        //@ts-ignore
        if (model.getValue(_client_nitro_ui_widget_enums_RoomWidgetEnumItemExtradataParameter__WEBPACK_IMPORTED_MODULE_14__["RoomWidgetEnumItemExtradataParameter"].INFOSTAND_EXTRA_PARAM)) {
            //@ts-ignore
            infostandEvent.extraParam = model.getValue(_client_nitro_ui_widget_enums_RoomWidgetEnumItemExtradataParameter__WEBPACK_IMPORTED_MODULE_14__["RoomWidgetEnumItemExtradataParameter"].INFOSTAND_EXTRA_PARAM);
        }
        //@ts-ignore
        const dataFormat = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_DATA_FORMAT);
        const objectData = _client_nitro_room_object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_5__["ObjectDataFactory"].getData(dataFormat);
        objectData.initializeFromRoomObjectModel(model);
        infostandEvent.stuffData = objectData;
        const objectType = roomObject.type;
        if (objectType.indexOf('poster') === 0) {
            let _local_13 = parseInt(objectType.replace('poster', ''));
            infostandEvent.name = (('${poster_' + _local_13) + '_name}');
            infostandEvent.description = (('${poster_' + _local_13) + '_desc}');
        }
        else {
            //@ts-ignore
            const _local_14 = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_TYPE_ID);
            let furnitureData = null;
            if (k.category === _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].FLOOR) {
                furnitureData = this._container.sessionDataManager.getFloorItemData(_local_14);
            }
            else if (k.category == _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].WALL) {
                furnitureData = this._container.sessionDataManager.getWallItemData(_local_14);
            }
            if (furnitureData) {
                infostandEvent.name = furnitureData.name;
                infostandEvent.description = furnitureData.description;
                infostandEvent.purchaseOfferId = furnitureData.offerId;
                //infostandEvent.purchaseCouldBeUsedForBuyout    = furnitureData._Str_7629;
                //infostandEvent.rentOfferId    = furnitureData._Str_3693;
                //infostandEvent.rentCouldBeUsedForBuyout    = furnitureData._Str_8116;
                //infostandEvent._Str_6098    = furnitureData._Str_6098;
                // if (((!(this._container._Str_10421 == null)) && (k.category == RoomObjectCategory.FLOOR)))
                // {
                //     this._container._Str_10421._Str_15677(roomObject.getId(), furnitureData._Str_2772);
                // }
            }
        }
        if (objectType.indexOf('post_it') > -1) {
            infostandEvent.isStickie = true;
        }
        //@ts-ignore
        const expiryTime = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_EXPIRY_TIME);
        //@ts-ignore
        const expiryTimestamp = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_EXPIRTY_TIMESTAMP);
        infostandEvent.expiration = ((expiryTime < 0) ? expiryTime : Math.max(0, (expiryTime - ((_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.time - expiryTimestamp) / 1000))));
        let roomObjectImage = this._container.roomEngine.getRoomObjectImage(_arg_2, k.id, k.category, new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_15__["Vector3D"](180), 64, null);
        if (!roomObjectImage.data || (roomObjectImage.data.width > 140) || (roomObjectImage.data.height > 200)) {
            roomObjectImage = this._container.roomEngine.getRoomObjectImage(_arg_2, k.id, k.category, new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_15__["Vector3D"](180), 1, null);
        }
        if (roomObjectImage && roomObjectImage.data) {
            const image = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.renderer.extract.image(roomObjectImage.data);
            if (image)
                infostandEvent.image = image;
        }
        infostandEvent.isWallItem = (k.category === _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].WALL);
        infostandEvent.isRoomOwner = this._container.roomSession.isRoomOwner;
        infostandEvent.roomControllerLevel = this._container.roomSession.controllerLevel;
        infostandEvent.isAnyRoomOwner = this._container.sessionDataManager.isModerator;
        //@ts-ignore
        infostandEvent.ownerId = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_OWNER_ID);
        //@ts-ignore
        infostandEvent.ownerName = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_OWNER_NAME);
        //@ts-ignore
        infostandEvent.usagePolicy = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_USAGE_POLICY);
        //@ts-ignore
        const guildId = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FURNITURE_GUILD_CUSTOMIZED_GUILD_ID);
        if (guildId !== 0) {
            infostandEvent.groupId = guildId;
            //this.container.connection.send(new _Str_2863(guildId, false));
        }
        if (this._container.isOwnerOfFurniture(roomObject)) {
            infostandEvent.isOwner = true;
        }
        this._container.events.dispatchEvent(infostandEvent);
        // if (((!(infostandEvent._Str_2415 == null)) && (infostandEvent._Str_2415.length > 0)))
        // {
        //     _local_16 = -1;
        //     _local_17 = '';
        //     _local_18 = '';
        //     _local_19 = '';
        //     if (infostandEvent._Str_2415 == RoomWidgetEnumItemExtradataParameter.JUKEBOX)
        //     {
        //         _local_20 = this._musicController._Str_6500();
        //         if (_local_20 != null)
        //         {
        //             _local_16 = _local_20._Str_13794;
        //             _local_19 = RoomWidgetSongUpdateEvent.PLAYING_CHANGED;
        //         }
        //     }
        //     else
        //     {
        //         if (infostandEvent._Str_2415.indexOf(RoomWidgetEnumItemExtradataParameter.SONGDISK) == 0)
        //         {
        //             _local_21 = infostandEvent._Str_2415.substr(RoomWidgetEnumItemExtradataParameter.SONGDISK.length);
        //             _local_16 = parseInt(_local_21);
        //             _local_19 = RoomWidgetSongUpdateEvent.DATA_RECEIVED;
        //         }
        //     }
        //     if (_local_16 != -1)
        //     {
        //         _local_22 = this._musicController._Str_3255(_local_16);
        //         if (_local_22 != null)
        //         {
        //             _local_17 = _local_22.name;
        //             _local_18 = _local_22.creator;
        //         }
        //         this._container.events.dispatchEvent(new RoomWidgetSongUpdateEvent(_local_19, _local_16, _local_17, _local_18));
        //     }
        // }
    }
    _Str_22722(roomId, roomIndex, category, _arg_4) {
        let eventType = _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER;
        if (_arg_4.webID !== this._container.sessionDataManager.userId) {
            eventType = _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"].PEER;
        }
        const event = new _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"](eventType);
        event.isSpectator = this._container.roomSession.isSpectator;
        event.name = _arg_4.name;
        event.motto = _arg_4.custom;
        if (InfoStandWidgetHandler.ACTIVITY_POINTS_DISPLAY_ENABLED) {
            event.activityPoints = _arg_4.activityPoints;
        }
        event.webID = _arg_4.webID;
        event.roomIndex = roomIndex;
        event.userType = _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_8__["RoomObjectType"].USER;
        let roomObject = this._container.roomEngine.getRoomObject(roomId, roomIndex, category);
        if (roomObject) {
            //@ts-ignore
            event.carryId = roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FIGURE_CARRY_OBJECT);
        }
        if (eventType == _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER) {
            event.realName = this._container.sessionDataManager.realName;
            //event._Str_4330 = this._container.sessionDataManager._Str_11198;
        }
        event.isRoomOwner = this._container.roomSession.isRoomOwner;
        event.isGuildRoom = this._container.roomSession.isGuildRoom;
        event.roomControllerLevel = this._container.roomSession.controllerLevel;
        event.isModerator = this._container.sessionDataManager.isModerator;
        event.isAmbassador = this._container.sessionDataManager.isAmbassador;
        if (eventType === _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"].PEER) {
            //event.canBeAskedForAFriend = this._container.friendList.canBeAskedForAFriend(_arg_4._Str_2394);
            // _local_9 = this._container.friendList.getFriend(_arg_4._Str_2394);
            // if (_local_9 != null)
            // {
            //     event.realName = _local_9.realName;
            //     event.isFriend = true;
            // }
            if (roomObject) {
                //@ts-ignore
                let flatControl = roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FIGURE_FLAT_CONTROL);
                if (flatControl !== null)
                    event.flatControl = flatControl;
                // event._Str_6394 = this._Str_23100(event);
                // event._Str_5990 = this._Str_22729(event);
                // event._Str_6701 = this._Str_23573(event);
                // Logger.log(((((((('Set moderation levels to ' + event.name) + 'Muted: ') + event._Str_6394) + ', Kicked: ') + event._Str_5990) + ', Banned: ') + event._Str_6701));
            }
            event.isIgnored = this._container.sessionDataManager.isUserIgnored(_arg_4.name);
            //event._Str_3577 = this._container.sessionDataManager._Str_3577;
            const isShuttingDown = this._container.sessionDataManager.isSystemShutdown;
            const tradeMode = this._container.roomSession.tradeMode;
            if (isShuttingDown) {
                event.canTrade = false;
            }
            else {
                switch (tradeMode) {
                    case _client_nitro_session_enum_RoomTradingLevelEnum__WEBPACK_IMPORTED_MODULE_11__["RoomTradingLevelEnum"]._Str_14475:
                        const _local_15 = ((event.roomControllerLevel !== _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_10__["RoomControllerLevel"].NONE) && (event.roomControllerLevel !== _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_10__["RoomControllerLevel"].GUILD_MEMBER));
                        const _local_16 = ((event.flatControl !== _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_10__["RoomControllerLevel"].NONE) && (event.flatControl !== _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_10__["RoomControllerLevel"].GUILD_MEMBER));
                        event.canTrade = ((_local_15) || (_local_16));
                        break;
                    case _client_nitro_session_enum_RoomTradingLevelEnum__WEBPACK_IMPORTED_MODULE_11__["RoomTradingLevelEnum"]._Str_9173:
                        event.canTrade = true;
                        break;
                    default:
                        event.canTrade = false;
                        break;
                }
            }
            event._Str_6622 = _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"]._Str_18400;
            if (isShuttingDown)
                event._Str_6622 = _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"]._Str_14161;
            if (tradeMode !== _client_nitro_session_enum_RoomTradingLevelEnum__WEBPACK_IMPORTED_MODULE_11__["RoomTradingLevelEnum"]._Str_9173)
                event._Str_6622 = _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"]._Str_13798;
            // const _local_12 = this._container.sessionDataManager.userId;
            // _local_13 = this._container.sessionDataManager._Str_18437(_local_12);
            // this._Str_16287(_local_12, _local_13);
        }
        event.groupId = parseInt(_arg_4.guildId);
        //event._Str_5235 = this._container.sessionDataManager._Str_17173(int(_arg_4._Str_4592));
        event.groupName = _arg_4.groupName;
        event.badges = this._container.roomSession.userDataManager.getUserBadges(_arg_4.webID);
        event.figure = _arg_4.figure;
        this._container.events.dispatchEvent(event);
        //var _local_8:Array = this._container.sessionDataManager._Str_18437(_arg_4.webID);
        //this._Str_16287(_arg_4._Str_2394, _local_8);
        //this._container._Str_8097._Str_14387(_arg_4.webID);
        //this._container.connection.send(new _Str_8049(_arg_4._Str_2394));
    }
    _Str_22312(roomId, roomIndex, category, _arg_4) {
        const event = new _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"](_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"].BOT);
        event.name = _arg_4.name;
        event.motto = _arg_4.custom;
        event.webID = _arg_4.webID;
        event.roomIndex = roomIndex;
        event.userType = _arg_4.type;
        let roomObject = this._container.roomEngine.getRoomObject(roomId, roomIndex, category);
        if (roomObject) {
            //@ts-ignore
            event.carryId = roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FIGURE_CARRY_OBJECT);
        }
        event.isRoomOwner = this._container.roomSession.isRoomOwner;
        event.isGuildRoom = this._container.roomSession.isGuildRoom;
        event.roomControllerLevel = this._container.roomSession.controllerLevel;
        event.isModerator = this._container.sessionDataManager.isModerator;
        event._Str_5990 = this._container.roomSession.isRoomOwner;
        event.badges = [_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"]._Str_7492];
        event.figure = _arg_4.figure;
        this._container.events.dispatchEvent(event);
    }
    _Str_23115(roomId, roomIndex, category, _arg_4) {
        const event = new _events_RoomWidgetRentableBotInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_18__["RoomWidgetRentableBotInfostandUpdateEvent"]();
        event.name = _arg_4.name;
        event.motto = _arg_4.custom;
        event._Str_2394 = _arg_4.webID;
        event._Str_3313 = roomIndex;
        event.ownerId = _arg_4.ownerId;
        event.ownerName = _arg_4.ownerName;
        event._Str_2899 = _arg_4.botSkills;
        let roomObject = this._container.roomEngine.getRoomObject(roomId, roomIndex, category);
        if (roomObject) {
            //@ts-ignore
            event._Str_3249 = roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_9__["RoomObjectVariable"].FIGURE_CARRY_OBJECT);
        }
        event._Str_3246 = this._container.roomSession.isRoomOwner;
        event.roomControllerLevel = this._container.roomSession.controllerLevel;
        event._Str_3529 = this._container.sessionDataManager.isModerator;
        event.badges = [_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_19__["RoomWidgetUserInfostandUpdateEvent"]._Str_7492];
        event.figure = _arg_4.figure;
        this._container.events.dispatchEvent(event);
    }
    getUserImage(figure) {
        let existing = this._avatarImageCache.get(figure);
        if (!existing) {
            const avatarImage = this._container.avatarRenderManager.createAvatarImage(figure, _client_nitro_avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_0__["AvatarScaleType"].LARGE, null, null);
            if (avatarImage) {
                avatarImage.setDirection(_client_nitro_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_1__["AvatarSetType"].FULL, 4);
                const texture = avatarImage.getImage(_client_nitro_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_1__["AvatarSetType"].FULL, false);
                const image = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.renderer.extract.image(texture);
                if (image)
                    existing = image;
                avatarImage.dispose();
            }
            if (existing)
                this._avatarImageCache.set(figure, existing);
        }
        return existing;
    }
    get type() {
        return _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetEnum"].INFOSTAND;
    }
    get messageTypes() {
        let types = [];
        types.push(_messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_22__["RoomWidgetRoomObjectMessage"].GET_OBJECT_INFO);
        types.push(_messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_22__["RoomWidgetRoomObjectMessage"].GET_OBJECT_NAME);
        types.push(_messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_DROP_CARRY_ITEM);
        types.push(_messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_23__["RoomWidgetUserActionMessage"].RWUAM_PASS_CARRY_ITEM);
        types.push(_messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFAM_MOVE);
        types.push(_messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFUAM_ROTATE);
        types.push(_messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFAM_EJECT);
        types.push(_messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFAM_PICKUP);
        types.push(_messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_21__["RoomWidgetFurniActionMessage"].RWFAM_USE);
        return types;
    }
    get eventTypes() {
        return [_client_nitro_session_events_RoomSessionUserBadgesEvent__WEBPACK_IMPORTED_MODULE_12__["RoomSessionUserBadgesEvent"].RSUBE_BADGES];
    }
    get container() {
        return this._container;
    }
    set container(k) {
        if (this._container) {
        }
        this._container = k;
        if (!k)
            return;
    }
    get widget() {
        return this._widget;
    }
    set widget(widget) {
        this._widget = widget;
    }
    get disposed() {
        return this._disposed;
    }
}
InfoStandWidgetHandler.ACTIVITY_POINTS_DISPLAY_ENABLED = true;


/***/ }),

/***/ "GMXr":
/*!************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/pet/PetLogic.ts ***!
  \************************************************************/
/*! exports provided: PetLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetLogic", function() { return PetLogic; });
/* harmony import */ var _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/events/RoomObjectMouseEvent */ "iiZs");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _avatar_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../avatar/pets/PetFigureData */ "Ays+");
/* harmony import */ var _avatar_pets_PetType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../avatar/pets/PetType */ "whnG");
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../events/RoomObjectMoveEvent */ "9Vq3");
/* harmony import */ var _messages_ObjectAvatarChatUpdateMessage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../messages/ObjectAvatarChatUpdateMessage */ "X0Jn");
/* harmony import */ var _messages_ObjectAvatarFigureUpdateMessage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../messages/ObjectAvatarFigureUpdateMessage */ "vkKv");
/* harmony import */ var _messages_ObjectAvatarPetGestureUpdateMessage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../messages/ObjectAvatarPetGestureUpdateMessage */ "TXNj");
/* harmony import */ var _messages_ObjectAvatarPostureUpdateMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../messages/ObjectAvatarPostureUpdateMessage */ "9scY");
/* harmony import */ var _messages_ObjectAvatarSelectedMessage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../messages/ObjectAvatarSelectedMessage */ "Kr/V");
/* harmony import */ var _messages_ObjectAvatarSleepUpdateMessage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../messages/ObjectAvatarSleepUpdateMessage */ "u+VA");
/* harmony import */ var _messages_ObjectAvatarUpdateMessage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../messages/ObjectAvatarUpdateMessage */ "GEOe");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _MovingObjectLogic__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../MovingObjectLogic */ "PlVe");















class PetLogic extends _MovingObjectLogic__WEBPACK_IMPORTED_MODULE_14__["MovingObjectLogic"] {
    constructor() {
        super();
        this._selected = false;
        this._reportedLocation = null;
        this._postureIndex = 0;
        this._gestureIndex = 0;
        this._headDirectionDelta = 0;
        this._directions = [];
        this._talkingEndTimestamp = 0;
        this._gestureEndTimestamp = 0;
        this._expressionEndTimestamp = 0;
    }
    getEventTypes() {
        const types = [_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].CLICK, _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectMoveEvent"].POSITION_CHANGED];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    initialize(asset) {
        if (!asset)
            return;
        const model = this.object && this.object.model;
        if (!model)
            return;
        const directions = asset.directions;
        if (directions && directions.length) {
            for (let direction of directions)
                this._directions.push(direction);
            this._directions.sort((a, b) => { return a - b; });
        }
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_ALLOWED_DIRECTIONS, this._directions);
    }
    dispose() {
        if (this._selected && this.object) {
            if (this.eventDispatcher)
                this.eventDispatcher.dispatchEvent(new _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectMoveEvent"](_events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectMoveEvent"].OBJECT_REMOVED, this.object));
        }
        this._directions = null;
        this._reportedLocation = null;
    }
    update(totalTimeRunning) {
        super.update(totalTimeRunning);
        if (this._selected && this.object) {
            if (this.eventDispatcher) {
                const location = this.object.getLocation();
                if (((!this._reportedLocation || (this._reportedLocation.x !== location.x)) || (this._reportedLocation.y !== location.y)) || (this._reportedLocation.z !== location.z)) {
                    if (!this._reportedLocation)
                        this._reportedLocation = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
                    this._reportedLocation.assign(location);
                    this.eventDispatcher.dispatchEvent(new _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectMoveEvent"](_events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectMoveEvent"].POSITION_CHANGED, this.object));
                }
            }
        }
        if (this.object && this.object.model)
            this.updateModel(totalTimeRunning, this.object.model);
    }
    updateModel(time, model) {
        if ((this._gestureEndTimestamp > 0) && (time > this._gestureEndTimestamp)) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].FIGURE_GESTURE, null);
            this._gestureEndTimestamp = 0;
        }
        if (this._talkingEndTimestamp > 0) {
            if (time > this._talkingEndTimestamp) {
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].FIGURE_TALK, 0);
                this._talkingEndTimestamp = 0;
            }
        }
        if ((this._expressionEndTimestamp > 0) && (time > this._expressionEndTimestamp)) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].FIGURE_EXPRESSION, 0);
            this._expressionEndTimestamp = 0;
        }
    }
    processUpdateMessage(message) {
        if (!message || !this.object)
            return;
        super.processUpdateMessage(message);
        const model = this.object && this.object.model;
        if (!model)
            return;
        if (message instanceof _messages_ObjectAvatarUpdateMessage__WEBPACK_IMPORTED_MODULE_12__["ObjectAvatarUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].HEAD_DIRECTION, message.headDirection);
            return;
        }
        if (message instanceof _messages_ObjectAvatarFigureUpdateMessage__WEBPACK_IMPORTED_MODULE_7__["ObjectAvatarFigureUpdateMessage"]) {
            const petFigureData = new _avatar_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_2__["PetFigureData"](message.figure);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].FIGURE, message.figure);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].RACE, message.subType);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_PALETTE_INDEX, petFigureData.paletteId);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_COLOR, petFigureData.color);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_TYPE, petFigureData.typeId);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_CUSTOM_LAYER_IDS, petFigureData.customLayerIds);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_CUSTOM_PARTS_IDS, petFigureData.customPartIds);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_CUSTOM_PALETTE_IDS, petFigureData.customPaletteIds);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_IS_RIDING, (message.isRiding ? 1 : 0));
            return;
        }
        if (message instanceof _messages_ObjectAvatarPostureUpdateMessage__WEBPACK_IMPORTED_MODULE_9__["ObjectAvatarPostureUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].FIGURE_POSTURE, message.postureType);
            return;
        }
        if (message instanceof _messages_ObjectAvatarChatUpdateMessage__WEBPACK_IMPORTED_MODULE_6__["ObjectAvatarChatUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].FIGURE_TALK, 1);
            this._talkingEndTimestamp = this.time + (message.numberOfWords * 1000);
            return;
        }
        if (message instanceof _messages_ObjectAvatarSleepUpdateMessage__WEBPACK_IMPORTED_MODULE_11__["ObjectAvatarSleepUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].FIGURE_SLEEP, message.isSleeping ? 1 : 0);
            return;
        }
        if (message instanceof _messages_ObjectAvatarPetGestureUpdateMessage__WEBPACK_IMPORTED_MODULE_8__["ObjectAvatarPetGestureUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].FIGURE_GESTURE, message.gesture);
            this._gestureEndTimestamp = this.time + 3000;
            return;
        }
        if (message instanceof _messages_ObjectAvatarSelectedMessage__WEBPACK_IMPORTED_MODULE_10__["ObjectAvatarSelectedMessage"]) {
            this._selected = message.selected;
            this._reportedLocation = null;
            return;
        }
    }
    mouseEvent(event, geometry) {
        let eventType = null;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].MOUSE_CLICK:
                eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].CLICK;
                break;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].DOUBLE_CLICK:
                break;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].MOUSE_DOWN:
                const petType = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_13__["RoomObjectVariable"].PET_TYPE);
                if (petType == _avatar_pets_PetType__WEBPACK_IMPORTED_MODULE_3__["PetType"].MONSTERPLANT) {
                    if (this.eventDispatcher)
                        this.eventDispatcher.dispatchEvent(new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"](_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_DOWN, this.object, event._Str_3463, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown));
                }
                break;
        }
        if (eventType && this.eventDispatcher)
            this.eventDispatcher.dispatchEvent(new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"](eventType, this.object, event._Str_3463, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown));
    }
}


/***/ }),

/***/ "Gb7F":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/RoomUnitPostureComposer.ts ***!
  \***********************************************************************************************/
/*! exports provided: RoomUnitPostureComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitPostureComposer", function() { return RoomUnitPostureComposer; });
class RoomUnitPostureComposer {
    constructor(posture) {
        this._data = [posture];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "GdhZ":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureCounterClockVisualization.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurnitureCounterClockVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureCounterClockVisualization", function() { return FurnitureCounterClockVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureCounterClockVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
    getFrameNumber(scale, layerId) {
        const tag = this.getLayerTag(scale, this.direction, layerId);
        const animation = this.object.getState(0);
        switch (tag) {
            case FurnitureCounterClockVisualization.SECONDS_SPRITE: return Math.floor((animation % 60) % 10);
            case FurnitureCounterClockVisualization.TEN_SECONDS_SPRITE: return Math.floor((animation % 60) / 10);
            case FurnitureCounterClockVisualization.MINUTES_SPRITE: return Math.floor((animation / 60) % 10);
            case FurnitureCounterClockVisualization.TEN_MINUTES_SPRITE: return Math.floor(((animation / 60) / 10) % 10);
            default: return super.getFrameNumber(scale, layerId);
        }
    }
    get animationId() {
        return 0;
    }
}
FurnitureCounterClockVisualization.SECONDS_SPRITE = 'seconds_sprite';
FurnitureCounterClockVisualization.TEN_SECONDS_SPRITE = 'ten_seconds_sprite';
FurnitureCounterClockVisualization.MINUTES_SPRITE = 'minutes_sprite';
FurnitureCounterClockVisualization.TEN_MINUTES_SPRITE = 'ten_minutes_sprite';


/***/ }),

/***/ "GfbW":
/*!************************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectHSLColorEnabledEvent.ts ***!
  \************************************************************************/
/*! exports provided: RoomObjectHSLColorEnabledEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectHSLColorEnabledEvent", function() { return RoomObjectHSLColorEnabledEvent; });
/* harmony import */ var _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomEngineEvent */ "G0tw");

class RoomObjectHSLColorEnabledEvent extends _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__["RoomEngineEvent"] {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6) {
        super(k, _arg_2);
        this._enable = _arg_3;
        this._hue = _arg_4;
        this._saturation = _arg_5;
        this._lightness = _arg_6;
    }
    get enable() {
        return this._enable;
    }
    get hue() {
        return this._hue;
    }
    get saturation() {
        return this._saturation;
    }
    get lightness() {
        return this._lightness;
    }
}
RoomObjectHSLColorEnabledEvent.ROOM_BACKGROUND_COLOR = "ROHSLCEE_ROOM_BACKGROUND_COLOR";


/***/ }),

/***/ "Gudf":
/*!********************************************************************!*\
  !*** ./src/client/room/object/visualization/utils/GraphicAsset.ts ***!
  \********************************************************************/
/*! exports provided: GraphicAsset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicAsset", function() { return GraphicAsset; });
class GraphicAsset {
    static createAsset(name, source, texture, x, y, flipH = false, flipV = false, usesPalette = false) {
        const graphicAsset = (GraphicAsset.GRAPHIC_POOL.length ? GraphicAsset.GRAPHIC_POOL.pop() : new GraphicAsset());
        graphicAsset._name = name;
        graphicAsset._source = source || null;
        if (texture) {
            graphicAsset._texture = texture;
            graphicAsset._initialized = false;
        }
        else {
            graphicAsset._texture = null;
            graphicAsset._initialized = true;
        }
        graphicAsset._usesPalette = usesPalette;
        graphicAsset._x = x;
        graphicAsset._y = y;
        graphicAsset._flipH = flipH;
        graphicAsset._flipV = flipV;
        graphicAsset._rectangle = null;
        return graphicAsset;
    }
    recycle() {
        this._texture = null;
        GraphicAsset.GRAPHIC_POOL.push(this);
    }
    initialize() {
        if (this._initialized || !this._texture)
            return;
        this._width = this._texture.width;
        this._height = this._texture.height;
        this._initialized = true;
    }
    get name() {
        return this._name;
    }
    get source() {
        return this._source;
    }
    get texture() {
        return this._texture;
    }
    get usesPalette() {
        return this._usesPalette;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get width() {
        this.initialize();
        return this._width;
    }
    get height() {
        this.initialize();
        return this._height;
    }
    get offsetX() {
        if (!this._flipH)
            return this._x;
        return (-(this._x));
    }
    get offsetY() {
        if (!this._flipV)
            return this._y;
        return (-(this._y));
    }
    get flipH() {
        return this._flipH;
    }
    get flipV() {
        return this._flipV;
    }
    get rectangle() {
        if (!this._rectangle)
            this._rectangle = new PIXI.Rectangle(0, 0, this.width, this.height);
        return this._rectangle;
    }
}
GraphicAsset.GRAPHIC_POOL = [];


/***/ }),

/***/ "H/Ns":
/*!********************************************************!*\
  !*** ./src/client/nitro/session/RoomSessionManager.ts ***!
  \********************************************************/
/*! exports provided: RoomSessionManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSessionManager", function() { return RoomSessionManager; });
/* harmony import */ var _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/NitroManager */ "Fv14");
/* harmony import */ var _room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../room/events/RoomEngineEvent */ "G0tw");
/* harmony import */ var _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/RoomSessionEvent */ "Ns5P");
/* harmony import */ var _handler_RoomChatHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./handler/RoomChatHandler */ "Rvjn");
/* harmony import */ var _handler_RoomDataHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./handler/RoomDataHandler */ "jX/W");
/* harmony import */ var _handler_RoomPermissionsHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./handler/RoomPermissionsHandler */ "4qyV");
/* harmony import */ var _handler_RoomSessionHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./handler/RoomSessionHandler */ "LFPN");
/* harmony import */ var _handler_RoomUsersHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./handler/RoomUsersHandler */ "Vutg");
/* harmony import */ var _RoomSession__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./RoomSession */ "KYQ4");









class RoomSessionManager extends _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__["NitroManager"] {
    constructor(communication, roomEngine) {
        super();
        this._communication = communication;
        this._roomEngine = roomEngine;
        this._handlers = [];
        this._sessions = new Map();
        this._pendingSession = null;
        this._sessionStarting = false;
        this._viewerSession = null;
    }
    onInit() {
        this.createHandlers();
        this.processPendingSession();
        this._roomEngine.events.addEventListener(_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_1__["RoomEngineEvent"].ENGINE_INITIALIZED, this.onRoomEngineEvent.bind(this));
    }
    onDispose() {
        this._roomEngine.events.removeEventListener(_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_1__["RoomEngineEvent"].ENGINE_INITIALIZED, this.onRoomEngineEvent.bind(this));
        super.onDispose();
    }
    createHandlers() {
        const connection = this._communication && this._communication.connection;
        if (!connection)
            return;
        this._handlers.push(new _handler_RoomChatHandler__WEBPACK_IMPORTED_MODULE_3__["RoomChatHandler"](connection, this), new _handler_RoomDataHandler__WEBPACK_IMPORTED_MODULE_4__["RoomDataHandler"](connection, this), new _handler_RoomPermissionsHandler__WEBPACK_IMPORTED_MODULE_5__["RoomPermissionsHandler"](connection, this), new _handler_RoomSessionHandler__WEBPACK_IMPORTED_MODULE_6__["RoomSessionHandler"](connection, this), new _handler_RoomUsersHandler__WEBPACK_IMPORTED_MODULE_7__["RoomUsersHandler"](connection, this));
    }
    setHandlers(session) {
        if (!this._handlers || !this._handlers.length)
            return;
        for (let handler of this._handlers) {
            if (!handler)
                continue;
            handler.setRoomId(session.roomId);
        }
    }
    onRoomEngineEvent(event) {
        this.processPendingSession();
    }
    processPendingSession() {
        if (!this._pendingSession || !this._roomEngine.ready)
            return;
        this.addSession(this._pendingSession);
        this._pendingSession = null;
    }
    getSession(id) {
        const existing = this._sessions.get(this.getRoomId(id));
        if (!existing)
            return null;
        return existing;
    }
    createSession(roomId, password = null) {
        const session = new _RoomSession__WEBPACK_IMPORTED_MODULE_8__["RoomSession"]();
        session.roomId = roomId;
        session.password = password;
        return this.addSession(session);
    }
    addSession(roomSession) {
        if (!this._roomEngine.ready) {
            this._pendingSession = roomSession;
            return false;
        }
        this._sessionStarting = true;
        if (this._sessions.get(this.getRoomId(roomSession.roomId))) {
            this.removeSession(roomSession.roomId);
        }
        roomSession.setConnection(this._communication.connection);
        this._sessions.set(this.getRoomId(roomSession.roomId), roomSession);
        this.events.dispatchEvent(new _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionEvent"](_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionEvent"].CREATED, roomSession));
        this._viewerSession = roomSession;
        this.startSession(this._viewerSession);
        return true;
    }
    startSession(session) {
        if (session.state === _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionEvent"].STARTED)
            return false;
        this._sessionStarting = false;
        if (!session.start()) {
            this.removeSession(session.roomId);
            return false;
        }
        this.events.dispatchEvent(new _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionEvent"](_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionEvent"].STARTED, session));
        this.setHandlers(session);
        return true;
    }
    removeSession(id) {
        const session = this.getSession(id);
        if (!session)
            return;
        this._sessions.delete(this.getRoomId(id));
        this.events.dispatchEvent(new _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionEvent"](_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionEvent"].ENDED, session));
        session.dispose();
    }
    sessionUpdate(id, type) {
        const session = this.getSession(id);
        if (!session)
            return;
        switch (type) {
            case _handler_RoomSessionHandler__WEBPACK_IMPORTED_MODULE_6__["RoomSessionHandler"].RS_CONNECTED:
                return;
            case _handler_RoomSessionHandler__WEBPACK_IMPORTED_MODULE_6__["RoomSessionHandler"].RS_READY:
                return;
            case _handler_RoomSessionHandler__WEBPACK_IMPORTED_MODULE_6__["RoomSessionHandler"].RS_DISCONNECTED:
                this.removeSession(id);
                return;
        }
    }
    sessionReinitialize(fromRoomId, toRoomId) {
        const existing = this.getSession(fromRoomId);
        if (!existing)
            return;
        this._sessions.delete(this.getRoomId(fromRoomId));
        existing.reset(toRoomId);
        this._sessions.set(this.getRoomId(toRoomId), existing);
        this.setHandlers(existing);
    }
    getRoomId(id) {
        return 'hard_coded_room_id';
    }
    get communication() {
        return this._communication;
    }
    get roomEngine() {
        return this._roomEngine;
    }
    get viewerSession() {
        return this._viewerSession;
    }
}


/***/ }),

/***/ "H6mV":
/*!*********************************************!*\
  !*** ./src/client/room/utils/Rasterizer.ts ***!
  \*********************************************/
/*! exports provided: Rasterizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rasterizer", function() { return Rasterizer; });
/* harmony import */ var _TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextureUtils */ "IxQr");

class Rasterizer {
    static _Str_16640(k) {
        if (!k)
            return null;
        const matrix = new PIXI.Matrix();
        matrix.scale(-1, 1);
        matrix.translate(k.width, 0);
        const graphic = new PIXI.Graphics();
        graphic
            .beginTextureFill({
            texture: k,
            matrix
        })
            .drawRect(0, 0, k.width, k.height)
            .endFill();
        return _TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(graphic);
    }
    static _Str_20706(k) {
        if (!k)
            return null;
        const matrix = new PIXI.Matrix();
        matrix.scale(1, -1);
        matrix.translate(0, k.height);
        const graphic = new PIXI.Graphics();
        graphic
            .beginTextureFill({
            texture: k,
            matrix
        })
            .drawRect(0, 0, k.width, k.height)
            .endFill();
        return _TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(graphic);
    }
    static _Str_20356(k) {
        if (!k)
            return null;
        const matrix = new PIXI.Matrix();
        matrix.scale(-1, -1);
        matrix.translate(k.width, k.height);
        const graphic = new PIXI.Graphics();
        graphic
            .beginTextureFill({
            texture: k,
            matrix
        })
            .drawRect(0, 0, k.width, k.height)
            .endFill();
        return _TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(graphic);
    }
}


/***/ }),

/***/ "H9Sz":
/*!***********************************************************!*\
  !*** ./src/client/nitro/avatar/cache/AvatarImageCache.ts ***!
  \***********************************************************/
/*! exports provided: AvatarImageCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarImageCache", function() { return AvatarImageCache; });
/* harmony import */ var _room_data_RoomObjectSpriteData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/data/RoomObjectSpriteData */ "kXXe");
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../room/utils/TextureUtils */ "IxQr");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");
/* harmony import */ var _animation_AnimationLayerData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../animation/AnimationLayerData */ "Bdrp");
/* harmony import */ var _AvatarImageBodyPartContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../AvatarImageBodyPartContainer */ "JLRc");
/* harmony import */ var _enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../enum/AvatarDirectionAngle */ "sRxW");
/* harmony import */ var _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../enum/AvatarFigurePartType */ "tHQF");
/* harmony import */ var _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../enum/AvatarScaleType */ "uEox");
/* harmony import */ var _enum_GeometryType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../enum/GeometryType */ "tOuW");
/* harmony import */ var _AvatarImageActionCache__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AvatarImageActionCache */ "cq9i");
/* harmony import */ var _AvatarImageBodyPartCache__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./AvatarImageBodyPartCache */ "HeAt");
/* harmony import */ var _AvatarImageDirectionCache__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AvatarImageDirectionCache */ "y63K");
/* harmony import */ var _ImageData__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ImageData */ "UtBh");













class AvatarImageCache {
    constructor(k, _arg_2, _arg_3, _arg_4) {
        this._structure = k;
        this._avatar = _arg_2;
        this._assets = _arg_3;
        this._scale = _arg_4;
        this._cache = new Map();
        this._canvas = null;
        this._disposed = false;
        this._unionImages = [];
        this._matrix = new PIXI.Matrix();
        this._serverRenderData = new Array();
    }
    dispose() {
        if (this._disposed)
            return;
        this._structure = null;
        this._avatar = null;
        this._assets = null;
        this._canvas = null;
        this._disposed = true;
        if (this._cache) {
            for (let cache of this._cache.values()) {
                if (!cache)
                    continue;
                cache.dispose();
            }
            this._cache = null;
        }
    }
    _Str_1086(k = 60000) {
        const time = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.time;
        if (this._cache) {
            for (let cache of this._cache.values()) {
                if (!cache)
                    continue;
                cache._Str_2089(k, time);
            }
        }
    }
    _Str_741(k) {
        if (this._cache) {
            for (let cache of this._cache.values()) {
                if (!cache)
                    continue;
                cache._Str_1565(k, 0);
            }
        }
    }
    setDirection(k, _arg_2) {
        const parts = this._structure._Str_1695(k);
        if (parts) {
            for (let part of parts) {
                const actionCache = this._Str_1050(part);
                if (!actionCache)
                    continue;
                actionCache.setDirection(_arg_2);
            }
        }
    }
    _Str_1565(k, _arg_2) {
        const _local_3 = this._structure._Str_2021(k, this._avatar);
        for (let _local_4 of _local_3) {
            const _local_5 = this._Str_1050(_local_4);
            if (_local_5)
                _local_5._Str_1565(k, _arg_2);
        }
    }
    _Str_2014(k) {
        if (this._geometryType === k)
            return;
        if ((((this._geometryType === _enum_GeometryType__WEBPACK_IMPORTED_MODULE_8__["GeometryType"].SITTING) && (k === _enum_GeometryType__WEBPACK_IMPORTED_MODULE_8__["GeometryType"].VERTICAL)) || ((this._geometryType === _enum_GeometryType__WEBPACK_IMPORTED_MODULE_8__["GeometryType"].VERTICAL) && (k === _enum_GeometryType__WEBPACK_IMPORTED_MODULE_8__["GeometryType"].SITTING)) || ((this._geometryType === _enum_GeometryType__WEBPACK_IMPORTED_MODULE_8__["GeometryType"].SNOWWARS_HORIZONTAL) && (k = _enum_GeometryType__WEBPACK_IMPORTED_MODULE_8__["GeometryType"].SNOWWARS_HORIZONTAL)))) {
            this._geometryType = k;
            this._canvas = null;
            return;
        }
        this._Str_1086(0);
        this._geometryType = k;
        this._canvas = null;
    }
    _Str_1629(k, _arg_2, _arg_3 = false) {
        let _local_4 = this._Str_1050(k);
        if (!_local_4) {
            _local_4 = new _AvatarImageActionCache__WEBPACK_IMPORTED_MODULE_9__["AvatarImageActionCache"]();
            this._cache.set(k, _local_4);
        }
        let _local_5 = _local_4.getDirection();
        let _local_7 = _local_4._Str_2244();
        let frameCount = _arg_2;
        if (_local_7._Str_742._Str_812)
            frameCount -= _local_7._Str_664;
        let _local_8 = _local_7;
        let _local_9 = [];
        let _local_10 = new Map();
        let _local_11 = new PIXI.Point();
        if (!((!(_local_7)) || (!(_local_7._Str_742)))) {
            if (_local_7._Str_742._Str_861) {
                let _local_15 = _local_5;
                const _local_16 = this._structure._Str_720(((_local_7._Str_742.state + '.') + _local_7._Str_727));
                const _local_17 = (_arg_2 - _local_7._Str_664);
                if (_local_16) {
                    const _local_18 = _local_16._Str_607(_local_17, k, _local_7._Str_707);
                    if (_local_18) {
                        _local_15 = (_local_5 + _local_18.dd);
                        if (_local_18.dd < 0) {
                            if (_local_15 < 0) {
                                _local_15 = (8 + _local_15);
                            }
                            else if (_local_15 > 7)
                                _local_15 = (8 - _local_15);
                        }
                        else {
                            if (_local_15 < 0) {
                                _local_15 = (_local_15 + 8);
                            }
                            else if (_local_15 > 7)
                                _local_15 = (_local_15 - 8);
                        }
                        if (this._scale === _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_7__["AvatarScaleType"].LARGE) {
                            _local_11.x = _local_18.dx;
                            _local_11.y = _local_18.dy;
                        }
                        else {
                            _local_11.x = (_local_18.dx / 2);
                            _local_11.y = (_local_18.dy / 2);
                        }
                        frameCount = _local_18._Str_891;
                        if (_local_18.action) {
                            _local_7 = _local_18.action;
                        }
                        if (_local_18.type === _animation_AnimationLayerData__WEBPACK_IMPORTED_MODULE_3__["AnimationLayerData"].BODYPART) {
                            if (_local_18.action != null) {
                                _local_8 = _local_18.action;
                            }
                            _local_5 = _local_15;
                        }
                        else if (_local_18.type === _animation_AnimationLayerData__WEBPACK_IMPORTED_MODULE_3__["AnimationLayerData"].FX)
                            _local_5 = _local_15;
                        _local_10 = _local_18.items;
                    }
                    _local_9 = _local_16._Str_652;
                }
            }
        }
        let _local_12 = _local_4._Str_1961(_local_8);
        if (!_local_12 || _arg_3) {
            _local_12 = new _AvatarImageBodyPartCache__WEBPACK_IMPORTED_MODULE_10__["AvatarImageBodyPartCache"]();
            _local_4._Str_1765(_local_8, _local_12);
        }
        let _local_13 = _local_12._Str_2070(_local_5);
        if (!_local_13 || _arg_3) {
            const _local_19 = this._structure._Str_713(k, this._avatar._Str_784(), _local_8, this._geometryType, _local_5, _local_9, this._avatar, _local_10);
            _local_13 = new _AvatarImageDirectionCache__WEBPACK_IMPORTED_MODULE_11__["AvatarImageDirectionCache"](_local_19);
            _local_12._Str_2168(_local_5, _local_13);
        }
        let _local_14 = _local_13._Str_1629(frameCount);
        if (!_local_14 || _arg_3) {
            const _local_20 = _local_13._Str_1699();
            _local_14 = this._Str_1834(_local_5, _local_20, frameCount, _local_7, _arg_3);
            if (_local_14 && !_arg_3) {
                if (_local_14._Str_1807)
                    _local_13._Str_1924(_local_14, frameCount);
            }
            else {
                return null;
            }
        }
        const offset = this._structure._Str_1888(_local_8, _local_5, frameCount, k);
        _local_11.x += offset.x;
        _local_11.y += offset.y;
        _local_14.offset = _local_11;
        return _local_14;
    }
    _Str_1009() {
        this._serverRenderData = [];
        return this._serverRenderData;
    }
    _Str_1050(k) {
        let existing = this._cache.get(k);
        if (!existing) {
            existing = new _AvatarImageActionCache__WEBPACK_IMPORTED_MODULE_9__["AvatarImageActionCache"]();
            this._cache.set(k, existing);
        }
        return existing;
    }
    _Str_1834(direction, containers, frameCount, _arg_4, renderServerData = false) {
        if (!containers || !containers.length)
            return null;
        if (!this._canvas) {
            this._canvas = this._structure._Str_1664(this._scale, this._geometryType);
            if (!this._canvas)
                return null;
        }
        let isFlipped = _enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_5__["AvatarDirectionAngle"].DIRECTION_IS_FLIPPED[direction] || false;
        let assetPartDefinition = _arg_4._Str_742._Str_778;
        let isCacheable = true;
        let containerIndex = (containers.length - 1);
        while (containerIndex >= 0) {
            const container = containers[containerIndex];
            let color = 16777215;
            if (!((direction == 7) && ((container._Str_1669 === 'fc') || (container._Str_1669 === 'ey')))) {
                if (!((container._Str_1669 === 'ri') && !container._Str_1502)) {
                    const partId = container._Str_1502;
                    const animationFrame = container._Str_2258(frameCount);
                    let partType = container._Str_1669;
                    let frameNumber = 0;
                    if (animationFrame) {
                        frameNumber = animationFrame.number;
                        if ((animationFrame._Str_778) && (animationFrame._Str_778 !== ''))
                            assetPartDefinition = animationFrame._Str_778;
                    }
                    else
                        frameNumber = container._Str_1674(frameCount);
                    let assetDirection = direction;
                    let flipH = false;
                    if (isFlipped) {
                        if (((assetPartDefinition === 'wav') && (((partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].LEFT_HAND) || (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].LEFT_SLEEVE)) || (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].LEFT_COAT_SLEEVE))) || ((assetPartDefinition === 'drk') && (((partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].RIGHT_HAND) || (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].RIGHT_SLEEVE)) || (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].RIGHT_COAT_SLEEVE))) || ((assetPartDefinition === 'blw') && (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].RIGHT_HAND)) || ((assetPartDefinition === 'sig') && (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].LEFT_HAND)) || ((assetPartDefinition === 'respect') && (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].LEFT_HAND)) || (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].RIGHT_HAND_ITEM) || (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].LEFT_HAND_ITEM) || (partType === _enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_6__["AvatarFigurePartType"].CHEST_PRINT)) {
                            flipH = true;
                        }
                        else {
                            if (direction === 4)
                                assetDirection = 2;
                            else if (direction === 5)
                                assetDirection = 1;
                            else if (direction === 6)
                                assetDirection = 0;
                            if (container._Str_1666 !== partType)
                                partType = container._Str_1666;
                        }
                    }
                    let assetName = (this._scale + '_' + assetPartDefinition + '_' + partType + '_' + partId + '_' + assetDirection + '_' + frameNumber);
                    let asset = this._assets.getAsset(assetName);
                    if (!asset) {
                        assetName = (this._scale + '_std_' + partType + '_' + partId + '_' + assetDirection + '_0');
                        asset = this._assets.getAsset(assetName);
                    }
                    if (asset) {
                        const texture = asset.texture;
                        if (!texture || !texture.valid || !texture.baseTexture) {
                            isCacheable = false;
                        }
                        else {
                            if (container.isColorable && container.color)
                                color = container.color._Str_915;
                            const offset = new PIXI.Point(-(asset.x), -(asset.y));
                            if (flipH)
                                offset.x = (offset.x + ((this._scale === _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_7__["AvatarScaleType"].LARGE) ? 65 : 31));
                            if (renderServerData) {
                                const spriteData = new _room_data_RoomObjectSpriteData__WEBPACK_IMPORTED_MODULE_0__["RoomObjectSpriteData"]();
                                spriteData.name = this._assets._Str_2125(assetName);
                                spriteData.x = (-(offset.x) - 33);
                                spriteData.y = -(offset.y);
                                spriteData.z = (this._serverRenderData.length * -0.0001);
                                spriteData.width = asset.rectangle.width;
                                spriteData.height = asset.rectangle.height;
                                spriteData.flipH = flipH;
                                if (assetPartDefinition === 'lay')
                                    spriteData.x = (spriteData.x + 53);
                                if (isFlipped) {
                                    spriteData.flipH = (!(spriteData.flipH));
                                    if (spriteData.flipH)
                                        spriteData.x = (-(spriteData.x) - texture.width);
                                    else
                                        spriteData.x = (spriteData.x + 65);
                                }
                                if (container.isColorable)
                                    spriteData.color = `${color}`;
                                this._serverRenderData.push(spriteData);
                            }
                            this._unionImages.push(new _ImageData__WEBPACK_IMPORTED_MODULE_12__["ImageData"](texture, asset.rectangle, offset, flipH, color));
                        }
                    }
                }
            }
            containerIndex--;
        }
        if (!this._unionImages.length)
            return null;
        const imageData = this._Str_1236(this._unionImages, isFlipped);
        const canvasOffset = ((this._scale === _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_7__["AvatarScaleType"].LARGE) ? (this._canvas.height - 16) : (this._canvas.height - 8));
        const offset = new PIXI.Point(-(imageData._Str_1076.x), (canvasOffset - imageData._Str_1076.y));
        if (isFlipped && (assetPartDefinition !== 'lay'))
            offset.x = (offset.x + ((this._scale === _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_7__["AvatarScaleType"].LARGE) ? 67 : 31));
        let imageIndex = (this._unionImages.length - 1);
        while (imageIndex >= 0) {
            const _local_17 = this._unionImages.pop();
            if (_local_17)
                _local_17.dispose();
            imageIndex--;
        }
        return new _AvatarImageBodyPartContainer__WEBPACK_IMPORTED_MODULE_4__["AvatarImageBodyPartContainer"](imageData.bitmap, offset, isCacheable);
    }
    _Str_1652(k) {
        var _local_2 = (k * 0xFF).toString(16);
        if (_local_2.length < 2) {
            _local_2 = ('0' + _local_2);
        }
        return _local_2;
    }
    _Str_1236(k, isFlipped) {
        let bounds = new PIXI.Rectangle();
        for (let data of k)
            data && bounds.enlarge(data._Str_1567);
        const point = new PIXI.Point(-(bounds.x), -(bounds.y));
        const container = new PIXI.Graphics()
            .drawRect(0, 0, bounds.width, bounds.height);
        for (let data of k) {
            if (!data)
                continue;
            const texture = data.bitmap;
            const color = data.color;
            const flipH = (!(isFlipped && data.flipH) && (isFlipped || data.flipH));
            const regPoint = point.clone();
            regPoint.x -= data._Str_1076.x;
            regPoint.y -= data._Str_1076.y;
            if (isFlipped)
                regPoint.x = (container.width - (regPoint.x + data.rect.width));
            if (flipH) {
                this._matrix.a = -1;
                this._matrix.tx = ((data.rect.x + data.rect.width) + regPoint.x);
                this._matrix.ty = (regPoint.y - data.rect.y);
            }
            else {
                this._matrix.a = 1;
                this._matrix.tx = (regPoint.x - data.rect.x);
                this._matrix.ty = (regPoint.y - data.rect.y);
            }
            container
                .beginTextureFill({ texture, matrix: this._matrix, color })
                .drawRect(regPoint.x, regPoint.y, data.rect.width, data.rect.height)
                .endFill();
        }
        const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_1__["TextureUtils"].generateTexture(container);
        return new _ImageData__WEBPACK_IMPORTED_MODULE_12__["ImageData"](texture, container.getLocalBounds(), point, isFlipped, null);
    }
}
AvatarImageCache._Str_2189 = 60000;


/***/ }),

/***/ "HKkX":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorCollapsedParser.ts ***!
  \**********************************************************************************************/
/*! exports provided: NavigatorCollapsedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorCollapsedParser", function() { return NavigatorCollapsedParser; });
class NavigatorCollapsedParser {
    flush() {
        this._categories = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalCategories = wrapper.readInt();
        while (totalCategories > 0) {
            this._categories.push(wrapper.readString());
            totalCategories--;
        }
        return true;
    }
    get categories() {
        return this._categories;
    }
}


/***/ }),

/***/ "HPZl":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogModeParser.ts ***!
  \*************************************************************************************/
/*! exports provided: CatalogModeParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogModeParser", function() { return CatalogModeParser; });
class CatalogModeParser {
    flush() {
        this._mode = -1;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._mode = wrapper.readInt();
        return true;
    }
    get mode() {
        return this._mode;
    }
}


/***/ }),

/***/ "HX3l":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitParser.ts ***!
  \************************************************************************************/
/*! exports provided: RoomUnitParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitParser", function() { return RoomUnitParser; });
/* harmony import */ var _room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/object/RoomObjectType */ "+kDp");
/* harmony import */ var _UserMessageData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UserMessageData */ "Kal4");


class RoomUnitParser {
    flush() {
        this._users = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._users = [];
        const totalUsers = wrapper.readInt();
        let i = 0;
        while (i < totalUsers) {
            let id = wrapper.readInt();
            let username = wrapper.readString();
            let custom = wrapper.readString();
            let figure = wrapper.readString();
            let roomIndex = wrapper.readInt();
            let x = wrapper.readInt();
            let y = wrapper.readInt();
            let z = parseFloat(wrapper.readString());
            let direction = wrapper.readInt();
            let type = wrapper.readInt();
            const user = new _UserMessageData__WEBPACK_IMPORTED_MODULE_1__["UserMessageData"](roomIndex);
            user.dir = direction;
            user.name = username;
            user.custom = custom;
            user.x = x;
            user.y = y;
            user.z = z;
            this._users.push(user);
            if (type === 1) {
                user.webID = id;
                user.userType = _room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__["RoomObjectType"].USER;
                user.sex = this.resolveSex(wrapper.readString());
                user.groupID = ('' + wrapper.readInt());
                user.groupStatus = wrapper.readInt();
                user.groupName = wrapper.readString();
                const swimFigure = wrapper.readString();
                if (swimFigure !== '')
                    figure = this.convertSwimFigure(swimFigure, figure, user.sex);
                user.figure = figure;
                user.activityPoints = wrapper.readInt();
                user.isModerator = wrapper.readBoolean();
            }
            else if (type === 2) {
                user.userType = _room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__["RoomObjectType"].PET;
                user.figure = figure;
                user.webID = id;
                user.subType = wrapper.readInt().toString();
                user.ownerId = wrapper.readInt();
                user.ownerName = wrapper.readString();
                user.rarityLevel = wrapper.readInt();
                user.hasSaddle = wrapper.readBoolean();
                user.isRiding = wrapper.readBoolean();
                user.canBreed = wrapper.readBoolean();
                user.canHarvest = wrapper.readBoolean();
                user.canRevive = wrapper.readBoolean();
                user.hasBreedingPermission = wrapper.readBoolean();
                user.petLevel = wrapper.readInt();
                user.petPosture = wrapper.readString();
            }
            else if (type === 3) {
                user.userType = _room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__["RoomObjectType"].BOT;
                user.webID = (roomIndex * -1);
                if (figure.indexOf('/') === -1)
                    user.figure = figure;
                else
                    user.figure = "hr-100-.hd-180-1.ch-876-66.lg-270-94.sh-300-64";
                user.sex = _UserMessageData__WEBPACK_IMPORTED_MODULE_1__["UserMessageData"].M;
            }
            else if (type === 4) {
                user.userType = _room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_0__["RoomObjectType"].RENTABLE_BOT;
                user.webID = id;
                user.sex = this.resolveSex(wrapper.readString());
                user.figure = figure;
                user.ownerId = wrapper.readInt();
                user.ownerName = wrapper.readString();
                const totalSkills = wrapper.readInt();
                if (totalSkills) {
                    const skills = [];
                    let j = 0;
                    while (j < totalSkills) {
                        skills.push(wrapper.readShort());
                        j++;
                    }
                    user.botSkills = skills;
                }
            }
            i++;
        }
        return true;
    }
    resolveSex(sex) {
        if (sex.substr(0, 1).toLowerCase() === "f")
            return _UserMessageData__WEBPACK_IMPORTED_MODULE_1__["UserMessageData"].F;
        return _UserMessageData__WEBPACK_IMPORTED_MODULE_1__["UserMessageData"].M;
    }
    convertSwimFigure(k, _arg_2, _arg_3) {
        let _local_4 = _arg_2.split(".");
        let _local_5 = 1;
        let _local_6 = 1;
        let _local_7 = 1;
        let _local_8 = 10000;
        let i = 0;
        while (i < _local_4.length) {
            const _local_13 = _local_4[i];
            const _local_14 = _local_13.split("-");
            if (_local_14.length > 2) {
                const _local_15 = _local_14[0];
                if (_local_15 === "hd")
                    _local_5 = parseInt(_local_14[2]);
            }
            i++;
        }
        const _local_10 = ["238,238,238", "250,56,49", "253,146,160", "42,199,210", "53,51,44", "239,255,146", "198,255,152", "255,146,90", "157,89,126", "182,243,255", "109,255,51", "51,120,201", "255,182,49", "223,161,233", "249,251,50", "202,175,143", "197,198,197", "71,98,61", "138,131,97", "255,140,51", "84,198,39", "30,108,153", "152,79,136", "119,200,255", "255,192,142", "60,75,135", "124,44,71", "215,255,227", "143,63,28", "255,99,147", "31,155,121", "253,255,51"];
        const _local_11 = k.split("=");
        if (_local_11.length > 1) {
            const _local_16 = _local_11[1].split("/");
            const _local_17 = _local_16[0];
            const _local_18 = _local_16[1];
            if (_arg_3 === "F")
                _local_7 = 10010;
            else
                _local_7 = 10011;
            const _local_19 = _local_10.indexOf(_local_18);
            _local_6 = ((_local_8 + _local_19) + 1);
        }
        return _arg_2 + (((((".bds-10001-" + _local_5) + ".ss-") + _local_7) + "-") + _local_6);
    }
    get users() {
        return this._users;
    }
}


/***/ }),

/***/ "HYQG":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomPlaneBitmapMaskData.ts ***!
  \*****************************************************************/
/*! exports provided: RoomPlaneBitmapMaskData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPlaneBitmapMaskData", function() { return RoomPlaneBitmapMaskData; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");

class RoomPlaneBitmapMaskData {
    constructor(type, loc, category) {
        this.type = type;
        this.loc = loc;
        this.category = category;
    }
    get loc() {
        return this._loc;
    }
    set loc(k) {
        if (!this._loc)
            this._loc = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._loc.assign(k);
    }
    get type() {
        return this._type;
    }
    set type(type) {
        this._type = type;
    }
    get category() {
        return this._category;
    }
    set category(category) {
        this._category = category;
    }
    dispose() {
        this._loc = null;
    }
}
RoomPlaneBitmapMaskData.WINDOW = 'window';
RoomPlaneBitmapMaskData.HOLE = 'hole';


/***/ }),

/***/ "HeAt":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/avatar/cache/AvatarImageBodyPartCache.ts ***!
  \*******************************************************************/
/*! exports provided: AvatarImageBodyPartCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarImageBodyPartCache", function() { return AvatarImageBodyPartCache; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");

class AvatarImageBodyPartCache {
    constructor() {
        this._Str_586 = new Map();
        this._Str_1108(_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time);
    }
    dispose() {
        this._Str_587("[dispose]");
        if (!this._Str_586)
            return;
        for (let direction of this._Str_586.values()) {
            if (direction)
                direction.dispose();
        }
        this._Str_586.clear();
    }
    _Str_2070(k) {
        const existing = this._Str_586.get(k.toString());
        if (!existing)
            return null;
        return existing;
    }
    _Str_2168(k, _arg_2) {
        this._Str_586.set(k.toString(), _arg_2);
    }
    _Str_1108(k) {
        this._Str_1509 = k;
    }
    _Str_1815() {
        return this._Str_1509;
    }
    _Str_587(k) {
    }
}


/***/ }),

/***/ "HkHk":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/access/rights/RoomRightsClearEvent.ts ***!
  \*****************************************************************************************************/
/*! exports provided: RoomRightsClearEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomRightsClearEvent", function() { return RoomRightsClearEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_access_rights_RoomRightsClearParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/access/rights/RoomRightsClearParser */ "NdtJ");


class RoomRightsClearEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_access_rights_RoomRightsClearParser__WEBPACK_IMPORTED_MODULE_1__["RoomRightsClearParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "HqZk":
/*!************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomObjectCategory.ts ***!
  \************************************************************/
/*! exports provided: RoomObjectCategory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectCategory", function() { return RoomObjectCategory; });
class RoomObjectCategory {
}
RoomObjectCategory.MINIMUM = -2;
RoomObjectCategory.ROOM = 0;
RoomObjectCategory.FLOOR = 10;
RoomObjectCategory.WALL = 20;
RoomObjectCategory.UNIT = 100;
RoomObjectCategory.CURSOR = 200;


/***/ }),

/***/ "Hs+C":
/*!***************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomEngineObjectEvent.ts ***!
  \***************************************************************/
/*! exports provided: RoomEngineObjectEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEngineObjectEvent", function() { return RoomEngineObjectEvent; });
/* harmony import */ var _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomEngineEvent */ "G0tw");

class RoomEngineObjectEvent extends _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__["RoomEngineEvent"] {
    constructor(type, roomId, objectId, category) {
        super(type, roomId);
        this._objectId = objectId;
        this._category = category;
    }
    get objectId() {
        return this._objectId;
    }
    get category() {
        return this._category;
    }
}
RoomEngineObjectEvent.SELECTED = 'REOE_SELECTED';
RoomEngineObjectEvent.DESELECTED = 'REOE_DESELECTED';
RoomEngineObjectEvent.ADDED = 'REOE_ADDED';
RoomEngineObjectEvent.REMOVED = 'REOE_REMOVED';
RoomEngineObjectEvent.PLACED = 'REOE_PLACED';
RoomEngineObjectEvent.PLACED_ON_USER = 'REOE_PLACED_ON_USER';
RoomEngineObjectEvent.CONTENT_UPDATED = 'REOE_CONTENT_UPDATED';
RoomEngineObjectEvent.REQUEST_MOVE = 'REOE_REQUEST_MOVE';
RoomEngineObjectEvent.REQUEST_ROTATE = 'REOE_REQUEST_ROTATE';
RoomEngineObjectEvent.MOUSE_ENTER = 'REOE_MOUSE_ENTER';
RoomEngineObjectEvent.MOUSE_LEAVE = 'REOE_MOUSE_LEAVE';


/***/ }),

/***/ "HuBo":
/*!****************************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetGetObjectLocationMessage.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomWidgetGetObjectLocationMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetGetObjectLocationMessage", function() { return RoomWidgetGetObjectLocationMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetGetObjectLocationMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(k, _arg_2, _arg_3) {
        super(k);
        this._objectId = _arg_2;
        this._objectType = _arg_3;
    }
    get _Str_1577() {
        return this._objectId;
    }
    get _Str_1723() {
        return this._objectType;
    }
}
RoomWidgetGetObjectLocationMessage.RWGOI_MESSAGE_GET_OBJECT_LOCATION = 'RWGOI_MESSAGE_GET_OBJECT_LOCATION';
RoomWidgetGetObjectLocationMessage.RWGOI_MESSAGE_GET_GAME_OBJECT_LOCATION = 'RWGOI_MESSAGE_GET_GAME_OBJECT_LOCATION';


/***/ }),

/***/ "I3Xa":
/*!********************************************************************!*\
  !*** ./src/client/nitro/ui/widget/events/RoomWidgetUpdateEvent.ts ***!
  \********************************************************************/
/*! exports provided: RoomWidgetUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetUpdateEvent", function() { return RoomWidgetUpdateEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/events/NitroEvent */ "3r1x");

class RoomWidgetUpdateEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type) {
        super(type);
    }
}


/***/ }),

/***/ "I7q/":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/utils/PlaneBitmapData.ts ***!
  \**********************************************************************************/
/*! exports provided: PlaneBitmapData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneBitmapData", function() { return PlaneBitmapData; });
class PlaneBitmapData {
    constructor(k, _arg_2) {
        this._bitmap = k;
        this._timeStamp = _arg_2;
    }
    dispose() {
        this._bitmap = null;
    }
    get bitmap() {
        return this._bitmap;
    }
    get timeStamp() {
        return this._timeStamp;
    }
}


/***/ }),

/***/ "I9i5":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureCounterClockLogic.ts ***!
  \************************************************************************************/
/*! exports provided: FurnitureCounterClockLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureCounterClockLogic", function() { return FurnitureCounterClockLogic; });
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events/RoomObjectStateChangedEvent */ "9LM3");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");



class FurnitureCounterClockLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureLogic"] {
    getEventTypes() {
        const types = [_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        let objectEvent = null;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DOUBLE_CLICK:
                switch (event._Str_4216) {
                    case 'start_stop':
                        objectEvent = new _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"](_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE, this.object, 1);
                        break;
                    case 'reset':
                        objectEvent = new _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"](_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE, this.object, 2);
                        break;
                }
                if (this.eventDispatcher && objectEvent) {
                    this.eventDispatcher.dispatchEvent(objectEvent);
                    return;
                }
                break;
        }
        super.mouseEvent(event, geometry);
    }
    useObject() {
        if (!this.object || !this.eventDispatcher)
            return;
        this.eventDispatcher.dispatchEvent(new _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"](_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectStateChangedEvent"].STATE_CHANGE, this.object, 1));
    }
}


/***/ }),

/***/ "IGSi":
/*!**********************************************************!*\
  !*** ./src/client/room/events/RoomContentLoadedEvent.ts ***!
  \**********************************************************/
/*! exports provided: RoomContentLoadedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomContentLoadedEvent", function() { return RoomContentLoadedEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/events/NitroEvent */ "3r1x");

class RoomContentLoadedEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type, contentType) {
        super(type);
        this._contentType = contentType;
    }
    get contentType() {
        return this._contentType;
    }
}
RoomContentLoadedEvent.RCLE_SUCCESS = 'RCLE_SUCCESS';
RoomContentLoadedEvent.RCLE_FAILURE = 'RCLE_FAILURE';
RoomContentLoadedEvent.RCLE_CANCEL = 'RCLE_CANCEL';


/***/ }),

/***/ "IGv6":
/*!************************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomObjectVisualizationFactory.ts ***!
  \************************************************************************/
/*! exports provided: RoomObjectVisualizationFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectVisualizationFactory", function() { return RoomObjectVisualizationFactory; });
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");
/* harmony import */ var _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RoomObjectVisualizationType */ "IqYK");
/* harmony import */ var _visualization_avatar_AvatarVisualization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./visualization/avatar/AvatarVisualization */ "xnR3");
/* harmony import */ var _visualization_avatar_AvatarVisualizationData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./visualization/avatar/AvatarVisualizationData */ "xeBG");
/* harmony import */ var _visualization_furniture_FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./visualization/furniture/FurnitureAnimatedVisualization */ "MS0h");
/* harmony import */ var _visualization_furniture_FurnitureAnimatedVisualizationData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./visualization/furniture/FurnitureAnimatedVisualizationData */ "kSKJ");
/* harmony import */ var _visualization_furniture_FurnitureBadgeDisplayVisualization__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./visualization/furniture/FurnitureBadgeDisplayVisualization */ "8oQA");
/* harmony import */ var _visualization_furniture_FurnitureBBVisualization__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./visualization/furniture/FurnitureBBVisualization */ "ZH8Y");
/* harmony import */ var _visualization_furniture_FurnitureBottleVisualization__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./visualization/furniture/FurnitureBottleVisualization */ "4q7D");
/* harmony import */ var _visualization_furniture_FurnitureBuilderPlaceholderVisualization__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./visualization/furniture/FurnitureBuilderPlaceholderVisualization */ "3SVc");
/* harmony import */ var _visualization_furniture_FurnitureCounterClockVisualization__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./visualization/furniture/FurnitureCounterClockVisualization */ "GdhZ");
/* harmony import */ var _visualization_furniture_FurnitureCuboidVisualization__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./visualization/furniture/FurnitureCuboidVisualization */ "BBqr");
/* harmony import */ var _visualization_furniture_FurnitureExternalImageVisualization__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./visualization/furniture/FurnitureExternalImageVisualization */ "nNAM");
/* harmony import */ var _visualization_furniture_FurnitureFireworksVisualization__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./visualization/furniture/FurnitureFireworksVisualization */ "UXuA");
/* harmony import */ var _visualization_furniture_FurnitureGiftWrappedFireworksVisualization__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./visualization/furniture/FurnitureGiftWrappedFireworksVisualization */ "IclK");
/* harmony import */ var _visualization_furniture_FurnitureGiftWrappedVisualization__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./visualization/furniture/FurnitureGiftWrappedVisualization */ "ZT0H");
/* harmony import */ var _visualization_furniture_FurnitureGuildCustomizedVisualization__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./visualization/furniture/FurnitureGuildCustomizedVisualization */ "/DXm");
/* harmony import */ var _visualization_furniture_FurnitureGuildisometricBadgeVisualization__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./visualization/furniture/FurnitureGuildisometricBadgeVisualization */ "dma9");
/* harmony import */ var _visualization_furniture_FurnitureHabboWheelVisualization__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./visualization/furniture/FurnitureHabboWheelVisualization */ "6xyg");
/* harmony import */ var _visualization_furniture_FurnitureMannequinVisualization__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./visualization/furniture/FurnitureMannequinVisualization */ "qvTw");
/* harmony import */ var _visualization_furniture_FurnitureMannequinVisualizationData__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./visualization/furniture/FurnitureMannequinVisualizationData */ "8zfy");
/* harmony import */ var _visualization_furniture_FurniturePartyBeamerVisualization__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./visualization/furniture/FurniturePartyBeamerVisualization */ "m5rR");
/* harmony import */ var _visualization_furniture_FurniturePlanetSystemVisualization__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./visualization/furniture/FurniturePlanetSystemVisualization */ "Y2sV");
/* harmony import */ var _visualization_furniture_FurniturePosterVisualization__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./visualization/furniture/FurniturePosterVisualization */ "t8W6");
/* harmony import */ var _visualization_furniture_FurnitureQueueTileVisualization__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./visualization/furniture/FurnitureQueueTileVisualization */ "+dKr");
/* harmony import */ var _visualization_furniture_FurnitureResettingAnimatedVisualization__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./visualization/furniture/FurnitureResettingAnimatedVisualization */ "TUS6");
/* harmony import */ var _visualization_furniture_FurnitureRoomBackgroundVisualization__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./visualization/furniture/FurnitureRoomBackgroundVisualization */ "ovr+");
/* harmony import */ var _visualization_furniture_FurnitureScoreBoardVisualization__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./visualization/furniture/FurnitureScoreBoardVisualization */ "xR0k");
/* harmony import */ var _visualization_furniture_FurnitureSoundblockVisualization__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./visualization/furniture/FurnitureSoundblockVisualization */ "F97h");
/* harmony import */ var _visualization_furniture_FurnitureStickieVisualization__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./visualization/furniture/FurnitureStickieVisualization */ "FXla");
/* harmony import */ var _visualization_furniture_FurnitureValRandomizerVisualization__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./visualization/furniture/FurnitureValRandomizerVisualization */ "nohf");
/* harmony import */ var _visualization_furniture_FurnitureVisualization__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./visualization/furniture/FurnitureVisualization */ "vAq0");
/* harmony import */ var _visualization_furniture_FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./visualization/furniture/FurnitureVisualizationData */ "NyXN");
/* harmony import */ var _visualization_furniture_FurnitureVoteCounterVisualization__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./visualization/furniture/FurnitureVoteCounterVisualization */ "4Jrj");
/* harmony import */ var _visualization_furniture_FurnitureVoteMajorityVisualization__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./visualization/furniture/FurnitureVoteMajorityVisualization */ "8IEq");
/* harmony import */ var _visualization_furniture_FurnitureWaterAreaVisualization__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./visualization/furniture/FurnitureWaterAreaVisualization */ "RmPA");
/* harmony import */ var _visualization_pet_PetVisualization__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./visualization/pet/PetVisualization */ "la+Q");
/* harmony import */ var _visualization_pet_PetVisualizationData__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./visualization/pet/PetVisualizationData */ "XSqo");
/* harmony import */ var _visualization_room_RoomVisualization__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./visualization/room/RoomVisualization */ "iIgn");
/* harmony import */ var _visualization_room_RoomVisualizationData__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./visualization/room/RoomVisualizationData */ "+4VZ");
/* harmony import */ var _visualization_room_TileCursorVisualization__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./visualization/room/TileCursorVisualization */ "er/L");










































class RoomObjectVisualizationFactory {
    constructor() {
        this._visualizationDatas = new Map();
    }
    getVisualization(type) {
        const visualization = this.getVisualizationType(type);
        if (!visualization)
            return null;
        return new visualization();
    }
    getVisualizationType(type) {
        if (!type)
            return null;
        let visualization = null;
        switch (type) {
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].ROOM:
                visualization = _visualization_room_RoomVisualization__WEBPACK_IMPORTED_MODULE_39__["RoomVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].TILE_CURSOR:
                visualization = _visualization_room_TileCursorVisualization__WEBPACK_IMPORTED_MODULE_41__["TileCursorVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].USER:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].BOT:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].RENTABLE_BOT:
                visualization = _visualization_avatar_AvatarVisualization__WEBPACK_IMPORTED_MODULE_3__["AvatarVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].PET_ANIMATED:
                visualization = _visualization_pet_PetVisualization__WEBPACK_IMPORTED_MODULE_37__["PetVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_STATIC:
                visualization = _visualization_furniture_FurnitureVisualization__WEBPACK_IMPORTED_MODULE_32__["FurnitureVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_ANIMATED:
                visualization = _visualization_furniture_FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_5__["FurnitureAnimatedVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_RESETTING_ANIMATED:
                visualization = _visualization_furniture_FurnitureResettingAnimatedVisualization__WEBPACK_IMPORTED_MODULE_26__["FurnitureResettingAnimatedVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BADGE_DISPLAY:
                visualization = _visualization_furniture_FurnitureBadgeDisplayVisualization__WEBPACK_IMPORTED_MODULE_7__["FurnitureBadgeDisplayVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BG:
                visualization = _visualization_furniture_FurnitureRoomBackgroundVisualization__WEBPACK_IMPORTED_MODULE_27__["FurnitureRoomBackgroundVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BB:
                visualization = _visualization_furniture_FurnitureBBVisualization__WEBPACK_IMPORTED_MODULE_8__["FurnitureBBVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BOTTLE:
                visualization = _visualization_furniture_FurnitureBottleVisualization__WEBPACK_IMPORTED_MODULE_9__["FurnitureBottleVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BUILDER_PLACEHOLDER:
                visualization = _visualization_furniture_FurnitureBuilderPlaceholderVisualization__WEBPACK_IMPORTED_MODULE_10__["FurnitureBuilderPlaceholderVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_COUNTER_CLOCK:
                visualization = _visualization_furniture_FurnitureCounterClockVisualization__WEBPACK_IMPORTED_MODULE_11__["FurnitureCounterClockVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_CUBOID:
                visualization = _visualization_furniture_FurnitureCuboidVisualization__WEBPACK_IMPORTED_MODULE_12__["FurnitureCuboidVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_EXTERNAL_IMAGE:
                visualization = _visualization_furniture_FurnitureExternalImageVisualization__WEBPACK_IMPORTED_MODULE_13__["FurnitureExternalImageVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_FIREWORKS:
                visualization = _visualization_furniture_FurnitureFireworksVisualization__WEBPACK_IMPORTED_MODULE_14__["FurnitureFireworksVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_GIFT_WRAPPED_FIREWORKS:
                visualization = _visualization_furniture_FurnitureGiftWrappedFireworksVisualization__WEBPACK_IMPORTED_MODULE_15__["FurnitureGiftWrappedFireworksVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_GIFT_WRAPPED:
                visualization = _visualization_furniture_FurnitureGiftWrappedVisualization__WEBPACK_IMPORTED_MODULE_16__["FurnitureGiftWrappedVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_GUILD_CUSTOMIZED:
                visualization = _visualization_furniture_FurnitureGuildCustomizedVisualization__WEBPACK_IMPORTED_MODULE_17__["FurnitureGuildCustomizedVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_GUILD_ISOMETRIC_BADGE:
                visualization = _visualization_furniture_FurnitureGuildisometricBadgeVisualization__WEBPACK_IMPORTED_MODULE_18__["FurnitureGuildIsometricBadgeVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_HABBOWHEEL:
                visualization = _visualization_furniture_FurnitureHabboWheelVisualization__WEBPACK_IMPORTED_MODULE_19__["FurnitureHabboWheelVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_MANNEQUIN:
                visualization = _visualization_furniture_FurnitureMannequinVisualization__WEBPACK_IMPORTED_MODULE_20__["FurnitureMannequinVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_PARTY_BEAMER:
                visualization = _visualization_furniture_FurniturePartyBeamerVisualization__WEBPACK_IMPORTED_MODULE_22__["FurniturePartyBeamerVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_PLANET_SYSTEM:
                visualization = _visualization_furniture_FurniturePlanetSystemVisualization__WEBPACK_IMPORTED_MODULE_23__["FurniturePlanetSystemVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_POSTER:
                visualization = _visualization_furniture_FurniturePosterVisualization__WEBPACK_IMPORTED_MODULE_24__["FurniturePosterVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_QUEUE_TILE:
                visualization = _visualization_furniture_FurnitureQueueTileVisualization__WEBPACK_IMPORTED_MODULE_25__["FurnitureQueueTileVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_SCORE_BOARD:
                visualization = _visualization_furniture_FurnitureScoreBoardVisualization__WEBPACK_IMPORTED_MODULE_28__["FurnitureScoreBoardVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_SOUNDBLOCK:
                visualization = _visualization_furniture_FurnitureSoundblockVisualization__WEBPACK_IMPORTED_MODULE_29__["FurnitureSoundblockVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_STICKIE:
                visualization = _visualization_furniture_FurnitureStickieVisualization__WEBPACK_IMPORTED_MODULE_30__["FurnitureStickieVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_VAL_RANDOMIZER:
                visualization = _visualization_furniture_FurnitureValRandomizerVisualization__WEBPACK_IMPORTED_MODULE_31__["FurnitureValRandomizerVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_VOTE_COUNTER:
                visualization = _visualization_furniture_FurnitureVoteCounterVisualization__WEBPACK_IMPORTED_MODULE_34__["FurnitureVoteCounterVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_VOTE_MAJORITY:
                visualization = _visualization_furniture_FurnitureVoteMajorityVisualization__WEBPACK_IMPORTED_MODULE_35__["FurnitureVoteMajorityVisualization"];
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_WATER_AREA:
                visualization = _visualization_furniture_FurnitureWaterAreaVisualization__WEBPACK_IMPORTED_MODULE_36__["FurnitureWaterAreaVisualization"];
                break;
        }
        if (!visualization) {
            _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log(`Unknown Visualization: ${type}`);
            return null;
        }
        return visualization;
    }
    getVisualizationData(type, visualization, asset) {
        const existing = this._visualizationDatas.get(type);
        if (existing)
            return existing;
        let visualizationData = null;
        switch (visualization) {
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_STATIC:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_GIFT_WRAPPED:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BB:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BG:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_STICKIE:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BUILDER_PLACEHOLDER:
                visualizationData = new _visualization_furniture_FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_33__["FurnitureVisualizationData"]();
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_ANIMATED:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_RESETTING_ANIMATED:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_POSTER:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_HABBOWHEEL:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_VAL_RANDOMIZER:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BOTTLE:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_PLANET_SYSTEM:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_QUEUE_TILE:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_PARTY_BEAMER:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_COUNTER_CLOCK:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_WATER_AREA:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_SCORE_BOARD:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_FIREWORKS:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_GIFT_WRAPPED_FIREWORKS:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_GUILD_CUSTOMIZED:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_GUILD_ISOMETRIC_BADGE:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_VOTE_COUNTER:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_VOTE_MAJORITY:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_SOUNDBLOCK:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_BADGE_DISPLAY:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_EXTERNAL_IMAGE:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_YOUTUBE:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].TILE_CURSOR:
                visualizationData = new _visualization_furniture_FurnitureAnimatedVisualizationData__WEBPACK_IMPORTED_MODULE_6__["FurnitureAnimatedVisualizationData"]();
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].FURNITURE_MANNEQUIN:
                visualizationData = new _visualization_furniture_FurnitureMannequinVisualizationData__WEBPACK_IMPORTED_MODULE_21__["FurnitureMannequinVisualizationData"]();
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].ROOM:
                visualizationData = new _visualization_room_RoomVisualizationData__WEBPACK_IMPORTED_MODULE_40__["RoomVisualizationData"]();
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].USER:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].BOT:
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].RENTABLE_BOT:
                visualizationData = new _visualization_avatar_AvatarVisualizationData__WEBPACK_IMPORTED_MODULE_4__["AvatarVisualizationData"]();
                break;
            case _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVisualizationType"].PET_ANIMATED:
                visualizationData = new _visualization_pet_PetVisualizationData__WEBPACK_IMPORTED_MODULE_38__["PetVisualizationData"]();
                break;
        }
        if (!visualizationData)
            return null;
        if (!visualizationData.initialize(asset)) {
            visualizationData.dispose();
            return null;
        }
        if ((visualizationData instanceof _visualization_avatar_AvatarVisualizationData__WEBPACK_IMPORTED_MODULE_4__["AvatarVisualizationData"]) || (visualizationData instanceof _visualization_furniture_FurnitureMannequinVisualizationData__WEBPACK_IMPORTED_MODULE_21__["FurnitureMannequinVisualizationData"])) {
            visualizationData.avatarManager = _Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.avatar;
        }
        if (RoomObjectVisualizationFactory.CACHING_ENABLED)
            this._visualizationDatas.set(type, visualizationData);
        return visualizationData;
    }
}
RoomObjectVisualizationFactory.CACHING_ENABLED = true;


/***/ }),

/***/ "IQ+l":
/*!***********************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/animation/AnimationFrame.ts ***!
  \***********************************************************************/
/*! exports provided: AnimationFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrame", function() { return AnimationFrame; });
class AnimationFrame {
    constructor(data) {
        this._number = data.number;
        this._assetPartDefinition = data.assetPartDefinition || null;
    }
    get number() {
        return this._number;
    }
    get _Str_778() {
        return this._assetPartDefinition;
    }
}


/***/ }),

/***/ "IQF/":
/*!**********************************************************************!*\
  !*** ./src/client/core/communication/codec/evawire/EvaWireFormat.ts ***!
  \**********************************************************************/
/*! exports provided: EvaWireFormat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvaWireFormat", function() { return EvaWireFormat; });
/* harmony import */ var bytebuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bytebuffer */ "DGy1");
/* harmony import */ var bytebuffer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bytebuffer__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Byte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Byte */ "Szpn");
/* harmony import */ var _Short__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Short */ "SpZa");
/* harmony import */ var _EvaWireDataWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EvaWireDataWrapper */ "KL+k");




class EvaWireFormat {
    encode(header, messages) {
        const buffer = new bytebuffer__WEBPACK_IMPORTED_MODULE_0___default.a();
        buffer.writeInt(0).writeShort(header);
        for (let value of messages) {
            let type = typeof value;
            if (type === 'object') {
                if (value === null)
                    type = 'null';
                else if (value instanceof _Byte__WEBPACK_IMPORTED_MODULE_1__["Byte"])
                    type = 'byte';
                else if (value instanceof _Short__WEBPACK_IMPORTED_MODULE_2__["Short"])
                    type = 'short';
            }
            switch (type) {
                case 'null':
                    buffer.writeShort(0);
                    break;
                case 'byte':
                    buffer.writeByte(value.value);
                    break;
                case 'short':
                    buffer.writeShort(value.value);
                    break;
                case 'number':
                    buffer.writeInt(value);
                    break;
                case 'boolean':
                    buffer.writeByte(value ? 1 : 0);
                    break;
                case 'string':
                    if (!value)
                        buffer.writeShort(0);
                    else
                        buffer.writeShort(value.length).writeString(value);
                    break;
            }
        }
        buffer.writeInt(buffer.offset - 4, 0);
        return buffer.slice(0, buffer.offset);
    }
    decode(connection) {
        if (!connection || !connection.dataBuffer || !connection.dataBuffer.byteLength)
            return null;
        const wrappers = [];
        while (connection.dataBuffer.byteLength) {
            if (connection.dataBuffer.byteLength < 4)
                break;
            const container = bytebuffer__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(connection.dataBuffer);
            const length = container.readInt32();
            if (length > (connection.dataBuffer.byteLength - 4))
                break;
            const extracted = container.readBytes(length);
            wrappers.push(new _EvaWireDataWrapper__WEBPACK_IMPORTED_MODULE_3__["EvaWireDataWrapper"](extracted.readShort(), extracted));
            connection.dataBuffer = connection.dataBuffer.slice(length + 4);
        }
        return wrappers;
    }
}


/***/ }),

/***/ "IRIx":
/*!*******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/user/inventory/currency/UserCurrencyEvent.ts ***!
  \*******************************************************************************************************/
/*! exports provided: UserCurrencyEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCurrencyEvent", function() { return UserCurrencyEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_user_inventory_currency_UserCurrencyParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/user/inventory/currency/UserCurrencyParser */ "EXpq");


class UserCurrencyEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_user_inventory_currency_UserCurrencyParser__WEBPACK_IMPORTED_MODULE_1__["UserCurrencyParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "IVZI":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/trading/TradingAcceptEvent.ts ***!
  \**************************************************************************************************/
/*! exports provided: TradingAcceptEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingAcceptEvent", function() { return TradingAcceptEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_trading_TradingAcceptParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/trading/TradingAcceptParser */ "9Xzp");


class TradingAcceptEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_trading_TradingAcceptParser__WEBPACK_IMPORTED_MODULE_1__["TradingAcceptParser"]);
    }
    get _Str_4963() {
        return this.getParser()._Str_4963;
    }
    get _Str_15794() {
        return this.getParser()._Str_15794;
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "IaP1":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneTexture.ts ***!
  \******************************************************************************************/
/*! exports provided: PlaneTexture */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneTexture", function() { return PlaneTexture; });
/* harmony import */ var _PlaneTextureBitmap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlaneTextureBitmap */ "lWZK");

class PlaneTexture {
    constructor() {
        this._bitmaps = [];
    }
    dispose() {
        if (this._bitmaps) {
            for (let bitmap of this._bitmaps) {
                if (!bitmap)
                    continue;
                bitmap.dispose();
            }
            this._bitmaps = null;
        }
    }
    _Str_16790(k, _arg_2 = -1, _arg_3 = 1, _arg_4 = -1, _arg_5 = 1, _arg_6 = null) {
        this._bitmaps.push(new _PlaneTextureBitmap__WEBPACK_IMPORTED_MODULE_0__["PlaneTextureBitmap"](k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6));
    }
    _Str_4913(k) {
        const _local_2 = this._Str_21702(k);
        if (!_local_2)
            return null;
        return _local_2.bitmap;
    }
    _Str_21702(k) {
        if (!k)
            return null;
        for (let bitmap of this._bitmaps) {
            if (!bitmap)
                continue;
            if ((((k.x >= bitmap.normalMinX) && (k.x <= bitmap.normalMaxX)) && (k.y >= bitmap.normalMinY)) && (k.y <= bitmap.normalMaxY))
                return bitmap;
        }
        return null;
    }
    _Str_2125(k) {
        const _local_2 = this._Str_21702(k);
        return (!_local_2) ? null : _local_2.assetName;
    }
}
PlaneTexture._Str_3268 = -1;
PlaneTexture._Str_3271 = 1;


/***/ }),

/***/ "IcRi":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/AvatarAssetDownloadManager.ts ***!
  \***************************************************************/
/*! exports provided: AvatarAssetDownloadManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarAssetDownloadManager", function() { return AvatarAssetDownloadManager; });
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/events/NitroEvent */ "3r1x");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _AvatarAssetDownloadLibrary__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AvatarAssetDownloadLibrary */ "ypDz");
/* harmony import */ var _events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events/AvatarRenderEvent */ "qEDl");
/* harmony import */ var _events_AvatarRenderLibraryEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events/AvatarRenderLibraryEvent */ "PPUR");







class AvatarAssetDownloadManager extends _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_1__["EventDispatcher"] {
    constructor(assets, structure) {
        super();
        this._assets = assets;
        this._structure = structure;
        this._missingMandatoryLibs = _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].MANDATORY_AVATAR_LIBRARIES;
        this._figureMap = new Map();
        this._pendingContainers = [];
        this._figureListeners = new Map();
        this._incompleteFigures = new Map();
        this._pendingDownloadQueue = [];
        this._currentDownloads = [];
        this._libraryNames = [];
        this._isReady = false;
        this.loadFigureMap();
        this._structure.renderManager.events.addEventListener(_events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_5__["AvatarRenderEvent"].AVATAR_RENDER_READY, this.onAvatarRenderReady.bind(this));
    }
    loadFigureMap() {
        const request = new XMLHttpRequest();
        try {
            request.open('GET', _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].AVATAR_FIGUREMAP_URL);
            request.send();
            request.onloadend = e => {
                if (request.responseText) {
                    const data = JSON.parse(request.responseText);
                    this.processFigureMap(data.libraries);
                    this.processMissingLibraries();
                    this._isReady = true;
                    this.dispatchEvent(new _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_2__["NitroEvent"](AvatarAssetDownloadManager.DOWNLOADER_READY));
                }
            };
            request.onerror = e => { throw new Error('invalid_avatar_figure_map'); };
        }
        catch (e) {
            _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log(e);
        }
    }
    processFigureMap(data) {
        if (!data)
            return;
        for (let library of data) {
            if (!library)
                continue;
            const id = library.id;
            const revision = library.revision;
            if (this._libraryNames.indexOf(id) >= 0)
                continue;
            this._libraryNames.push(id);
            const downloadLibrary = new _AvatarAssetDownloadLibrary__WEBPACK_IMPORTED_MODULE_4__["AvatarAssetDownloadLibrary"](id, revision, this._assets, _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].AVATAR_ASSET_URL);
            downloadLibrary.addEventListener(_events_AvatarRenderLibraryEvent__WEBPACK_IMPORTED_MODULE_6__["AvatarRenderLibraryEvent"].DOWNLOAD_COMPLETE, this.onLibraryLoaded.bind(this));
            for (let part of library.parts) {
                const id = part.id;
                const type = part.type;
                const partString = (type + ':' + id);
                let existing = this._figureMap.get(partString);
                if (!existing)
                    existing = [];
                existing.push(downloadLibrary);
                this._figureMap.set(partString, existing);
            }
        }
    }
    onAvatarRenderReady(event) {
        if (!event)
            return;
        for (let [container, listener] of this._pendingContainers) {
            this.downloadAvatarFigure(container, listener);
        }
        this._pendingContainers = [];
    }
    onLibraryLoaded(event) {
        if (!event || !event.library)
            return;
        const loadedFigures = [];
        for (let [figure, libraries] of this._incompleteFigures.entries()) {
            let isReady = true;
            for (let library of libraries) {
                if (!library || library.isLoaded)
                    continue;
                isReady = false;
                break;
            }
            if (isReady) {
                loadedFigures.push(figure);
                const listeners = this._figureListeners.get(figure);
                if (listeners) {
                    for (let listener of listeners) {
                        if (!listener || listener.disposed)
                            continue;
                        listener.resetFigure(figure);
                    }
                }
                this._figureListeners.delete(figure);
                this.dispatchEvent(new _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_2__["NitroEvent"](AvatarAssetDownloadManager.LIBRARY_LOADED));
            }
        }
        for (let figure of loadedFigures) {
            if (!figure)
                continue;
            this._incompleteFigures.delete(figure);
        }
        let index = 0;
        while (index < this._currentDownloads.length) {
            const download = this._currentDownloads[index];
            if (download) {
                if (download.libraryName === event.library.libraryName)
                    this._currentDownloads.splice(index, 1);
            }
            index++;
        }
    }
    processMissingLibraries() {
        const libraries = this._missingMandatoryLibs.slice();
        for (let library of libraries) {
            if (!library)
                continue;
            const map = this._figureMap.get(library);
            if (map)
                for (let avatar of map)
                    avatar && this.downloadLibrary(avatar);
        }
    }
    isAvatarFigureContainerReady(container) {
        if (!this._isReady || !this._structure.renderManager.isReady) {
            return false;
        }
        const pendingLibraries = this.getAvatarFigurePendingLibraries(container);
        return !pendingLibraries.length;
    }
    getAvatarFigurePendingLibraries(container) {
        const pendingLibraries = [];
        if (!container || !this._structure)
            return pendingLibraries;
        const figureData = this._structure.figureData;
        if (!figureData)
            return pendingLibraries;
        const setKeys = container._Str_1016();
        for (let key of setKeys) {
            const set = figureData._Str_740(key);
            if (!set)
                continue;
            const figurePartSet = set._Str_1020(container.getPartSetId(key));
            if (!figurePartSet)
                continue;
            for (let part of figurePartSet._Str_806) {
                if (!part)
                    continue;
                const name = (part.type + ':' + part.id);
                const existing = this._figureMap.get(name);
                if (existing === undefined)
                    continue;
                for (let library of existing) {
                    if (!library || library.isLoaded)
                        continue;
                    if (pendingLibraries.indexOf(library) >= 0)
                        continue;
                    pendingLibraries.push(library);
                }
            }
        }
        return pendingLibraries;
    }
    downloadAvatarFigure(container, listener) {
        if (!this._isReady || !this._structure.renderManager.isReady) {
            this._pendingContainers.push([container, listener]);
            return;
        }
        const figure = container._Str_1008();
        const pendingLibraries = this.getAvatarFigurePendingLibraries(container);
        if (pendingLibraries && pendingLibraries.length) {
            if (listener && !listener.disposed) {
                let listeners = this._figureListeners.get(figure);
                if (!listeners)
                    listeners = [];
                listeners.push(listener);
                this._figureListeners.set(figure, listeners);
            }
            this._incompleteFigures.set(figure, pendingLibraries);
            for (let library of pendingLibraries) {
                if (!library)
                    continue;
                this.downloadLibrary(library);
            }
        }
        else {
            if (listener && !listener.disposed)
                listener.resetFigure(figure);
        }
    }
    downloadLibrary(library) {
        if (!library || library.isLoaded)
            return;
        if ((this._pendingDownloadQueue.indexOf(library) >= 0) || (this._currentDownloads.indexOf(library) >= 0))
            return;
        this._pendingDownloadQueue.push(library);
        this.processDownloadQueue();
    }
    processDownloadQueue() {
        while (this._pendingDownloadQueue.length) {
            const library = this._pendingDownloadQueue[0];
            library.downloadAsset();
            this._currentDownloads.push(this._pendingDownloadQueue.shift());
        }
    }
}
AvatarAssetDownloadManager.DOWNLOADER_READY = 'AADM_DOWNLOADER_READY';
AvatarAssetDownloadManager.LIBRARY_LOADED = 'AADM_LIBRARY_LOADED';
AvatarAssetDownloadManager.MAX_DOWNLOADS = 2;


/***/ }),

/***/ "IclK":
/*!************************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureGiftWrappedFireworksVisualization.ts ***!
  \************************************************************************************************************/
/*! exports provided: FurnitureGiftWrappedFireworksVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureGiftWrappedFireworksVisualization", function() { return FurnitureGiftWrappedFireworksVisualization; });
/* harmony import */ var _FurnitureFireworksVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureFireworksVisualization */ "UXuA");

class FurnitureGiftWrappedFireworksVisualization extends _FurnitureFireworksVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureFireworksVisualization"] {
}


/***/ }),

/***/ "Ie/D":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/FurnitureAliasesEvent.ts ***!
  \**************************************************************************************************/
/*! exports provided: FurnitureAliasesEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureAliasesEvent", function() { return FurnitureAliasesEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_FurnitureAliasesParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/furniture/FurnitureAliasesParser */ "XTHs");


class FurnitureAliasesEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_FurnitureAliasesParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureAliasesParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "IhK7":
/*!********************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomEngineAnimateIconEvent.ts ***!
  \********************************************************************/
/*! exports provided: RoomEngineAnimateIconEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEngineAnimateIconEvent", function() { return RoomEngineAnimateIconEvent; });
/* harmony import */ var _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomEngineEvent */ "G0tw");

class RoomEngineAnimateIconEvent extends _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__["RoomEngineEvent"] {
    constructor(roomId, icon, image, x, y) {
        super(RoomEngineAnimateIconEvent.ANIMATE, roomId);
        this._icon = icon;
        this._image = image;
        this._x = x;
        this._y = y;
    }
    get icon() {
        return this._icon;
    }
    get image() {
        return this._image;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
}
RoomEngineAnimateIconEvent.ANIMATE = 'REAIE_ANIMATE';


/***/ }),

/***/ "IqYK":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomObjectVisualizationType.ts ***!
  \*********************************************************************/
/*! exports provided: RoomObjectVisualizationType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectVisualizationType", function() { return RoomObjectVisualizationType; });
class RoomObjectVisualizationType {
}
RoomObjectVisualizationType.FURNITURE_STATIC = 'furniture_static';
RoomObjectVisualizationType.FURNITURE_ANIMATED = 'furniture_animated';
RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED = 'furniture_resetting_animated';
RoomObjectVisualizationType.FURNITURE_POSTER = 'furniture_poster';
RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE = 'furniture_external_image';
RoomObjectVisualizationType.FURNITURE_HABBOWHEEL = 'furniture_habbowheel';
RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER = 'furniture_val_randomizer';
RoomObjectVisualizationType.FURNITURE_BOTTLE = 'furniture_bottle';
RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM = 'furniture_planet_system';
RoomObjectVisualizationType.FURNITURE_QUEUE_TILE = 'furniture_queue_tile';
RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER = 'furniture_party_beamer';
RoomObjectVisualizationType.FURNITURE_CUBOID = 'furniture_cuboid';
RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED = 'furniture_gift_wrapped';
RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS = 'furniture_gift_wrapped_fireworks';
RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK = 'furniture_counter_clock';
RoomObjectVisualizationType.FURNITURE_WATER_AREA = 'furniture_water_area';
RoomObjectVisualizationType.FURNITURE_SCORE_BOARD = 'furniture_score_board';
RoomObjectVisualizationType.FURNITURE_FIREWORKS = 'furniture_fireworks';
RoomObjectVisualizationType.FURNITURE_BB = 'furniture_bb';
RoomObjectVisualizationType.FURNITURE_BG = 'furniture_bg';
RoomObjectVisualizationType.FURNITURE_STICKIE = 'furniture_stickie';
RoomObjectVisualizationType.FURNITURE_MANNEQUIN = 'furniture_mannequin';
RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED = 'furniture_guild_customized';
RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE = 'furniture_guild_isometric_badge';
RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER = 'furniture_vote_counter';
RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY = 'furniture_vote_majority';
RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK = 'furniture_soundblock';
RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY = 'furniture_badge_display';
RoomObjectVisualizationType.FURNITURE_YOUTUBE = 'furniture_youtube';
RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER = 'furniture_builder_placeholder';
RoomObjectVisualizationType.ROOM = 'room';
RoomObjectVisualizationType.USER = 'user';
RoomObjectVisualizationType.PET_ANIMATED = 'pet_animated';
RoomObjectVisualizationType.BOT = 'bot';
RoomObjectVisualizationType.RENTABLE_BOT = 'rentable_bot';
RoomObjectVisualizationType.TILE_CURSOR = 'tile_cursor';


/***/ }),

/***/ "IxQr":
/*!***********************************************!*\
  !*** ./src/client/room/utils/TextureUtils.ts ***!
  \***********************************************/
/*! exports provided: TextureUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextureUtils", function() { return TextureUtils; });
/* harmony import */ var _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../nitro/Nitro */ "P7Cj");

class TextureUtils {
    static generateTexture(displayObject, region = null, scaleMode = PIXI.SCALE_MODES.NEAREST, resolution = 1) {
        if (!displayObject)
            return null;
        return TextureUtils.getRenderer().generateTexture(displayObject, scaleMode, resolution, region);
    }
    static generateImage(target) {
        if (!target)
            return null;
        return TextureUtils.getRenderer().extract.image(target);
    }
    static getRenderer() {
        if (!TextureUtils._renderer)
            return _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.renderer;
        return TextureUtils._renderer;
    }
    static setRenderer(renderer) {
        TextureUtils._renderer = renderer;
    }
}
TextureUtils._renderer = null;


/***/ }),

/***/ "J0ap":
/*!*************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/furniture/utils/FurnitureListItemParser.ts ***!
  \*************************************************************************************************************/
/*! exports provided: FurnitureListItemParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListItemParser", function() { return FurnitureListItemParser; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../Nitro */ "P7Cj");
/* harmony import */ var _room_furniture_FurnitureDataParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../room/furniture/FurnitureDataParser */ "jBuC");


class FurnitureListItemParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._rentable = false;
        this._itemId = 0;
        this._furniType = null;
        this._ref = 0;
        this._spriteId = 0;
        this._category = 0;
        this._stuffData = null;
        this._isGroupable = false;
        this._isRecyclable = false;
        this._tradable = false;
        this._sellable = false;
        this._secondsToExpiration = 0;
        this._Str_3182 = 0;
        this._flatId = 0;
        this._isWallItem = false;
        this._hasRentPeriodStarted = false;
        this._Str_5390 = 0;
        this._slotId = '';
        this._Str_2808 = -1;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = wrapper.readInt();
        this._furniType = wrapper.readString();
        this._ref = wrapper.readInt();
        this._spriteId = wrapper.readInt();
        this._category = wrapper.readInt();
        this._stuffData = _room_furniture_FurnitureDataParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureDataParser"].parseObjectData(wrapper);
        this._isRecyclable = wrapper.readBoolean();
        this._tradable = wrapper.readBoolean();
        this._isGroupable = wrapper.readBoolean();
        this._sellable = wrapper.readBoolean();
        this._secondsToExpiration = wrapper.readInt();
        this._Str_5390 = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time;
        if (this.secondsToExpiration > -1) {
            this._rentable = true;
        }
        else {
            this._rentable = false;
            this._secondsToExpiration = -1;
        }
        this._hasRentPeriodStarted = wrapper.readBoolean();
        this._flatId = wrapper.readInt();
        this._isWallItem = (this._furniType === FurnitureListItemParser.WALL_ITEM);
        if (this._furniType === FurnitureListItemParser.FLOOR_ITEM) {
            this._slotId = wrapper.readString();
            this._Str_3182 = wrapper.readInt();
        }
        return true;
    }
    get itemId() {
        return this._itemId;
    }
    get furniType() {
        return this._furniType;
    }
    get ref() {
        return this._ref;
    }
    get spriteId() {
        return this._spriteId;
    }
    get category() {
        return this._category;
    }
    get stuffData() {
        return this._stuffData;
    }
    get isGroupable() {
        return this._isGroupable;
    }
    get isRecycleable() {
        return this._isRecyclable;
    }
    get tradable() {
        return this._tradable;
    }
    get sellable() {
        return this._sellable;
    }
    get secondsToExpiration() {
        return this._secondsToExpiration;
    }
    get flatId() {
        return this._flatId;
    }
    get slotId() {
        return this._slotId;
    }
    get _Str_3951() {
        return this._Str_2808;
    }
    get _Str_2794() {
        return this._Str_3182;
    }
    get rentable() {
        return this._rentable;
    }
    get isWallItem() {
        return this._isWallItem;
    }
    get hasRentPeriodStarted() {
        return this._hasRentPeriodStarted;
    }
    get _Str_10616() {
        return this._Str_5390;
    }
    get _Str_8932() {
        return 0;
    }
    get _Str_9050() {
        return 0;
    }
    get _Str_9408() {
        return 0;
    }
    get _Str_19297() {
        return !(this._furniType.indexOf('external_image') === -1);
    }
}
FurnitureListItemParser.WALL_ITEM = 'I';
FurnitureListItemParser.FLOOR_ITEM = 'S';


/***/ }),

/***/ "J0cl":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/inventory/furni/FurnitureListComposer.ts ***!
  \***************************************************************************************************/
/*! exports provided: FurnitureListComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListComposer", function() { return FurnitureListComposer; });
class FurnitureListComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "J7UC":
/*!**************************************************!*\
  !*** ./src/client/nitro/session/RoomUserData.ts ***!
  \**************************************************/
/*! exports provided: RoomUserData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUserData", function() { return RoomUserData; });
class RoomUserData {
    constructor(k) {
        this._roomIndex = -1;
        this._name = "";
        this._type = 0;
        this._sex = "";
        this._figure = "";
        this._custom = "";
        this._webID = 0;
        this._groupID = "";
        this._groupStatus = 0;
        this._groupName = "";
        this._ownerId = 0;
        this._ownerName = "";
        this._petLevel = 0;
        this._rarityLevel = 0;
        this._roomIndex = k;
    }
    get roomIndex() {
        return this._roomIndex;
    }
    get activityPoints() {
        return this._activityPoints;
    }
    set activityPoints(k) {
        this._activityPoints = k;
    }
    get name() {
        return this._name;
    }
    set name(k) {
        this._name = k;
    }
    get type() {
        return this._type;
    }
    set type(k) {
        this._type = k;
    }
    get sex() {
        return this._sex;
    }
    set sex(k) {
        this._sex = k;
    }
    get figure() {
        return this._figure;
    }
    set figure(k) {
        this._figure = k;
    }
    get custom() {
        return this._custom;
    }
    set custom(k) {
        this._custom = k;
    }
    get webID() {
        return this._webID;
    }
    set webID(k) {
        this._webID = k;
    }
    get guildId() {
        return this._groupID;
    }
    set guildId(k) {
        this._groupID = k;
    }
    get groupName() {
        return this._groupName;
    }
    set groupName(k) {
        this._groupName = k;
    }
    get groupStatus() {
        return this._groupStatus;
    }
    set groupStatus(k) {
        this._groupStatus = k;
    }
    get ownerId() {
        return this._ownerId;
    }
    set ownerId(k) {
        this._ownerId = k;
    }
    get ownerName() {
        return this._ownerName;
    }
    set ownerName(k) {
        this._ownerName = k;
    }
    get rarityLevel() {
        return this._rarityLevel;
    }
    set rarityLevel(k) {
        this._rarityLevel = k;
    }
    get hasSaddle() {
        return this._hasSaddle;
    }
    set hasSaddle(k) {
        this._hasSaddle = k;
    }
    get isRiding() {
        return this._isRiding;
    }
    set isRiding(k) {
        this._isRiding = k;
    }
    get canBreed() {
        return this._canBreed;
    }
    set canBreed(k) {
        this._canBreed = k;
    }
    get canHarvest() {
        return this._canHarvest;
    }
    set canHarvest(k) {
        this._canHarvest = k;
    }
    get canRevive() {
        return this._canRevive;
    }
    set canRevive(k) {
        this._canRevive = k;
    }
    get hasBreedingPermission() {
        return this._hasBreedingPermission;
    }
    set hasBreedingPermission(k) {
        this._hasBreedingPermission = k;
    }
    get petLevel() {
        return this._petLevel;
    }
    set petLevel(k) {
        this._petLevel = k;
    }
    get botSkills() {
        return this._botSkills;
    }
    set botSkills(k) {
        this._botSkills = k;
    }
    get isModerator() {
        return this._Str_9831;
    }
    set isModerator(k) {
        this._Str_9831 = k;
    }
}


/***/ }),

/***/ "JCII":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/navigator/NavigatorLiftedEvent.ts ***!
  \********************************************************************************************/
/*! exports provided: NavigatorLiftedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorLiftedEvent", function() { return NavigatorLiftedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_navigator_NavigatorLiftedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/navigator/NavigatorLiftedParser */ "BsSY");


class NavigatorLiftedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_navigator_NavigatorLiftedParser__WEBPACK_IMPORTED_MODULE_1__["NavigatorLiftedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "JDjE":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/navigator/NavigatorCollapsedEvent.ts ***!
  \***********************************************************************************************/
/*! exports provided: NavigatorCollapsedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorCollapsedEvent", function() { return NavigatorCollapsedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_navigator_NavigatorCollapsedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/navigator/NavigatorCollapsedParser */ "HKkX");


class NavigatorCollapsedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_navigator_NavigatorCollapsedParser__WEBPACK_IMPORTED_MODULE_1__["NavigatorCollapsedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "JDu+":
/*!***************************************************!*\
  !*** ./src/client/room/object/RoomObjectModel.ts ***!
  \***************************************************/
/*! exports provided: RoomObjectModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectModel", function() { return RoomObjectModel; });
class RoomObjectModel {
    constructor() {
        this._map = new Map();
        this._updateCounter = 0;
    }
    dispose() {
        this._map.clear();
        this._updateCounter = 0;
    }
    getValue(key) {
        const existing = this._map.get(key);
        if (existing === undefined)
            return null;
        return existing;
    }
    setValue(key, value) {
        this._map.set(key, value);
        this._updateCounter++;
    }
    removeKey(key) {
        if (!key)
            return;
        this._map.delete(key);
        this._updateCounter++;
    }
    get updateCounter() {
        return this._updateCounter;
    }
}


/***/ }),

/***/ "JKJw":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/session/events/BadgeImageReadyEvent.ts ***!
  \*****************************************************************/
/*! exports provided: BadgeImageReadyEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BadgeImageReadyEvent", function() { return BadgeImageReadyEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/events/NitroEvent */ "3r1x");

class BadgeImageReadyEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(badgeId, image) {
        super(BadgeImageReadyEvent.IMAGE_READY);
        this._badgeId = badgeId;
        this._image = image;
    }
    get badgeId() {
        return this._badgeId;
    }
    get image() {
        return this._image;
    }
}
BadgeImageReadyEvent.IMAGE_READY = 'BIME_BADGE_IMAGE_READY';


/***/ }),

/***/ "JLRc":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/avatar/AvatarImageBodyPartContainer.ts ***!
  \*****************************************************************/
/*! exports provided: AvatarImageBodyPartContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarImageBodyPartContainer", function() { return AvatarImageBodyPartContainer; });
class AvatarImageBodyPartContainer {
    constructor(k, _arg_2, _arg_3) {
        this._image = k;
        this._regPoint = _arg_2;
        this._offset = new PIXI.Point(0, 0);
        this._regPoint = _arg_2;
        this._isCacheable = _arg_3;
        this._Str_1225();
    }
    dispose() {
        if (this._image)
            this._image.destroy();
        this._image = null;
        this._regPoint = null;
        this._offset = null;
    }
    _Str_1225() {
        this._regPoint.x = this._regPoint.x;
        this._regPoint.y = this._regPoint.y;
        this._offset.x = this._offset.x;
        this._offset.y = this._offset.y;
    }
    _Str_1387(k) {
        this._regPoint = k;
        this._Str_1225();
    }
    get image() {
        return this._image;
    }
    set image(k) {
        if (this._image && (this._image !== k))
            this._image.destroy();
        this._image = k;
    }
    get _Str_1076() {
        const clone = this._regPoint.clone();
        clone.x += this._offset.x;
        clone.y += this._offset.y;
        return clone;
    }
    set offset(k) {
        this._offset = k;
        this._Str_1225();
    }
    get _Str_1807() {
        return this._isCacheable;
    }
}


/***/ }),

/***/ "JNCF":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/avatar/additions/TypingBubbleAddition.ts ***!
  \*********************************************************************************************/
/*! exports provided: TypingBubbleAddition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TypingBubbleAddition", function() { return TypingBubbleAddition; });
class TypingBubbleAddition {
    constructor(id, visualization) {
        this._id = id;
        this._visualization = visualization;
        this._asset = null;
        this._relativeDepth = 0;
    }
    dispose() {
        this._visualization = null;
        this._asset = null;
    }
    update(sprite, scale) {
        if (!sprite)
            return;
        sprite.visible = true;
        sprite.relativeDepth = this._relativeDepth;
        sprite.alpha = 255;
        let additionScale = 64;
        let offsetX = 0;
        let offsetY = 0;
        if (scale < 48) {
            this._asset = this._visualization.getAvatarRenderAsset('user_typing_small');
            offsetX = 3;
            offsetY = -42;
            additionScale = 32;
        }
        else {
            this._asset = this._visualization.getAvatarRenderAsset('user_typing');
            offsetX = 14;
            offsetY = -83;
        }
        if (this._visualization.posture === 'sit') {
            offsetY += (additionScale / 2);
        }
        else if (this._visualization.posture === 'lay') {
            offsetY += scale;
        }
        if (this._asset) {
            sprite.texture = this._asset;
            sprite.offsetX = offsetX;
            sprite.offsetY = offsetY;
            sprite.relativeDepth = (-0.02 + 0);
        }
    }
    animate(sprite) {
        if (this._asset && sprite) {
            sprite.texture = this._asset;
        }
        return false;
    }
    get id() {
        return this._id;
    }
    get relativeDepth() {
        return this._relativeDepth;
    }
    set relativeDepth(depth) {
        this._relativeDepth = depth;
    }
}


/***/ }),

/***/ "JODW":
/*!*********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/floor/FurnitureFloorAddEvent.ts ***!
  \*********************************************************************************************************/
/*! exports provided: FurnitureFloorAddEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorAddEvent", function() { return FurnitureFloorAddEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_floor_FurnitureFloorAddParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/furniture/floor/FurnitureFloorAddParser */ "QgWy");


class FurnitureFloorAddEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_floor_FurnitureFloorAddParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureFloorAddParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "JOb7":
/*!***********************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomObjectNameEvent.ts ***!
  \***********************************************************************/
/*! exports provided: RoomObjectNameEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectNameEvent", function() { return RoomObjectNameEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomObjectNameEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        super(RoomObjectNameEvent.RWONE_TYPE);
        this._userId = k;
        this._category = _arg_2;
        this._userName = _arg_3;
        this._userType = _arg_4;
        this._roomIndex = _arg_5;
    }
    get userId() {
        return this._userId;
    }
    get category() {
        return this._category;
    }
    get userName() {
        return this._userName;
    }
    get userType() {
        return this._userType;
    }
    get roomIndex() {
        return this._roomIndex;
    }
}
RoomObjectNameEvent.RWONE_TYPE = 'RWONE_TYPE';


/***/ }),

/***/ "JPh/":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomSettingsSavedParser.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomSettingsSavedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSettingsSavedParser", function() { return RoomSettingsSavedParser; });
class RoomSettingsSavedParser {
    flush() {
        this._roomId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomId = wrapper.readInt();
        return true;
    }
    get roomId() {
        return this._roomId;
    }
}


/***/ }),

/***/ "JUJM":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/user/access/UserPerksEvent.ts ***!
  \****************************************************************************************/
/*! exports provided: UserPerksEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPerksEvent", function() { return UserPerksEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_user_access_UserPerksParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/user/access/UserPerksParser */ "5eC1");


class UserPerksEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_user_access_UserPerksParser__WEBPACK_IMPORTED_MODULE_1__["UserPerksParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "JY8D":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/data/HabboAvatarGeometry.json ***!
  \***************************************************************/
/*! exports provided: geometry, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"geometry\":{\"direction\":0,\"camera\":{\"x\":0,\"y\":0,\"z\":10},\"canvases\":[{\"scale\":\"h\",\"geometries\":[{\"id\":\"vertical\",\"width\":90,\"height\":130,\"dx\":0,\"dy\":0},{\"id\":\"sitting\",\"width\":90,\"height\":130,\"dx\":0,\"dy\":0},{\"id\":\"horizontal\",\"width\":128,\"height\":80,\"dx\":30,\"dy\":0},{\"id\":\"swhorizontal\",\"width\":192,\"height\":120,\"dx\":0,\"dy\":-40}]},{\"scale\":\"sh\",\"geometries\":[{\"id\":\"vertical\",\"width\":45,\"height\":72,\"dx\":0,\"dy\":0},{\"id\":\"sitting\",\"width\":45,\"height\":72,\"dx\":0,\"dy\":0},{\"id\":\"horizontal\",\"width\":64,\"height\":50,\"dx\":15,\"dy\":-10},{\"id\":\"swhorizontal\",\"width\":96,\"height\":70,\"dx\":0,\"dy\":-20},{\"id\":\"swim\",\"width\":64,\"height\":70,\"dx\":25,\"dy\":10}]}],\"avatarSets\":[{\"id\":\"full\",\"avatarSets\":[{\"id\":\"body\",\"main\":true,\"bodyParts\":[{\"id\":\"top\"},{\"id\":\"bottom\"},{\"id\":\"behind\"},{\"id\":\"torso\"},{\"id\":\"leftitem\"},{\"id\":\"rightitem\"},{\"id\":\"leftarm\"},{\"id\":\"rightarm\"}]},{\"id\":\"head\",\"bodyParts\":[{\"id\":\"head\"}]}]}],\"types\":[{\"id\":\"vertical\",\"bodyParts\":[{\"id\":\"top\",\"x\":0,\"y\":0,\"z\":0,\"radius\":2},{\"id\":\"bottom\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.001},{\"id\":\"behind\",\"x\":0,\"y\":0,\"z\":0.2,\"radius\":0.3},{\"id\":\"torso\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.4,\"items\":[{\"id\":\"bd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"bds\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"ch\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"sh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lg\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ss\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"cp\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.045,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"wa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"cc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ca\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"leftitem\",\"x\":0,\"y\":0,\"z\":-0.29,\"radius\":0.3,\"items\":[{\"id\":\"li\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"rightitem\",\"x\":0,\"y\":0,\"z\":-0.29,\"radius\":0.3,\"items\":[{\"id\":\"ri\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"leftarm\",\"x\":-1,\"y\":0,\"z\":-0.51,\"radius\":0.5,\"items\":[{\"id\":\"lh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lhs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ls\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"rightarm\",\"x\":1,\"y\":0,\"z\":-0.51,\"radius\":0.5,\"items\":[{\"id\":\"rh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rhs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"head\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.5,\"items\":[{\"id\":\"hd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ey\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"hr\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"hrb\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ea\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ha\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.08,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"he\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.09,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]}]},{\"id\":\"sitting\",\"bodyParts\":[{\"id\":\"top\",\"x\":0,\"y\":0,\"z\":0,\"radius\":2},{\"id\":\"bottom\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.001},{\"id\":\"behind\",\"x\":0,\"y\":0,\"z\":0.2,\"radius\":0.3},{\"id\":\"torso\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.4,\"items\":[{\"id\":\"bd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"bds\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"ch\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"sh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lg\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ss\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"cp\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.045,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"wa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"cc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ca\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"leftitem\",\"x\":0,\"y\":0,\"z\":-0.29,\"radius\":0.3,\"items\":[{\"id\":\"li\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"rightitem\",\"x\":0,\"y\":0,\"z\":-0.29,\"radius\":0.3,\"items\":[{\"id\":\"ri\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"leftarm\",\"x\":-1,\"y\":0,\"z\":-0.51,\"radius\":0.5,\"items\":[{\"id\":\"lh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lhs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ls\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"rightarm\",\"x\":1,\"y\":0,\"z\":-0.51,\"radius\":0.5,\"items\":[{\"id\":\"rh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rhs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"head\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.5,\"items\":[{\"id\":\"hd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ey\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"hr\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"hrb\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ea\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ha\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.08,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"he\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.09,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]}]},{\"id\":\"horizontal\",\"bodyParts\":[{\"id\":\"torso\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.4,\"items\":[{\"id\":\"bd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"bds\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"ch\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"cp\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"sh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lg\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ss\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"wa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"cc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ca\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"leftitem\",\"x\":0,\"y\":0,\"z\":-0.29,\"radius\":0.3,\"items\":[{\"id\":\"li\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"rightitem\",\"x\":0,\"y\":0,\"z\":-0.29,\"radius\":0.3,\"items\":[{\"id\":\"ri\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"leftarm\",\"x\":-1,\"y\":0,\"z\":-0.51,\"radius\":0.6,\"items\":[{\"id\":\"lh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lhs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ls\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"rightarm\",\"x\":1,\"y\":0,\"z\":-0.51,\"radius\":0.6,\"items\":[{\"id\":\"rh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rhs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"head\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.5,\"items\":[{\"id\":\"hd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ey\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"hr\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"hrb\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ea\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ha\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.08,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"he\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.09,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]}]},{\"id\":\"swhorizontal\",\"bodyParts\":[{\"id\":\"torso\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.4,\"items\":[{\"id\":\"bd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"bds\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"ch\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"cp\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"sh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lg\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ss\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"wa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"cc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ca\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"leftitem\",\"x\":0,\"y\":0,\"z\":-0.29,\"radius\":0.3,\"items\":[{\"id\":\"li\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"rightitem\",\"x\":0,\"y\":0,\"z\":-0.29,\"radius\":0.3,\"items\":[{\"id\":\"ri\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"leftarm\",\"x\":-1,\"y\":0,\"z\":-0.51,\"radius\":0.6,\"items\":[{\"id\":\"lh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lhs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ls\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"lc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"rightarm\",\"x\":1,\"y\":0,\"z\":-0.51,\"radius\":0.6,\"items\":[{\"id\":\"rh\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rhs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rs\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"rc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.025,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"head\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.5,\"items\":[{\"id\":\"hd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ey\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"hr\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"hrb\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ea\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ha\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.08,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"he\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.09,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]}]},{\"id\":\"swim\",\"bodyParts\":[{\"id\":\"torso\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.4,\"items\":[{\"id\":\"bds\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"ss\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]},{\"id\":\"head\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.5,\"items\":[{\"id\":\"hd\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.01,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fc\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.02,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ey\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.03,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"hr\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.04,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"hrb\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.05,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":true},{\"id\":\"fa\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.06,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ea\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.07,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"ha\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.08,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false},{\"id\":\"he\",\"x\":0,\"y\":0,\"z\":0,\"radius\":0.09,\"nx\":0,\"ny\":0,\"nz\":-1,\"double\":false}]}]}]}}");

/***/ }),

/***/ "JaRE":
/*!***********************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectHSLColorEnableEvent.ts ***!
  \***********************************************************************/
/*! exports provided: RoomObjectHSLColorEnableEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectHSLColorEnableEvent", function() { return RoomObjectHSLColorEnableEvent; });
/* harmony import */ var _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectEvent */ "y81I");

class RoomObjectHSLColorEnableEvent extends _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6) {
        super(k, _arg_2);
        this._enable = _arg_3;
        this._hue = _arg_4;
        this._saturation = _arg_5;
        this._lightness = _arg_6;
    }
    get enable() {
        return this._enable;
    }
    get hue() {
        return this._hue;
    }
    get saturation() {
        return this._saturation;
    }
    get lightness() {
        return this._lightness;
    }
}
RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR = "ROHSLCEE_ROOM_BACKGROUND_COLOR";


/***/ }),

/***/ "JzXG":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneMaterial.ts ***!
  \*******************************************************************************************/
/*! exports provided: PlaneMaterial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneMaterial", function() { return PlaneMaterial; });
/* harmony import */ var _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlaneMaterialCellMatrix */ "RDtd");

class PlaneMaterial {
    constructor() {
        this._planeMaterialItems = [];
        this._isCached = false;
    }
    dispose() {
        if (this._planeMaterialItems && this._planeMaterialItems.length) {
            for (let item of this._planeMaterialItems) {
                if (!item)
                    continue;
                item.dispose();
            }
            this._planeMaterialItems = null;
        }
        this._isCached = false;
    }
    _Str_3355() {
        if (!this._isCached)
            return;
        if (this._planeMaterialItems && this._planeMaterialItems.length) {
            for (let item of this._planeMaterialItems) {
                if (!item)
                    continue;
                item._Str_3355();
            }
        }
        this._isCached = false;
    }
    _Str_24503(k, _arg_2, _arg_3, _arg_4 = -1, _arg_5 = 1, _arg_6 = -1, _arg_7 = 1) {
        const cellMatrix = new _PlaneMaterialCellMatrix__WEBPACK_IMPORTED_MODULE_0__["PlaneMaterialCellMatrix"](k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7);
        this._planeMaterialItems.push(cellMatrix);
        return cellMatrix;
    }
    _Str_21968(k) {
        if (!k)
            return null;
        if (this._planeMaterialItems && this._planeMaterialItems.length) {
            for (let item of this._planeMaterialItems) {
                if (!item)
                    continue;
                if ((((k.x >= item.normalMinX) && (k.x <= item.normalMaxX)) && (k.y >= item.normalMinY)) && (k.y <= item.normalMaxY))
                    return item;
            }
        }
        return null;
    }
    render(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8) {
        if (_arg_2 < 1)
            _arg_2 = 1;
        if (_arg_3 < 1)
            _arg_3 = 1;
        const cellMatrix = this._Str_21968(_arg_4);
        if (!cellMatrix)
            return null;
        this._isCached = true;
        return cellMatrix.render(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8);
    }
}
PlaneMaterial._Str_3268 = -1;
PlaneMaterial._Str_3271 = 1;


/***/ }),

/***/ "K0gz":
/*!***********************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetRoomObjectUpdateEvent.ts ***!
  \***********************************************************************************/
/*! exports provided: RoomWidgetRoomObjectUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetRoomObjectUpdateEvent", function() { return RoomWidgetRoomObjectUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetRoomObjectUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(type, id, category, roomId) {
        super(type);
        this._id = id;
        this._category = category;
        this._roomId = roomId;
    }
    get id() {
        return this._id;
    }
    get category() {
        return this._category;
    }
    get roomId() {
        return this._roomId;
    }
}
RoomWidgetRoomObjectUpdateEvent.OBJECT_SELECTED = 'RWROUE_OBJECT_SELECTED';
RoomWidgetRoomObjectUpdateEvent.OBJECT_DESELECTED = 'RWROUE_OBJECT_DESELECTED';
RoomWidgetRoomObjectUpdateEvent.USER_REMOVED = 'RWROUE_USER_REMOVED';
RoomWidgetRoomObjectUpdateEvent.FURNI_REMOVED = 'RWROUE_FURNI_REMOVED';
RoomWidgetRoomObjectUpdateEvent.FURNI_ADDED = 'RWROUE_FURNI_ADDED';
RoomWidgetRoomObjectUpdateEvent.USER_ADDED = 'RWROUE_USER_ADDED';
RoomWidgetRoomObjectUpdateEvent.OBJECT_ROLL_OVER = 'RWROUE_OBJECT_ROLL_OVER';
RoomWidgetRoomObjectUpdateEvent.OBJECT_ROLL_OUT = 'RWROUE_OBJECT_ROLL_OUT';


/***/ }),

/***/ "K5R6":
/*!*************************************************************!*\
  !*** ./src/client/room/object/logic/RoomObjectLogicBase.ts ***!
  \*************************************************************/
/*! exports provided: RoomObjectLogicBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectLogicBase", function() { return RoomObjectLogicBase; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/common/disposable/Disposable */ "Xr/m");

class RoomObjectLogicBase extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor() {
        super();
        this._object = null;
        this._events = null;
        this._time = 0;
    }
    initialize(data) {
        return;
    }
    onDispose() {
        this._object = null;
    }
    update(time) {
        this._time = time;
        return;
    }
    processUpdateMessage(message) {
        if (!message || !this._object)
            return;
        this._object.setLocation(message.location);
        this._object.setDirection(message.direction);
    }
    getEventTypes() {
        return [];
    }
    mergeTypes(k, _arg_2) {
        const types = k.concat();
        for (let type of _arg_2) {
            if (!type || (types.indexOf(type) >= 0))
                continue;
            types.push(type);
        }
        return types;
    }
    mouseEvent(event, geometry) {
        return;
    }
    useObject() {
        return;
    }
    setObject(object) {
        if (this._object === object)
            return;
        if (this._object) {
            this._object.setLogic(null);
        }
        if (!object) {
            this.dispose();
            this._object = null;
            return;
        }
        this._object = object;
        this._object.setLogic(this);
    }
    get object() {
        return this._object;
    }
    get eventDispatcher() {
        return this._events;
    }
    set eventDispatcher(events) {
        this._events = events;
    }
    get widget() {
        return null;
    }
    get contextMenu() {
        return null;
    }
    get time() {
        return this._time;
    }
}


/***/ }),

/***/ "K9Xd":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomPlaneBitmapMaskParser.ts ***!
  \*******************************************************************/
/*! exports provided: RoomPlaneBitmapMaskParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPlaneBitmapMaskParser", function() { return RoomPlaneBitmapMaskParser; });
/* harmony import */ var _RoomMapMaskData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomMapMaskData */ "9KXm");
/* harmony import */ var _RoomPlaneBitmapMaskData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomPlaneBitmapMaskData */ "HYQG");


class RoomPlaneBitmapMaskParser {
    constructor() {
        this._masks = new Map();
    }
    get _Str_6845() {
        return this._masks.size;
    }
    dispose() {
        if (this._masks) {
            this.reset();
            this._masks = null;
        }
    }
    initialize(k) {
        if (!k)
            return false;
        this._masks.clear();
        if (k.masks.length) {
            for (let mask of k.masks) {
                if (!mask)
                    continue;
                const location = mask.locations.length ? mask.locations[0] : null;
                if (!location)
                    continue;
                this._masks.set(mask.id, new _RoomPlaneBitmapMaskData__WEBPACK_IMPORTED_MODULE_1__["RoomPlaneBitmapMaskData"](mask.type, location, mask.category));
            }
        }
        return true;
    }
    reset() {
        for (let mask of this._masks.values()) {
            if (!mask)
                continue;
            mask.dispose();
        }
        this._masks.clear();
    }
    addMask(k, _arg_2, _arg_3, _arg_4) {
        const mask = new _RoomPlaneBitmapMaskData__WEBPACK_IMPORTED_MODULE_1__["RoomPlaneBitmapMaskData"](_arg_2, _arg_3, _arg_4);
        this._masks.delete(k);
        this._masks.set(k, mask);
    }
    _Str_23574(k) {
        const existing = this._masks.get(k);
        if (existing) {
            this._masks.delete(k);
            existing.dispose();
            return true;
        }
        return false;
    }
    _Str_5598() {
        const data = new _RoomMapMaskData__WEBPACK_IMPORTED_MODULE_0__["RoomMapMaskData"]();
        for (let [key, mask] of this._masks.entries()) {
            if (!mask)
                continue;
            const type = this._Str_21678(mask);
            const category = this._Str_21644(mask);
            const location = this._Str_19038(mask);
            if (type && category && location) {
                const newMask = {
                    id: key,
                    type: type,
                    category: category,
                    locations: [
                        {
                            x: location.x,
                            y: location.y,
                            z: location.z
                        }
                    ]
                };
                data.masks.push(newMask);
            }
        }
        return data;
    }
    _Str_19038(mask) {
        if (!mask)
            return null;
        return mask.loc;
    }
    _Str_21678(mask) {
        if (!mask)
            return null;
        return mask.type;
    }
    _Str_21644(mask) {
        if (!mask)
            return null;
        return mask.category;
    }
    get masks() {
        return this._masks;
    }
}


/***/ }),

/***/ "KL+k":
/*!***************************************************************************!*\
  !*** ./src/client/core/communication/codec/evawire/EvaWireDataWrapper.ts ***!
  \***************************************************************************/
/*! exports provided: EvaWireDataWrapper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EvaWireDataWrapper", function() { return EvaWireDataWrapper; });
class EvaWireDataWrapper {
    constructor(header, buffer) {
        this._header = header;
        this._buffer = buffer;
    }
    readByte() {
        if (!this._buffer)
            return -1;
        return this._buffer.readByte();
    }
    readBytes(length) {
        if (!this._buffer)
            return null;
        return this._buffer.readBytes(length);
    }
    readBoolean() {
        return this.readByte() === 1;
    }
    readShort() {
        if (!this._buffer)
            return -1;
        return this._buffer.readInt16();
    }
    readInt() {
        if (!this._buffer)
            return -1;
        return this._buffer.readInt32();
    }
    readString() {
        let string = '';
        let length = this.readShort();
        while (length) {
            string += String.fromCharCode(this.readByte());
            length--;
        }
        return string;
    }
    get header() {
        return this._header;
    }
    get bytesAvailable() {
        return this._buffer && this._buffer.remaining() > 0;
    }
}


/***/ }),

/***/ "KQk8":
/*!************************************************************!*\
  !*** ./src/client/nitro/room/object/data/ObjectDataKey.ts ***!
  \************************************************************/
/*! exports provided: ObjectDataKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectDataKey", function() { return ObjectDataKey; });
class ObjectDataKey {
}
ObjectDataKey.LEGACY_KEY = 0;
ObjectDataKey.MAP_KEY = 1;
ObjectDataKey.STRING_KEY = 2;
ObjectDataKey.VOTE_KEY = 3;
ObjectDataKey.EMPTY_KEY = 4;
ObjectDataKey.NUMBER_KEY = 5;
ObjectDataKey.HIGHSCORE_KEY = 6;
ObjectDataKey.CRACKABLE_KEY = 7;


/***/ }),

/***/ "KSVc":
/*!***************************************************************!*\
  !*** ./src/app/shared/components/alerts/confirm/component.ts ***!
  \***************************************************************/
/*! exports provided: ConfirmToastComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmToastComponent", function() { return ConfirmToastComponent; });
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/animations */ "R0Ic");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var ng_animate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng-animate */ "5Rqa");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-toastr */ "5eHb");
/* harmony import */ var _directives_draggable_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../directives/draggable/directive */ "yd8t");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");








const _c0 = ["toastContents"];
const _c1 = ["nitro-toast-confirm-component", ""];
function ConfirmToastComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "div", 13);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r1.options.messageClass);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("innerHTML", ctx_r1.message, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeHtml"]);
} }
function ConfirmToastComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMap"](ctx_r2.options.messageClass);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r2.message);
} }
function ConfirmToastComponent_button_14_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ConfirmToastComponent_button_14_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r4.remove(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Cancel");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
class ConfirmToastComponent extends ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["Toast"] {
    constructor(toastrService, toastPackage) {
        super(toastrService, toastPackage);
        this.toastrService = toastrService;
        this.toastPackage = toastPackage;
    }
    confirm() {
        this.toastPackage.triggerAction('CONFIRM');
    }
}
ConfirmToastComponent.ɵfac = function ConfirmToastComponent_Factory(t) { return new (t || ConfirmToastComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastPackage"])); };
ConfirmToastComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: ConfirmToastComponent, selectors: [["", "nitro-toast-confirm-component", ""]], viewQuery: function ConfirmToastComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.toastContents = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]], attrs: _c1, decls: 15, vars: 7, consts: [["dragHandle", ".card-header", 1, "card", "nitro-alert", "nitro-toast-confirm-component", 3, "draggable"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "card-body"], ["toastContents", ""], [3, "class", "innerHTML", 4, "ngIf"], [3, "class", 4, "ngIf"], [1, "card-footer"], [1, "button-container", "btn-group"], ["type", "button", 1, "btn", "btn-primary", 3, "click"], ["type", "button", "class", "btn btn-primary", 3, "click", 4, "ngIf"], [3, "innerHTML"]], template: function ConfirmToastComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ConfirmToastComponent_Template_div_click_4_listener() { return ctx.remove(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 5, 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, ConfirmToastComponent_div_8_Template, 1, 3, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, ConfirmToastComponent_div_9_Template, 2, 3, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ConfirmToastComponent_Template_button_click_12_listener() { return ctx.confirm(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13, "Confirm");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](14, ConfirmToastComponent_button_14_Template, 2, 0, "button", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("display", ctx.state.value === "inactive" ? "none" : "");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("@zoomIn", ctx.zoomIn);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.message && ctx.options.enableHtml);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.message && !ctx.options.enableHtml);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.options.closeButton);
    } }, directives: [_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_4__["DraggableDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], encapsulation: 2, data: { animation: [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('zoomIn', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["zoomIn"], {
                    params: { timing: 0.5, delay: 0 }
                }))
            ])
        ] } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ConfirmToastComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: '[nitro-toast-confirm-component]',
                template: `
    <div [@zoomIn]="zoomIn" class="card nitro-alert nitro-toast-confirm-component" [draggable] dragHandle=".card-header" [style.display]="state.value === 'inactive' ? 'none' : ''">
        <div class="card-header">
            <div class="header-title">{{ title }}</div>
            <div class="header-close" (click)="remove()"><i class="fas fa-times"></i></div>
        </div>
        <div #toastContents class="card-body">
            <div *ngIf="message && options.enableHtml" [class]="options.messageClass" [innerHTML]="message"></div>
            <div *ngIf="message && !options.enableHtml" [class]="options.messageClass">{{ message }}</div>
        </div>
        <div class="card-footer">
            <div class="button-container btn-group">
                <button type="button" class="btn btn-primary" (click)="confirm()">Confirm</button>
                <button *ngIf="options.closeButton" type="button" class="btn btn-primary" (click)="remove()">Cancel</button>
            </div>
        </div>
    </div>`,
                animations: [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('zoomIn', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["zoomIn"], {
                            params: { timing: 0.5, delay: 0 }
                        }))
                    ])
                ],
            }]
    }], function () { return [{ type: ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"] }, { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastPackage"] }]; }, { toastContents: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['toastContents']
        }] }); })();


/***/ }),

/***/ "KVvL":
/*!************************************************************!*\
  !*** ./src/app/shared/components/roompreview/component.ts ***!
  \************************************************************/
/*! exports provided: RoomPreviewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPreviewComponent", function() { return RoomPreviewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_preview_RoomPreviewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/nitro/room/preview/RoomPreviewer */ "2IRy");




const _c0 = ["previewImage"];
const _c1 = ["nitro-room-preview-component", ""];
class RoomPreviewComponent {
    constructor(ngZone) {
        this.ngZone = ngZone;
        this.roomPreviewer = null;
        this.width = 1;
        this.height = 1;
        this.renderingCanvas = null;
        this.displayObject = null;
        this.imageUrl = null;
        this.isRunning = false;
    }
    ngOnInit() {
        if (!this.roomPreviewer) {
            this.roomPreviewer = new _client_nitro_room_preview_RoomPreviewer__WEBPACK_IMPORTED_MODULE_2__["RoomPreviewer"](_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine, ++RoomPreviewComponent.PREVIEW_COUNTER);
        }
    }
    ngOnDestroy() {
        this.stop();
    }
    ngAfterViewInit() {
        if (this.roomPreviewer) {
            this.displayObject = this.roomPreviewer.getRoomCanvas(this.width, this.height);
            this.renderingCanvas = this.roomPreviewer.getRenderingCanvas();
        }
        this.start();
    }
    start() {
        if (this.isRunning)
            return;
        this.ngZone.runOutsideAngular(() => {
            if (this.previewImageElement) {
                this.previewImageElement.addEventListener('click', this.onClick.bind(this));
            }
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.ticker.add(this.update, this);
        });
        this.isRunning = true;
    }
    stop() {
        if (!this.isRunning)
            return;
        this.ngZone.runOutsideAngular(() => {
            if (this.previewImageElement) {
                this.previewImageElement.removeEventListener('click', this.onClick.bind(this));
            }
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.ticker.remove(this.update, this);
        });
        this.isRunning = false;
    }
    update(time) {
        if (this.roomPreviewer && this.renderingCanvas && this.displayObject) {
            this.roomPreviewer.updatePreviewRoomView();
            if (this.renderingCanvas.canvasUpdated) {
                const imageUrl = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.renderer.extract.base64(this.displayObject);
                this.previewImageElement.src = imageUrl;
            }
        }
    }
    onClick(event) {
        if (!event)
            return;
        if (this.roomPreviewer)
            this.roomPreviewer.changeRoomObjectState();
    }
    get previewImageElement() {
        return ((this.previewImage && this.previewImage.nativeElement) || null);
    }
}
RoomPreviewComponent.PREVIEW_COUNTER = 0;
RoomPreviewComponent.ɵfac = function RoomPreviewComponent_Factory(t) { return new (t || RoomPreviewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
RoomPreviewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomPreviewComponent, selectors: [["", "nitro-room-preview-component", ""]], viewQuery: function RoomPreviewComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.previewImage = _t.first);
    } }, inputs: { roomPreviewer: "roomPreviewer", width: "width", height: "height" }, attrs: _c1, decls: 3, vars: 1, consts: [[1, "nitro-room-preview-component"], [3, "src"], ["previewImage", ""]], template: function RoomPreviewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "img", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx.imageUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomPreviewComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[nitro-room-preview-component]',
                template: `
	<div class="nitro-room-preview-component">
		<img #previewImage [src]="imageUrl" />
	</div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { previewImage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['previewImage']
        }], roomPreviewer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], width: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], height: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "KYQ4":
/*!*************************************************!*\
  !*** ./src/client/nitro/session/RoomSession.ts ***!
  \*************************************************/
/*! exports provided: RoomSession */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSession", function() { return RoomSession; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _communication_messages_outgoing_room_access_RoomEnterComposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../communication/messages/outgoing/room/access/RoomEnterComposer */ "5TOT");
/* harmony import */ var _communication_messages_outgoing_room_unit_chat_RoomUnitChatComposer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/chat/RoomUnitChatComposer */ "Aavw");
/* harmony import */ var _communication_messages_outgoing_room_unit_chat_RoomUnitChatShoutComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/chat/RoomUnitChatShoutComposer */ "OxVo");
/* harmony import */ var _communication_messages_outgoing_room_unit_chat_RoomUnitChatWhisperComposer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/chat/RoomUnitChatWhisperComposer */ "gnow");
/* harmony import */ var _communication_messages_outgoing_room_unit_chat_RoomUnitTypingStartComposer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/chat/RoomUnitTypingStartComposer */ "UJeg");
/* harmony import */ var _communication_messages_outgoing_room_unit_chat_RoomUnitTypingStopComposer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/chat/RoomUnitTypingStopComposer */ "lMbP");
/* harmony import */ var _communication_messages_outgoing_room_unit_RoomUnitActionComposer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/RoomUnitActionComposer */ "j7GY");
/* harmony import */ var _communication_messages_outgoing_room_unit_RoomUnitDanceComposer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/RoomUnitDanceComposer */ "ekex");
/* harmony import */ var _communication_messages_outgoing_room_unit_RoomUnitPostureComposer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/RoomUnitPostureComposer */ "Gb7F");
/* harmony import */ var _communication_messages_outgoing_user_data_UserMottoComposer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../communication/messages/outgoing/user/data/UserMottoComposer */ "o4p4");
/* harmony import */ var _enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./enum/RoomControllerLevel */ "9vQN");
/* harmony import */ var _enum_RoomTradingLevelEnum__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./enum/RoomTradingLevelEnum */ "/OJ4");
/* harmony import */ var _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./events/RoomSessionEvent */ "Ns5P");
/* harmony import */ var _UserDataManager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./UserDataManager */ "D2g+");















class RoomSession extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor() {
        super();
        this._connection = null;
        this._userData = new _UserDataManager__WEBPACK_IMPORTED_MODULE_14__["UserDataManager"]();
        this._roomId = 0;
        this._password = null;
        this._state = _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_13__["RoomSessionEvent"].CREATED;
        this._tradeMode = _enum_RoomTradingLevelEnum__WEBPACK_IMPORTED_MODULE_12__["RoomTradingLevelEnum"]._Str_12752;
        this._doorMode = 0;
        this._controllerLevel = _enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_11__["RoomControllerLevel"].NONE;
        this._ownRoomIndex = -1;
        this._isGuildRoom = false;
        this._isRoomOwner = false;
        this._isDecorating = false;
        this._isSpectator = false;
        this._moderationSettings = null;
    }
    onDispose() {
        if (this._userData) {
            this._userData.dispose();
            this._userData = null;
        }
        this._connection = null;
    }
    setConnection(connection) {
        if (this._connection || !connection)
            return;
        this._connection = connection;
        if (this._userData)
            this._userData.setConnection(connection);
    }
    setControllerLevel(level) {
        if ((level >= _enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_11__["RoomControllerLevel"].NONE) && (level <= _enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_11__["RoomControllerLevel"].MODERATOR)) {
            this._controllerLevel = level;
            return;
        }
        this._controllerLevel = _enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_11__["RoomControllerLevel"].NONE;
    }
    setOwnRoomIndex(roomIndex) {
        this._ownRoomIndex = roomIndex;
    }
    setRoomOwner() {
        this._isRoomOwner = true;
    }
    start() {
        if (this._state !== _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_13__["RoomSessionEvent"].CREATED || !this._connection)
            return false;
        this._state = _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_13__["RoomSessionEvent"].STARTED;
        return this.enterRoom();
    }
    enterRoom() {
        if (!this._connection)
            return false;
        this._connection.send(new _communication_messages_outgoing_room_access_RoomEnterComposer__WEBPACK_IMPORTED_MODULE_1__["RoomEnterComposer"](this._roomId, this._password));
        return true;
    }
    reset(roomId) {
        if (roomId === this._roomId)
            return;
        this._roomId = roomId;
    }
    sendChatMessage(text, styleId) {
        this._connection.send(new _communication_messages_outgoing_room_unit_chat_RoomUnitChatComposer__WEBPACK_IMPORTED_MODULE_2__["RoomUnitChatComposer"](text, styleId));
    }
    sendShoutMessage(text, styleId) {
        this._connection.send(new _communication_messages_outgoing_room_unit_chat_RoomUnitChatShoutComposer__WEBPACK_IMPORTED_MODULE_3__["RoomUnitChatShoutComposer"](text, styleId));
    }
    sendWhisperMessage(recipientName, text, styleId) {
        this._connection.send(new _communication_messages_outgoing_room_unit_chat_RoomUnitChatWhisperComposer__WEBPACK_IMPORTED_MODULE_4__["RoomUnitChatWhisperComposer"](recipientName, text, styleId));
    }
    sendChatTypingMessage(isTyping) {
        if (isTyping)
            this._connection.send(new _communication_messages_outgoing_room_unit_chat_RoomUnitTypingStartComposer__WEBPACK_IMPORTED_MODULE_5__["RoomUnitTypingStartComposer"]());
        else
            this._connection.send(new _communication_messages_outgoing_room_unit_chat_RoomUnitTypingStopComposer__WEBPACK_IMPORTED_MODULE_6__["RoomUnitTypingStopComposer"]());
    }
    sendMottoMessage(motto) {
        this._connection.send(new _communication_messages_outgoing_user_data_UserMottoComposer__WEBPACK_IMPORTED_MODULE_10__["UserMottoComposer"](motto));
    }
    sendDanceMessage(danceId) {
        this._connection.send(new _communication_messages_outgoing_room_unit_RoomUnitDanceComposer__WEBPACK_IMPORTED_MODULE_8__["RoomUnitDanceComposer"](danceId));
    }
    sendExpressionMessage(expression) {
        this._connection.send(new _communication_messages_outgoing_room_unit_RoomUnitActionComposer__WEBPACK_IMPORTED_MODULE_7__["RoomUnitActionComposer"](expression));
    }
    sendPostureMessage(posture) {
        this._connection.send(new _communication_messages_outgoing_room_unit_RoomUnitPostureComposer__WEBPACK_IMPORTED_MODULE_9__["RoomUnitPostureComposer"](posture));
    }
    sendDoorbellApprovalMessage(userName, flag) {
        // send doorbell
    }
    pickupPet(id) {
        if (!this._connection)
            return;
        //this._connection.send();
    }
    pickupBot(id) {
        if (!this._connection)
            return;
        //this._connection.send();
    }
    get connection() {
        return this._connection;
    }
    get userDataManager() {
        return this._userData;
    }
    get roomId() {
        return this._roomId;
    }
    set roomId(roomId) {
        this._roomId = roomId;
    }
    get password() {
        return this._password;
    }
    set password(password) {
        this._password = password;
    }
    get state() {
        return this._state;
    }
    get tradeMode() {
        return this._tradeMode;
    }
    set tradeMode(mode) {
        this._tradeMode = mode;
    }
    get doorMode() {
        return this._doorMode;
    }
    set doorMode(mode) {
        this._doorMode = mode;
    }
    get allowPets() {
        return this._allowPets;
    }
    set allowPets(flag) {
        this._allowPets = flag;
    }
    get controllerLevel() {
        return this._controllerLevel;
    }
    get ownRoomIndex() {
        return this._ownRoomIndex;
    }
    get isGuildRoom() {
        return this._isGuildRoom;
    }
    set isGuildRoom(flag) {
        this._isGuildRoom = flag;
    }
    get isRoomOwner() {
        return this._isRoomOwner;
    }
    get isDecorating() {
        return this._isDecorating;
    }
    set isDecorating(flag) {
        this._isDecorating = flag;
    }
    get isSpectator() {
        return this._isSpectator;
    }
    set isSpectator(flag) {
        this._isSpectator = flag;
    }
    get moderationSettings() {
        return this._moderationSettings;
    }
    set moderationSettings(parser) {
        this._moderationSettings = parser;
    }
}


/***/ }),

/***/ "Kal4":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/UserMessageData.ts ***!
  \*************************************************************************************/
/*! exports provided: UserMessageData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserMessageData", function() { return UserMessageData; });
class UserMessageData {
    constructor(k) {
        this._roomIndex = 0;
        this._x = 0;
        this._y = 0;
        this._z = 0;
        this._dir = 0;
        this._name = '';
        this._userType = 0;
        this._sex = '';
        this._figure = '';
        this._custom = '';
        this._activityPoints = 0;
        this._webID = 0;
        this._groupID = '';
        this._groupStatus = 0;
        this._groupName = '';
        this._subType = '';
        this._ownerId = 0;
        this._ownerName = '';
        this._rarityLevel = 0;
        this._hasSaddle = false;
        this._isRiding = false;
        this._canBreed = false;
        this._canHarvest = false;
        this._canRevive = false;
        this._hasBreedingPermission = false;
        this._petLevel = 0;
        this._petPosture = '';
        this._botSkills = [];
        this._isModerator = false;
        this._isReadOnly = false;
        this._roomIndex = k;
    }
    _Str_4710() {
        this._isReadOnly = true;
    }
    get roomIndex() {
        return this._roomIndex;
    }
    get x() {
        return this._x;
    }
    set x(k) {
        if (!this._isReadOnly) {
            this._x = k;
        }
    }
    get y() {
        return this._y;
    }
    set y(k) {
        if (!this._isReadOnly) {
            this._y = k;
        }
    }
    get z() {
        return this._z;
    }
    set z(k) {
        if (!this._isReadOnly) {
            this._z = k;
        }
    }
    get dir() {
        return this._dir;
    }
    set dir(k) {
        if (!this._isReadOnly) {
            this._dir = k;
        }
    }
    get name() {
        return this._name;
    }
    set name(k) {
        if (!this._isReadOnly) {
            this._name = k;
        }
    }
    get userType() {
        return this._userType;
    }
    set userType(k) {
        if (!this._isReadOnly) {
            this._userType = k;
        }
    }
    get sex() {
        return this._sex;
    }
    set sex(k) {
        if (!this._isReadOnly) {
            this._sex = k;
        }
    }
    get figure() {
        return this._figure;
    }
    set figure(k) {
        if (!this._isReadOnly) {
            this._figure = k;
        }
    }
    get custom() {
        return this._custom;
    }
    set custom(k) {
        if (!this._isReadOnly) {
            this._custom = k;
        }
    }
    get activityPoints() {
        return this._activityPoints;
    }
    set activityPoints(k) {
        if (!this._isReadOnly) {
            this._activityPoints = k;
        }
    }
    get webID() {
        return this._webID;
    }
    set webID(k) {
        if (!this._isReadOnly) {
            this._webID = k;
        }
    }
    get groupID() {
        return this._groupID;
    }
    set groupID(k) {
        if (!this._isReadOnly) {
            this._groupID = k;
        }
    }
    get groupName() {
        return this._groupName;
    }
    set groupName(k) {
        if (!this._isReadOnly) {
            this._groupName = k;
        }
    }
    get groupStatus() {
        return this._groupStatus;
    }
    set groupStatus(k) {
        if (!this._isReadOnly) {
            this._groupStatus = k;
        }
    }
    get subType() {
        return this._subType;
    }
    set subType(k) {
        if (!this._isReadOnly) {
            this._subType = k;
        }
    }
    get ownerId() {
        return this._ownerId;
    }
    set ownerId(k) {
        if (!this._isReadOnly) {
            this._ownerId = k;
        }
    }
    get ownerName() {
        return this._ownerName;
    }
    set ownerName(k) {
        if (!this._isReadOnly) {
            this._ownerName = k;
        }
    }
    get rarityLevel() {
        return this._rarityLevel;
    }
    set rarityLevel(k) {
        if (!this._isReadOnly) {
            this._rarityLevel = k;
        }
    }
    get hasSaddle() {
        return this._hasSaddle;
    }
    set hasSaddle(k) {
        if (!this._isReadOnly) {
            this._hasSaddle = k;
        }
    }
    get isRiding() {
        return this._isRiding;
    }
    set isRiding(k) {
        if (!this._isReadOnly) {
            this._isRiding = k;
        }
    }
    get canBreed() {
        return this._canBreed;
    }
    set canBreed(k) {
        if (!this._isReadOnly) {
            this._canBreed = k;
        }
    }
    get canHarvest() {
        return this._canHarvest;
    }
    set canHarvest(k) {
        if (!this._isReadOnly) {
            this._canHarvest = k;
        }
    }
    get canRevive() {
        return this._canRevive;
    }
    set canRevive(k) {
        if (!this._isReadOnly) {
            this._canRevive = k;
        }
    }
    get hasBreedingPermission() {
        return this._hasBreedingPermission;
    }
    set hasBreedingPermission(k) {
        if (!this._isReadOnly) {
            this._hasBreedingPermission = k;
        }
    }
    get petLevel() {
        return this._petLevel;
    }
    set petLevel(k) {
        if (!this._isReadOnly) {
            this._petLevel = k;
        }
    }
    get petPosture() {
        return this._petPosture;
    }
    set petPosture(k) {
        if (!this._isReadOnly) {
            this._petPosture = k;
        }
    }
    get botSkills() {
        return this._botSkills;
    }
    set botSkills(k) {
        this._botSkills = k;
    }
    get isModerator() {
        return this._isModerator;
    }
    set isModerator(k) {
        if (!this._isReadOnly) {
            this._isModerator = k;
        }
    }
}
UserMessageData.M = 'M';
UserMessageData.F = 'F';


/***/ }),

/***/ "Kbxs":
/*!**************************************************************!*\
  !*** ./src/app/components/catalog/layouts/pets/component.ts ***!
  \**************************************************************/
/*! exports provided: CatalogLayoutPetsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogLayoutPetsComponent", function() { return CatalogLayoutPetsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "0UMw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");




function CatalogLayoutPetsComponent_img_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 7);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r0.pageImage, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
class CatalogLayoutPetsComponent extends _component__WEBPACK_IMPORTED_MODULE_1__["CatalogLayout"] {
}
CatalogLayoutPetsComponent.LAYOUT_CODE = 'pets';
CatalogLayoutPetsComponent.ɵfac = function CatalogLayoutPetsComponent_Factory(t) { return ɵCatalogLayoutPetsComponent_BaseFactory(t || CatalogLayoutPetsComponent); };
CatalogLayoutPetsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogLayoutPetsComponent, selectors: [["nitro-catalog-layout-pets-component"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 4, consts: [[1, "d-flex", "flex-column", "w-100", "h-100", "card", "nitro-catalog-layout-pets2-component"], [1, "card-header"], [3, "src", 4, "ngIf"], [1, "d-flex", "flex-grow", "flex-column", "w-100", "justify-content-center", 3, "innerHTML"], [1, "card-body"], [1, "d-flex", "flex-row"], [3, "innerHTML"], [3, "src"]], template: function CatalogLayoutPetsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CatalogLayoutPetsComponent_img_2_Template, 1, 1, "img", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "span", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "span", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.pageImage);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.getText(1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.getText(2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.getText(3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], encapsulation: 2 });
const ɵCatalogLayoutPetsComponent_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](CatalogLayoutPetsComponent);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogLayoutPetsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-catalog-layout-pets-component',
                template: `
    <div class="d-flex flex-column w-100 h-100 card nitro-catalog-layout-pets2-component">
        <div class="card-header">
            <img *ngIf="pageImage" [src]="pageImage" />
            <div class="d-flex flex-grow flex-column w-100 justify-content-center" [innerHTML]="getText(1)"></div>
        </div>
        <div class="card-body">
            <div class="d-flex flex-row">
                <span [innerHTML]="getText(2)"></span>
            </div>
            <div class="d-flex flex-row">
                <span [innerHTML]="getText(3)"></span>
            </div>
        </div>
    </div>`
            }]
    }], null, null); })();


/***/ }),

/***/ "KeNc":
/*!************************************************************!*\
  !*** ./src/app/components/purse/services/purse.service.ts ***!
  \************************************************************/
/*! exports provided: PurseService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PurseService", function() { return PurseService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_communication_messages_incoming_user_inventory_currency_UserCreditsEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/communication/messages/incoming/user/inventory/currency/UserCreditsEvent */ "2y6h");
/* harmony import */ var _client_nitro_communication_messages_incoming_user_inventory_currency_UserCurrencyEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/nitro/communication/messages/incoming/user/inventory/currency/UserCurrencyEvent */ "IRIx");
/* harmony import */ var _client_nitro_communication_messages_outgoing_user_inventory_currency_UserCurrencyComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../client/nitro/communication/messages/outgoing/user/inventory/currency/UserCurrencyComposer */ "zIYo");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");






class PurseService {
    constructor(ngZone) {
        this.ngZone = ngZone;
        this._messages = [];
        this._currencies = new Map();
        this.registerMessages();
        this.requestUpdate();
    }
    ngOnDestroy() {
        this.unregisterMessages();
    }
    registerMessages() {
        this.ngZone.runOutsideAngular(() => {
            this.unregisterMessages();
            this._messages = [
                new _client_nitro_communication_messages_incoming_user_inventory_currency_UserCreditsEvent__WEBPACK_IMPORTED_MODULE_1__["UserCreditsEvent"](this.onUserCreditsEvent.bind(this)),
                new _client_nitro_communication_messages_incoming_user_inventory_currency_UserCurrencyEvent__WEBPACK_IMPORTED_MODULE_2__["UserCurrencyEvent"](this.onUserCurrencyEvent.bind(this))
            ];
            for (let message of this._messages)
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.communication.registerMessageEvent(message);
        });
    }
    unregisterMessages() {
        this.ngZone.runOutsideAngular(() => {
            if (this._messages && this._messages.length) {
                for (let message of this._messages)
                    _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.communication.removeMessageEvent(message);
                this._messages = [];
            }
        });
    }
    requestUpdate() {
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.communication.connection.send(new _client_nitro_communication_messages_outgoing_user_inventory_currency_UserCurrencyComposer__WEBPACK_IMPORTED_MODULE_3__["UserCurrencyComposer"]());
    }
    onUserCreditsEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        this.ngZone.run(() => {
            this.setCurrency(-1, parseFloat(parser.credits));
        });
    }
    onUserCurrencyEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        this.ngZone.run(() => {
            for (let [type, amount] of parser.currencies)
                this.setCurrency(type, amount);
        });
    }
    setCurrency(type, amount) {
        this._currencies.set(type, amount);
    }
    get currencies() {
        return this._currencies;
    }
}
PurseService.ɵfac = function PurseService_Factory(t) { return new (t || PurseService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
PurseService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: PurseService, factory: PurseService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PurseService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, null); })();


/***/ }),

/***/ "KimI":
/*!**************************************************************!*\
  !*** ./src/client/nitro/room/object/data/ObjectDataFlags.ts ***!
  \**************************************************************/
/*! exports provided: ObjectDataFlags */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectDataFlags", function() { return ObjectDataFlags; });
class ObjectDataFlags {
}
ObjectDataFlags.UNIQUE_SET = 256;


/***/ }),

/***/ "KjXG":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitIdleEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: RoomUnitIdleEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitIdleEvent", function() { return RoomUnitIdleEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitIdleParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitIdleParser */ "Uo71");


class RoomUnitIdleEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitIdleParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitIdleParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Kn/2":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/mapping/RoomThicknessParser.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomThicknessParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomThicknessParser", function() { return RoomThicknessParser; });
class RoomThicknessParser {
    flush() {
        this._hideWalls = false;
        this._thicknessWall = 0;
        this._thicknessFloor = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._hideWalls = wrapper.readBoolean();
        let thicknessWall = wrapper.readInt();
        let thicknessFloor = wrapper.readInt();
        thicknessWall = (thicknessWall < -2) ? -2 : (thicknessWall > 1) ? 1 : thicknessWall;
        thicknessFloor = (thicknessFloor < -2) ? -2 : (thicknessFloor > 1) ? 1 : thicknessFloor;
        this._thicknessWall = Math.pow(2, thicknessWall);
        this._thicknessFloor = Math.pow(2, thicknessFloor);
        return true;
    }
    get hideWalls() {
        return this._hideWalls;
    }
    get thicknessWall() {
        return this._thicknessWall;
    }
    get thicknessFloor() {
        return this._thicknessFloor;
    }
}


/***/ }),

/***/ "KoFg":
/*!**********************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/RoomPlane.ts ***!
  \**********************************************************************/
/*! exports provided: RoomPlane */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPlane", function() { return RoomPlane; });
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/utils/TextureUtils */ "IxQr");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../Nitro */ "P7Cj");
/* harmony import */ var _PlaneDrawingData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PlaneDrawingData */ "8aMC");
/* harmony import */ var _RoomPlaneBitmapMask__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RoomPlaneBitmapMask */ "8Bwm");
/* harmony import */ var _RoomPlaneRectangleMask__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RoomPlaneRectangleMask */ "RgMb");
/* harmony import */ var _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/PlaneBitmapData */ "I7q/");
/* harmony import */ var _utils_Randomizer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/Randomizer */ "CH4U");








class RoomPlane {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8, _arg_9 = 0, _arg_10 = 0, _arg_11 = 0, _arg_12 = 0) {
        this._Str_4795 = null;
        this._Str_1720 = 0;
        this._height = 0;
        this._Str_5886 = [];
        this._Str_4047 = [];
        this._Str_5088 = [];
        this._Str_8341 = [];
        this._Str_14495 = [];
        this._Str_16308 = _arg_8;
        this._Str_1049 = null;
        this._Str_2730 = null;
        this._Str_4891 = false;
        this._Str_5545 = null;
        this._Str_5221 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._Str_5221.assign(k);
        this._location = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._location.assign(_arg_2);
        this._Str_2920 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._Str_2920.assign(_arg_3);
        this._Str_2943 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._Str_2943.assign(_arg_4);
        this._normal = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].crossProduct(this._Str_2920, this._Str_2943);
        if (this._normal.length > 0) {
            this._normal.multiply((1 / this._normal.length));
        }
        if (_arg_7 != null) {
            for (let entry of _arg_7) {
                if (!entry)
                    continue;
                const vector = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
                vector.assign(entry);
                this._Str_5886.push(vector);
            }
        }
        this._disposed = false;
        this._Str_3816 = false;
        this._Str_576 = null;
        this._Str_13946 = true;
        this._Str_3406 = -1;
        this._offset = new PIXI.Point();
        this._relativeDepth = 0;
        this._type = _arg_5;
        this._color = 0;
        this._rasterizer = null;
        this._Str_7367 = true;
        this._Str_2708 = new Map();
        this._Str_2820 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._Str_2745 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._Str_2639 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._Str_2766 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._Str_1720 = 0;
        this._height = 0;
        this._Str_20541 = _arg_9;
        this._Str_19707 = _arg_10;
        this._Str_21079 = _arg_11;
        this._Str_22024 = _arg_12;
        this._Str_4542 = _arg_6;
        this._uniqueId = ++RoomPlane._uniqueIdCounter;
    }
    static blend(k, _arg_2) {
        return 0;
        //return Canvas.colorize(_arg_2, (k | 0xFF000000)) & 0xFFFFFF;
    }
    set _Str_14801(k) {
        if (k !== this._Str_7367) {
            if (!this._Str_7367)
                this._Str_11000();
            this._Str_7367 = k;
        }
    }
    get _Str_14801() {
        return this._Str_7367;
    }
    get bitmapData() {
        if (!this.visible || !this._Str_1049)
            return null;
        const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(this._Str_1049, new PIXI.Rectangle(0, 0, this._Str_1720, this._height));
        return texture;
    }
    get visible() {
        return (this._Str_3816 && this._Str_7367);
    }
    get offset() {
        return this._offset;
    }
    get relativeDepth() {
        return this._relativeDepth;
    }
    get color() {
        return this._color;
    }
    set color(k) {
        this._color = k;
    }
    get type() {
        return this._type;
    }
    get _Str_5424() {
        return this._Str_2920;
    }
    get _Str_4968() {
        return this._Str_2943;
    }
    get location() {
        return this._location;
    }
    get normal() {
        return this._normal;
    }
    get _Str_18448() {
        return this._Str_13946;
    }
    set _Str_18448(k) {
        this._Str_13946 = k;
    }
    set rasterizer(k) {
        this._rasterizer = k;
    }
    set _Str_16279(k) {
        this._Str_4795 = k;
    }
    set id(k) {
        if (k === this._Str_576)
            return;
        this._Str_11000();
        this._Str_576 = k;
    }
    get uniqueId() {
        return this._uniqueId;
    }
    dispose() {
        if (this._Str_1049) {
            this._Str_1049.destroy();
            this._Str_1049 = null;
        }
        if (this._Str_2708) {
            for (let bitmap of this._Str_2708.values()) {
                if (!bitmap)
                    continue;
                if (bitmap.bitmap)
                    bitmap.bitmap.destroy();
                bitmap.dispose();
            }
            this._Str_2708 = null;
        }
        this._Str_5545 = null;
        this._location = null;
        this._Str_5221 = null;
        this._Str_2920 = null;
        this._Str_2943 = null;
        this._normal = null;
        this._rasterizer = null;
        this._Str_2820 = null;
        this._Str_2745 = null;
        this._Str_2639 = null;
        this._Str_2766 = null;
        this._Str_4047 = null;
        this._Str_5088 = null;
        if (this._Str_2730) {
            this._Str_2730.destroy();
            this._Str_2730 = null;
        }
        this._disposed = true;
    }
    _Str_24896(k) {
        if (!this.visible || !this._Str_1049 || !k)
            return null;
        if ((this._Str_1049.width !== k.width) || (this._Str_1049.height !== k.height))
            return null;
        //k.copyPixels(this._Str_1049, this._Str_1049.rect, RoomPlane.ZERO_POINT);
        return k;
    }
    _Str_17642(k, _arg_2) {
        const existing = this._Str_2708.get(k);
        if (existing) {
            this._Str_2708.delete(k);
            existing.dispose();
        }
        this._Str_5545 = _arg_2;
        this._Str_2708.set(k, _arg_2);
        return true;
    }
    _Str_11000(k = null) {
        if (this._Str_2708 && this._Str_2708.size) {
            for (let bitmap of this._Str_2708.values()) {
                if (!bitmap)
                    continue;
                bitmap.dispose();
            }
            this._Str_2708.clear();
        }
        this._Str_5545 = null;
    }
    getTextureIdentifier(k) {
        if (this._rasterizer)
            return this._rasterizer.getTextureIdentifier(k, this.normal);
        return k.toString();
    }
    _Str_10518(k, _arg_2) {
        if (!k)
            return false;
        let planeBitmap = this._Str_5545;
        if (!planeBitmap) {
            planeBitmap = this._Str_2708.get(this.getTextureIdentifier(k.scale));
        }
        this._Str_19336();
        if (this._Str_7367 && ((!planeBitmap || ((planeBitmap.timeStamp >= 0) && (_arg_2 > planeBitmap.timeStamp))) || this._Str_4891))
            return true;
        return false;
    }
    _Str_10114(k, _arg_2) {
        if (!k)
            return null;
        let _local_3 = null;
        if (this._Str_10518(k, _arg_2)) {
            const _local_4 = this.getTextureIdentifier(k.scale);
            const _local_5 = (this._Str_2920.length * k.scale);
            const _local_6 = (this._Str_2943.length * k.scale);
            const _local_7 = k.getCoordinatePosition(this._normal);
            if (this._Str_5545) {
                _local_3 = this._Str_5545;
            }
            else {
                _local_3 = this._Str_2708.get(_local_4);
            }
            let _local_8 = null;
            if (_local_3)
                _local_8 = _local_3.bitmap;
            if (this._rasterizer) {
                _local_3 = this._rasterizer.render(_local_8, this._Str_576, _local_5, _local_6, k.scale, _local_7, this._Str_13946, this._Str_20541, this._Str_19707, this._Str_21079, this._Str_22024, _arg_2);
                if (_local_3) {
                    if (_local_8 && (_local_3.bitmap !== _local_8))
                        _local_8.destroy();
                }
            }
            else {
                const _local_9 = new PIXI.Graphics();
                _local_9.beginFill(0xFFFFFF);
                _local_9.drawRect(0, 0, _local_5, _local_6);
                _local_9.endFill();
                _local_3 = new _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_6__["PlaneBitmapData"](_local_9, -1);
            }
            if (_local_3) {
                this._Str_17859(_local_3.bitmap, k);
                this._Str_17642(_local_4, _local_3);
            }
        }
        else {
            if (this._Str_5545) {
                _local_3 = this._Str_5545;
            }
            else {
                _local_3 = this._Str_2708.get(this.getTextureIdentifier(k.scale));
            }
        }
        if (_local_3) {
            this._Str_5545 = _local_3;
            return _local_3.bitmap;
        }
        return null;
    }
    _Str_23649(k) {
        if (!this._Str_4542)
            return null;
        const _local_5 = new _PlaneDrawingData__WEBPACK_IMPORTED_MODULE_3__["PlaneDrawingData"]();
        let index = 0;
        while (index < this._Str_4047.length) {
            const mask = this._Str_4047[index];
            if (mask) {
                const planeMask = this._Str_4795._Str_8361(mask.type);
                if (planeMask) {
                    const assetName = planeMask._Str_2125(k.scale);
                    if (assetName) {
                        const position = k.getCoordinatePosition(this._normal);
                        const asset = planeMask._Str_21021(k.scale, position);
                        if (asset) {
                            const _local_3 = (this._Str_2730.width * (1 - (mask._Str_5120 / this._Str_2920.length)));
                            const _local_4 = (this._Str_2730.height * (1 - (mask._Str_4659 / this._Str_2943.length)));
                            const _local_11 = new PIXI.Point((_local_3 + asset.offsetX), (_local_4 + asset.offsetY));
                            _local_5.addMask(assetName, _local_11, asset.flipH, asset.flipV);
                        }
                    }
                }
            }
        }
        return _local_5;
    }
    _Str_24802(k) {
        const _local_2 = k.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](0, 0, 0));
        const _local_3 = k.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"](0, 1, 0));
        return Math.round((this._Str_2920.length * Math.abs((_local_2.x - _local_3.x))));
    }
    _Str_22136(geometry) {
        var drawingDatas = [];
        if (this._Str_3816) {
            const maskData = this._Str_23649(geometry);
            const layers = this._rasterizer._Str_8988(this._Str_576);
            let i = 0;
            while (i < layers.length) {
                const layer = layers[i];
                if (layer) {
                    if (this._Str_13946 && layer._Str_8547()) {
                        const normal = geometry.getCoordinatePosition(this._normal);
                        const cm = layer._Str_8547()._Str_21968(normal);
                        //const data      = new PlaneDrawingData(maskData, blend(this._color, layer._Str_751()), cm._Str_14945());
                        const data = new _PlaneDrawingData__WEBPACK_IMPORTED_MODULE_3__["PlaneDrawingData"](maskData, this._color, cm._Str_14945());
                        _utils_Randomizer__WEBPACK_IMPORTED_MODULE_7__["Randomizer"]._Str_17384(this._Str_16308);
                        for (let column of cm._Str_23721(this._Str_24802(geometry))) {
                            let assetNames = [];
                            for (let cell of column._Str_22299()) {
                                const name = cell._Str_2125(normal);
                                if (name)
                                    assetNames.push(name);
                            }
                            if (assetNames.length > 0) {
                                if (!column._Str_24523())
                                    assetNames.push('');
                                data._Str_22862(assetNames);
                            }
                        }
                        if (data._Str_17636.length > 0)
                            drawingDatas.push(data);
                    }
                    else {
                        //data = new PlaneDrawingData(maskData, blend(this._color, layer._Str_751()));
                        const data = new _PlaneDrawingData__WEBPACK_IMPORTED_MODULE_3__["PlaneDrawingData"](maskData, this._color);
                        drawingDatas.push(data);
                    }
                }
                i++;
            }
            if (!drawingDatas.length)
                drawingDatas.push(new _PlaneDrawingData__WEBPACK_IMPORTED_MODULE_3__["PlaneDrawingData"](maskData, this._color));
        }
        return drawingDatas;
    }
    // private _Str_25956(k:PlaneBitmapData): void
    // {
    // }
    update(geometry, timeSinceStartMs) {
        if (!geometry || this._disposed)
            return false;
        let geometryChanged = false;
        if (this._Str_3406 != geometry.updateId)
            geometryChanged = true;
        if (!geometryChanged || !this._Str_7367) {
            if (!this.visible)
                return false;
        }
        if (geometryChanged) {
            this._Str_5545 = null;
            let cosAngle = 0;
            cosAngle = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].cosAngle(geometry.directionAxis, this.normal);
            if (cosAngle > -0.001) {
                if (this._Str_3816) {
                    this._Str_3816 = false;
                    return true;
                }
                return false;
            }
            let i = 0;
            while (i < this._Str_5886.length) {
                cosAngle = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].cosAngle(geometry.directionAxis, this._Str_5886[i]);
                if (cosAngle > -0.001) {
                    if (this._Str_3816) {
                        this._Str_3816 = false;
                        return true;
                    }
                    return false;
                }
                i++;
            }
            this._Str_18702(geometry);
            const originPos = geometry.getScreenPosition(this._Str_5221);
            const originZ = originPos.z;
            let relativeDepth = (Math.max(this._Str_2820.z, this._Str_2745.z, this._Str_2639.z, this._Str_2766.z) - originZ);
            if (this._type === RoomPlane.TYPE_FLOOR) {
                relativeDepth = (relativeDepth - ((this._location.z + Math.min(0, this._Str_2920.z, this._Str_2943.z)) * 8));
            }
            if (this._type === RoomPlane.TYPE_LANDSCAPE) {
                relativeDepth = (relativeDepth + 0.02);
            }
            this._relativeDepth = relativeDepth;
            this._Str_3816 = true;
            this._Str_3406 = geometry.updateId;
        }
        if (geometryChanged || this._Str_10518(geometry, timeSinceStartMs)) {
            if (!this._Str_1049 || (this._Str_1720 !== this._Str_1049.width) || (this._height !== this._Str_1049.height)) {
                if (this._Str_1049) {
                    this._Str_1049.destroy();
                    this._Str_1049 = null;
                    if ((this._Str_1720 < 1) || (this._height < 1))
                        return true;
                }
                else {
                    if ((this._Str_1720 < 1) || (this._height < 1))
                        return false;
                }
                const graphic = new PIXI.Graphics();
                graphic.beginFill(0xFFFFFF, 0);
                graphic.drawRect(0, 0, this._Str_1720, this._height);
                graphic.endFill();
                this._Str_1049 = graphic;
                if (!this._Str_1049)
                    return false;
            }
            else {
                //this._Str_1049.lock();
                //this._Str_1049.fillRect(this._Str_1049.rect, 0xFFFFFF);
            }
            _utils_Randomizer__WEBPACK_IMPORTED_MODULE_7__["Randomizer"]._Str_17384(this._Str_16308);
            const texture = this._Str_10114(geometry, timeSinceStartMs);
            if (texture) {
                this._Str_17000(geometry, texture);
            }
            else {
                this.dispose();
                return false;
            }
            return ((texture !== null) || geometryChanged);
        }
        return false;
    }
    _Str_18702(k) {
        this._Str_2820.assign(k.getScreenPosition(this._location));
        this._Str_2745.assign(k.getScreenPosition(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].sum(this._location, this._Str_2943)));
        this._Str_2639.assign(k.getScreenPosition(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].sum(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].sum(this._location, this._Str_2920), this._Str_2943)));
        this._Str_2766.assign(k.getScreenPosition(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].sum(this._location, this._Str_2920)));
        this._offset = k.getScreenPoint(this._Str_5221);
        this._Str_2820.x = Math.round(this._Str_2820.x);
        this._Str_2820.y = Math.round(this._Str_2820.y);
        this._Str_2745.x = Math.round(this._Str_2745.x);
        this._Str_2745.y = Math.round(this._Str_2745.y);
        this._Str_2639.x = Math.round(this._Str_2639.x);
        this._Str_2639.y = Math.round(this._Str_2639.y);
        this._Str_2766.x = Math.round(this._Str_2766.x);
        this._Str_2766.y = Math.round(this._Str_2766.y);
        this._offset.x = Math.round(this._offset.x);
        this._offset.y = Math.round(this._offset.y);
        var _local_2 = Math.min(this._Str_2820.x, this._Str_2745.x, this._Str_2639.x, this._Str_2766.x);
        var _local_3 = Math.max(this._Str_2820.x, this._Str_2745.x, this._Str_2639.x, this._Str_2766.x);
        var _local_4 = Math.min(this._Str_2820.y, this._Str_2745.y, this._Str_2639.y, this._Str_2766.y);
        var _local_5 = Math.max(this._Str_2820.y, this._Str_2745.y, this._Str_2639.y, this._Str_2766.y);
        _local_3 = (_local_3 - _local_2);
        this._offset.x = (this._offset.x - _local_2);
        this._Str_2820.x = (this._Str_2820.x - _local_2);
        this._Str_2745.x = (this._Str_2745.x - _local_2);
        this._Str_2639.x = (this._Str_2639.x - _local_2);
        this._Str_2766.x = (this._Str_2766.x - _local_2);
        _local_5 = (_local_5 - _local_4);
        this._offset.y = (this._offset.y - _local_4);
        this._Str_2820.y = (this._Str_2820.y - _local_4);
        this._Str_2745.y = (this._Str_2745.y - _local_4);
        this._Str_2639.y = (this._Str_2639.y - _local_4);
        this._Str_2766.y = (this._Str_2766.y - _local_4);
        this._Str_1720 = _local_3;
        this._height = _local_5;
    }
    _Str_17000(k, _arg_2) {
        if (((((((this._Str_2820 == null) || (this._Str_2745 == null)) || (this._Str_2639 == null)) || (this._Str_2766 == null)) || (_arg_2 == null)) || (this._Str_1049 == null))) {
            return;
        }
        var _local_3 = (this._Str_2766.x - this._Str_2639.x);
        var _local_4 = (this._Str_2766.y - this._Str_2639.y);
        var _local_5 = (this._Str_2745.x - this._Str_2639.x);
        var _local_6 = (this._Str_2745.y - this._Str_2639.y);
        if (((this._type == RoomPlane.TYPE_WALL) || (this._type == RoomPlane.TYPE_LANDSCAPE))) {
            if (Math.abs((_local_5 - _arg_2.width)) <= 1) {
                _local_5 = _arg_2.width;
            }
            if (Math.abs((_local_6 - _arg_2.width)) <= 1) {
                _local_6 = _arg_2.width;
            }
            if (Math.abs((_local_3 - _arg_2.height)) <= 1) {
                _local_3 = _arg_2.height;
            }
            if (Math.abs((_local_4 - _arg_2.height)) <= 1) {
                _local_4 = _arg_2.height;
            }
        }
        var _local_7 = (_local_5 / _arg_2.width);
        var _local_8 = (_local_6 / _arg_2.width);
        var _local_9 = (_local_3 / _arg_2.height);
        var _local_10 = (_local_4 / _arg_2.height);
        var _local_11 = new PIXI.Matrix();
        _local_11.a = _local_7;
        _local_11.b = _local_8;
        _local_11.c = _local_9;
        _local_11.d = _local_10;
        _local_11.translate(this._Str_2639.x, this._Str_2639.y);
        this.draw(_arg_2, _local_11);
    }
    draw(k, matrix) {
        const clone = k.clone();
        clone.transform.setFromMatrix(matrix);
        this._Str_1049 = clone;
    }
    _Str_25213() {
        if (this._disposed || !this._Str_4542 || !this._Str_4047.length)
            return;
        this._Str_4891 = true;
        this._Str_4047 = [];
    }
    _Str_24569(k, _arg_2, _arg_3) {
        if (!this._Str_4542)
            return false;
        let _local_5 = 0;
        while (_local_5 < this._Str_4047.length) {
            const mask = this._Str_4047[_local_5];
            if (mask) {
                if ((((mask.type === k) && (mask._Str_5120 === _arg_2)) && (mask._Str_4659 === _arg_3)))
                    return false;
            }
            _local_5++;
        }
        const mask = new _RoomPlaneBitmapMask__WEBPACK_IMPORTED_MODULE_4__["RoomPlaneBitmapMask"](k, _arg_2, _arg_3);
        this._Str_4047.push(mask);
        this._Str_4891 = true;
        return true;
    }
    _Str_25934() {
        if (!this._Str_4542 || !this._Str_5088.length)
            return;
        this._Str_4891 = true;
        this._Str_5088 = [];
    }
    _Str_24758(k, _arg_2, _arg_3, _arg_4) {
        if (this._Str_4542) {
            for (let mask of this._Str_5088) {
                if (!mask)
                    continue;
                if ((((mask._Str_5120 === k) && (mask._Str_4659 === _arg_2)) && (mask._Str_9124 === _arg_3)) && (mask._Str_12156 === _arg_4))
                    return false;
            }
            const _local_5 = new _RoomPlaneRectangleMask__WEBPACK_IMPORTED_MODULE_5__["RoomPlaneRectangleMask"](k, _arg_2, _arg_3, _arg_4);
            this._Str_5088.push(_local_5);
            this._Str_4891 = true;
            return true;
        }
        return false;
    }
    _Str_19336() {
        if (!this._Str_4891)
            return;
        var _local_3 = true;
        let _local_6;
        if (this._Str_4047.length === this._Str_8341.length) {
            for (let mask of this._Str_4047) {
                if (!mask)
                    continue;
                _local_6 = false;
                for (let plane of this._Str_8341) {
                    if (!plane)
                        continue;
                    if (((plane.type === mask.type) && (plane._Str_5120 === mask._Str_5120)) && (plane._Str_4659 === mask._Str_4659)) {
                        _local_6 = true;
                        break;
                    }
                }
                if (!_local_6) {
                    _local_3 = false;
                    break;
                }
            }
        }
        else {
            _local_3 = false;
        }
        if (this._Str_5088.length > this._Str_14495.length)
            _local_3 = false;
        if (_local_3)
            this._Str_4891 = false;
    }
    _Str_17859(texture, geometry) {
        if (!texture || !geometry)
            return;
        if (((!this._Str_4542) || ((!this._Str_4047.length && !this._Str_5088.length) && !this._Str_4891)) || !this._Str_4795)
            return;
        let width = texture.width;
        let height = texture.height;
        this._Str_19336();
        if (!this._Str_2730 || (this._Str_2730.width !== width) || (this._Str_2730.height !== height)) {
            if (this._Str_2730) {
                this._Str_2730.destroy();
                this._Str_2730 = null;
            }
            const graphic = new PIXI.Graphics();
            graphic
                .beginFill(0xFFFFFF, 0)
                .drawRect(0, 0, width, height)
                .endFill();
            this._Str_2730 = graphic;
            this._Str_4891 = true;
        }
        if (this._Str_4891) {
            this._Str_8341 = [];
            this._Str_14495 = [];
            if (this._Str_2730) {
                this._Str_2730
                    .beginFill(0xFFFFFF, 0)
                    .drawRect(0, 0, width, height)
                    .endFill();
            }
            this._Str_11000(texture);
            const normal = geometry.getCoordinatePosition(this._normal);
            let type = null;
            let posX = 0;
            let posY = 0;
            let i = 0;
            while (i < this._Str_4047.length) {
                const mask = this._Str_4047[i];
                if (mask) {
                    type = mask.type;
                    posX = (this._Str_2730.width - ((this._Str_2730.width * mask._Str_5120) / this._Str_2920.length));
                    posY = (this._Str_2730.height - ((this._Str_2730.height * mask._Str_4659) / this._Str_2943.length));
                    this._Str_4795._Str_17859(this._Str_2730, type, geometry.scale, normal, posX, posY);
                    this._Str_8341.push(new _RoomPlaneBitmapMask__WEBPACK_IMPORTED_MODULE_4__["RoomPlaneBitmapMask"](type, mask._Str_5120, mask._Str_4659));
                }
                i++;
            }
            i = 0;
            while (i < this._Str_5088.length) {
                const rectMask = this._Str_5088[i];
                if (rectMask) {
                    posX = (this._Str_2730.width - ((this._Str_2730.width * rectMask._Str_5120) / this._Str_2920.length));
                    posY = (this._Str_2730.height - ((this._Str_2730.height * rectMask._Str_4659) / this._Str_2943.length));
                    let wd = ((this._Str_2730.width * rectMask._Str_9124) / this._Str_2920.length);
                    let ht = ((this._Str_2730.height * rectMask._Str_12156) / this._Str_2943.length);
                    this._Str_2730
                        .beginFill(0xFF0000)
                        .drawRect((posX - wd), (posY - ht), wd, ht)
                        .endFill();
                    this._Str_14495.push(new _RoomPlaneRectangleMask__WEBPACK_IMPORTED_MODULE_5__["RoomPlaneRectangleMask"](rectMask._Str_9124, rectMask._Str_4659, rectMask._Str_9124, rectMask._Str_12156));
                }
                i++;
            }
            this._Str_4891 = false;
        }
        this._Str_24790(texture, this._Str_2730);
    }
    _Str_24790(texture, mask) {
        if (!texture || !mask)
            return;
        const maskCanvas = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.renderer.extract.canvas(mask);
        const textureCanvas = _Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.renderer.extract.canvas(texture);
        const textureCtx = textureCanvas.getContext('2d');
        textureCtx.drawImage(maskCanvas, 0, 0);
        const textureImageData = textureCtx.getImageData(0, 0, textureCanvas.width, textureCanvas.height);
        const data = textureImageData.data;
        for (let i = 0; i < data.length; i += 4) {
            const red = data[i];
            const green = data[i + 1];
            const blue = data[i + 2];
            const alpha = data[i + 3];
            if (!red && !green && !blue)
                data[i + 3] = 0;
        }
        textureCtx.putImageData(textureImageData, 0, 0);
        const newTexture = PIXI.Texture.from(textureCanvas);
        if (!newTexture)
            return;
        texture
            .clear()
            .beginTextureFill({ texture: newTexture })
            .drawRect(0, 0, newTexture.width, newTexture.height)
            .endFill();
    }
}
RoomPlane.ZERO_POINT = new PIXI.Point(0, 0);
RoomPlane.TYPE_UNDEFINED = 0;
RoomPlane.TYPE_WALL = 1;
RoomPlane.TYPE_FLOOR = 2;
RoomPlane.TYPE_LANDSCAPE = 3;
RoomPlane._uniqueIdCounter = 1;


/***/ }),

/***/ "Kr/V":
/*!***********************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarSelectedMessage.ts ***!
  \***********************************************************************/
/*! exports provided: ObjectAvatarSelectedMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarSelectedMessage", function() { return ObjectAvatarSelectedMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarSelectedMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(selected) {
        super();
        this._selected = selected;
    }
    get selected() {
        return this._selected;
    }
}


/***/ }),

/***/ "Kv7i":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorEventCategoriesParser.ts ***!
  \****************************************************************************************************/
/*! exports provided: NavigatorEventCategoriesParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorEventCategoriesParser", function() { return NavigatorEventCategoriesParser; });
/* harmony import */ var _NavigatorEventCategoryDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavigatorEventCategoryDataParser */ "PsFf");

class NavigatorEventCategoriesParser {
    flush() {
        this._categories = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalCategories = wrapper.readInt();
        while (totalCategories > 0) {
            this._categories.push(new _NavigatorEventCategoryDataParser__WEBPACK_IMPORTED_MODULE_0__["NavigatorEventCategoryDataParser"](wrapper));
            totalCategories--;
        }
        return true;
    }
    get categories() {
        return this._categories;
    }
}


/***/ }),

/***/ "Kx+W":
/*!*******************************************************!*\
  !*** ./src/client/nitro/avatar/enum/AvatarSetType.ts ***!
  \*******************************************************/
/*! exports provided: AvatarSetType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarSetType", function() { return AvatarSetType; });
class AvatarSetType {
}
AvatarSetType.FULL = 'full';
AvatarSetType.HEAD = 'head';
AvatarSetType.BODY = 'body';


/***/ }),

/***/ "KyoB":
/*!*****************************************************!*\
  !*** ./src/client/nitro/avatar/alias/AssetAlias.ts ***!
  \*****************************************************/
/*! exports provided: AssetAlias */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetAlias", function() { return AssetAlias; });
class AssetAlias {
    constructor(name, alias) {
        this._name = name;
        this._link = alias.link;
        this._flipH = alias.fliph === 1;
        this._flipV = alias.flipv === 1;
    }
    get name() {
        return this._name;
    }
    get link() {
        return this._link;
    }
    get flipH() {
        return this._flipH;
    }
    get flipV() {
        return this._flipV;
    }
}


/***/ }),

/***/ "LFPN":
/*!****************************************************************!*\
  !*** ./src/client/nitro/session/handler/RoomSessionHandler.ts ***!
  \****************************************************************/
/*! exports provided: RoomSessionHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSessionHandler", function() { return RoomSessionHandler; });
/* harmony import */ var _communication_messages_incoming_desktop_DesktopViewEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../communication/messages/incoming/desktop/DesktopViewEvent */ "q4z0");
/* harmony import */ var _communication_messages_incoming_room_access_RoomEnterEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../communication/messages/incoming/room/access/RoomEnterEvent */ "AFd5");
/* harmony import */ var _communication_messages_incoming_room_mapping_RoomModelNameEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../communication/messages/incoming/room/mapping/RoomModelNameEvent */ "zTkZ");
/* harmony import */ var _BaseHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseHandler */ "8mH1");




class RoomSessionHandler extends _BaseHandler__WEBPACK_IMPORTED_MODULE_3__["BaseHandler"] {
    constructor(connection, listener) {
        super(connection, listener);
        connection.addMessageEvent(new _communication_messages_incoming_room_access_RoomEnterEvent__WEBPACK_IMPORTED_MODULE_1__["RoomEnterEvent"](this.onRoomEnterEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_mapping_RoomModelNameEvent__WEBPACK_IMPORTED_MODULE_2__["RoomModelNameEvent"](this.onRoomModelNameEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_desktop_DesktopViewEvent__WEBPACK_IMPORTED_MODULE_0__["DesktopViewEvent"](this.onDesktopViewEvent.bind(this)));
    }
    onRoomEnterEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_access_RoomEnterEvent__WEBPACK_IMPORTED_MODULE_1__["RoomEnterEvent"]))
            return;
        if (this.listener)
            this.listener.sessionUpdate(this.roomId, RoomSessionHandler.RS_CONNECTED);
    }
    onRoomModelNameEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_mapping_RoomModelNameEvent__WEBPACK_IMPORTED_MODULE_2__["RoomModelNameEvent"]))
            return;
        const fromRoomId = this.roomId;
        const toRoomId = event.getParser().roomId;
        if (this.listener) {
            this.listener.sessionReinitialize(fromRoomId, toRoomId);
            this.listener.sessionUpdate(this.roomId, RoomSessionHandler.RS_READY);
        }
    }
    onDesktopViewEvent(event) {
        if (!(event instanceof _communication_messages_incoming_desktop_DesktopViewEvent__WEBPACK_IMPORTED_MODULE_0__["DesktopViewEvent"]))
            return;
        if (this.listener)
            this.listener.sessionUpdate(this.roomId, RoomSessionHandler.RS_DISCONNECTED);
    }
}
RoomSessionHandler.RS_CONNECTED = 'RS_CONNECTED';
RoomSessionHandler.RS_READY = 'RS_READY';
RoomSessionHandler.RS_DISCONNECTED = 'RS_DISCONNECTED';


/***/ }),

/***/ "LG/5":
/*!************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/FigureSetData.ts ***!
  \************************************************************/
/*! exports provided: FigureSetData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FigureSetData", function() { return FigureSetData; });
/* harmony import */ var _figure_Palette__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./figure/Palette */ "YT1U");
/* harmony import */ var _figure_SetType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./figure/SetType */ "bQvs");


class FigureSetData {
    constructor() {
        this._palettes = new Map();
        this._setTypes = new Map();
    }
    dispose() {
    }
    parse(data) {
        if (!data)
            return false;
        for (let palette of data.colors[0].palette) {
            const newPalette = new _figure_Palette__WEBPACK_IMPORTED_MODULE_0__["Palette"](palette);
            if (!newPalette)
                continue;
            this._palettes.set(newPalette.id.toString(), newPalette);
        }
        for (let set of data.sets[0].settype) {
            const newSet = new _figure_SetType__WEBPACK_IMPORTED_MODULE_1__["SetType"](set);
            if (!newSet)
                continue;
            this._setTypes.set(newSet.type, newSet);
        }
        return true;
    }
    _Str_1133(k) {
        for (let _local_2 of k.sets[0].settype) {
            const setType = this._setTypes.get(_local_2['$'].type);
            if (setType) {
                setType._Str_1874(_local_2);
            }
            else {
                this._setTypes.set(_local_2['$'].type, new _figure_SetType__WEBPACK_IMPORTED_MODULE_1__["SetType"](_local_2));
            }
        }
        this._Str_1017(k);
    }
    _Str_1017(k) {
        if (!k)
            return false;
        for (let _local_2 of k.colors[0].palette) {
            const id = _local_2['$'].id.toString();
            const _local_4 = this._palettes.get(id);
            if (!_local_4) {
                this._palettes.set(id, new _figure_Palette__WEBPACK_IMPORTED_MODULE_0__["Palette"](_local_2));
            }
            else {
                _local_4._Str_2015(_local_2);
            }
        }
        for (let _local_3 of k.sets[0].settype) {
            const type = _local_3['$'].type;
            const _local_5 = this._setTypes.get(type);
            if (!_local_5) {
                this._setTypes.set(type, new _figure_SetType__WEBPACK_IMPORTED_MODULE_1__["SetType"](_local_3));
            }
            else {
                _local_5._Str_2015(_local_3);
            }
        }
        return false;
    }
    _Str_1733(k, _arg_2) {
        const types = [];
        for (let set of this._setTypes.values()) {
            if (!set || !set._Str_895(k, _arg_2))
                continue;
            types.push(set.type);
        }
        return types;
    }
    _Str_2264(k, _arg_2) {
        const setType = this._setTypes.get(k);
        if (!setType)
            return null;
        return setType._Str_2264(_arg_2);
    }
    _Str_740(k) {
        return (this._setTypes.get(k) || null);
    }
    _Str_783(k) {
        return (this._palettes.get(k.toString()) || null);
    }
    _Str_938(k) {
        for (let set of this._setTypes.values()) {
            const partSet = set._Str_1020(k);
            if (!partSet)
                continue;
            return partSet;
        }
        return null;
    }
}


/***/ }),

/***/ "LGmI":
/*!*******************************************!*\
  !*** ./src/client/room/utils/Vector3D.ts ***!
  \*******************************************/
/*! exports provided: Vector3D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Vector3D", function() { return Vector3D; });
class Vector3D {
    constructor(x = 0, y = 0, z = 0) {
        this._x = x;
        this._y = y;
        this._z = z;
        this._length = NaN;
    }
    static sum(vector1, vector2) {
        if (!vector1 || !vector2)
            return null;
        return new Vector3D((vector1.x + vector2.x), (vector1.y + vector2.y), (vector1.z + vector2.z));
    }
    static dif(vector1, vector2) {
        if (!vector1 || !vector2)
            return null;
        return new Vector3D((vector1.x - vector2.x), (vector1.y - vector2.y), (vector1.z - vector2.z));
    }
    static product(vector, value) {
        if (!vector)
            return null;
        return new Vector3D((vector.x * value), (vector.y * value), (vector.z * value));
    }
    static dotProduct(vector1, vector2) {
        if (!vector1 || !vector2)
            return null;
        return (vector1.x * vector2.x) + (vector1.y * vector2.y) + (vector1.z * vector2.z);
    }
    static crossProduct(vector1, vector2) {
        if (!vector1 || !vector2)
            return null;
        return new Vector3D(((vector1.y * vector2.z) - (vector1.z * vector2.y)), ((vector1.z * vector2.x) - (vector1.x * vector2.z)), ((vector1.x * vector2.y) - (vector1.y * vector2.x)));
    }
    static scalarProjection(vector1, vector2) {
        if (!vector1 || !vector2)
            return null;
        const length = vector2.length;
        if (length <= 0)
            return -1;
        return ((vector1.x * vector2.x) + (vector1.y * vector2.y) + (vector1.z * vector2.z)) / length;
    }
    static cosAngle(vector1, vector2) {
        if (!vector1 || !vector2)
            return 0;
        const totalLength = (vector1.length * vector2.length);
        if (!totalLength)
            return 0;
        return (Vector3D.dotProduct(vector1, vector2) / totalLength);
    }
    static isEqual(vector1, vector2) {
        if (!vector1 || !vector2)
            return false;
        if ((vector1.x !== vector2.x) || (vector1.y !== vector2.y) || (vector1.z !== vector2.z))
            return false;
        return true;
    }
    negate() {
        this._x = -(this._x);
        this._y = -(this._y);
        this._z = -(this._z);
    }
    add(vector) {
        if (!vector)
            return;
        this._x += vector.x;
        this._y += vector.y;
        this._z += vector.z;
        this._length = NaN;
    }
    subtract(vector) {
        if (!vector)
            return;
        this._x -= vector.x;
        this._y -= vector.y;
        this._z -= vector.z;
        this._length = NaN;
    }
    multiply(amount) {
        this._x *= amount;
        this._y *= amount;
        this._z *= amount;
        this._length = NaN;
    }
    divide(amount) {
        this._x /= amount;
        this._y /= amount;
        this._z /= amount;
        this._length = NaN;
    }
    assign(vector) {
        if (!vector)
            return;
        this._x = vector.x;
        this._y = vector.y;
        this._z = vector.z;
        this._length = NaN;
    }
    get x() {
        return this._x;
    }
    set x(k) {
        this._x = k;
        this._length = NaN;
    }
    get y() {
        return this._y;
    }
    set y(k) {
        this._y = k;
        this._length = NaN;
    }
    get z() {
        return this._z;
    }
    set z(k) {
        this._z = k;
        this._length = NaN;
    }
    get length() {
        if (isNaN(this._length)) {
            this._length = Math.sqrt(((this._x * this._x) + (this._y * this._y)) + (this._z * this._z));
        }
        return this._length;
    }
    toString() {
        return `[Vector3D: ${this._x}, ${this._y}, ${this._z}]`;
    }
}


/***/ }),

/***/ "LO56":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectRoomUpdateMessage.ts ***!
  \*******************************************************************/
/*! exports provided: ObjectRoomUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectRoomUpdateMessage", function() { return ObjectRoomUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectRoomUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(type, value) {
        super(null, null);
        this._type = type;
        this._value = value;
    }
    get type() {
        return this._type;
    }
    get value() {
        return this._value;
    }
}
ObjectRoomUpdateMessage.ROOM_WALL_UPDATE = 'RORUM_ROOM_WALL_UPDATE';
ObjectRoomUpdateMessage.ROOM_FLOOR_UPDATE = 'RORUM_ROOM_FLOOR_UPDATE';
ObjectRoomUpdateMessage.ROOM_LANDSCAPE_UPDATE = 'RORUM_ROOM_LANDSCAPE_UPDATE';


/***/ }),

/***/ "LPTP":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/data/HabboAvatarPartSets.json ***!
  \***************************************************************/
/*! exports provided: partSets, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"partSets\":{\"partSet\":[{\"setType\":\"ri\",\"flippedSetType\":\"ri\"},{\"setType\":\"ri\",\"flippedSetType\":\"ri\"},{\"setType\":\"rh\",\"flippedSetType\":\"lh\"},{\"setType\":\"rhs\",\"flippedSetType\":\"lhs\"},{\"setType\":\"rs\",\"swim\":\"0\",\"flippedSetType\":\"ls\"},{\"setType\":\"rc\",\"flippedSetType\":\"lc\"},{\"setType\":\"bd\"},{\"setType\":\"bds\"},{\"setType\":\"ss\"},{\"setType\":\"sh\"},{\"setType\":\"lg\"},{\"setType\":\"ch\"},{\"setType\":\"cp\"},{\"setType\":\"cc\"},{\"setType\":\"hd\"},{\"setType\":\"fc\"},{\"setType\":\"ey\"},{\"setType\":\"hr\"},{\"setType\":\"hrb\",\"removeSetType\":\"hr\"},{\"setType\":\"li\",\"flippedSetType\":\"li\"},{\"setType\":\"lh\",\"flippedSetType\":\"rh\"},{\"setType\":\"lhs\",\"flippedSetType\":\"rhs\"},{\"setType\":\"ls\",\"flippedSetType\":\"rs\"},{\"setType\":\"lc\",\"flippedSetType\":\"rc\"},{\"setType\":\"wa\"},{\"setType\":\"ea\"},{\"setType\":\"ca\"},{\"setType\":\"fa\"},{\"setType\":\"ha\"},{\"setType\":\"he\"}],\"activePartSets\":[{\"id\":\"figure\",\"activeParts\":[{\"setType\":\"rh\"},{\"setType\":\"rh\"},{\"setType\":\"rhs\"},{\"setType\":\"rs\"},{\"setType\":\"rc\"},{\"setType\":\"bd\"},{\"setType\":\"bds\"},{\"setType\":\"ss\"},{\"setType\":\"sh\"},{\"setType\":\"lg\"},{\"setType\":\"ch\"},{\"setType\":\"cp\"},{\"setType\":\"cc\"},{\"setType\":\"wa\"},{\"setType\":\"hd\"},{\"setType\":\"fc\"},{\"setType\":\"ey\"},{\"setType\":\"hr\"},{\"setType\":\"hrb\"},{\"setType\":\"lh\"},{\"setType\":\"lhs\"},{\"setType\":\"ls\"},{\"setType\":\"lc\"},{\"setType\":\"ea\"},{\"setType\":\"ca\"},{\"setType\":\"fa\"},{\"setType\":\"ha\"},{\"setType\":\"he\"}]},{\"id\":\"head\",\"activeParts\":[{\"setType\":\"hd\"},{\"setType\":\"fc\"},{\"setType\":\"ey\"},{\"setType\":\"hr\"},{\"setType\":\"hrb\"},{\"setType\":\"ea\"},{\"setType\":\"fa\"},{\"setType\":\"ha\"},{\"setType\":\"he\"}]},{\"id\":\"speak\",\"activeParts\":[{\"setType\":\"hd\"},{\"setType\":\"hr\"},{\"setType\":\"hrb\"},{\"setType\":\"fc\"},{\"setType\":\"fa\"},{\"setType\":\"ha\"}]},{\"id\":\"gesture\",\"activeParts\":[{\"setType\":\"ey\"},{\"setType\":\"fc\"}]},{\"id\":\"eye\",\"activeParts\":[{\"setType\":\"ey\"}]},{\"id\":\"handRight\",\"activeParts\":[{\"setType\":\"rh\"},{\"setType\":\"rhs\"},{\"setType\":\"rs\"},{\"setType\":\"rc\"},{\"setType\":\"ri\"}]},{\"id\":\"handRightAndHead\",\"activeParts\":[{\"setType\":\"rh\"},{\"setType\":\"rhs\"},{\"setType\":\"rs\"},{\"setType\":\"rc\"},{\"setType\":\"ri\"},{\"setType\":\"ey\"},{\"setType\":\"fc\"},{\"setType\":\"hd\"}]},{\"id\":\"handLeft\",\"activeParts\":[{\"setType\":\"lh\"},{\"setType\":\"lhs\"},{\"setType\":\"ls\"},{\"setType\":\"lc\"},{\"setType\":\"li\"}]},{\"id\":\"walk\",\"activeParts\":[{\"setType\":\"bd\"},{\"setType\":\"bds\"},{\"setType\":\"ss\"},{\"setType\":\"lg\"},{\"setType\":\"lh\"},{\"setType\":\"lhs\"},{\"setType\":\"rh\"},{\"setType\":\"rhs\"},{\"setType\":\"ls\"},{\"setType\":\"lc\"},{\"setType\":\"rs\"},{\"setType\":\"rc\"},{\"setType\":\"sh\"}]},{\"id\":\"sit\",\"activeParts\":[{\"setType\":\"bd\"},{\"setType\":\"bds\"},{\"setType\":\"ss\"},{\"setType\":\"lg\"},{\"setType\":\"sh\"},{\"setType\":\"cc\"}]},{\"id\":\"itemRight\",\"activeParts\":[{\"setType\":\"ri\"}]}]}}");

/***/ }),

/***/ "LUka":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/HighScoreData.ts ***!
  \*****************************************************************/
/*! exports provided: HighScoreData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HighScoreData", function() { return HighScoreData; });
class HighScoreData {
    constructor() {
        this._score = -1;
        this._users = [];
    }
    get score() {
        return this._score;
    }
    set score(k) {
        this._score = k;
    }
    get users() {
        return this._users;
    }
    set users(k) {
        this._users = k;
    }
    addUsername(k) {
        this._users.push(k);
    }
}


/***/ }),

/***/ "LV+M":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureRoomBackgroundLogic.ts ***!
  \**************************************************************************************/
/*! exports provided: FurnitureRoomBackgroundLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureRoomBackgroundLogic", function() { return FurnitureRoomBackgroundLogic; });
/* harmony import */ var _FurnitureRoomBrandingLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureRoomBrandingLogic */ "6qh2");

class FurnitureRoomBackgroundLogic extends _FurnitureRoomBrandingLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureRoomBrandingLogic"] {
    getAdClickUrl(model) {
        return null;
    }
}


/***/ }),

/***/ "LeRN":
/*!***************************************************************!*\
  !*** ./src/client/core/communication/CommunicationManager.ts ***!
  \***************************************************************/
/*! exports provided: CommunicationManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommunicationManager", function() { return CommunicationManager; });
/* harmony import */ var _common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _connections_SocketConnection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./connections/SocketConnection */ "1TD8");


class CommunicationManager extends _common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor() {
        super();
        this._connections = [];
    }
    onDispose() {
        if (!this._connections || !this._connections.length)
            return;
        for (let connection of this._connections.values())
            connection && connection.dispose();
    }
    createConnection(stateListener = null) {
        const connection = new _connections_SocketConnection__WEBPACK_IMPORTED_MODULE_1__["SocketConnection"](this, stateListener);
        if (!connection)
            return;
        this._connections.push(connection);
        return connection;
    }
    update(time) {
        let index = 0;
        while (index < this._connections.length) {
            const connection = this._connections[index];
            connection.processReceivedData();
            if (this.disposed)
                return;
            if (connection.disposed)
                this._connections.splice(index, 1);
            else
                index++;
        }
    }
}


/***/ }),

/***/ "Lk/H":
/*!******************************************************!*\
  !*** ./src/client/room/renderer/RoomSpriteCanvas.ts ***!
  \******************************************************/
/*! exports provided: RoomSpriteCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSpriteCanvas", function() { return RoomSpriteCanvas; });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "IqKQ");
/* harmony import */ var _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../nitro/ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomSpriteMouseEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events/RoomSpriteMouseEvent */ "TSaE");
/* harmony import */ var _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../object/enum/RoomObjectSpriteType */ "9ewd");
/* harmony import */ var _utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/RoomEnterEffect */ "vqvB");
/* harmony import */ var _utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/RoomGeometry */ "DACI");
/* harmony import */ var _utils_Vector3D__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/Vector3D */ "LGmI");
/* harmony import */ var _cache_RoomObjectCache__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cache/RoomObjectCache */ "RzrE");
/* harmony import */ var _utils_ExtendedSprite__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/ExtendedSprite */ "zhdj");
/* harmony import */ var _utils_ObjectMouseData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/ObjectMouseData */ "sgAi");
/* harmony import */ var _utils_SortableSprite__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/SortableSprite */ "quLX");











class RoomSpriteCanvas {
    constructor(container, id, width, height, scale) {
        this._id = id;
        this._container = container;
        this._geometry = new _utils_RoomGeometry__WEBPACK_IMPORTED_MODULE_5__["RoomGeometry"](scale, new _utils_Vector3D__WEBPACK_IMPORTED_MODULE_6__["Vector3D"](-135, 30, 0), new _utils_Vector3D__WEBPACK_IMPORTED_MODULE_6__["Vector3D"](11, 11, 5), new _utils_Vector3D__WEBPACK_IMPORTED_MODULE_6__["Vector3D"](-135, 0.5, 0));
        this._renderTimestamp = 0;
        this._master = null;
        this._display = null;
        this._mask = null;
        this._sortableSprites = [];
        this._spriteCount = 0;
        this._activeSpriteCount = 0;
        this._spritePool = [];
        this._skipObjectUpdate = false;
        this._runningSlow = false;
        this._width = 0;
        this._height = 0;
        this._renderedWidth = 0;
        this._renderedHeight = 0;
        this._screenOffsetX = 0;
        this._screenOffsetY = 0;
        this._mouseLocation = new PIXI.Point;
        this._mouseOldX = 0;
        this._mouseOldY = 0;
        this._mouseCheckCount = 0;
        this._mouseSpriteWasHit = false;
        this._mouseActiveObjects = new Map();
        this._eventCache = new Map();
        this._eventId = 0;
        this._scale = 1;
        this._noSpriteVisibilityChecking = false;
        this._usesExclusionRectangles = false;
        this._usesMask = true;
        this._canvasUpdated = false;
        this._objectCache = new _cache_RoomObjectCache__WEBPACK_IMPORTED_MODULE_7__["RoomObjectCache"](this._container.roomObjectVariableAccurateZ);
        this._mouseListener = null;
        this.setupCanvas();
        this.initialize(width, height);
    }
    setupCanvas() {
        if (!this._master) {
            this._master = new PIXI.Container();
            this._master.interactiveChildren = false;
        }
        if (!this._display) {
            const display = new PIXI.Container();
            display.name = 'canvas';
            this._master.addChild(display);
            this._display = display;
        }
    }
    dispose() {
        if (this._master) {
            for (let child of this._master.children) {
                if (!child)
                    continue;
                if (child.parent)
                    child.parent.removeChild(child);
                child.destroy();
            }
            if (this._master.parent)
                this._master.parent.removeChild(this._master);
            this._master.destroy();
            this._master = null;
        }
    }
    initialize(width, height) {
        width = width < 1 ? 1 : width;
        height = height < 1 ? 1 : height;
        if (this._usesMask) {
            if (!this._mask) {
                this._mask = new PIXI.Sprite(pixi_js__WEBPACK_IMPORTED_MODULE_0__["Texture"].WHITE);
                this._mask.name = 'mask';
                if (this._master) {
                    this._master.addChild(this._mask);
                    if (this._display)
                        this._display.mask = this._mask;
                }
            }
            this._mask.width = width;
            this._mask.height = height;
        }
        if (this._master) {
            if (this._master.hitArea) {
                const hitArea = this._master.hitArea;
                hitArea.width = width;
                hitArea.height = height;
            }
            else {
                this._master.hitArea = new PIXI.Rectangle(0, 0, width, height);
            }
        }
        this._width = width;
        this._height = height;
    }
    setMask(flag) {
        if (flag && !this._usesMask) {
            this._usesMask = true;
            if (this._mask && (this._mask.parent !== this._master)) {
                this._master.addChild(this._mask);
                this._display.mask = this._mask;
            }
        }
        else if (!flag && this._usesMask) {
            this._usesMask = false;
            if (this._mask && (this._mask.parent === this._master)) {
                this._master.removeChild(this._mask);
                this._display.mask = null;
            }
        }
    }
    setScale(scale, point = null, offsetPoint = null) {
        if (!this._master || !this._display)
            return;
        if (!point)
            point = new PIXI.Point((this._width / 2), (this._height / 2));
        if (!offsetPoint)
            offsetPoint = point;
        point = this._display.toLocal(point);
        this._scale = scale;
        this._screenOffsetX = (offsetPoint.x - (point.x * this._scale));
        this._screenOffsetY = (offsetPoint.y - (point.y * this._scale));
    }
    render(time, update = false) {
        this._canvasUpdated = false;
        if (time === -1)
            time = (this._renderTimestamp + 1);
        if (!this._container || !this._geometry)
            return;
        if (time === this._renderTimestamp)
            return;
        if ((this._width !== this._renderedWidth) || (this._height !== this._renderedHeight))
            update = true;
        if ((this._display.x !== this._screenOffsetX) || (this._display.y !== this._screenOffsetY)) {
            this._display.x = this._screenOffsetX;
            this._display.y = this._screenOffsetY;
            this._display.scale.set(this._scale);
            update = true;
        }
        let spriteCount = 0;
        const objects = this._container.objects;
        if (objects.size) {
            for (let object of objects.values()) {
                if (!object)
                    continue;
                spriteCount = (spriteCount + this.renderObject(object, object.instanceId.toString(), time, update, spriteCount));
            }
        }
        this._sortableSprites.sort((a, b) => {
            return b.z - a.z;
        });
        if (spriteCount < this._sortableSprites.length) {
            this._sortableSprites.splice(spriteCount);
        }
        let iterator = 0;
        while (iterator < spriteCount) {
            const sprite = this._sortableSprites[iterator];
            if (sprite && sprite.sprite)
                this.renderSprite(iterator, sprite);
            iterator++;
        }
        this._Str_20677(spriteCount);
        if (update)
            this._canvasUpdated = true;
        this._renderTimestamp = time;
        this._renderedWidth = this._width;
        this._renderedHeight = this._height;
    }
    _Str_20787() {
        this._noSpriteVisibilityChecking = true;
        this.render(-1, true);
    }
    _Str_22174() {
        this._noSpriteVisibilityChecking = false;
    }
    getSortableSpriteList() {
        return this._objectCache.getSortableSpriteList();
    }
    _Str_14588() {
        return this._objectCache.getPlaneSortableSprites();
    }
    removeFromCache(identifier) {
        this._objectCache.removeObjectCache(identifier);
    }
    renderObject(object, identifier, time, update, count) {
        if (!object)
            return 0;
        const visualization = object.visualization;
        if (!visualization) {
            this.removeFromCache(identifier);
            return 0;
        }
        const cache = this.getCacheItem(identifier);
        cache._Str_1577 = object.instanceId;
        const locationCache = cache.location;
        const sortableCache = cache.sprites;
        const vector = locationCache.updateLocation(object, this._geometry);
        if (!vector) {
            this.removeFromCache(identifier);
            return 0;
        }
        visualization.update(this._geometry, time, (!sortableCache.isEmpty || update), (this._skipObjectUpdate && this._runningSlow));
        if (locationCache.locationChanged)
            update = true;
        if (!sortableCache._Str_17574(visualization.instanceId, visualization.updateSpriteCounter) && !update) {
            return sortableCache._Str_3008;
        }
        let x = vector.x;
        let y = vector.y;
        let z = vector.z;
        if (x > 0)
            z = (z + (x * 1.2E-7));
        else
            z = (z + (-x * 1.2E-7));
        x = (x + (this._width / 2));
        y = (y + (this._height / 2));
        let spriteCount = 0;
        for (let sprite of visualization.sprites.values()) {
            if (!sprite || !sprite.visible)
                continue;
            const texture = sprite.texture;
            const baseTexture = texture && texture.baseTexture;
            if (!texture || !baseTexture)
                continue;
            let spriteX = ((x + sprite.offsetX) + this._screenOffsetX);
            let spriteY = ((y + sprite.offsetY) + this._screenOffsetY);
            if (sprite.flipH) {
                let checkX = ((x + (-(texture.width + (-(sprite.offsetX))))) + this._screenOffsetX);
                if (!this.isSpriteVisible(checkX, spriteY, texture.width, texture.height))
                    continue;
            }
            else if (sprite.flipV) {
                let checkY = ((y + (-(texture.height + (-(sprite.offsetY))))) + this._screenOffsetY);
                if (!this.isSpriteVisible(spriteX, checkY, texture.width, texture.height))
                    continue;
            }
            else {
                if (!this.isSpriteVisible(spriteX, spriteY, texture.width, texture.height))
                    continue;
            }
            let sortableSprite = sortableCache._Str_2505(spriteCount);
            if (!sortableSprite) {
                sortableSprite = new _utils_SortableSprite__WEBPACK_IMPORTED_MODULE_10__["SortableSprite"]();
                sortableCache._Str_12937(sortableSprite);
                this._sortableSprites.push(sortableSprite);
                sortableSprite.name = identifier;
            }
            sortableSprite.sprite = sprite;
            if ((sprite.spriteType === _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_3__["RoomObjectSpriteType"]._Str_11629) || (sprite.spriteType === _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_3__["RoomObjectSpriteType"]._Str_10494)) {
                sortableSprite.sprite._Str_3582 = 'avatar_' + object.id;
            }
            sortableSprite.x = (spriteX - this._screenOffsetX);
            sortableSprite.y = (spriteY - this._screenOffsetY);
            sortableSprite.z = ((z + sprite.relativeDepth) + (3.7E-11 * count));
            spriteCount++;
            count++;
        }
        sortableCache._Str_20276(spriteCount);
        this._canvasUpdated = true;
        return spriteCount;
    }
    getExtendedSprite(index) {
        if ((index < 0) || (index >= this._spriteCount))
            return null;
        const sprite = this._display.getChildAt(index);
        if (!sprite)
            return null;
        return sprite;
    }
    getExtendedSpriteIdentifier(sprite) {
        if (!sprite)
            return '';
        return sprite.name;
    }
    renderSprite(index, sprite) {
        if (index >= this._spriteCount) {
            this.createAndAddSprite(sprite);
            return true;
        }
        if (!sprite)
            return false;
        const objectSprite = sprite.sprite;
        const extendedSprite = this.getExtendedSprite(index);
        if (!objectSprite || !extendedSprite)
            return false;
        if (extendedSprite._Str_4593 !== objectSprite._Str_4593) {
            if (extendedSprite._Str_4593 && !objectSprite._Str_4593) {
                this._display.removeChildAt(index);
                this._spritePool.push(extendedSprite);
                return this.renderSprite(index, sprite);
            }
            this.createAndAddSprite(sprite, index);
            return true;
        }
        if (extendedSprite.needsUpdate(objectSprite.id, objectSprite.updateCounter) || _utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_4__["RoomEnterEffect"]._Str_19559()) {
            extendedSprite.tag = objectSprite.tag;
            extendedSprite.alphaTolerance = objectSprite.alphaTolerance;
            extendedSprite.name = sprite.name;
            extendedSprite._Str_4593 = objectSprite._Str_4593;
            extendedSprite.clickHandling = objectSprite.clickHandling;
            const alpha = (objectSprite.alpha / 255);
            if (extendedSprite.alpha !== alpha)
                extendedSprite.alpha = alpha;
            if (extendedSprite.tint !== objectSprite.color)
                extendedSprite.tint = objectSprite.color;
            if (extendedSprite.blendMode !== objectSprite.blendMode)
                extendedSprite.blendMode = objectSprite.blendMode;
            if (extendedSprite.filters !== objectSprite.filters)
                extendedSprite.filters = objectSprite.filters;
            extendedSprite.setTexture(objectSprite.texture);
            if (objectSprite.flipH) {
                if (extendedSprite.scale.x !== -1)
                    extendedSprite.scale.x = -1;
            }
            else {
                if (extendedSprite.scale.x !== 1)
                    extendedSprite.scale.x = 1;
            }
            if (objectSprite.flipV) {
                if (extendedSprite.scale.y !== -1)
                    extendedSprite.scale.y = -1;
            }
            else {
                if (extendedSprite.scale.y !== 1)
                    extendedSprite.scale.y = 1;
            }
            this._Str_21914(extendedSprite, objectSprite);
        }
        if (extendedSprite.x !== sprite.x)
            extendedSprite.x = sprite.x;
        if (extendedSprite.y !== sprite.y)
            extendedSprite.y = sprite.y;
        extendedSprite.offsetX = objectSprite.offsetX;
        extendedSprite.offsetY = objectSprite.offsetY;
        return true;
    }
    createAndAddSprite(sortableSprite, index = -1) {
        const sprite = sortableSprite.sprite;
        if (!sprite)
            return;
        let extendedSprite = null;
        if (this._spritePool.length > 0)
            extendedSprite = this._spritePool.pop();
        if (!extendedSprite)
            extendedSprite = new _utils_ExtendedSprite__WEBPACK_IMPORTED_MODULE_8__["ExtendedSprite"]();
        extendedSprite.tag = sprite.tag;
        extendedSprite.alphaTolerance = sprite.alphaTolerance;
        extendedSprite.alpha = (sprite.alpha / 255);
        extendedSprite.tint = sprite.color;
        extendedSprite.x = sortableSprite.x;
        extendedSprite.y = sortableSprite.y;
        extendedSprite.offsetX = sprite.offsetX;
        extendedSprite.offsetY = sprite.offsetY;
        extendedSprite.name = sprite.name;
        extendedSprite._Str_4593 = sprite._Str_4593;
        extendedSprite.clickHandling = sprite.clickHandling;
        extendedSprite.blendMode = sprite.blendMode;
        extendedSprite.filters = sprite.filters;
        extendedSprite.setTexture(sprite.texture);
        if (sprite.flipH)
            extendedSprite.scale.x = -1;
        if (sprite.flipV)
            extendedSprite.scale.y = -1;
        this._Str_21914(extendedSprite, sprite);
        if ((index < 0) || (index >= this._spriteCount)) {
            this._display.addChild(extendedSprite);
            this._spriteCount++;
        }
        else {
            this._display.addChildAt(extendedSprite, index);
        }
        this._activeSpriteCount++;
    }
    _Str_20677(spriteCount, _arg_2 = false) {
        if (!this._display)
            return;
        if (spriteCount < 0)
            spriteCount = 0;
        if ((spriteCount < this._activeSpriteCount) || !this._activeSpriteCount) {
            let iterator = (this._spriteCount - 1);
            while (iterator >= spriteCount) {
                this._Str_21974(this.getExtendedSprite(iterator), _arg_2);
                iterator--;
            }
        }
        this._activeSpriteCount = spriteCount;
    }
    _Str_21914(k, _arg_2) {
        if (!_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_4__["RoomEnterEffect"]._Str_19559() || !_arg_2)
            return;
        switch (_arg_2.spriteType) {
            case _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_3__["RoomObjectSpriteType"]._Str_10494:
                return;
            case _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_3__["RoomObjectSpriteType"]._Str_8616:
                k.alpha = _utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_4__["RoomEnterEffect"]._Str_16017(0.9);
                return;
            case _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_3__["RoomObjectSpriteType"]._Str_11629:
                k.alpha = _utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_4__["RoomEnterEffect"]._Str_16017(0.5);
                return;
            default:
                k.alpha = _utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_4__["RoomEnterEffect"]._Str_16017(0.1);
        }
    }
    _Str_21974(k, _arg_2) {
        if (k != null) {
            if (!_arg_2) {
                k.setTexture(null);
            }
            else {
                if (k.parent)
                    k.parent.removeChild(k);
                k.destroy();
            }
        }
    }
    update() {
        if (!this._mouseCheckCount) {
            //this._Str_19207(this._mouseLocation.x, this._mouseLocation.y, MouseEventType.MOUSE_MOVE);
        }
        this._mouseCheckCount = 0;
        this._eventId++;
    }
    setMouseListener(listener) {
        this._mouseListener = listener;
    }
    getCacheItem(id) {
        return this._objectCache.getObjectCache(id);
    }
    isSpriteVisible(x, y, width, height) {
        if (this._noSpriteVisibilityChecking)
            return true;
        x = (((x - this._screenOffsetX) * this._scale) + this._screenOffsetX);
        y = (((y - this._screenOffsetY) * this._scale) + this._screenOffsetY);
        width = (width * this._scale);
        height = (height * this._scale);
        if (((x < this._width) && ((x + width) >= 0)) && ((y < this._height) && ((y + height) >= 0))) {
            if (!this._usesExclusionRectangles)
                return true;
        }
        return false;
    }
    _Str_21232(x, y, type, altKey, ctrlKey, shiftKey, buttonDown) {
        x = (x - this._screenOffsetX);
        y = (y - this._screenOffsetY);
        this._mouseLocation.x = (x / this._scale);
        this._mouseLocation.y = (y / this._scale);
        if ((this._mouseCheckCount > 0) && (type == _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].MOUSE_MOVE))
            return this._mouseSpriteWasHit;
        this._mouseSpriteWasHit = this._Str_19207((x / this._scale), (y / this._scale), type, altKey, ctrlKey, shiftKey, buttonDown);
        this._mouseCheckCount++;
        return this._mouseSpriteWasHit;
    }
    _Str_19207(x, y, type, altKey = false, ctrlKey = false, shiftKey = false, buttonDown = false) {
        const checkedSprites = [];
        let didHitSprite = false;
        let mouseEvent = null;
        let spriteId = (this._activeSpriteCount - 1);
        while (spriteId >= 0) {
            const extendedSprite = this.getExtendedSprite(spriteId);
            if (extendedSprite && extendedSprite.containsPoint(new PIXI.Point((x - extendedSprite.x), (y - extendedSprite.y)))) {
                if (extendedSprite.clickHandling && ((type === _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].MOUSE_CLICK) || (type === _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].DOUBLE_CLICK))) {
                }
                else {
                    const identifier = this.getExtendedSpriteIdentifier(extendedSprite);
                    if (checkedSprites.indexOf(identifier) === -1) {
                        const tag = extendedSprite.tag;
                        let mouseData = this._mouseActiveObjects.get(identifier);
                        if (mouseData) {
                            if (mouseData.spriteTag !== tag) {
                                mouseEvent = this._Str_11609(0, 0, 0, 0, _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].ROLL_OUT, mouseData.spriteTag, altKey, ctrlKey, shiftKey, buttonDown);
                                this._Str_14715(mouseEvent, identifier);
                            }
                        }
                        if ((type === _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].MOUSE_MOVE) && (!mouseData || (mouseData.spriteTag !== tag))) {
                            mouseEvent = this._Str_11609(x, y, (x - extendedSprite.x), (y - extendedSprite.y), _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].ROLL_OVER, tag, altKey, ctrlKey, shiftKey, buttonDown);
                        }
                        else {
                            mouseEvent = this._Str_11609(x, y, (x - extendedSprite.x), (y - extendedSprite.y), type, tag, altKey, ctrlKey, shiftKey, buttonDown);
                            mouseEvent.spriteOffsetX = extendedSprite.offsetX;
                            mouseEvent.spriteOffsetY = extendedSprite.offsetY;
                        }
                        if (!mouseData) {
                            mouseData = new _utils_ObjectMouseData__WEBPACK_IMPORTED_MODULE_9__["ObjectMouseData"]();
                            mouseData.objectId = identifier;
                            this._mouseActiveObjects.set(identifier, mouseData);
                        }
                        mouseData.spriteTag = tag;
                        if (((type !== _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].MOUSE_MOVE) || (x !== this._mouseOldX)) || (y !== this._mouseOldY)) {
                            this._Str_14715(mouseEvent, identifier);
                        }
                        checkedSprites.push(identifier);
                    }
                    didHitSprite = true;
                }
            }
            spriteId--;
        }
        const keys = [];
        for (let key of this._mouseActiveObjects.keys())
            key && keys.push(key);
        let index = 0;
        while (index < keys.length) {
            const key = keys[index];
            if (checkedSprites.indexOf(key) >= 0)
                keys[index] = null;
            index++;
        }
        index = 0;
        while (index < keys.length) {
            const key = keys[index];
            if (key !== null) {
                const existing = this._mouseActiveObjects.get(key);
                if (existing)
                    this._mouseActiveObjects.delete(key);
                const mouseEvent = this._Str_11609(0, 0, 0, 0, _nitro_ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].ROLL_OUT, existing.spriteTag, altKey, ctrlKey, shiftKey, buttonDown);
                this._Str_14715(mouseEvent, key);
            }
            index++;
        }
        this._Str_20604();
        this._mouseOldX = x;
        this._mouseOldY = y;
        return didHitSprite;
    }
    _Str_11609(x, y, _arg_3, _arg_4, type, _arg_6, _arg_7, _arg_8, _arg_9, _arg_10) {
        const screenX = (x - (this._width / 2));
        const screenY = (y - (this._height / 2));
        const canvasName = `canvas_${this._id}`;
        return new _events_RoomSpriteMouseEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSpriteMouseEvent"](type, ((canvasName + "_") + this._eventId), canvasName, _arg_6, screenX, screenY, _arg_3, _arg_4, _arg_8, _arg_7, _arg_9, _arg_10);
    }
    _Str_14715(k, _arg_2) {
        if (!k || !this._eventCache)
            return;
        this._eventCache.delete(_arg_2);
        this._eventCache.set(_arg_2, k);
    }
    _Str_20604() {
        if (!this._container || !this._eventCache)
            return;
        for (let [key, event] of this._eventCache.entries()) {
            if (!this._eventCache)
                return;
            if (!event)
                continue;
            const roomObject = this._container.getRoomObject(parseInt(key));
            if (!roomObject)
                continue;
            if (this._mouseListener) {
                this._mouseListener._Str_20330(event, roomObject, this._geometry);
            }
            else {
                const logic = roomObject.mouseHandler;
                if (logic) {
                    logic.mouseEvent(event, this._geometry);
                }
            }
        }
        if (this._eventCache)
            this._eventCache.clear();
    }
    get id() {
        return this._id;
    }
    get geometry() {
        return this._geometry;
    }
    get displayObject() {
        return this._master;
    }
    get screenOffsetX() {
        return this._screenOffsetX;
    }
    set screenOffsetX(x) {
        this._screenOffsetX = x;
    }
    get screenOffsetY() {
        return this._screenOffsetY;
    }
    set screenOffsetY(y) {
        this._screenOffsetY = y;
    }
    get scale() {
        return this._scale;
    }
    get width() {
        return (this._width * this._scale);
    }
    get height() {
        return (this._height * this._scale);
    }
    get canvasUpdated() {
        return this._canvasUpdated;
    }
}


/***/ }),

/***/ "LoQk":
/*!**********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/trading/TradingOtherNotAllowedParser.ts ***!
  \**********************************************************************************************************/
/*! exports provided: TradingOtherNotAllowedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingOtherNotAllowedParser", function() { return TradingOtherNotAllowedParser; });
class TradingOtherNotAllowedParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "Ly0c":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/mapping/RoomModelParser.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomModelParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomModelParser", function() { return RoomModelParser; });
/* harmony import */ var _room_object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/object/RoomPlaneParser */ "BFtu");

class RoomModelParser {
    flush() {
        this._model = null;
        this._width = 0;
        this._height = 0;
        this._wallHeight = -1;
        this._heightMap = [];
        this._scale = 64;
        this._model = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._scale = wrapper.readBoolean() ? 32 : 64;
        this._wallHeight = wrapper.readInt();
        this._model = wrapper.readString();
        const model = this._model.split('\r');
        let modelRows = model.length;
        let width = 0;
        let height = 0;
        let iterator = 0;
        while (iterator < modelRows) {
            const row = model[iterator];
            if (row.length > width) {
                width = row.length;
            }
            iterator++;
        }
        this._heightMap = [];
        iterator = 0;
        while (iterator < modelRows) {
            const heightMap = [];
            let subIterator = 0;
            while (subIterator < width) {
                heightMap.push(_room_object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_0__["RoomPlaneParser"].TILE_BLOCKED);
                subIterator++;
            }
            this._heightMap.push(heightMap);
            iterator++;
        }
        this._width = width;
        this._height = modelRows;
        iterator = 0;
        while (iterator < modelRows) {
            const heightMap = this._heightMap[iterator];
            const text = model[iterator];
            if (text.length > 0) {
                let subIterator = 0;
                while (subIterator < text.length) {
                    const char = text.charAt(subIterator);
                    let height = _room_object_RoomPlaneParser__WEBPACK_IMPORTED_MODULE_0__["RoomPlaneParser"].TILE_BLOCKED;
                    if ((char !== 'x') && (char !== 'X'))
                        height = parseInt(char, 36);
                    heightMap[subIterator] = height;
                    subIterator++;
                }
            }
            iterator++;
        }
        return true;
    }
    getHeight(x, y) {
        if ((x < 0) || (x >= this._width) || (y < 0) || (y >= this._height))
            return -110;
        const row = this._heightMap[y];
        if (row === undefined)
            return -110;
        const height = row[x];
        if (height === undefined)
            return -110;
        return height;
    }
    get model() {
        return this._model;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
    get heightMap() {
        return this._heightMap;
    }
    get wallHeight() {
        return this._wallHeight;
    }
    get scale() {
        return this._scale;
    }
}


/***/ }),

/***/ "M0Sd":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitEffectParser.ts ***!
  \******************************************************************************************/
/*! exports provided: RoomUnitEffectParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitEffectParser", function() { return RoomUnitEffectParser; });
class RoomUnitEffectParser {
    flush() {
        this._unitId = null;
        this._effectId = 0;
        this._delay = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = wrapper.readInt();
        this._effectId = wrapper.readInt();
        this._delay = wrapper.readInt();
        return true;
    }
    get unitId() {
        return this._unitId;
    }
    get effectId() {
        return this._effectId;
    }
    get delay() {
        return this._delay;
    }
}


/***/ }),

/***/ "M0ag":
/*!*********************************!*\
  !*** ./src/app/shared/index.ts ***!
  \*********************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "jhN1");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser/animations */ "R1ws");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "5eHb");
/* harmony import */ var _components_alerts_alert_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/alerts/alert/component */ "9JiG");
/* harmony import */ var _components_alerts_confirm_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/alerts/confirm/component */ "KSVc");
/* harmony import */ var _components_avatarimage_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/avatarimage/component */ "mjBu");
/* harmony import */ var _components_badge_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/badge/component */ "f/8j");
/* harmony import */ var _components_loading_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/loading/component */ "aJmH");
/* harmony import */ var _components_roompreview_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/roompreview/component */ "KVvL");
/* harmony import */ var _directives_bringtotop_directive__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./directives/bringtotop/directive */ "Ci1R");
/* harmony import */ var _directives_draggable_directive__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./directives/draggable/directive */ "yd8t");
/* harmony import */ var _services_alert_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/alert/service */ "Ffqm");

















class SharedModule {
}
SharedModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({ type: SharedModule });
SharedModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({ factory: function SharedModule_Factory(t) { return new (t || SharedModule)(); }, providers: [
        _services_alert_service__WEBPACK_IMPORTED_MODULE_14__["AlertService"]
    ], imports: [[
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__["BrowserAnimationsModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrModule"].forRoot()
        ], _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsetNgModuleScope"](SharedModule, { declarations: [_components_alerts_alert_component__WEBPACK_IMPORTED_MODULE_6__["AlertToastComponent"],
        _components_alerts_confirm_component__WEBPACK_IMPORTED_MODULE_7__["ConfirmToastComponent"],
        _components_avatarimage_component__WEBPACK_IMPORTED_MODULE_8__["AvatarImageComponent"],
        _components_badge_component__WEBPACK_IMPORTED_MODULE_9__["BadgeComponent"],
        _components_loading_component__WEBPACK_IMPORTED_MODULE_10__["LoadingComponent"],
        _components_roompreview_component__WEBPACK_IMPORTED_MODULE_11__["RoomPreviewComponent"],
        _directives_draggable_directive__WEBPACK_IMPORTED_MODULE_13__["DraggableDirective"],
        _directives_bringtotop_directive__WEBPACK_IMPORTED_MODULE_12__["BringToTopDirective"]], imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["BrowserModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__["BrowserAnimationsModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"], ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrModule"]], exports: [_angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _components_avatarimage_component__WEBPACK_IMPORTED_MODULE_8__["AvatarImageComponent"],
        _components_badge_component__WEBPACK_IMPORTED_MODULE_9__["BadgeComponent"],
        _components_loading_component__WEBPACK_IMPORTED_MODULE_10__["LoadingComponent"],
        _components_roompreview_component__WEBPACK_IMPORTED_MODULE_11__["RoomPreviewComponent"],
        _directives_draggable_directive__WEBPACK_IMPORTED_MODULE_13__["DraggableDirective"],
        _directives_bringtotop_directive__WEBPACK_IMPORTED_MODULE_12__["BringToTopDirective"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SharedModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"],
        args: [{
                imports: [
                    _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["BrowserModule"],
                    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__["BrowserAnimationsModule"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrModule"].forRoot()
                ],
                exports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _components_avatarimage_component__WEBPACK_IMPORTED_MODULE_8__["AvatarImageComponent"],
                    _components_badge_component__WEBPACK_IMPORTED_MODULE_9__["BadgeComponent"],
                    _components_loading_component__WEBPACK_IMPORTED_MODULE_10__["LoadingComponent"],
                    _components_roompreview_component__WEBPACK_IMPORTED_MODULE_11__["RoomPreviewComponent"],
                    _directives_draggable_directive__WEBPACK_IMPORTED_MODULE_13__["DraggableDirective"],
                    _directives_bringtotop_directive__WEBPACK_IMPORTED_MODULE_12__["BringToTopDirective"]
                ],
                providers: [
                    _services_alert_service__WEBPACK_IMPORTED_MODULE_14__["AlertService"]
                ],
                declarations: [
                    _components_alerts_alert_component__WEBPACK_IMPORTED_MODULE_6__["AlertToastComponent"],
                    _components_alerts_confirm_component__WEBPACK_IMPORTED_MODULE_7__["ConfirmToastComponent"],
                    _components_avatarimage_component__WEBPACK_IMPORTED_MODULE_8__["AvatarImageComponent"],
                    _components_badge_component__WEBPACK_IMPORTED_MODULE_9__["BadgeComponent"],
                    _components_loading_component__WEBPACK_IMPORTED_MODULE_10__["LoadingComponent"],
                    _components_roompreview_component__WEBPACK_IMPORTED_MODULE_11__["RoomPreviewComponent"],
                    _directives_draggable_directive__WEBPACK_IMPORTED_MODULE_13__["DraggableDirective"],
                    _directives_bringtotop_directive__WEBPACK_IMPORTED_MODULE_12__["BringToTopDirective"]
                ],
                entryComponents: [_components_alerts_confirm_component__WEBPACK_IMPORTED_MODULE_7__["ConfirmToastComponent"], _components_alerts_alert_component__WEBPACK_IMPORTED_MODULE_6__["AlertToastComponent"]]
            }]
    }], null, null); })();


/***/ }),

/***/ "MGYS":
/*!*************************************************!*\
  !*** ./src/app/components/catalog/component.ts ***!
  \*************************************************/
/*! exports provided: CatalogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogComponent", function() { return CatalogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogClubEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogClubEvent */ "9NDz");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogModeEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogModeEvent */ "qLWH");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogPageEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogPageEvent */ "SS1c");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogPagesEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogPagesEvent */ "t0/d");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogPurchaseEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogPurchaseEvent */ "sxwv");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogPurchaseFailedEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogPurchaseFailedEvent */ "u5n9");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogPurchaseUnavailableEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogPurchaseUnavailableEvent */ "Zq74");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogSearchEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogSearchEvent */ "U4HJ");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogSoldOutEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogSoldOutEvent */ "Ftck");
/* harmony import */ var _client_nitro_communication_messages_incoming_catalog_CatalogUpdatedEvent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/catalog/CatalogUpdatedEvent */ "liWC");
/* harmony import */ var _client_nitro_communication_messages_outgoing_catalog_CatalogModeComposer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/outgoing/catalog/CatalogModeComposer */ "BG3s");
/* harmony import */ var _client_nitro_communication_messages_outgoing_catalog_CatalogPageComposer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/outgoing/catalog/CatalogPageComposer */ "2H63");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_preview_RoomPreviewer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../client/nitro/room/preview/RoomPreviewer */ "2IRy");
/* harmony import */ var _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../client/room/utils/Vector3D */ "LGmI");
/* harmony import */ var _shared_components_roompreview_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../shared/components/roompreview/component */ "KVvL");
/* harmony import */ var _layouts_default_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./layouts/default/component */ "Pt5X");
/* harmony import */ var _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./layouts/frontpagefeatured/component */ "9zSk");
/* harmony import */ var _layouts_pets_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./layouts/pets/component */ "Kbxs");
/* harmony import */ var _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./layouts/pets2/component */ "PY38");
/* harmony import */ var _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./layouts/trophies/component */ "EBlL");
/* harmony import */ var _services_catalog_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./services/catalog.service */ "ywHV");
/* harmony import */ var _core_settings_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../core/settings/service */ "WnqX");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../shared/directives/draggable/directive */ "yd8t");
/* harmony import */ var _navigation_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./navigation/component */ "b9MM");




























const _c0 = ["layoutContainer"];
function CatalogComponent_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 18);
} }
const _c1 = function (a0) { return { "active": a0 }; };
function CatalogComponent_div_0_div_14_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CatalogComponent_div_0_div_14_ng_container_1_Template_div_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const child_r5 = ctx.$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r6.selectTab(child_r5); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const child_r5 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c1, ctx_r4.activeTabData === child_r5));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](child_r5.localization);
} }
function CatalogComponent_div_0_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CatalogComponent_div_0_div_14_ng_container_1_Template, 3, 4, "ng-container", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r2.catalogRoot.children);
} }
const _c2 = function (a0) { return { "background-image": a0 }; };
function CatalogComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CatalogComponent_div_0_div_1_Template, 1, 0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "Catalog");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CatalogComponent_div_0_Template_div_click_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.hide(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, CatalogComponent_div_0_div_14_Template, 2, 1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](16, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](18, null, 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](7, _c2, ctx_r0.pageHeaderImage));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.pageHeaderText);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r0.pageHeaderDescription, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.catalogRoot && ctx_r0.catalogRoot.children.length > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("catalogPage", ctx_r0.activeTabData)("activePage", ctx_r0.activePageData);
} }
class CatalogComponent {
    constructor(catalogService, settingsService, ngZone, componentFactoryResolver) {
        this.catalogService = catalogService;
        this.settingsService = settingsService;
        this.ngZone = ngZone;
        this.componentFactoryResolver = componentFactoryResolver;
        this.catalogMode = -1;
        this.catalogRoot = null;
        this.roomPreviewer = null;
        this.activeTabData = null;
        this.activePageData = null;
        this.activePageParser = null;
        this.activeOffer = null;
        this.activeLayout = null;
        this.tabSubscription = null;
        this.pageSubscription = null;
        this.offerSubscription = null;
        this.purchaseSubscription = null;
        this.isLoadRequested = false;
        this.isLoading = false;
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogClubEvent__WEBPACK_IMPORTED_MODULE_1__["CatalogClubEvent"](this.onCatalogClubEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogModeEvent__WEBPACK_IMPORTED_MODULE_2__["CatalogModeEvent"](this.onCatalogModeEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogPageEvent__WEBPACK_IMPORTED_MODULE_3__["CatalogPageEvent"](this.onCatalogPageEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogPagesEvent__WEBPACK_IMPORTED_MODULE_4__["CatalogPagesEvent"](this.onCatalogPagesEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogPurchaseEvent__WEBPACK_IMPORTED_MODULE_5__["CatalogPurchaseEvent"](this.onCatalogPurchaseEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogPurchaseFailedEvent__WEBPACK_IMPORTED_MODULE_6__["CatalogPurchaseFailedEvent"](this.onCatalogPurchaseFailedEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogPurchaseUnavailableEvent__WEBPACK_IMPORTED_MODULE_7__["CatalogPurchaseUnavailableEvent"](this.onCatalogPurchaseUnavailableEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogSearchEvent__WEBPACK_IMPORTED_MODULE_8__["CatalogSearchEvent"](this.onCatalogSearchEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogSoldOutEvent__WEBPACK_IMPORTED_MODULE_9__["CatalogSoldOutEvent"](this.onCatalogSoldOutEvent.bind(this)));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_catalog_CatalogUpdatedEvent__WEBPACK_IMPORTED_MODULE_10__["CatalogUpdatedEvent"](this.onCatalogUpdatedEvent.bind(this)));
            if (!this.roomPreviewer) {
                this.roomPreviewer = new _client_nitro_room_preview_RoomPreviewer__WEBPACK_IMPORTED_MODULE_14__["RoomPreviewer"](_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.roomEngine, ++_shared_components_roompreview_component__WEBPACK_IMPORTED_MODULE_16__["RoomPreviewComponent"].PREVIEW_COUNTER);
            }
        });
        this.tabSubscription = this.catalogService.tabEmitter.subscribe((tab) => (tab && this.onTabSelected(tab)));
        this.pageSubscription = this.catalogService.pageEmitter.subscribe((page) => (page && this.onPageSelected(page)));
        this.offerSubscription = this.catalogService.offerEmitter.subscribe((offer) => (offer && this.onOfferSelected(offer)));
    }
    ngOnDestroy() {
        this.ngZone.runOutsideAngular(() => {
            if (this.roomPreviewer)
                this.roomPreviewer.dispose();
        });
        if (this.tabSubscription)
            this.tabSubscription.unsubscribe();
        if (this.pageSubscription)
            this.pageSubscription.unsubscribe();
        if (this.offerSubscription)
            this.offerSubscription.unsubscribe();
    }
    onCatalogClubEvent(event) {
        console.log(event);
    }
    onCatalogModeEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this.ngZone.run(() => (this.catalogMode = parser.mode));
    }
    onCatalogPageEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this.activePageParser = parser;
        this.ngZone.run(() => {
            if (this.activeLayout)
                this.removeLayout(this.activeLayout);
            const layout = this.generatePageLayout(parser.layoutCode);
            if (layout) {
                layout.instance.catalogPage = this.activePageData;
                layout.instance.pageParser = this.activePageParser;
                layout.instance.roomPreviewer = this.roomPreviewer;
                this.activeLayout = layout;
            }
            this.isLoading = false;
        });
    }
    onCatalogPagesEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this.ngZone.run(() => {
            this.catalogRoot = parser.root;
            this.selectFirstTab();
        });
    }
    onCatalogPurchaseEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this.catalogService.receivePurchase(parser.offer);
    }
    onCatalogPurchaseFailedEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        console.log(parser);
    }
    onCatalogPurchaseUnavailableEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        console.log(parser);
    }
    onCatalogSearchEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
    }
    onCatalogSoldOutEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
    }
    onCatalogUpdatedEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
    }
    onTabSelected(tab) {
        if (!tab)
            return;
        this.activeTabData = tab;
        this.selectFirstPage(tab);
    }
    onPageSelected(page) {
        if (!page || !this.canSelectPage(page))
            return;
        this.activePageData = page;
        if (page.pageId >= 0)
            this.requestPage(page.pageId);
    }
    onOfferSelected(offer) {
        if (!offer)
            return;
        this.activeOffer = offer;
        if (this.activeLayout)
            this.activeLayout.instance.activeOffer = offer;
        this.ngZone.runOutsideAngular(() => {
            if (this.roomPreviewer) {
                const product = offer.products[0];
                if (product) {
                    if (product.productType === 's') {
                        this.roomPreviewer.addFurnitureIntoRoom(product.furniClassId, new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_15__["Vector3D"](90));
                    }
                    else if (product.productType === 'i') {
                        this.roomPreviewer.addWallItemIntoRoom(product.furniClassId, new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_15__["Vector3D"](90), null);
                    }
                }
            }
        });
    }
    selectTab(tab) {
        if (tab)
            this.catalogService.selectTab(tab);
    }
    selectFirstTab() {
        if (!this.catalogRoot)
            return;
        const child = (this.catalogRoot.children && this.catalogRoot.children[0]);
        if (child)
            this.selectTab(child);
    }
    selectFirstPage(page) {
        if (!page)
            return;
        const child = (page.children && page.children[0]);
        if (child)
            this.catalogService.selectPage(child);
    }
    setCatalogMode(mode) {
        if (!mode)
            return;
        this.isLoadRequested = true;
        this.send(new _client_nitro_communication_messages_outgoing_catalog_CatalogModeComposer__WEBPACK_IMPORTED_MODULE_11__["CatalogModeComposer"](mode));
    }
    requestPage(pageId) {
        this.isLoading = true;
        this.requestPageData(pageId, -1, CatalogComponent.NORMAL);
    }
    requestPageData(pageId, offerId, catalogType) {
        this.send(new _client_nitro_communication_messages_outgoing_catalog_CatalogPageComposer__WEBPACK_IMPORTED_MODULE_12__["CatalogPageComposer"](pageId, offerId, catalogType));
    }
    generatePageLayout(type) {
        if (!type)
            return null;
        const layout = this.getLayoutForType(type);
        if (!layout)
            return null;
        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(layout);
        const componentRef = this.layoutContainer.createComponent(componentFactory);
        if (!componentRef)
            return null;
        return componentRef;
    }
    getLayoutForType(type) {
        if (!type)
            return null;
        switch (type) {
            case _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_18__["CatalogLayoutFrontPageFeaturedComponent"].LAYOUT_CODE:
                return _layouts_frontpagefeatured_component__WEBPACK_IMPORTED_MODULE_18__["CatalogLayoutFrontPageFeaturedComponent"];
            case _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_21__["CatalogLayoutTrophiesComponent"].LAYOUT_CODE:
                return _layouts_trophies_component__WEBPACK_IMPORTED_MODULE_21__["CatalogLayoutTrophiesComponent"];
            case _layouts_pets_component__WEBPACK_IMPORTED_MODULE_19__["CatalogLayoutPetsComponent"].LAYOUT_CODE:
                return _layouts_pets_component__WEBPACK_IMPORTED_MODULE_19__["CatalogLayoutPetsComponent"];
            case _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_20__["CatalogLayoutPets2Component"].LAYOUT_CODE:
                return _layouts_pets2_component__WEBPACK_IMPORTED_MODULE_20__["CatalogLayoutPets2Component"];
            case _layouts_default_component__WEBPACK_IMPORTED_MODULE_17__["CatalogLayoutDefaultComponent"].LAYOUT_CODE:
            default:
                return _layouts_default_component__WEBPACK_IMPORTED_MODULE_17__["CatalogLayoutDefaultComponent"];
        }
    }
    removeLayout(layout) {
        if (!layout)
            return;
        const index = this.layoutContainer.indexOf(layout.hostView);
        if (index === -1)
            return;
        this.layoutContainer.remove(index);
        this.ngZone.runOutsideAngular(() => {
            if (this.roomPreviewer)
                this.roomPreviewer.reset(false);
        });
    }
    canSelectPage(page) {
        if (!page || !page.visible)
            return false;
        return true;
    }
    send(composer) {
        if (!composer)
            return;
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_13__["Nitro"].instance.communication.connection.send(composer);
    }
    hide() {
        this.settingsService.hideCatalog();
    }
    get visible() {
        const visible = this.settingsService.catalogVisible;
        if (visible) {
            if (!this.isLoadRequested)
                this.setCatalogMode(CatalogComponent.NORMAL);
        }
        return visible;
    }
    get pageHeaderText() {
        const layout = ((this.activeLayout && this.activeLayout.instance) || null);
        if (layout)
            return layout.headerText;
        return null;
    }
    get pageHeaderDescription() {
        const layout = ((this.activeLayout && this.activeLayout.instance) || null);
        if (layout)
            return layout.headerDescription;
        return null;
    }
    get pageHeaderImage() {
        const layout = ((this.activeLayout && this.activeLayout.instance) || null);
        if (layout)
            return `url('${layout.headerImage}')`;
        return null;
    }
}
CatalogComponent.NORMAL = 'NORMAL';
CatalogComponent.ɵfac = function CatalogComponent_Factory(t) { return new (t || CatalogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_catalog_service__WEBPACK_IMPORTED_MODULE_22__["CatalogService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_settings_service__WEBPACK_IMPORTED_MODULE_23__["SettingsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"])); };
CatalogComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogComponent, selectors: [["nitro-catalog-component"]], viewQuery: function CatalogComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.layoutContainer = _t.first);
    } }, decls: 1, vars: 1, consts: [["dragHandle", ".card-header", "class", "card nitro-catalog-component", 3, "draggable", 4, "ngIf"], ["dragHandle", ".card-header", 1, "card", "nitro-catalog-component", 3, "draggable"], ["class", "loading-overlay", 4, "ngIf"], [1, "catalog-header", 3, "ngStyle"], [1, "header-overlay"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "header-details"], [1, "page-header"], [1, "page-desc", 3, "innerHTML"], [1, "header-tabs"], ["class", "nav nav-tabs nav-fill w-100 px-4", 4, "ngIf"], [1, "card-body"], ["nitro-catalog-navigation-component", "", 3, "catalogPage", "activePage"], [1, "flex-grow-1", "layout-container"], ["layoutContainer", ""], [1, "loading-overlay"], [1, "nav", "nav-tabs", "nav-fill", "w-100", "px-4"], [4, "ngFor", "ngForOf"], [1, "nav-item", "nav-link", 3, "ngClass", "click"]], template: function CatalogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, CatalogComponent_div_0_Template, 20, 9, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.visible);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_24__["NgIf"], _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_25__["DraggableDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_24__["NgStyle"], _navigation_component__WEBPACK_IMPORTED_MODULE_26__["CatalogNavigationComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_24__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_24__["NgClass"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-catalog-component',
                template: `
    <div *ngIf="visible" [draggable] dragHandle=".card-header" class="card nitro-catalog-component">
        <div *ngIf="isLoading" class="loading-overlay"></div>
        <div class="catalog-header" [ngStyle]="{ 'background-image': pageHeaderImage }">
            <div class="header-overlay"></div>
            <div class="card-header">
                <div class="header-title">Catalog</div>
                <div class="header-close" (click)="hide()"><i class="fas fa-times"></i></div>
            </div>
            <div class="header-details">
                <div class="page-header">{{ pageHeaderText }}</div>
                <div class="page-desc" [innerHTML]="pageHeaderDescription"></div>
            </div>
            <div class="header-tabs">
                <div *ngIf="catalogRoot && (catalogRoot.children.length > 0)" class="nav nav-tabs nav-fill w-100 px-4">
                    <ng-container *ngFor="let child of catalogRoot.children">
                        <div class="nav-item nav-link" [ngClass]="{ 'active': (activeTabData === child) }" (click)="selectTab(child)">{{ child.localization }}</div>
                    </ng-container>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div nitro-catalog-navigation-component [catalogPage]="activeTabData" [activePage]="activePageData"></div>
            <div class="flex-grow-1 layout-container">
                <ng-container #layoutContainer></ng-container>
            </div>
        </div>
    </div>`
            }]
    }], function () { return [{ type: _services_catalog_service__WEBPACK_IMPORTED_MODULE_22__["CatalogService"] }, { type: _core_settings_service__WEBPACK_IMPORTED_MODULE_23__["SettingsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }]; }, { layoutContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['layoutContainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]
        }] }); })();


/***/ }),

/***/ "MS0h":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureAnimatedVisualization.ts ***!
  \************************************************************************************************/
/*! exports provided: FurnitureAnimatedVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureAnimatedVisualization", function() { return FurnitureAnimatedVisualization; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../RoomObjectVisualizationType */ "IqYK");
/* harmony import */ var _data_AnimationData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/AnimationData */ "tr5V");
/* harmony import */ var _data_AnimationFrame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/AnimationFrame */ "YWyz");
/* harmony import */ var _data_AnimationStateData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/AnimationStateData */ "ZMEG");
/* harmony import */ var _FurnitureAnimatedVisualizationData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FurnitureAnimatedVisualizationData */ "kSKJ");
/* harmony import */ var _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FurnitureVisualization */ "vAq0");







class FurnitureAnimatedVisualization extends _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_6__["FurnitureVisualization"] {
    constructor() {
        super();
        this._state = -1;
        this._animationData = new _data_AnimationStateData__WEBPACK_IMPORTED_MODULE_4__["AnimationStateData"]();
        this._animationScale = 0;
        this._animationChangeTime = 0;
        this._animatedLayerCount = 0;
        this._directionChanged = false;
    }
    initialize(data) {
        if (!(data instanceof _FurnitureAnimatedVisualizationData__WEBPACK_IMPORTED_MODULE_5__["FurnitureAnimatedVisualizationData"]))
            return false;
        return super.initialize(data);
    }
    dispose() {
        super.dispose();
        if (this._animationData) {
            this._animationData.dispose();
            this._animationData = null;
        }
    }
    get animatedLayerCount() {
        return this._animatedLayerCount;
    }
    get animationId() {
        return this._animationData.animationId;
    }
    getAnimationId(animationData) {
        if ((this.animationId !== FurnitureAnimatedVisualization.DEFAULT_ANIMATION_ID) && this._data.hasAnimation(this._animationScale, this.animationId))
            return this.animationId;
        return FurnitureAnimatedVisualization.DEFAULT_ANIMATION_ID;
    }
    updateObject(scale, direction) {
        if (super.updateObject(scale, direction)) {
            const state = this.object.getState(0);
            if (state !== this._state) {
                this.setAnimation(state);
                this._state = state;
                this._animationChangeTime = (this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_STATE_UPDATE_TIME) || 0);
            }
            return true;
        }
        return false;
    }
    updateModel(scale) {
        if (super.updateModel(scale)) {
            if (this.usesAnimationResetting()) {
                const updateTime = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_STATE_UPDATE_TIME);
                if (updateTime > this._animationChangeTime) {
                    this._animationChangeTime = updateTime;
                    this.setAnimation(this._state);
                }
            }
            const state = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_AUTOMATIC_STATE_INDEX);
            if (state !== null) {
                const animationId = this._data.getAnimationId(this._animationScale, state);
                this.setAnimation(animationId);
            }
            return true;
        }
        return false;
    }
    isPlayingTransition(animationData, animationId) {
        if (!_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionFromAnimation(animationData.animationId) && !_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionToAnimation(animationData.animationId))
            return false;
        if (animationId !== animationData.animationAfterTransitionId)
            return false;
        if (animationData.animationOver)
            return false;
        return true;
    }
    getCurrentState(animationData) {
        const animationId = animationData.animationId;
        if (!_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionFromAnimation(animationId) && !_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionToAnimation(animationId))
            return animationId;
        return animationData.animationAfterTransitionId;
    }
    setAnimation(animationId) {
        if (!this._data)
            return;
        this.setSubAnimation(this._animationData, animationId, (this._state >= 0));
    }
    setSubAnimation(animationData, animationId, _arg_3 = true) {
        let currentAnimation = animationData.animationId;
        if (_arg_3) {
            if (this.isPlayingTransition(animationData, animationId))
                return false;
            const state = this.getCurrentState(animationData);
            if (animationId !== state) {
                if (!this._data.isImmediateChange(this._animationScale, animationId, state)) {
                    let transition = _data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].getTransitionFromAnimationId(state);
                    if (this._data.hasAnimation(this._animationScale, transition)) {
                        animationData.animationAfterTransitionId = animationId;
                        animationId = transition;
                    }
                    else {
                        transition = _data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].getTransitionToAnimationId(animationId);
                        if (this._data.hasAnimation(this._animationScale, transition)) {
                            animationData.animationAfterTransitionId = animationId;
                            animationId = transition;
                        }
                    }
                }
            }
            else {
                if (_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionFromAnimation(animationData.animationId)) {
                    const transition = _data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].getTransitionToAnimationId(animationId);
                    if (this._data.hasAnimation(this._animationScale, transition)) {
                        animationData.animationAfterTransitionId = animationId;
                        animationId = transition;
                    }
                }
                else if (!_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionToAnimation(animationData.animationId)) {
                    if (this.usesAnimationResetting()) {
                        const transition = _data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].getTransitionFromAnimationId(state);
                        if (this._data.hasAnimation(this._animationScale, transition)) {
                            animationData.animationAfterTransitionId = animationId;
                            animationId = transition;
                        }
                        else {
                            const transition = _data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].getTransitionToAnimationId(animationId);
                            if (this._data.hasAnimation(this._animationScale, transition)) {
                                animationData.animationAfterTransitionId = animationId;
                                animationId = transition;
                            }
                        }
                    }
                }
            }
        }
        if (currentAnimation !== animationId) {
            animationData.animationId = animationId;
            return true;
        }
        return false;
    }
    getLastFramePlayed(layerId) {
        return this._animationData.getLastFramePlayed(layerId);
    }
    resetAllAnimationFrames() {
        if (!this._animationData)
            return;
        this._animationData.setLayerCount(this._animatedLayerCount);
    }
    updateAnimation(scale) {
        if (!this._data)
            return 0;
        if (scale !== this._animationScale) {
            this._animationScale = scale;
            this._animatedLayerCount = this._data.getLayerCount(scale);
            this.resetAllAnimationFrames();
        }
        const update = this.updateAnimations(scale);
        this._directionChanged = false;
        return update;
    }
    updateAnimations(scale) {
        if (this._animationData.animationOver && !this._directionChanged)
            return 0;
        const update = this.updateFramesForAnimation(this._animationData, scale);
        if (this._animationData.animationOver) {
            if ((_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionFromAnimation(this._animationData.animationId)) || (_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionToAnimation(this._animationData.animationId))) {
                this.setAnimation(this._animationData.animationAfterTransitionId);
                this._animationData.animationOver = false;
            }
        }
        return update;
    }
    updateFramesForAnimation(animationData, scale) {
        if (animationData.animationOver && !this._directionChanged)
            return 0;
        let animationId = this.getAnimationId(animationData);
        let frameCount = animationData.frameCounter;
        if (!frameCount)
            frameCount = this._data.getStartFrame(scale, animationId, this._direction);
        frameCount += FurnitureAnimatedVisualization.FRAME_INCREASE_AMOUNT;
        animationData.frameCounter = frameCount;
        animationData.animationOver = true;
        let animationPlayed = false;
        let layerId = (this._animatedLayerCount - 1);
        let update = 0;
        let layerUpdate = (1 << (this._animatedLayerCount - 1));
        while (layerId >= 0) {
            let sequenceId = 0;
            animationPlayed = animationData.getAnimationPlayed(layerId);
            if (!animationPlayed || this._directionChanged) {
                let lastFramePlayed = animationData.getLastFramePlayed(layerId);
                let frame = animationData.getFrame(layerId);
                if (frame) {
                    if (frame.isLastFrame && (frame.remainingFrameRepeats <= FurnitureAnimatedVisualization.FRAME_INCREASE_AMOUNT)) {
                        lastFramePlayed = true;
                    }
                }
                if ((this._directionChanged || !frame) || ((frame.remainingFrameRepeats >= 0) && ((frame.remainingFrameRepeats = (frame.remainingFrameRepeats - FurnitureAnimatedVisualization.FRAME_INCREASE_AMOUNT)) <= 0))) {
                    sequenceId = _data_AnimationFrame__WEBPACK_IMPORTED_MODULE_3__["AnimationFrame"].SEQUENCE_NOT_DEFINED;
                    if (frame)
                        sequenceId = frame.activeSequence;
                    if (sequenceId === _data_AnimationFrame__WEBPACK_IMPORTED_MODULE_3__["AnimationFrame"].SEQUENCE_NOT_DEFINED) {
                        frame = this._data.getFrame(scale, animationId, this._direction, layerId, frameCount);
                    }
                    else {
                        frame = this._data.getFrameFromSequence(scale, animationId, this._direction, layerId, sequenceId, (frame.activeSequenceOffset + frame.repeats), frameCount);
                    }
                    animationData.setFrame(layerId, frame);
                    update = (update | layerUpdate);
                }
                if (!frame || (frame.remainingFrameRepeats == _data_AnimationFrame__WEBPACK_IMPORTED_MODULE_3__["AnimationFrame"].FRAME_REPEAT_FOREVER)) {
                    lastFramePlayed = true;
                    animationPlayed = true;
                }
                else {
                    animationData.animationOver = false;
                }
                animationData.setLastFramePlayed(layerId, lastFramePlayed);
                animationData.setAnimationPlayed(layerId, animationPlayed);
            }
            layerUpdate = (layerUpdate >> 1);
            layerId--;
        }
        return update;
    }
    getFrameNumber(scale, layerId) {
        const currentFrame = this._animationData.getFrame(layerId);
        if (!currentFrame)
            return super.getFrameNumber(scale, layerId);
        return currentFrame.id;
    }
    getLayerXOffset(scale, direction, layerId) {
        const offset = super.getLayerXOffset(scale, direction, layerId);
        const currentFrame = this._animationData.getFrame(layerId);
        if (!currentFrame)
            return offset;
        return (offset + currentFrame.x);
    }
    getLayerYOffset(scale, direction, layerId) {
        const offset = super.getLayerYOffset(scale, direction, layerId);
        const currentFrame = this._animationData.getFrame(layerId);
        if (!currentFrame)
            return offset;
        return (offset + currentFrame.y);
    }
    usesAnimationResetting() {
        return false;
    }
    setDirection(direction) {
        if (this._direction === direction)
            return;
        super.setDirection(direction);
        this._directionChanged = true;
    }
}
FurnitureAnimatedVisualization.FRAME_INCREASE_AMOUNT = 1;
FurnitureAnimatedVisualization.TYPE = _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVisualizationType"].FURNITURE_ANIMATED;
FurnitureAnimatedVisualization.DEFAULT_ANIMATION_ID = 0;


/***/ }),

/***/ "MeCd":
/*!*************************************************************!*\
  !*** ./src/client/nitro/room/object/data/ObjectDataBase.ts ***!
  \*************************************************************/
/*! exports provided: ObjectDataBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectDataBase", function() { return ObjectDataBase; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataFlags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ObjectDataFlags */ "KimI");


class ObjectDataBase {
    constructor() {
        this._flags = 0;
        this._uniqueNumber = 0;
        this._uniqueSeries = 0;
    }
    parseWrapper(wrapper) {
        if ((this._flags & _ObjectDataFlags__WEBPACK_IMPORTED_MODULE_1__["ObjectDataFlags"].UNIQUE_SET) > 0) {
            this._uniqueNumber = wrapper.readInt();
            this._uniqueSeries = wrapper.readInt();
        }
    }
    initializeFromRoomObjectModel(model) {
        this._uniqueNumber = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_UNIQUE_SERIAL_NUMBER);
        this._uniqueSeries = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_UNIQUE_EDITION_SIZE);
    }
    writeRoomObjectModel(model) {
        if (!model)
            return;
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_UNIQUE_SERIAL_NUMBER, this._uniqueNumber);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_UNIQUE_EDITION_SIZE, this._uniqueSeries);
    }
    getLegacyString() {
        return '';
    }
    compare(data) {
        return false;
    }
    get state() {
        const state = parseInt(this.getLegacyString());
        return isNaN(state) ? 0 : state;
    }
    get isUnique() {
        return this._uniqueSeries > 0;
    }
    get uniqueNumber() {
        return this._uniqueNumber;
    }
    get uniqueSeries() {
        return this._uniqueSeries;
    }
    get flags() {
        return this._flags;
    }
    set flags(flags) {
        this._flags = flags;
    }
}


/***/ }),

/***/ "MuF5":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/navigator/NavigatorSearchCloseComposer.ts ***!
  \****************************************************************************************************/
/*! exports provided: NavigatorSearchCloseComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchCloseComposer", function() { return NavigatorSearchCloseComposer; });
class NavigatorSearchCloseComposer {
    constructor(code) {
        this._data = [code];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "N+Yd":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/pets/PetFigureData.ts ***!
  \****************************************************************************************/
/*! exports provided: PetFigureData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetFigureData", function() { return PetFigureData; });
class PetFigureData {
    constructor(wrapper) {
        this._typeId = wrapper.readInt();
        this._paletteId = wrapper.readInt();
        this._color = wrapper.readString();
        this._breedId = wrapper.readInt();
        this._customParts = [];
        this._customPartCount = wrapper.readInt();
        let i = 0;
        while (i < this._customPartCount) {
            this._customParts.push(wrapper.readInt());
            this._customParts.push(wrapper.readInt());
            this._customParts.push(wrapper.readInt());
            i++;
        }
    }
    get typeId() {
        return this._typeId;
    }
    get paletteId() {
        return this._paletteId;
    }
    get color() {
        return this._color;
    }
    get breedId() {
        return this._breedId;
    }
    get figuredata() {
        let figure = ((((this.typeId + " ") + this.paletteId) + " ") + this.color);
        figure = (figure + (" " + this.custompartCount));
        for (let _local_2 of this.customParts)
            figure = (figure + (" " + _local_2));
        return figure;
    }
    get customParts() {
        return this._customParts;
    }
    get custompartCount() {
        return this._customPartCount;
    }
}


/***/ }),

/***/ "NHnu":
/*!*********************************************************!*\
  !*** ./src/app/components/inventory/items/GroupItem.ts ***!
  \*********************************************************/
/*! exports provided: GroupItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupItem", function() { return GroupItem; });
/* harmony import */ var _client_core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../client/core/utils/AdvancedMap */ "hTzv");
/* harmony import */ var _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enum/FurniCategory */ "Ue1F");


class GroupItem {
    constructor(model, type, category, roomEngine, stuffData, extra) {
        this._Str_18094 = 1;
        this._Str_18535 = 0.2;
        this._model = model;
        this._type = type;
        this._category = category;
        this._roomEngine = roomEngine;
        this._stuffData = stuffData;
        this._extra = extra;
        this._isWallItem = false;
        this._iconUrl = null;
        this._name = null;
        this._description = null;
        this._unseeen = false;
        this._unlocked = true;
        this._items = new _client_core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_0__["AdvancedMap"]();
    }
    init() {
        this.setIcon();
    }
    dispose() {
    }
    getItemByIndex(index) {
        return this._items.getWithIndex(index);
    }
    getItemById(id) {
        return this._items.getValue(id);
    }
    push(k, _arg_2 = false) {
        const existing = this._items.getValue(k.id);
        if (!existing) {
            this._items.add(k.id, k);
        }
        else {
            existing.locked = false;
        }
        if (!this._name || !this._name.length)
            this.setName();
        if (!this._description || !this._description.length)
            this.setDescription();
    }
    pop() {
        let item = null;
        if (this._items.length > 0) {
            item = this._items.getWithIndex((this._items.length - 1));
            this._items.remove(item.id);
        }
        return item;
    }
    remove(k) {
        const item = this._items.getValue(k);
        if (item) {
            this._items.remove(k);
            return item;
        }
        return null;
    }
    getTotalCount() {
        var k = 0;
        if (this._category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_1__["FurniCategory"]._Str_12351) {
            let count = 0;
            let i = 0;
            while (i < this._items.length) {
                const item = this._items.getWithIndex(i);
                count = (count + parseInt(item.stuffData.getLegacyString()));
                i++;
            }
            return count;
        }
        return this._items.length;
    }
    getUnlockedCount() {
        if (this.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_1__["FurniCategory"]._Str_12351)
            return this.getTotalCount();
        let count = 0;
        let i = 0;
        while (i < this._items.length) {
            const item = this._items.getWithIndex(i);
            if (item.unlocked)
                count++;
            i++;
        }
        return count;
    }
    getLastItem() {
        if (!this._items.length)
            return null;
        const item = this._items.getWithIndex((this._items.length - 1));
        return item;
    }
    setName() {
        const k = this.getLastItem();
        if (!k) {
            this._name = '';
            return;
        }
        let key = '';
        // switch (this._category)
        // {
        //     case FurniCategory._Str_5186:
        //         key = (("poster_" + k.stuffData.getLegacyString()) + "_name");
        //         break;
        //     case FurniCategory._Str_9125:
        //         key = this._Str_2307._Str_2476._Str_2774._Str_3255(k._Str_2794);
        //         if (_local_3 != null)
        //         {
        //             return _local_3.name;
        //         }
        //         this._Str_3255(k);
        //         return "";
        //     default:
        //         if (this._Str_2770)
        //         {
        //             _local_2 = ("wallItem.name." + k.type);
        //         }
        //         else
        //         {
        //             _local_2 = ("roomItem.name." + k.type);
        //         }
        // }
        //return this._Str_2307.controller.localization.getLocalization(_local_2);
        this._name = '';
    }
    setDescription() {
        this._description = '';
    }
    setIcon() {
        if (this._iconUrl)
            return;
        let imageResult = null;
        if (this.isWallItem) {
            console.log('tru');
            imageResult = this._roomEngine.getFurnitureWallIcon(this._type, this, this._stuffData.getLegacyString());
        }
        else {
            imageResult = this._roomEngine.getFurnitureFloorIcon(this._type, this, (this._extra.toString()), this._stuffData);
        }
        if (imageResult.image || imageResult.data) {
            if (!imageResult.image) {
                this.setIconUrl(imageResult.getImage().src);
            }
            else {
                this.setIconUrl(imageResult.image.src);
            }
        }
    }
    setIconUrl(url) {
        if (!url)
            return;
        this._iconUrl = url;
        //if(this._view) this._view.markForCheck();
    }
    imageReady(id, texture, image = null) {
        if (id === -1)
            return;
        if (!image)
            return;
        this.setIconUrl(image.src);
    }
    imageFailed(id) {
    }
    get type() {
        return this._type;
    }
    get category() {
        return this._category;
    }
    get stuffData() {
        return this._stuffData;
    }
    get extra() {
        return this._extra;
    }
    get iconUrl() {
        return this._iconUrl;
    }
    get name() {
        return this._name;
    }
    get description() {
        return this._description;
    }
    get unseen() {
        return this._unseeen;
    }
    set unseen(flag) {
        this._unseeen = flag;
    }
    get unlocked() {
        return this._unlocked;
    }
    set unlocked(flag) {
        this._unlocked = flag;
    }
    get isWallItem() {
        const item = this.getItemByIndex(0);
        console.log(item);
        return (item ? item.isWallItem : false);
    }
    get isGroupable() {
        const item = this.getItemByIndex(0);
        return (item ? item.isGroupable : false);
    }
    get items() {
        return this._items;
    }
}
GroupItem.INVENTORY_THUMB_XML = "inventory_thumb_xml";
GroupItem._Str_4072 = 0xCCCCCC;
GroupItem._Str_4169 = 10275685;


/***/ }),

/***/ "Nakt":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/FurnitureDataEvent.ts ***!
  \***********************************************************************************************/
/*! exports provided: FurnitureDataEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureDataEvent", function() { return FurnitureDataEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_FurnitureDataParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/furniture/FurnitureDataParser */ "jBuC");


class FurnitureDataEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_FurnitureDataParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureDataParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "NcKY":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/figure/FigurePartSet.ts ***!
  \*******************************************************************/
/*! exports provided: FigurePartSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FigurePartSet", function() { return FigurePartSet; });
/* harmony import */ var _FigurePart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FigurePart */ "ygX0");

class FigurePartSet {
    constructor(type, data) {
        if (!type || !data)
            throw new Error('invalid_data');
        this._id = parseInt(data['$'].id);
        this._type = type;
        this._gender = data['$'].gender;
        this._clubLevel = parseInt(data['$'].club);
        this._isColorable = parseInt(data['$'].colorable) === 1;
        this._isSelectable = parseInt(data['$'].selectable) === 1;
        this._parts = [];
        this._hiddenLayers = [];
        this._isPreSelectable = parseInt(data['$'].preselectable) === 1;
        this._isSellable = parseInt(data['$'].sellable) === 1;
        for (let part of data.part) {
            const newPart = new _FigurePart__WEBPACK_IMPORTED_MODULE_0__["FigurePart"](part);
            const partIndex = this.getPartIndex(newPart);
            if (partIndex !== -1)
                this._parts.splice(partIndex, 0, newPart);
            else
                this._parts.push(newPart);
        }
        if (data.hiddenlayers) {
            const hiddenLayers = data.hiddenlayers[0];
            for (let layer of hiddenLayers.layer)
                this._hiddenLayers.push(layer['$'].parttype);
        }
    }
    dispose() {
        for (let part of this._parts) {
            let figurePart = part;
            figurePart.dispose();
        }
        this._parts = null;
        this._hiddenLayers = null;
    }
    getPartIndex(part) {
        const totalParts = this._parts.length;
        if (!totalParts)
            return -1;
        for (let i = 0; i < totalParts; i++) {
            const existingPart = this._parts[i];
            if (!existingPart)
                continue;
            if (existingPart.type !== part.type || existingPart.index > part.index)
                continue;
            return i;
        }
        return -1;
    }
    _Str_989(k, _arg_2) {
        for (let part of this._parts) {
            if ((part.type !== k) || (part.id !== _arg_2))
                continue;
            return part;
        }
        return null;
    }
    get id() {
        return this._id;
    }
    get type() {
        return this._type;
    }
    get gender() {
        return this._gender;
    }
    get clubLevel() {
        return this._clubLevel;
    }
    get isColorable() {
        return this._isColorable;
    }
    get _Str_608() {
        return this._isSelectable;
    }
    get _Str_806() {
        return this._parts;
    }
    get _Str_790() {
        return this._hiddenLayers;
    }
    get _Str_653() {
        return this._isPreSelectable;
    }
    get _Str_651() {
        return this._isSellable;
    }
}


/***/ }),

/***/ "Nd6c":
/*!******************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureDiceDeactivateComposer.ts ***!
  \******************************************************************************************************************/
/*! exports provided: FurnitureDiceDeactivateComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureDiceDeactivateComposer", function() { return FurnitureDiceDeactivateComposer; });
class FurnitureDiceDeactivateComposer {
    constructor(itemId) {
        this._data = [itemId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "Nd99":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/data/UserInfoParser.ts ***!
  \************************************************************************************/
/*! exports provided: UserInfoParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserInfoParser", function() { return UserInfoParser; });
/* harmony import */ var _UserInfoDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UserInfoDataParser */ "8dyV");

class UserInfoParser {
    flush() {
        this._userInfo = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._userInfo = new _UserInfoDataParser__WEBPACK_IMPORTED_MODULE_0__["UserInfoDataParser"](wrapper);
        if (!this._userInfo)
            return false;
        return true;
    }
    get userInfo() {
        return this._userInfo;
    }
}


/***/ }),

/***/ "NdtJ":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/access/rights/RoomRightsClearParser.ts ***!
  \****************************************************************************************************/
/*! exports provided: RoomRightsClearParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomRightsClearParser", function() { return RoomRightsClearParser; });
class RoomRightsClearParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "NeKW":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/utils/CatalogPageData.ts ***!
  \*****************************************************************************************/
/*! exports provided: CatalogPageData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPageData", function() { return CatalogPageData; });
class CatalogPageData {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._visible = false;
        this._icon = 0;
        this._pageId = -1;
        this._pageName = null;
        this._localization = null;
        this._children = [];
        this._offerIds = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._visible = wrapper.readBoolean();
        this._icon = wrapper.readInt();
        this._pageId = wrapper.readInt();
        this._pageName = wrapper.readString();
        this._localization = wrapper.readString();
        let totalOffers = wrapper.readInt();
        while (totalOffers > 0) {
            this._offerIds.push(wrapper.readInt());
            totalOffers--;
        }
        let totalChildren = wrapper.readInt();
        while (totalChildren > 0) {
            this._children.push(new CatalogPageData(wrapper));
            totalChildren--;
        }
        return true;
    }
    get visible() {
        return this._visible;
    }
    get icon() {
        return this._icon;
    }
    get pageId() {
        return this._pageId;
    }
    get pageName() {
        return this._pageName;
    }
    get localization() {
        return this._localization;
    }
    get children() {
        return this._children;
    }
    get offerIds() {
        return this._offerIds;
    }
}


/***/ }),

/***/ "Njml":
/*!**********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/wall/FurnitureWallUpdateEvent.ts ***!
  \**********************************************************************************************************/
/*! exports provided: FurnitureWallUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallUpdateEvent", function() { return FurnitureWallUpdateEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_wall_FurnitureWallUpdateParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/furniture/wall/FurnitureWallUpdateParser */ "z2NA");


class FurnitureWallUpdateEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_wall_FurnitureWallUpdateParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureWallUpdateParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "NpmB":
/*!*********************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetRoomObjectMessage.ts ***!
  \*********************************************************************************/
/*! exports provided: RoomWidgetRoomObjectMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetRoomObjectMessage", function() { return RoomWidgetRoomObjectMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetRoomObjectMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(type, id, category) {
        super(type);
        this._id = id;
        this._category = category;
    }
    get id() {
        return this._id;
    }
    get category() {
        return this._category;
    }
}
RoomWidgetRoomObjectMessage.GET_OBJECT_INFO = 'RWROM_GET_OBJECT_INFO';
RoomWidgetRoomObjectMessage.GET_OBJECT_NAME = 'RWROM_GET_OBJECT_NAME';
RoomWidgetRoomObjectMessage.SELECT_OBJECT = 'RWROM_SELECT_OBJECT';
RoomWidgetRoomObjectMessage.GET_OWN_CHARACTER_INFO = 'RWROM_GET_OWN_CHARACTER_INFO';
RoomWidgetRoomObjectMessage.GET_AVATAR_LIST = 'RWROM_GET_AVATAR_LIST';


/***/ }),

/***/ "Ns5P":
/*!*************************************************************!*\
  !*** ./src/client/nitro/session/events/RoomSessionEvent.ts ***!
  \*************************************************************/
/*! exports provided: RoomSessionEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSessionEvent", function() { return RoomSessionEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/events/NitroEvent */ "3r1x");

class RoomSessionEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type, session) {
        super(type);
        this._session = session;
    }
    get session() {
        return this._session;
    }
}
RoomSessionEvent.CREATED = 'RSE_CREATED';
RoomSessionEvent.STARTED = 'RSE_STARTED';
RoomSessionEvent.ENDED = 'RSE_ENDED';
RoomSessionEvent.ROOM_DATA = 'RSE_ROOM_DATA';


/***/ }),

/***/ "NyXN":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureVisualizationData.ts ***!
  \********************************************************************************************/
/*! exports provided: FurnitureVisualizationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureVisualizationData", function() { return FurnitureVisualizationData; });
/* harmony import */ var _data_ColorData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/ColorData */ "DZd4");
/* harmony import */ var _data_LayerData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/LayerData */ "QIMa");
/* harmony import */ var _data_SizeData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/SizeData */ "gow0");



class FurnitureVisualizationData {
    constructor() {
        this._type = '';
        this._sizes = [];
        this._sizeDatas = new Map();
        this._lastSize = -1;
        this._lastSizeScale = -1;
        this._lastSizeData = null;
        this._lastSizeDataScale = -1;
    }
    initialize(asset) {
        this.reset();
        if (!asset || (!asset.type || !asset.type.length))
            return false;
        this._type = asset.name;
        if (!this.defineVisualizations(asset.visualizations)) {
            this.reset();
            return false;
        }
        return true;
    }
    dispose() {
        if (this._sizeDatas && this._sizeDatas.size) {
            for (let size of this._sizeDatas.values())
                size && size.dispose();
            this._sizeDatas = null;
        }
        this._lastSizeData = null;
        this._sizes = null;
    }
    reset() {
        this._type = '';
        if (this._sizeDatas && this._sizeDatas.size) {
            for (let size of this._sizeDatas.values())
                size && size.dispose();
        }
        this._sizeDatas.clear();
        this._sizes = [];
        this._lastSizeData = null;
        this._lastSizeDataScale = -1;
    }
    createSizeData(scale, layerCount, angle) {
        return new _data_SizeData__WEBPACK_IMPORTED_MODULE_2__["SizeData"](layerCount, angle);
    }
    defineVisualizations(visualizations) {
        if (!visualizations)
            return false;
        for (let visualization of visualizations) {
            let layerCount = visualization.layerCount;
            let angle = visualization.angle;
            let size = visualization.size;
            if (size < 1)
                size = 1;
            if (this._sizeDatas.get(size))
                return false;
            const sizeData = this.createSizeData(size, layerCount, angle);
            if (!sizeData)
                return false;
            for (let key in visualization) {
                //@ts-ignore
                const data = visualization[key];
                if (!this.processVisualElement(sizeData, key, data)) {
                    sizeData.dispose();
                    return false;
                }
            }
            this._sizeDatas.set(size, sizeData);
            this._sizes.push(size);
        }
        this._sizes.sort();
        return true;
    }
    processVisualElement(sizeData, key, data) {
        if (!sizeData || !key || !data)
            return false;
        switch (key) {
            case 'layers':
                if (!sizeData.processLayers(data))
                    return false;
                break;
            case 'directions':
                if (!sizeData.processDirections(data))
                    return false;
                break;
            case 'colors':
                if (!sizeData.processColors(data))
                    return false;
                break;
        }
        return true;
    }
    getValidSize(scale) {
        if (scale === this._lastSizeScale)
            return this._lastSize;
        const sizeIndex = this.getSizeIndex(scale);
        let newScale = -1;
        if (sizeIndex < this._sizes.length)
            newScale = this._sizes[sizeIndex];
        this._lastSizeScale = scale;
        this._lastSize = newScale;
        return newScale;
    }
    getSizeIndex(size) {
        if (size <= 0)
            return 0;
        let index = 0;
        let iterator = 1;
        while (iterator < this._sizes.length) {
            if (this._sizes[iterator] > size) {
                if ((this._sizes[iterator] / size) < (size / this._sizes[(iterator - 1)]))
                    index = iterator;
                break;
            }
            index = iterator;
            iterator++;
        }
        return index;
    }
    getSizeData(size) {
        if (size === this._lastSizeDataScale)
            return this._lastSizeData;
        const sizeIndex = this.getSizeIndex(size);
        if (sizeIndex < this._sizes.length)
            this._lastSizeData = this._sizeDatas.get(this._sizes[sizeIndex]);
        else
            this._lastSizeData = null;
        this._lastSizeDataScale = size;
        return this._lastSizeData;
    }
    getLayerCount(scale) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_COUNT;
        return size.layerCount;
    }
    getValidDirection(scale, direction) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_DIRECTION;
        return size.getValidDirection(direction);
    }
    getLayerTag(scale, direction, layerId) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_TAG;
        return size.getLayerTag(direction, layerId);
    }
    getLayerInk(scale, direction, layerId) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_INK;
        return size.getLayerInk(direction, layerId);
    }
    getLayerAlpha(scale, direction, layerId) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_ALPHA;
        return size.getLayerAlpha(direction, layerId);
    }
    getLayerColor(scale, layerId, colorId) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_ColorData__WEBPACK_IMPORTED_MODULE_0__["ColorData"].DEFAULT_COLOR;
        return size.getLayerColor(layerId, colorId);
    }
    getLayerIgnoreMouse(scale, direction, layerId) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_IGNORE_MOUSE;
        return size.getLayerIgnoreMouse(direction, layerId);
    }
    getLayerXOffset(scale, direction, layerId) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_XOFFSET;
        return size.getLayerXOffset(direction, layerId);
    }
    getLayerYOffset(scale, direction, layerId) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_YOFFSET;
        return size.getLayerYOffset(direction, layerId);
    }
    getLayerZOffset(scale, direction, layerId) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_1__["LayerData"].DEFAULT_ZOFFSET;
        return size.getLayerZOffset(direction, layerId);
    }
    get type() {
        return this._type;
    }
}
FurnitureVisualizationData.LAYER_LETTERS = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];


/***/ }),

/***/ "O+SQ":
/*!*************************************************************************************!*\
  !*** ./src/client/core/communication/connections/enums/ClientDeviceCategoryEnum.ts ***!
  \*************************************************************************************/
/*! exports provided: ClientDeviceCategoryEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientDeviceCategoryEnum", function() { return ClientDeviceCategoryEnum; });
class ClientDeviceCategoryEnum {
}
ClientDeviceCategoryEnum.UNKNOWN = 0;
ClientDeviceCategoryEnum.BROWSER = 1;


/***/ }),

/***/ "O9Gp":
/*!*************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectGroupBadgeUpdateMessage.ts ***!
  \*************************************************************************/
/*! exports provided: ObjectGroupBadgeUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectGroupBadgeUpdateMessage", function() { return ObjectGroupBadgeUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectGroupBadgeUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(badgeId, assetName) {
        super(null, null);
        this._badgeId = badgeId;
        this._assetName = assetName;
    }
    get badgeId() {
        return this._badgeId;
    }
    get assetName() {
        return this._assetName;
    }
}
ObjectGroupBadgeUpdateMessage.BADGE_LOADED = 'ROGBUM_BADGE_LOADED';


/***/ }),

/***/ "OLrf":
/*!***********************************!*\
  !*** ./src/app/security/index.ts ***!
  \***********************************/
/*! exports provided: SecurityModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SecurityModule", function() { return SecurityModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/session.service */ "j2zY");



class SecurityModule {
}
SecurityModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: SecurityModule });
SecurityModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function SecurityModule_Factory(t) { return new (t || SecurityModule)(); }, providers: [
        _services_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"]
    ] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SecurityModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                providers: [
                    _services_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "OMME":
/*!*********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureHighScoreLogic.ts ***!
  \*********************************************************************************/
/*! exports provided: FurnitureHighScoreLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureHighScoreLogic", function() { return FurnitureHighScoreLogic; });
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");

class FurnitureHighScoreLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureLogic"] {
}


/***/ }),

/***/ "OMxv":
/*!************************************************!*\
  !*** ./src/client/nitro/window/motion/Wait.ts ***!
  \************************************************/
/*! exports provided: Wait */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Wait", function() { return Wait; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");
/* harmony import */ var _Motion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Motion */ "YBQe");


class Wait extends _Motion__WEBPACK_IMPORTED_MODULE_1__["Motion"] {
    constructor(k) {
        super(null);
        this._waitTimeMs = k;
    }
    get running() {
        return this._running;
    }
    start() {
        super.start();
        this._complete = false;
        this._startTimeMs = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time;
    }
    tick(k) {
        super.tick(k);
        this._complete = ((k - this._startTimeMs) >= this._waitTimeMs);
        if (this._complete)
            this.stop();
    }
}


/***/ }),

/***/ "ObWd":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/FurnitureStateEvent.ts ***!
  \************************************************************************************************/
/*! exports provided: FurnitureStateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureStateEvent", function() { return FurnitureStateEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_FurnitureStateParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/furniture/FurnitureStateParser */ "yjy2");


class FurnitureStateEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_FurnitureStateParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureStateParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Oix0":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/navigator/NavigatorSettingsSaveComposer.ts ***!
  \*****************************************************************************************************/
/*! exports provided: NavigatorSettingsSaveComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSettingsSaveComposer", function() { return NavigatorSettingsSaveComposer; });
class NavigatorSettingsSaveComposer {
    constructor(x, y, width, height, leftSideOpen, mode) {
        this._data = [x, y, width, height, leftSideOpen, mode];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "Onn/":
/*!****************************************************!*\
  !*** ./src/client/nitro/avatar/AvatarStructure.ts ***!
  \****************************************************/
/*! exports provided: AvatarStructure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarStructure", function() { return AvatarStructure; });
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _actions_AvatarActionManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions/AvatarActionManager */ "z9A0");
/* harmony import */ var _animation_AnimationManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./animation/AnimationManager */ "yP2P");
/* harmony import */ var _AvatarImagePartContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AvatarImagePartContainer */ "eOmg");
/* harmony import */ var _enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./enum/AvatarDirectionAngle */ "sRxW");
/* harmony import */ var _geometry_AvatarModelGeometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./geometry/AvatarModelGeometry */ "8ujE");
/* harmony import */ var _structure_animation_AnimationAction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./structure/animation/AnimationAction */ "Chl+");
/* harmony import */ var _structure_AnimationData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./structure/AnimationData */ "hNsg");
/* harmony import */ var _structure_FigureSetData__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./structure/FigureSetData */ "LG/5");
/* harmony import */ var _structure_PartSetsData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./structure/PartSetsData */ "Zx9K");










class AvatarStructure extends _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__["EventDispatcher"] {
    constructor(renderManager) {
        super();
        this._renderManager = renderManager;
        this._geometry = null;
        this._figureData = new _structure_FigureSetData__WEBPACK_IMPORTED_MODULE_8__["FigureSetData"]();
        this._partSetsData = new _structure_PartSetsData__WEBPACK_IMPORTED_MODULE_9__["PartSetsData"]();
        this._animationData = new _structure_AnimationData__WEBPACK_IMPORTED_MODULE_7__["AnimationData"]();
        this._animationManager = new _animation_AnimationManager__WEBPACK_IMPORTED_MODULE_2__["AnimationManager"]();
        this._mandatorySetTypeIds = {};
        this._actionManager = null;
        this._defaultAction = null;
    }
    init() {
    }
    dispose() {
        if (this.disposed)
            return;
        super.dispose();
        this._renderManager = null;
        this._figureData = null;
        this._partSetsData = null;
        this._animationData = null;
        this._mandatorySetTypeIds = null;
    }
    _Str_1825(k) {
        if (!k)
            return;
        this._geometry = new _geometry_AvatarModelGeometry__WEBPACK_IMPORTED_MODULE_5__["AvatarModelGeometry"](k);
    }
    _Str_1060(k, _arg_2) {
        if (!_arg_2)
            return;
        this._actionManager = new _actions_AvatarActionManager__WEBPACK_IMPORTED_MODULE_1__["AvatarActionManager"](k, _arg_2);
        this._defaultAction = this._actionManager._Str_1027();
    }
    _Str_1620(data) {
        this._actionManager._Str_1620(data);
        this._defaultAction = this._actionManager._Str_1027();
    }
    _Str_1296(k) {
        if (!k)
            return false;
        if (this._partSetsData.parse(k)) {
            this._partSetsData._Str_1102("ri")._Str_1583 = true;
            this._partSetsData._Str_1102("li")._Str_1583 = true;
            return true;
        }
        return false;
    }
    _Str_2229(k) {
        if (!k)
            return false;
        return this._animationData.parse(k);
    }
    _Str_1569(k) {
        if (!k)
            return false;
        return this._figureData.parse(k);
    }
    _Str_882(data) {
        this._figureData._Str_1133(data);
    }
    _Str_1849(k, _arg_2 = 'fx', _arg_3 = 200) {
        let index = 0;
        while (index < _arg_3) {
            const collection = k.getCollection((_arg_2 + index));
            if (collection) {
                const animationData = collection.data;
                this._animationManager._Str_2061(this, animationData);
            }
            index++;
        }
    }
    _Str_2061(data) {
        this._animationManager._Str_2061(this, data);
    }
    _Str_867(k, _arg_2, _arg_3 = 0) {
        const _local_4 = k._Str_815(_arg_2);
        if ((!(_local_4)) || (_local_4.length < _arg_3))
            return null;
        const _local_5 = this._figureData._Str_740(_arg_2);
        if (_local_5 == null)
            return null;
        const _local_6 = this._figureData._Str_783(_local_5._Str_734);
        if (!_local_6)
            return null;
        return _local_6._Str_751(_local_4[_arg_3]);
    }
    _Str_1881(animation, frameCount, spriteId) {
        return this._animationManager._Str_607(animation, frameCount, spriteId);
    }
    _Str_720(k) {
        //@ts-ignore
        return this._animationManager._Str_720(k);
    }
    _Str_1675(k) {
        return this._actionManager._Str_1675(k);
    }
    _Str_2018(k) {
        return this._actionManager._Str_2018(k);
    }
    _Str_1939(k) {
        return this._geometry._Str_1939(k);
    }
    _Str_711(k) {
        return this._actionManager._Str_711(k);
    }
    _Str_1936(k) {
        let _local_2 = 0;
        for (let _local_3 of k) {
            _local_2 = Math.max(_local_2, this._animationData._Str_1408(_local_3._Str_742));
        }
        return _local_2;
    }
    _Str_1733(k, _arg_2) {
        if (!this._mandatorySetTypeIds[k]) {
            this._mandatorySetTypeIds[k] = [];
        }
        if (this._mandatorySetTypeIds[k][_arg_2]) {
            return this._mandatorySetTypeIds[k][_arg_2];
        }
        this._mandatorySetTypeIds[k][_arg_2] = this._figureData._Str_1733(k, _arg_2);
        return this._mandatorySetTypeIds[k][_arg_2];
    }
    _Str_2264(k, _arg_2) {
        return this._figureData._Str_2264(k, _arg_2);
    }
    _Str_781(k, _arg_2, _arg_3) {
        return this._actionManager._Str_781(k, _arg_2, _arg_3);
    }
    _Str_1664(k, _arg_2) {
        return this._geometry._Str_1664(k, _arg_2);
    }
    _Str_2101(k) {
        this._geometry._Str_2101(k);
    }
    _Str_2021(k, _arg_2) {
        let _local_3 = [];
        const _local_4 = [];
        const _local_5 = k._Str_742._Str_868;
        if (k._Str_742._Str_861) {
            const _local_7 = ((k._Str_742.state + ".") + k._Str_727);
            const _local_8 = this._animationManager._Str_720(_local_7);
            if (_local_8) {
                _local_3 = _local_8._Str_1065(0, k._Str_707);
                if (_local_8._Str_706()) {
                    const _local_11 = {
                        id: '',
                        x: 0,
                        y: 0,
                        z: 0,
                        radius: 0.01,
                        nx: 0,
                        ny: 0,
                        nz: -1,
                        double: 1
                    };
                    const _local_12 = {
                        setType: ''
                    };
                    for (let _local_13 of _local_8._Str_687) {
                        const _local_6 = this._geometry._Str_1919(_local_5, _local_13.align);
                        if (_local_6) {
                            _local_11.id = _local_13.id;
                            _local_6._Str_2020(_local_11, _arg_2);
                            _local_12.setType = _local_13.id;
                            const _local_10 = this._partSetsData._Str_1520(_local_12);
                            _local_10._Str_1583 = true;
                            if (_local_13.base === '')
                                _local_10._Str_1734 = 1;
                            if (_local_4.indexOf(_local_6.id) === -1)
                                _local_4.push(_local_6.id);
                        }
                    }
                }
            }
            for (let _local_9 of _local_3) {
                const _local_6 = this._geometry._Str_1919(_local_5, _local_9);
                if (_local_6 && (_local_4.indexOf(_local_6.id) === -1))
                    _local_4.push(_local_6.id);
            }
        }
        else {
            _local_3 = this._partSetsData._Str_1795(k._Str_742);
            for (let _local_14 of _local_3) {
                const _local_6 = this._geometry._Str_1701(_local_5, _local_14, _arg_2);
                if (_local_6 && (_local_4.indexOf(_local_6.id) === -1))
                    _local_4.push(_local_6.id);
            }
        }
        return _local_4;
    }
    _Str_1695(k) {
        return this._geometry._Str_1307(k);
    }
    _Str_755(k, _arg_2, _arg_3) {
        const _local_4 = _enum_AvatarDirectionAngle__WEBPACK_IMPORTED_MODULE_4__["AvatarDirectionAngle"].DIRECTION_TO_ANGLE[_arg_3];
        return this._geometry._Str_2250(k, _local_4, _arg_2);
    }
    _Str_1888(k, _arg_2, _arg_3, _arg_4) {
        const _local_5 = this._animationData._Str_2244(k._Str_742);
        if (_local_5)
            return _local_5._Str_1888(_arg_2, _arg_3, _arg_4);
        return _structure_animation_AnimationAction__WEBPACK_IMPORTED_MODULE_6__["AnimationAction"]._Str_1934;
    }
    _Str_713(k, _arg_2, _arg_3, _arg_4, _arg_5, removes, _arg_7, _arg_8 = null) {
        let _local_10 = null;
        let _local_34 = null;
        let _local_20 = [];
        var _local_36 = null;
        if (!_arg_3 == null)
            return [];
        var _local_9 = this._partSetsData._Str_1795(_arg_3._Str_742);
        var _local_11 = [];
        let _local_14 = [0];
        var _local_15 = this._animationData._Str_2244(_arg_3._Str_742);
        if (_arg_3._Str_742._Str_861) {
            const _local_24 = ((_arg_3._Str_742.state + ".") + _arg_3._Str_727);
            const _local_10 = this._animationManager._Str_720(_local_24);
            if (_local_10) {
                _local_14 = this._Str_1768(_local_10._Str_2185(_arg_3._Str_707));
                for (let _local_25 of _local_10._Str_1065(0, _arg_3._Str_707)) {
                    if (_local_25 === k) {
                        const _local_26 = this._geometry._Str_1919(_arg_4, _local_25);
                        if (_local_26) {
                            for (let _local_27 of _local_26._Str_1883(_arg_7)) {
                                _local_9.push(_local_27.id);
                            }
                        }
                    }
                }
            }
        }
        const _local_16 = this._geometry._Str_713(_arg_4, k, _arg_5, _local_9, _arg_7);
        const _local_21 = _arg_2._Str_1016();
        for (let _local_17 of _local_21) {
            if (_arg_8) {
                if (_arg_8.get(_local_17))
                    continue;
            }
            const _local_28 = _arg_2.getPartSetId(_local_17);
            const _local_29 = _arg_2._Str_815(_local_17);
            const _local_30 = this._figureData._Str_740(_local_17);
            if (_local_30) {
                const _local_31 = this._figureData._Str_783(_local_30._Str_734);
                if (_local_31) {
                    const _local_32 = _local_30._Str_1020(_local_28);
                    if (_local_32) {
                        removes = removes.concat(_local_32._Str_790);
                        for (let _local_33 of _local_32._Str_806) {
                            if (_local_16.indexOf(_local_33.type) > -1) {
                                if (_local_15) {
                                    const _local_19 = _local_15._Str_989(_local_33.type);
                                    if (_local_19) {
                                        _local_20 = _local_19.frames;
                                    }
                                    else {
                                        _local_20 = _local_14;
                                    }
                                }
                                else {
                                    _local_20 = _local_14;
                                }
                                _local_34 = _arg_3._Str_742;
                                if (_local_9.indexOf(_local_33.type) === -1)
                                    _local_34 = this._defaultAction;
                                const _local_13 = this._partSetsData._Str_1102(_local_33.type);
                                let _local_35 = (!_local_13) ? _local_33.type : _local_13._Str_1693;
                                if (!_local_35 || (_local_35 === ''))
                                    _local_35 = _local_33.type;
                                if (_local_29 && (_local_29.length > (_local_33._Str_827 - 1))) {
                                    _local_36 = _local_31._Str_751(_local_29[(_local_33._Str_827 - 1)]);
                                }
                                const _local_37 = (_local_33._Str_827 > 0);
                                const _local_18 = new _AvatarImagePartContainer__WEBPACK_IMPORTED_MODULE_3__["AvatarImagePartContainer"](k, _local_33.type, _local_33.id.toString(), _local_36, _local_20, _local_34, _local_37, _local_33.paletteMap, _local_35);
                                _local_11.push(_local_18);
                            }
                        }
                    }
                }
            }
        }
        const _local_22 = [];
        for (let _local_12 of _local_16) {
            let _local_39 = null;
            let _local_38 = false;
            const _local_40 = ((_arg_8) && (_arg_8.get(_local_12)));
            for (let _local_23 of _local_11) {
                if (_local_23._Str_1669 === _local_12) {
                    if (_local_40) {
                        _local_39 = _local_23.color;
                    }
                    else {
                        _local_38 = true;
                        if (removes.indexOf(_local_12) === -1)
                            _local_22.push(_local_23);
                    }
                }
            }
            if (!_local_38) {
                if (_local_40) {
                    const _local_41 = _arg_8.get(_local_12);
                    let _local_42 = 0;
                    let _local_43 = 0;
                    while (_local_43 < _local_41.length) {
                        _local_42 = (_local_42 + _local_41.charCodeAt(_local_43));
                        _local_43++;
                    }
                    if (_local_15) {
                        const _local_19 = _local_15._Str_989(_local_12);
                        if (_local_19) {
                            _local_20 = _local_19.frames;
                        }
                        else {
                            _local_20 = _local_14;
                        }
                    }
                    else {
                        _local_20 = _local_14;
                    }
                    const _local_18 = new _AvatarImagePartContainer__WEBPACK_IMPORTED_MODULE_3__["AvatarImagePartContainer"](k, _local_12, _local_41, _local_39, _local_20, _arg_3._Str_742, (!(_local_39 == null)), -1, _local_12, false, 1);
                    _local_22.push(_local_18);
                }
                else {
                    if (_local_9.indexOf(_local_12) > -1) {
                        const _local_44 = this._geometry._Str_1701(_arg_4, _local_12, _arg_7);
                        if (k !== _local_44.id) {
                        }
                        else {
                            const _local_13 = this._partSetsData._Str_1102(_local_12);
                            let _local_45 = false;
                            let _local_46 = 1;
                            if (_local_13._Str_1583) {
                                let _local_47 = '1';
                                if (_arg_3._Str_727 !== '') {
                                    _local_47 = _arg_3._Str_727;
                                }
                                if (_local_13._Str_2234()) {
                                    _local_47 = _local_13._Str_1734.toString();
                                }
                                if (_local_10 != null) {
                                    const _local_48 = _local_10._Str_1550(_local_12);
                                    if (_local_48) {
                                        _local_45 = _local_48._Str_1096;
                                        _local_46 = _local_48.blend;
                                    }
                                }
                                if (_local_15) {
                                    const _local_19 = _local_15._Str_989(_local_12);
                                    if (_local_19) {
                                        _local_20 = _local_19.frames;
                                    }
                                    else {
                                        _local_20 = _local_14;
                                    }
                                }
                                else {
                                    _local_20 = _local_14;
                                }
                                const _local_18 = new _AvatarImagePartContainer__WEBPACK_IMPORTED_MODULE_3__["AvatarImagePartContainer"](k, _local_12, _local_47, null, _local_20, _arg_3._Str_742, false, -1, _local_12, _local_45, _local_46);
                                _local_22.push(_local_18);
                            }
                        }
                    }
                }
            }
        }
        return _local_22;
    }
    _Str_1768(k) {
        const _local_2 = [];
        let index = 0;
        while (index < k) {
            _local_2.push(index);
            index++;
        }
        return _local_2;
    }
    _Str_672() {
        if (this._actionManager) {
            const k = this._actionManager._Str_1675('CarryItem').params;
            const _local_2 = [];
            for (let _local_3 of k.values())
                _local_2.push(_local_3);
            return _local_2;
        }
        return [];
    }
    get renderManager() {
        return this._renderManager;
    }
    get figureData() {
        return this._figureData;
    }
    get partData() {
        return this._partSetsData;
    }
    get animationManager() {
        return this._animationManager;
    }
}


/***/ }),

/***/ "OsEh":
/*!**************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/DirectionData.ts ***!
  \**************************************************************************/
/*! exports provided: DirectionData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionData", function() { return DirectionData; });
/* harmony import */ var _LayerData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LayerData */ "QIMa");

class DirectionData {
    constructor(layerCount) {
        this._layers = [];
        this.createLayers(layerCount);
    }
    createLayers(count) {
        if (!count)
            return;
        for (let i = 0; i < count; i++)
            this._layers.push(new _LayerData__WEBPACK_IMPORTED_MODULE_0__["LayerData"]());
    }
    dispose() {
        this._layers = [];
    }
    setFromDirection(directionData) {
        if (!directionData)
            return;
        const totalLayers = this.layerCount;
        if (totalLayers !== directionData.layerCount)
            return;
        for (let i = 0; i < totalLayers; i++) {
            const localLayer = this.getLayer(i);
            const directionLayer = directionData.getLayer(i);
            if (!localLayer)
                continue;
            localLayer.setFromLayer(directionLayer);
        }
    }
    getLayer(layerId) {
        const existing = this._layers[layerId];
        if (!existing)
            return null;
        return existing;
    }
    getLayerTag(layerId) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return _LayerData__WEBPACK_IMPORTED_MODULE_0__["LayerData"].DEFAULT_TAG;
        return existing.tag;
    }
    setLayerTag(layerId, tag) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return;
        existing.tag = tag;
    }
    getLayerInk(layerId) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return _LayerData__WEBPACK_IMPORTED_MODULE_0__["LayerData"].DEFAULT_INK;
        return existing.ink;
    }
    setLayerInk(layerId, ink) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return;
        if (isNaN(ink))
            return;
        existing.ink = ink;
    }
    getLayerAlpha(layerId) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return _LayerData__WEBPACK_IMPORTED_MODULE_0__["LayerData"].DEFAULT_ALPHA;
        return existing.alpha;
    }
    setLayerAlpha(layerId, alpha) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return;
        if (isNaN(alpha))
            return;
        existing.alpha = alpha;
    }
    getLayerIgnoreMouse(layerId) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return _LayerData__WEBPACK_IMPORTED_MODULE_0__["LayerData"].DEFAULT_IGNORE_MOUSE;
        return existing.ignoreMouse;
    }
    setLayerIgnoreMouse(layerId, flag) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return;
        existing.ignoreMouse = flag || false;
    }
    getLayerXOffset(layerId) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return _LayerData__WEBPACK_IMPORTED_MODULE_0__["LayerData"].DEFAULT_XOFFSET;
        return existing.xOffset;
    }
    setLayerXOffset(layerId, offset) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return;
        if (isNaN(offset))
            return;
        existing.xOffset = offset;
    }
    getLayerYOffset(layerId) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return _LayerData__WEBPACK_IMPORTED_MODULE_0__["LayerData"].DEFAULT_YOFFSET;
        return existing.yOffset;
    }
    setLayerYOffset(layerId, offset) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return;
        if (isNaN(offset))
            return;
        existing.yOffset = offset;
    }
    getLayerZOffset(layerId) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return _LayerData__WEBPACK_IMPORTED_MODULE_0__["LayerData"].DEFAULT_ZOFFSET;
        return existing.zOffset;
    }
    setLayerZOffset(layerId, offset) {
        const existing = this.getLayer(layerId);
        if (!existing)
            return;
        if (isNaN(offset))
            return;
        existing.zOffset = offset;
    }
    get layerCount() {
        return this._layers.length;
    }
}
DirectionData._Str_9471 = -1;


/***/ }),

/***/ "OxVo":
/*!******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitChatShoutComposer.ts ***!
  \******************************************************************************************************/
/*! exports provided: RoomUnitChatShoutComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitChatShoutComposer", function() { return RoomUnitChatShoutComposer; });
class RoomUnitChatShoutComposer {
    constructor(message, styleId) {
        this._data = [message, styleId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "P5vI":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/utils/CatalogProductOfferData.ts ***!
  \*************************************************************************************************/
/*! exports provided: CatalogProductOfferData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogProductOfferData", function() { return CatalogProductOfferData; });
class CatalogProductOfferData {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._productType = null;
        this._furniClassId = -1;
        this._extraParam = null;
        this._productCount = 0;
        this._uniqueLimitedItem = false;
        this._uniqueLimitedItemSeriesSize = 0;
        this._uniqueLimitedItemsLeft = 0;
        return true;
    }
    parse(wrapper) {
        this._productType = wrapper.readString();
        switch (this._productType) {
            case CatalogProductOfferData.B:
                this._extraParam = wrapper.readString();
                this._productCount = 1;
                return true;
            default:
                this._furniClassId = wrapper.readInt();
                this._extraParam = wrapper.readString();
                this._productCount = wrapper.readInt();
                this._uniqueLimitedItem = wrapper.readBoolean();
                if (this._uniqueLimitedItem) {
                    this._uniqueLimitedItemSeriesSize = wrapper.readInt();
                    this._uniqueLimitedItemsLeft = wrapper.readInt();
                }
                return true;
        }
    }
    get productType() {
        return this._productType;
    }
    get furniClassId() {
        return this._furniClassId;
    }
    get extraParam() {
        return this._extraParam;
    }
    get productCount() {
        return this._productCount;
    }
    get uniqueLimitedItem() {
        return this._uniqueLimitedItem;
    }
    get uniqueLimitedSeriesSize() {
        return this._uniqueLimitedItemSeriesSize;
    }
    get uniqueLimitedItemsLeft() {
        return this._uniqueLimitedItemsLeft;
    }
}
CatalogProductOfferData.I = 'i';
CatalogProductOfferData.S = 's';
CatalogProductOfferData.E = 'e';
CatalogProductOfferData.B = 'b';


/***/ }),

/***/ "P7Cj":
/*!***********************************!*\
  !*** ./src/client/nitro/Nitro.ts ***!
  \***********************************/
/*! exports provided: Nitro */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Nitro", function() { return Nitro; });
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _core_NitroCore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/NitroCore */ "1cH2");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../NitroConfiguration */ "8vq6");
/* harmony import */ var _room_RoomManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../room/RoomManager */ "Xmmk");
/* harmony import */ var _avatar_AvatarRenderManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./avatar/AvatarRenderManager */ "XpxF");
/* harmony import */ var _communication_NitroCommunicationManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./communication/NitroCommunicationManager */ "0gOM");
/* harmony import */ var _navigator_NitroNavigator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./navigator/NitroNavigator */ "1I7v");
/* harmony import */ var _room_RoomEngine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./room/RoomEngine */ "3h45");
/* harmony import */ var _session_RoomSessionManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./session/RoomSessionManager */ "H/Ns");
/* harmony import */ var _session_SessionDataManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./session/SessionDataManager */ "i7vr");










PIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.NEAREST;
class Nitro extends PIXI.Application {
    constructor(core, options) {
        super(options);
        if (!Nitro.INSTANCE) {
            Nitro.INSTANCE = this;
            //@ts-ignore
            window.NitroInstance = Nitro.INSTANCE;
        }
        this._core = core;
        this._events = new _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__["EventDispatcher"]();
        this._communication = new _communication_NitroCommunicationManager__WEBPACK_IMPORTED_MODULE_5__["NitroCommunicationManager"](core.communication);
        this._avatar = new _avatar_AvatarRenderManager__WEBPACK_IMPORTED_MODULE_4__["AvatarRenderManager"]();
        this._roomEngine = new _room_RoomEngine__WEBPACK_IMPORTED_MODULE_7__["RoomEngine"](this._communication);
        this._sessionDataManager = new _session_SessionDataManager__WEBPACK_IMPORTED_MODULE_9__["SessionDataManager"](this._communication);
        this._roomSessionManager = new _session_RoomSessionManager__WEBPACK_IMPORTED_MODULE_8__["RoomSessionManager"](this._communication, this._roomEngine);
        this._roomManager = new _room_RoomManager__WEBPACK_IMPORTED_MODULE_3__["RoomManager"](this._roomEngine, this._roomEngine.visualizationFactory, this._roomEngine.logicFactory);
        this._navigator = new _navigator_NitroNavigator__WEBPACK_IMPORTED_MODULE_6__["NitroNavigator"](this._communication, this._sessionDataManager, this._roomSessionManager);
        this._isReady = false;
        this._isDisposed = false;
    }
    static bootstrap(options) {
        options = {
            configurationUrl: (options.configurationUrl || ''),
            sso: (options.sso || null),
            canvasParent: (options.canvasParent || document.body)
        };
        if (Nitro.INSTANCE) {
            Nitro.INSTANCE.dispose();
            Nitro.INSTANCE = null;
        }
        const canvas = document.createElement('canvas');
        canvas.id = 'client-wrapper';
        canvas.className = 'client-canvas';
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const instance = new this(new _core_NitroCore__WEBPACK_IMPORTED_MODULE_1__["NitroCore"](), {
            width: (window.innerWidth),
            height: (window.innerHeight),
            transparent: true,
            autoDensity: true,
            resolution: window.devicePixelRatio,
            view: canvas
        });
        instance.ticker.maxFPS = _NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__["NitroConfiguration"].FPS;
        instance.communication.demo.setSSO(options.sso);
    }
    init() {
        if (this._isReady || this._isDisposed)
            return;
        this.setupRenderer();
        //if(this._communication) this._communication.init();
        if (this._avatar)
            this._avatar.init();
        if (this._navigator)
            this._navigator.init();
        if (this._roomEngine) {
            this._roomEngine.sessionDataManager = this._sessionDataManager;
            this._roomEngine.roomSessionManager = this._roomSessionManager;
            this._roomEngine.roomManager = this._roomManager;
            this._roomEngine.init();
            if (this._sessionDataManager)
                this._sessionDataManager.init();
            if (this._roomManager)
                this._roomManager.init();
            if (this._roomSessionManager)
                this._roomSessionManager.init();
        }
        if (!this._communication.connection) {
            throw new Error('No connection found');
        }
        this._isReady = true;
    }
    dispose() {
        if (this._isDisposed)
            return;
        if (this._navigator) {
            this._navigator.dispose();
            this._navigator = null;
        }
        if (this._roomManager) {
            this._roomManager.dispose();
            this._roomManager = null;
        }
        if (this._roomSessionManager) {
            this._roomSessionManager.dispose();
            this._roomSessionManager = null;
        }
        if (this._sessionDataManager) {
            this._sessionDataManager.dispose();
            this._sessionDataManager = null;
        }
        if (this._roomEngine) {
            this._roomEngine.dispose();
            this._roomEngine = null;
        }
        if (this._avatar) {
            this._avatar.dispose();
            this._avatar = null;
        }
        if (this._communication) {
            this._communication.dispose();
            this._communication = null;
        }
        super.destroy();
        this._isDisposed = true;
        this._isReady = false;
    }
    setupRenderer() {
        Nitro.instance.resizeTo = window;
    }
    get core() {
        return this._core;
    }
    get events() {
        return this._events;
    }
    get communication() {
        return this._communication;
    }
    get avatar() {
        return this._avatar;
    }
    get roomEngine() {
        return this._roomEngine;
    }
    get sessionDataManager() {
        return this._sessionDataManager;
    }
    get roomSessionManager() {
        return this._roomSessionManager;
    }
    get roomManager() {
        return this._roomManager;
    }
    get navigator() {
        return this._navigator;
    }
    get time() {
        return this.ticker.lastTime;
    }
    get isReady() {
        return this._isReady;
    }
    get isDisposed() {
        return this._isDisposed;
    }
    static get instance() {
        return this.INSTANCE || null;
    }
}
Nitro.READY = 'NE_READY';
Nitro.CONFIGURATION = _NitroConfiguration__WEBPACK_IMPORTED_MODULE_2__["NitroConfiguration"];
Nitro.INSTANCE = null;


/***/ }),

/***/ "PJYa":
/*!**************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureColorWheelComposer.ts ***!
  \**************************************************************************************************************/
/*! exports provided: FurnitureColorWheelComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureColorWheelComposer", function() { return FurnitureColorWheelComposer; });
class FurnitureColorWheelComposer {
    constructor(itemId) {
        this._data = [itemId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "PJfP":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/StringDataType.ts ***!
  \******************************************************************/
/*! exports provided: StringDataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StringDataType", function() { return StringDataType; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectDataBase */ "MeCd");
/* harmony import */ var _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ObjectDataKey */ "KQk8");



class StringDataType extends _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__["ObjectDataBase"] {
    constructor() {
        super();
        this._data = [];
    }
    parseWrapper(wrapper) {
        if (!wrapper)
            return;
        this._data = [];
        const totalStrings = wrapper.readInt();
        if (totalStrings)
            for (let i = 0; i < totalStrings; i++)
                this._data.push(wrapper.readString());
        super.parseWrapper(wrapper);
    }
    initializeFromRoomObjectModel(model) {
        super.initializeFromRoomObjectModel(model);
        this._data = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA);
    }
    writeRoomObjectModel(model) {
        super.writeRoomObjectModel(model);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA_FORMAT, StringDataType.FORMAT_KEY);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA, this._data);
    }
    getLegacyString() {
        if (!this._data || !this._data.length)
            return '';
        return this._data[StringDataType.STATE];
    }
    compare(data) {
        if (!(data instanceof StringDataType))
            return false;
        let i = 0;
        while (i < this._data.length) {
            if (i === 0) {
            }
            else {
                if (this._data[i] !== data.getValue(i))
                    return false;
            }
            i++;
        }
        return true;
    }
    getValue(index) {
        return this._data[index] || '';
    }
}
StringDataType.FORMAT_KEY = _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__["ObjectDataKey"].STRING_KEY;
StringDataType.STATE = 0;


/***/ }),

/***/ "PPUR":
/*!********************************************************************!*\
  !*** ./src/client/nitro/avatar/events/AvatarRenderLibraryEvent.ts ***!
  \********************************************************************/
/*! exports provided: AvatarRenderLibraryEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarRenderLibraryEvent", function() { return AvatarRenderLibraryEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/events/NitroEvent */ "3r1x");

class AvatarRenderLibraryEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type, library) {
        super(type);
        this._library = library;
    }
    get library() {
        return this._library;
    }
}
AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE = 'ARLE_DOWNLOAD_COMPLETE';


/***/ }),

/***/ "PSU1":
/*!*********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/FurniturePostItPlaceComposer.ts ***!
  \*********************************************************************************************************/
/*! exports provided: FurniturePostItPlaceComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePostItPlaceComposer", function() { return FurniturePostItPlaceComposer; });
class FurniturePostItPlaceComposer {
    constructor(itemId, wallLocation) {
        this._data = [itemId, wallLocation];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "PY38":
/*!***************************************************************!*\
  !*** ./src/app/components/catalog/layouts/pets2/component.ts ***!
  \***************************************************************/
/*! exports provided: CatalogLayoutPets2Component */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogLayoutPets2Component", function() { return CatalogLayoutPets2Component; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "0UMw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");




function CatalogLayoutPets2Component_img_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 6);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r0.pageImage, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
function CatalogLayoutPets2Component_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 7);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r1.pageDescription, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function CatalogLayoutPets2Component_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r2.getText(2), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function CatalogLayoutPets2Component_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r3.getText(3), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
class CatalogLayoutPets2Component extends _component__WEBPACK_IMPORTED_MODULE_1__["CatalogLayout"] {
}
CatalogLayoutPets2Component.LAYOUT_CODE = 'pets2';
CatalogLayoutPets2Component.ɵfac = function CatalogLayoutPets2Component_Factory(t) { return ɵCatalogLayoutPets2Component_BaseFactory(t || CatalogLayoutPets2Component); };
CatalogLayoutPets2Component.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogLayoutPets2Component, selectors: [["nitro-catalog-layout-pets2-component"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 7, vars: 4, consts: [[1, "d-flex", "flex-column", "w-100", "h-100", "card", "nitro-catalog-layout-pets2-component"], [1, "card-header"], [3, "src", 4, "ngIf"], ["class", "d-flex flex-grow flex-column w-100 justify-content-center", 3, "innerHTML", 4, "ngIf"], [1, "card-body"], ["class", "d-flex flex-row", 4, "ngIf"], [3, "src"], [1, "d-flex", "flex-grow", "flex-column", "w-100", "justify-content-center", 3, "innerHTML"], [1, "d-flex", "flex-row"], [3, "innerHTML"]], template: function CatalogLayoutPets2Component_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CatalogLayoutPets2Component_img_2_Template, 1, 1, "img", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, CatalogLayoutPets2Component_div_3_Template, 1, 1, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, CatalogLayoutPets2Component_div_5_Template, 2, 1, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, CatalogLayoutPets2Component_div_6_Template, 2, 1, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.pageImage);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.pageDescription);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.getText(2));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.getText(3));
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], encapsulation: 2 });
const ɵCatalogLayoutPets2Component_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](CatalogLayoutPets2Component);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogLayoutPets2Component, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-catalog-layout-pets2-component',
                template: `
    <div class="d-flex flex-column w-100 h-100 card nitro-catalog-layout-pets2-component">
        <div class="card-header">
            <img *ngIf="pageImage" [src]="pageImage" />
            <div class="d-flex flex-grow flex-column w-100 justify-content-center" *ngIf="pageDescription" [innerHTML]="pageDescription"></div>
        </div>
        <div class="card-body">
            <div *ngIf="getText(2)" class="d-flex flex-row">
                <span [innerHTML]="getText(2)"></span>
            </div>
            <div *ngIf="getText(3)" class="d-flex flex-row">
                <span [innerHTML]="getText(3)"></span>
            </div>
        </div>
    </div>`
            }]
    }], null, null); })();


/***/ }),

/***/ "PlVe":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/MovingObjectLogic.ts ***!
  \*****************************************************************/
/*! exports provided: MovingObjectLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MovingObjectLogic", function() { return MovingObjectLogic; });
/* harmony import */ var _room_object_logic_RoomObjectLogicBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../room/object/logic/RoomObjectLogicBase */ "K5R6");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _messages_ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../messages/ObjectMoveUpdateMessage */ "jNIr");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../RoomObjectVariable */ "XMGm");




class MovingObjectLogic extends _room_object_logic_RoomObjectLogicBase__WEBPACK_IMPORTED_MODULE_0__["RoomObjectLogicBase"] {
    constructor() {
        super();
        this._liftAmount = 0;
        this._location = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._locationDelta = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._lastUpdateTime = 0;
        this._changeTime = 0;
        this._updateInterval = 500;
    }
    dispose() {
        this._liftAmount = 0;
        super.dispose();
    }
    update(time) {
        super.update(time);
        const locationOffset = this.getLocationOffset();
        const model = this.object && this.object.model;
        if (model) {
            if (locationOffset) {
                if (this._liftAmount !== locationOffset.z) {
                    this._liftAmount = locationOffset.z;
                    model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVariable"].FURNITURE_LIFT_AMOUNT, this._liftAmount);
                }
            }
            else {
                if (this._liftAmount !== 0) {
                    this._liftAmount = 0;
                    model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVariable"].FURNITURE_LIFT_AMOUNT, this._liftAmount);
                }
            }
        }
        if ((this._locationDelta.length > 0) || locationOffset) {
            const vector = MovingObjectLogic.TEMP_VECTOR;
            let difference = (this.time - this._changeTime);
            if (difference === (this._updateInterval >> 1))
                difference++;
            if (difference > this._updateInterval)
                difference = this._updateInterval;
            if (this._locationDelta.length > 0) {
                vector.assign(this._locationDelta);
                vector.multiply((difference / this._updateInterval));
                vector.add(this._location);
            }
            else {
                vector.assign(this._location);
            }
            if (locationOffset)
                vector.add(locationOffset);
            this.object.setLocation(vector);
            if (difference === this._updateInterval) {
                this._locationDelta.x = 0;
                this._locationDelta.y = 0;
                this._locationDelta.z = 0;
            }
        }
        this._lastUpdateTime = this.time;
    }
    setObject(object) {
        super.setObject(object);
        if (object)
            this._location.assign(object.getLocation());
    }
    processUpdateMessage(message) {
        if (!message)
            return;
        super.processUpdateMessage(message);
        if (message.location)
            this._location.assign(message.location);
        if (message instanceof _messages_ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectMoveUpdateMessage"])
            return this.processMoveMessage(message);
    }
    processMoveMessage(message) {
        if (!message || !this.object || !message.location)
            return;
        this._changeTime = this._lastUpdateTime;
        this._locationDelta.assign(message.targetLocation);
        this._locationDelta.subtract(this._location);
    }
    getLocationOffset() {
        return null;
    }
    get lastUpdateTime() {
        return this._lastUpdateTime;
    }
}
MovingObjectLogic.TEMP_VECTOR = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();


/***/ }),

/***/ "Prlr":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/mapping/RoomHeightMapUpdateEvent.ts ***!
  \***************************************************************************************************/
/*! exports provided: RoomHeightMapUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomHeightMapUpdateEvent", function() { return RoomHeightMapUpdateEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_mapping_RoomHeightMapUpdateParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/mapping/RoomHeightMapUpdateParser */ "hupP");


class RoomHeightMapUpdateEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_mapping_RoomHeightMapUpdateParser__WEBPACK_IMPORTED_MODULE_1__["RoomHeightMapUpdateParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "PsFf":
/*!******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorEventCategoryDataParser.ts ***!
  \******************************************************************************************************/
/*! exports provided: NavigatorEventCategoryDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorEventCategoryDataParser", function() { return NavigatorEventCategoryDataParser; });
class NavigatorEventCategoryDataParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._id = -1;
        this._name = null;
        this._visible = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._id = wrapper.readInt();
        this._name = wrapper.readString();
        this._visible = wrapper.readBoolean();
        return true;
    }
    get id() {
        return this._id;
    }
    get name() {
        return this._name;
    }
    get visible() {
        return this._visible;
    }
}


/***/ }),

/***/ "Pt5X":
/*!*****************************************************************!*\
  !*** ./src/app/components/catalog/layouts/default/component.ts ***!
  \*****************************************************************/
/*! exports provided: CatalogLayoutDefaultComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogLayoutDefaultComponent", function() { return CatalogLayoutDefaultComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component */ "0UMw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _offergrid_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../offergrid/component */ "1pJR");
/* harmony import */ var _shared_components_roompreview_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../shared/components/roompreview/component */ "KVvL");
/* harmony import */ var _purchase_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../purchase/component */ "11td");







function CatalogLayoutDefaultComponent_div_1_img_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 8);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r2.pageImage, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
function CatalogLayoutDefaultComponent_div_1_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 9);
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r3.pageDescription, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function CatalogLayoutDefaultComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CatalogLayoutDefaultComponent_div_1_img_1_Template, 1, 1, "img", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CatalogLayoutDefaultComponent_div_1_span_2_Template, 1, 1, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.pageImage);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.pageDescription);
} }
function CatalogLayoutDefaultComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("roomPreviewer", ctx_r1.roomPreviewer)("height", 230);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.activeOffer.localizationId);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("catalogPage", ctx_r1.catalogPage)("offer", ctx_r1.activeOffer)("roomPreviewer", ctx_r1.roomPreviewer);
} }
class CatalogLayoutDefaultComponent extends _component__WEBPACK_IMPORTED_MODULE_1__["CatalogLayout"] {
}
CatalogLayoutDefaultComponent.LAYOUT_CODE = 'default_3x3';
CatalogLayoutDefaultComponent.ɵfac = function CatalogLayoutDefaultComponent_Factory(t) { return ɵCatalogLayoutDefaultComponent_BaseFactory(t || CatalogLayoutDefaultComponent); };
CatalogLayoutDefaultComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogLayoutDefaultComponent, selectors: [["nitro-catalog-layout-default-component"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 5, vars: 5, consts: [[1, "d-flex", "flex-column", "w-100", "h-100", "nitro-catalog-layout-default-component"], ["class", "d-flex flex-column justify-content-around align-items-center layout-header", 4, "ngIf"], ["class", "position-relative layout-header", 4, "ngIf"], [1, "d-flex", "flex-row"], ["nitro-catalog-offer-grid-component", "", 1, "w-100", 3, "catalogPage", "offers", "activeOffer"], [1, "d-flex", "flex-column", "justify-content-around", "align-items-center", "layout-header"], [3, "src", 4, "ngIf"], [3, "innerHTML", 4, "ngIf"], [3, "src"], [3, "innerHTML"], [1, "position-relative", "layout-header"], ["nitro-room-preview-component", "", "width", "374", 1, "w-100", "h-100", "position-absolute", 3, "roomPreviewer", "height"], [1, "position-absolute", "offer-name"], ["nitro-catalog-purchase-component", "", 1, "w-100", "h-100", "position-absolute", 3, "catalogPage", "offer", "roomPreviewer"]], template: function CatalogLayoutDefaultComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CatalogLayoutDefaultComponent_div_1_Template, 3, 2, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CatalogLayoutDefaultComponent_div_2_Template, 5, 6, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.activeOffer);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.activeOffer);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("catalogPage", ctx.catalogPage)("offers", ctx.pageParser && ctx.pageParser.offers)("activeOffer", ctx.activeOffer);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _offergrid_component__WEBPACK_IMPORTED_MODULE_3__["CatalogOfferGridComponent"], _shared_components_roompreview_component__WEBPACK_IMPORTED_MODULE_4__["RoomPreviewComponent"], _purchase_component__WEBPACK_IMPORTED_MODULE_5__["CatalogPurchaseComponent"]], encapsulation: 2 });
const ɵCatalogLayoutDefaultComponent_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](CatalogLayoutDefaultComponent);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogLayoutDefaultComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-catalog-layout-default-component',
                template: `
    <div class="d-flex flex-column w-100 h-100 nitro-catalog-layout-default-component">
        <div *ngIf="!activeOffer" class="d-flex flex-column justify-content-around align-items-center layout-header">
            <img *ngIf="pageImage" [src]="pageImage" />
            <span *ngIf="pageDescription" [innerHTML]="pageDescription"></span>
        </div>
        <div *ngIf="activeOffer" class="position-relative layout-header">
            <div class="w-100 h-100 position-absolute" nitro-room-preview-component [roomPreviewer]="roomPreviewer" width="374" [height]="230"></div>
            <span class="position-absolute offer-name">{{ activeOffer.localizationId }}</span>
            <div class="w-100 h-100 position-absolute" nitro-catalog-purchase-component [catalogPage]="catalogPage" [offer]="activeOffer" [roomPreviewer]="roomPreviewer"></div>
        </div>
        <div class="d-flex flex-row">
            <div class="w-100" nitro-catalog-offer-grid-component [catalogPage]="catalogPage" [offers]="(pageParser && pageParser.offers)" [activeOffer]="activeOffer"></div>
        </div>
    </div>`
            }]
    }], null, null); })();


/***/ }),

/***/ "Q0xv":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureBrandedImageVisualization.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurnitureBrandedImageVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureBrandedImageVisualization", function() { return FurnitureBrandedImageVisualization; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Nitro */ "P7Cj");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureVisualization */ "vAq0");



class FurnitureBrandedImageVisualization extends _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_2__["FurnitureVisualization"] {
    constructor() {
        super();
        this._imageUrl = null;
        this._shortUrl = null;
        this._imageReady = false;
        this._offsetX = 0;
        this._offsetY = 0;
        this._offsetZ = 0;
    }
    updateObject(scale, direction) {
        if (!super.updateObject(scale, direction))
            return false;
        if (this._imageReady)
            this.checkAndCreateImageForCurrentState();
        return true;
    }
    updateModel(scale) {
        const flag = super.updateModel(scale);
        if (flag) {
            this._offsetX = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_BRANDING_OFFSET_X);
            this._offsetY = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_BRANDING_OFFSET_Y);
            this._offsetZ = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_BRANDING_OFFSET_Z);
        }
        if (!this._imageReady) {
            this._imageReady = this.checkIfImageReady();
            if (this._imageReady) {
                this.checkAndCreateImageForCurrentState();
                return true;
            }
        }
        else {
            if (this.checkIfImageChanged()) {
                this._imageReady = false;
                this._imageUrl = null;
                return true;
            }
        }
        return flag;
    }
    imageReady(texture, imageUrl) {
        if (!texture) {
            this._imageUrl = null;
            return;
        }
        this._imageUrl = imageUrl;
    }
    checkIfImageChanged() {
        const imageUrl = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_URL);
        if (imageUrl && (imageUrl === this._imageUrl))
            return false;
        return true;
    }
    checkIfImageReady() {
        const model = this.object && this.object.model;
        if (!model)
            return false;
        const imageUrl = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_URL);
        if (!imageUrl)
            return false;
        if (this._imageUrl && (this._imageUrl === imageUrl))
            return false;
        const imageStatus = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_BRANDING_IMAGE_STATUS);
        if (!imageStatus)
            return false;
        const urlParts = imageUrl.split('/');
        const url = urlParts[urlParts.length - 1];
        const texture = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.core.asset.getTexture(url);
        if (!texture)
            return false;
        this.imageReady(texture, imageUrl);
        return true;
    }
    checkAndCreateImageForCurrentState() {
        if (!this._imageUrl)
            return;
        const urlParts = this._imageUrl.split('/');
        const url = urlParts[urlParts.length - 1];
        const texture = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.core.asset.getTexture(url);
        if (!texture)
            return;
        this.asset.addAsset(this._imageUrl, texture, true, 0, 0, false, false);
    }
    getSpriteAssetName(scale, layerId) {
        const tag = this.getLayerTag(scale, this._direction, layerId);
        if (tag === FurnitureBrandedImageVisualization.BRANDED_IMAGE)
            return this._imageUrl;
        return super.getSpriteAssetName(scale, layerId);
    }
    getLayerIgnoreMouse(scale, direction, layerId) {
        const tag = this.getLayerTag(scale, direction, layerId);
        if (tag !== FurnitureBrandedImageVisualization.BRANDED_IMAGE)
            return super.getLayerIgnoreMouse(scale, direction, layerId);
        return true;
    }
}
FurnitureBrandedImageVisualization.BRANDED_IMAGE = 'branded_image';


/***/ }),

/***/ "QAHT":
/*!******************************************************************!*\
  !*** ./src/client/nitro/ui/widget/enums/AvatarExpressionEnum.ts ***!
  \******************************************************************/
/*! exports provided: AvatarExpressionEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarExpressionEnum", function() { return AvatarExpressionEnum; });
class AvatarExpressionEnum {
    constructor(k) {
        this._ordinal = k;
    }
    get _Str_6677() {
        return this._ordinal;
    }
    _Str_1451(k) {
        return (k) && (k._ordinal == this._ordinal);
    }
}
AvatarExpressionEnum.NONE = new AvatarExpressionEnum(0);
AvatarExpressionEnum._Str_6268 = new AvatarExpressionEnum(1);
AvatarExpressionEnum._Str_5579 = new AvatarExpressionEnum(2);
AvatarExpressionEnum._Str_7336 = new AvatarExpressionEnum(3);
AvatarExpressionEnum._Str_10353 = new AvatarExpressionEnum(4);
AvatarExpressionEnum._Str_6989 = new AvatarExpressionEnum(5);
AvatarExpressionEnum._Str_16682 = new AvatarExpressionEnum(6);
AvatarExpressionEnum._Str_6325 = new AvatarExpressionEnum(7);


/***/ }),

/***/ "QFDc":
/*!***********************************************************************!*\
  !*** ./src/app/components/room/widgets/handlers/ChatWidgetHandler.ts ***!
  \***********************************************************************/
/*! exports provided: ChatWidgetHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChatWidgetHandler", function() { return ChatWidgetHandler; });
/* harmony import */ var _client_nitro_avatar_enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/avatar/enum/AvatarFigurePartType */ "tHQF");
/* harmony import */ var _client_nitro_avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/nitro/avatar/enum/AvatarScaleType */ "uEox");
/* harmony import */ var _client_nitro_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../client/nitro/avatar/enum/AvatarSetType */ "Kx+W");
/* harmony import */ var _client_nitro_avatar_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../client/nitro/avatar/pets/PetFigureData */ "Ays+");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../client/nitro/room/events/RoomEngineEvent */ "G0tw");
/* harmony import */ var _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectType */ "+kDp");
/* harmony import */ var _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../client/nitro/session/events/RoomSessionChatEvent */ "Z0XG");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/enums/RoomWidgetEnum */ "f6o4");
/* harmony import */ var _client_nitro_ui_widget_enums_SystemChatStyleEnum__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/enums/SystemChatStyleEnum */ "gLCd");
/* harmony import */ var _client_room_utils_PointMath__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../client/room/utils/PointMath */ "5kkf");
/* harmony import */ var _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../client/room/utils/Vector3D */ "LGmI");
/* harmony import */ var _events_RoomWidgetChatUpdateEvent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../events/RoomWidgetChatUpdateEvent */ "r7om");
/* harmony import */ var _events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../events/RoomWidgetRoomViewUpdateEvent */ "wwod");
















class ChatWidgetHandler {
    constructor() {
        this._container = null;
        this._widget = null;
        this._connection = null;
        this._avatarColorCache = new Map();
        this._avatarImageCache = new Map();
        this._petImageCache = new Map();
        this._primaryCanvasScale = 1;
        this._primaryCanvasOriginPos = null;
        this._tempScreenPosVector = new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_13__["Vector3D"]();
        this._disposed = false;
    }
    dispose() {
        if (this._disposed)
            return;
        this._container = null;
        this._widget = null;
        this._disposed = true;
    }
    update() {
        this._Str_20006();
    }
    onRoomEngineEvent(event) {
        switch (event.type) {
            case _client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineEvent"].ROOM_ZOOMED:
                const scale = this._container.roomEngine.getRoomInstanceRenderingCanvasScale(event.roomId);
                this._primaryCanvasScale = scale;
                return;
        }
    }
    _Str_20006() {
        if (!this._container || !this._container.roomSession || !this._container.roomEngine || !this._container.events)
            return;
        const canvasId = this._container.getFirstCanvasId();
        const roomId = this._container.roomSession.roomId;
        const geometry = this._container.roomEngine.getRoomInstanceGeometry(roomId, canvasId);
        if (!geometry)
            return;
        if (!this._primaryCanvasOriginPos) {
            this._tempScreenPosVector.x = 0;
            this._tempScreenPosVector.y = 0;
            this._tempScreenPosVector.z = 0;
            this._primaryCanvasOriginPos = geometry.getScreenPoint(this._tempScreenPosVector);
        }
        let eventType = '';
        let _local_6 = null;
        this._tempScreenPosVector.x = 0;
        this._tempScreenPosVector.y = 0;
        this._tempScreenPosVector.z = 0;
        const screenPoint = geometry.getScreenPoint(this._tempScreenPosVector);
        if (screenPoint) {
            const offset = this._container.roomEngine.getRoomInstanceRenderingCanvasOffset(roomId, canvasId);
            if (offset)
                screenPoint.set((screenPoint.x + offset.x), (screenPoint.y + offset.y));
            if (((!(screenPoint.x == this._primaryCanvasOriginPos.x)) || (!(screenPoint.y == this._primaryCanvasOriginPos.y)))) {
                const _local_9 = _client_room_utils_PointMath__WEBPACK_IMPORTED_MODULE_12__["PointMath"]._Str_15193(screenPoint, _client_room_utils_PointMath__WEBPACK_IMPORTED_MODULE_12__["PointMath"]._Str_6038(this._primaryCanvasOriginPos, 1));
                if (((!(_local_9.x == 0)) || (!(_local_9.y == 0)))) {
                    eventType = _events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_15__["RoomWidgetRoomViewUpdateEvent"].POSITION_CHANGED;
                    _local_6 = new _events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_15__["RoomWidgetRoomViewUpdateEvent"](eventType, null, _local_9);
                    this._container.events.dispatchEvent(_local_6);
                }
                this._primaryCanvasOriginPos = screenPoint;
            }
        }
        if (geometry.scale !== this._primaryCanvasScale) {
            eventType = _events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_15__["RoomWidgetRoomViewUpdateEvent"].SCALE_CHANGED;
            _local_6 = new _events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_15__["RoomWidgetRoomViewUpdateEvent"](eventType, null, null, geometry.scale);
            this._container.events.dispatchEvent(_local_6);
            this._primaryCanvasScale = geometry.scale;
        }
    }
    processWidgetMessage(message) {
        if (!message || this._disposed)
            return null;
        switch (message.type) {
        }
        return null;
    }
    processEvent(event) {
        if (!event || this._disposed)
            return;
        switch (event.type) {
            case _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"].CHAT_EVENT:
                const chatEvent = event;
                const roomObject = this._container.roomEngine.getRoomObject(chatEvent.session.roomId, chatEvent.objectId, _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].UNIT);
                if (roomObject) {
                    const roomGeometry = this._container.roomEngine.getRoomInstanceGeometry(chatEvent.session.roomId, this._container.getFirstCanvasId());
                    if (roomGeometry) {
                        this._Str_20006();
                        let x = 0;
                        let y = 0;
                        const objectLocation = roomObject.getLocation();
                        const screenPoint = roomGeometry.getScreenPoint(objectLocation);
                        if (screenPoint) {
                            x = screenPoint.x;
                            y = screenPoint.y;
                            const canvasOffset = this._container.roomEngine.getRoomInstanceRenderingCanvasOffset(chatEvent.session.roomId, this._container.getFirstCanvasId());
                            if (canvasOffset) {
                                x += canvasOffset.x;
                                y += canvasOffset.y;
                            }
                        }
                        const userData = this._container.roomSession.userDataManager.getUserDataByIndex(chatEvent.objectId);
                        let username = '';
                        let avatarColor = 0;
                        let image = null;
                        let chatType = chatEvent.chatType;
                        let styleId = chatEvent.style;
                        let userType = 0;
                        let petType = -1;
                        if (userData) {
                            userType = userData.type;
                            const figure = userData.figure;
                            switch (userType) {
                                case _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_7__["RoomObjectType"].PET:
                                    //@ts-ignore
                                    image = this.getPetImage(figure, 2, true, 64, roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_8__["RoomObjectVariable"].FIGURE_POSTURE));
                                    petType = new _client_nitro_avatar_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_3__["PetFigureData"](figure).typeId;
                                    break;
                                case _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_7__["RoomObjectType"].USER:
                                    image = this.getUserImage(figure);
                                    break;
                                case _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_7__["RoomObjectType"].RENTABLE_BOT:
                                case _client_nitro_room_object_RoomObjectType__WEBPACK_IMPORTED_MODULE_7__["RoomObjectType"].BOT:
                                    styleId = _client_nitro_ui_widget_enums_SystemChatStyleEnum__WEBPACK_IMPORTED_MODULE_11__["SystemChatStyleEnum"].BOT;
                                    break;
                            }
                            avatarColor = this._avatarColorCache.get(figure);
                            username = userData.name;
                        }
                        const text = chatEvent.message;
                        if (chatType === _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"]._Str_8971) {
                            // generic hand item
                            console.log('hand item chat');
                        }
                        if (chatType === _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"]._Str_8909) {
                            console.log('mute timeout chat');
                        }
                        if (((chatType === _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"]._Str_6065) || (chatType === _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"]._Str_5998)) || (chatType === _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"]._Str_5904)) {
                            console.log('pet revived chat');
                            if (chatType === _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"]._Str_5998) {
                                console.log('pet fertilized chat');
                            }
                            else {
                                if (chatType === _client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"]._Str_5904) {
                                    console.log('pet seed fertilized chat');
                                }
                            }
                        }
                        if (this._container && this._container.events)
                            this._container.events.dispatchEvent(new _events_RoomWidgetChatUpdateEvent__WEBPACK_IMPORTED_MODULE_14__["RoomWidgetChatUpdateEvent"](_events_RoomWidgetChatUpdateEvent__WEBPACK_IMPORTED_MODULE_14__["RoomWidgetChatUpdateEvent"].RWCUE_EVENT_CHAT, userData.roomIndex, text, username, _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_6__["RoomObjectCategory"].UNIT, userType, petType, x, y, image, avatarColor, chatEvent.session.roomId, chatType, styleId, []));
                    }
                }
                return;
        }
    }
    getUserImage(figure) {
        let existing = this._avatarImageCache.get(figure);
        if (!existing) {
            existing = this.setFigureImage(figure);
        }
        return existing;
    }
    setFigureImage(figure) {
        const avatarImage = this._container.avatarRenderManager.createAvatarImage(figure, _client_nitro_avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_1__["AvatarScaleType"].LARGE, null, this);
        if (!avatarImage)
            return;
        const texture = avatarImage.getImage(_client_nitro_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_2__["AvatarSetType"].HEAD, false);
        const image = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.renderer.extract.image(texture);
        const color = avatarImage._Str_867(_client_nitro_avatar_enum_AvatarFigurePartType__WEBPACK_IMPORTED_MODULE_0__["AvatarFigurePartType"].CHEST);
        this._avatarColorCache.set(figure, ((color && color._Str_915) || 16777215));
        avatarImage.dispose();
        this._avatarImageCache.set(figure, image);
        return image;
    }
    getPetImage(figure, direction, _arg_3, scale = 64, posture = null) {
        let existing = this._petImageCache.get((figure + posture));
        if (existing)
            return existing;
        const figureData = new _client_nitro_avatar_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_3__["PetFigureData"](figure);
        const typeId = figureData.typeId;
        const image = this._container.roomEngine.getRoomObjectPetImage(typeId, figureData.paletteId, figureData.color, new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_13__["Vector3D"]((direction * 45)), scale, null, (typeId !== 15), 0, figureData.customParts, posture);
        if (image) {
            existing = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.renderer.extract.image(image.data);
            this._petImageCache.set((figure + posture), existing);
        }
        return existing;
    }
    resetFigure(figure) {
        this.setFigureImage(figure);
    }
    get type() {
        return _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetEnum"].CHAT_WIDGET;
    }
    get messageTypes() {
        return [];
    }
    get eventTypes() {
        return [_client_nitro_session_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_9__["RoomSessionChatEvent"].CHAT_EVENT];
    }
    get container() {
        return this._container;
    }
    set container(container) {
        if (container) {
            container.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineEvent"].ROOM_ZOOMED, this.onRoomEngineEvent.bind(this));
        }
        else {
            if (this._container) {
                container.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_5__["RoomEngineEvent"].ROOM_ZOOMED, this.onRoomEngineEvent.bind(this));
            }
        }
        this._container = container;
    }
    get widget() {
        return this._widget;
    }
    set widget(widget) {
        this._widget = widget;
    }
    get connection() {
        return this._connection;
    }
    set connection(connection) {
        this._connection = connection;
    }
    get disposed() {
        return this._disposed;
    }
}


/***/ }),

/***/ "QGhF":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/animated/AnimationItem.ts ***!
  \**********************************************************************************************/
/*! exports provided: AnimationItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationItem", function() { return AnimationItem; });
class AnimationItem {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        this._x = k;
        this._y = _arg_2;
        this._speedX = _arg_3;
        this._speedY = _arg_4;
        this._bitmapData = _arg_5;
        if (isNaN(this._x))
            this._x = 0;
        if (isNaN(this._y))
            this._y = 0;
        if (isNaN(this._speedX))
            this._speedX = 0;
        if (isNaN(this._speedY))
            this._speedY = 0;
    }
    get bitmapData() {
        return this._bitmapData;
    }
    dispose() {
        this._bitmapData = null;
    }
    _Str_6729(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        let _local_6 = this._x;
        let _local_7 = this._y;
        if (_arg_3 > 0)
            _local_6 = (_local_6 + (((this._speedX / _arg_3) * _arg_5) / 1000));
        if (_arg_4 > 0)
            _local_7 = (_local_7 + (((this._speedY / _arg_4) * _arg_5) / 1000));
        const _local_8 = ((_local_6 % 1) * k);
        const _local_9 = ((_local_7 % 1) * _arg_2);
        return new PIXI.Point(_local_8, _local_9);
    }
}


/***/ }),

/***/ "QIMa":
/*!**********************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/LayerData.ts ***!
  \**********************************************************************/
/*! exports provided: LayerData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayerData", function() { return LayerData; });
class LayerData {
    constructor() {
        this._tag = LayerData.DEFAULT_TAG;
        this._ink = LayerData.DEFAULT_INK;
        this._alpha = LayerData.DEFAULT_ALPHA;
        this._ignoreMouse = LayerData.DEFAULT_IGNORE_MOUSE;
        this._xOffset = LayerData.DEFAULT_XOFFSET;
        this._yOffset = LayerData.DEFAULT_YOFFSET;
        this._zOffset = LayerData.DEFAULT_ZOFFSET;
    }
    setFromLayer(layer) {
        if (!layer)
            return;
        this._tag = layer.tag;
        this._ink = layer.ink;
        this._alpha = layer.alpha;
        this._ignoreMouse = layer.ignoreMouse;
        this._xOffset = layer.xOffset;
        this._yOffset = layer.yOffset;
        this._zOffset = layer.zOffset;
    }
    get tag() {
        return this._tag;
    }
    set tag(tag) {
        this._tag = tag;
    }
    get ink() {
        return this._ink;
    }
    set ink(ink) {
        this._ink = ink;
    }
    get alpha() {
        return this._alpha;
    }
    set alpha(alpha) {
        this._alpha = alpha;
    }
    get ignoreMouse() {
        return this._ignoreMouse;
    }
    set ignoreMouse(flag) {
        this._ignoreMouse = flag;
    }
    get xOffset() {
        return this._xOffset;
    }
    set xOffset(offset) {
        this._xOffset = offset;
    }
    get yOffset() {
        return this._yOffset;
    }
    set yOffset(offset) {
        this._yOffset = offset;
    }
    get zOffset() {
        return this._zOffset;
    }
    set zOffset(offset) {
        this._zOffset = offset;
    }
}
LayerData.DEFAULT_COUNT = 0;
LayerData.DEFAULT_DIRECTION = 0;
LayerData.DEFAULT_TAG = '';
LayerData.DEFAULT_INK = PIXI.BLEND_MODES.NORMAL;
LayerData.DEFAULT_ALPHA = 255;
LayerData.DEFAULT_IGNORE_MOUSE = false;
LayerData.DEFAULT_XOFFSET = 0;
LayerData.DEFAULT_YOFFSET = 0;
LayerData.DEFAULT_ZOFFSET = 0;
LayerData.ADD_INK = PIXI.BLEND_MODES.ADD;
LayerData.SUBTRACT_INK = PIXI.BLEND_MODES.NORMAL;
LayerData.DARKEN_INK = PIXI.BLEND_MODES.NORMAL;


/***/ }),

/***/ "QQU2":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/trading/TradingCloseParser.ts ***!
  \************************************************************************************************/
/*! exports provided: TradingCloseParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingCloseParser", function() { return TradingCloseParser; });
class TradingCloseParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._userId = wrapper.readInt();
        this._reason = wrapper.readInt();
        return true;
    }
    get _Str_4963() {
        return this._userId;
    }
    get reason() {
        return this._reason;
    }
}
TradingCloseParser._Str_16410 = 1;


/***/ }),

/***/ "QVRr":
/*!****************************************************!*\
  !*** ./src/client/nitro/avatar/geometry/Node3D.ts ***!
  \****************************************************/
/*! exports provided: Node3D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Node3D", function() { return Node3D; });
/* harmony import */ var _Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3D */ "lQzo");

class Node3D {
    constructor(k, _arg_2, _arg_3) {
        this._location = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](k, _arg_2, _arg_3);
        this._transformedLocation = new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._needsTransformation = false;
        if (((!(k == 0)) || (!(_arg_2 == 0))) || (!(_arg_3 == 0)))
            this._needsTransformation = true;
    }
    get location() {
        return this._location;
    }
    get _Str_1604() {
        return this._transformedLocation;
    }
    _Str_1101(k) {
        if (this._needsTransformation)
            this._transformedLocation = k._Str_2186(this._location);
    }
}


/***/ }),

/***/ "QYPi":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorSearchParser.ts ***!
  \*******************************************************************************************/
/*! exports provided: NavigatorSearchParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchParser", function() { return NavigatorSearchParser; });
/* harmony import */ var _utils_NavigatorSearchResultSet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/NavigatorSearchResultSet */ "vWkJ");

class NavigatorSearchParser {
    flush() {
        this._result = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._result = new _utils_NavigatorSearchResultSet__WEBPACK_IMPORTED_MODULE_0__["NavigatorSearchResultSet"](wrapper);
        return true;
    }
    get result() {
        return this._result;
    }
}


/***/ }),

/***/ "QZfg":
/*!*******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/wall/FurnitureWallAddEvent.ts ***!
  \*******************************************************************************************************/
/*! exports provided: FurnitureWallAddEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallAddEvent", function() { return FurnitureWallAddEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_wall_FurnitureWallAddParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/furniture/wall/FurnitureWallAddParser */ "x30d");


class FurnitureWallAddEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_wall_FurnitureWallAddParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureWallAddParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "QgWy":
/*!********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorAddParser.ts ***!
  \********************************************************************************************************/
/*! exports provided: FurnitureFloorAddParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorAddParser", function() { return FurnitureFloorAddParser; });
/* harmony import */ var _FurnitureFloorDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureFloorDataParser */ "iAsj");

class FurnitureFloorAddParser {
    flush() {
        this._item = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._item = new _FurnitureFloorDataParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureFloorDataParser"](wrapper);
        this._item.username = wrapper.readString();
        return true;
    }
    get item() {
        return this._item;
    }
}


/***/ }),

/***/ "QpUv":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/mask/PlaneMaskManager.ts ***!
  \**********************************************************************************/
/*! exports provided: PlaneMaskManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneMaskManager", function() { return PlaneMaskManager; });
/* harmony import */ var _PlaneMask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlaneMask */ "BuZm");
/* harmony import */ var _PlaneMaskVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PlaneMaskVisualization */ "1P3/");


class PlaneMaskManager {
    constructor() {
        this._assetCollection = null;
        this._masks = new Map();
        this._data = null;
    }
    get data() {
        return this._data;
    }
    dispose() {
        this._assetCollection = null;
        this._data = null;
        if (this._masks && this._masks.size) {
            for (let mask of this._masks.values()) {
                if (!mask)
                    continue;
                mask.dispose();
            }
            this._masks.clear();
        }
    }
    initialize(k) {
        this._data = k;
    }
    _Str_6703(k) {
        if (!this.data)
            return;
        this._assetCollection = k;
        this._Str_22834(this.data, k);
    }
    _Str_22834(k, _arg_2) {
        if (!k || !_arg_2)
            return;
        if (k.masks && k.masks.length) {
            let index = 0;
            while (index < k.masks.length) {
                const mask = k.masks[index];
                if (mask) {
                    const id = mask.id;
                    const existing = this._masks.get(id);
                    if (existing)
                        continue;
                    const newMask = new _PlaneMask__WEBPACK_IMPORTED_MODULE_0__["PlaneMask"]();
                    if (mask.visualizations && mask.visualizations.length) {
                        let visualIndex = 0;
                        while (visualIndex < mask.visualizations.length) {
                            const visualization = mask.visualizations[visualIndex];
                            if (visualization) {
                                const size = visualization.size;
                                const maskVisualization = newMask._Str_24540(size);
                                if (maskVisualization) {
                                    const assetName = this._Str_25815(visualization.bitmaps, maskVisualization, _arg_2);
                                    newMask._Str_24425(size, assetName);
                                }
                            }
                            visualIndex++;
                        }
                    }
                    this._masks.set(id, newMask);
                }
                index++;
            }
        }
    }
    _Str_25815(k, _arg_2, _arg_3) {
        if (!k || !k.length)
            return null;
        let graphicName = null;
        for (let bitmap of k) {
            if (!bitmap)
                continue;
            const assetName = bitmap.assetName;
            const asset = _arg_3.getAsset(assetName);
            if (!asset)
                continue;
            let normalMinX = _PlaneMaskVisualization__WEBPACK_IMPORTED_MODULE_1__["PlaneMaskVisualization"]._Str_3268;
            let normalMaxX = _PlaneMaskVisualization__WEBPACK_IMPORTED_MODULE_1__["PlaneMaskVisualization"]._Str_3271;
            let normalMinY = _PlaneMaskVisualization__WEBPACK_IMPORTED_MODULE_1__["PlaneMaskVisualization"]._Str_3268;
            let normalMaxY = _PlaneMaskVisualization__WEBPACK_IMPORTED_MODULE_1__["PlaneMaskVisualization"]._Str_3271;
            if (bitmap.normalMinX !== undefined)
                normalMinX = bitmap.normalMinX;
            if (bitmap.normalMaxX !== undefined)
                normalMaxX = bitmap.normalMaxX;
            if (bitmap.normalMinY !== undefined)
                normalMinY = bitmap.normalMinY;
            if (bitmap.normalMaxY !== undefined)
                normalMaxY = bitmap.normalMaxY;
            if (!asset.flipH)
                graphicName = assetName;
            _arg_2._Str_16790(asset, normalMinX, normalMaxX, normalMinY, normalMaxY);
        }
        return graphicName;
    }
    _Str_17859(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6) {
        const mask = this._masks.get(_arg_2);
        if (!mask)
            return true;
        const asset = mask._Str_21021(_arg_3, _arg_4);
        if (!asset)
            return true;
        const texture = asset.texture;
        if (!texture)
            return true;
        const point = new PIXI.Point((_arg_5 + asset.offsetX), (_arg_6 + asset.offsetY));
        const matrix = new PIXI.Matrix();
        let a = 1;
        let b = 1;
        let c = 0;
        let d = 0;
        if (asset.flipH) {
            a = -1;
            c = -(texture.width);
        }
        if (asset.flipV) {
            b = -1;
            d = -(texture.height);
        }
        matrix.scale(a, b);
        matrix.translate((point.x + c), (point.y + d));
        k
            .beginTextureFill({ texture, matrix })
            .drawRect(matrix.tx, matrix.ty, texture.width, texture.height)
            .endFill();
        return true;
    }
    _Str_8361(k) {
        if (!this._masks || !this._masks.size)
            return null;
        return this._masks.get(k) || null;
    }
}


/***/ }),

/***/ "Qvb7":
/*!**********************************************************!*\
  !*** ./src/app/components/inventory/furni/FurniModel.ts ***!
  \**********************************************************/
/*! exports provided: FurniModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniModel", function() { return FurniModel; });
/* harmony import */ var _client_nitro_communication_messages_outgoing_inventory_furni_FurnitureList2Composer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../client/nitro/communication/messages/outgoing/inventory/furni/FurnitureList2Composer */ "/m78");
/* harmony import */ var _client_nitro_communication_messages_outgoing_inventory_furni_FurnitureListComposer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/communication/messages/outgoing/inventory/furni/FurnitureListComposer */ "J0cl");
/* harmony import */ var _client_nitro_room_enums_RoomObjectPlacementSource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/nitro/room/enums/RoomObjectPlacementSource */ "k0R1");
/* harmony import */ var _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../client/nitro/room/object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../enum/FurniCategory */ "Ue1F");
/* harmony import */ var _enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../enum/InventoryCategory */ "0nxZ");
/* harmony import */ var _enum_UnseenItemCategoryEnum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../enum/UnseenItemCategoryEnum */ "8YxM");
/* harmony import */ var _items_FurnitureItem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../items/FurnitureItem */ "nJ5u");
/* harmony import */ var _items_GroupItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../items/GroupItem */ "NHnu");
/* harmony import */ var _FurniView__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FurniView */ "uwoK");










class FurniModel {
    constructor(controller, communication, roomEngine) {
        this._controller = controller;
        this._communication = communication;
        this._roomEngine = roomEngine;
        this._furniData = [];
        this._itemIdInFurniPlacing = -1;
        this._isObjectMoverRequested = false;
        this._isListInitialized = false;
        this._view = null;
    }
    show() {
        if (this.createView()) {
            this._controller.checkAndLoadInventory(this.type);
        }
    }
    hide() {
        this.destroyView();
    }
    createView() {
        if (this._view || !this._controller)
            return false;
        this._view = this._controller.createComponent(this, _FurniView__WEBPACK_IMPORTED_MODULE_9__["InventoryFurniComponent"]);
        if (this._view) {
            this._view.instance.model = this;
            return true;
        }
        return false;
    }
    destroyView() {
        if (!this._view || !this._controller)
            return;
        this._controller.removeComponent(this._view);
        this._view = null;
    }
    _Str_24428(fragment) {
        this._controller._Str_5943(this.type);
        const existingSet = this.getAllItemIds();
        const addedSet = [];
        const removedSet = [];
        for (let key of fragment.keys()) {
            if (existingSet.indexOf(key) === -1)
                addedSet.push(key);
        }
        for (let itemId of existingSet) {
            if (!fragment.get(itemId))
                removedSet.push(itemId);
        }
        const emptyExistingSet = (existingSet.length === 0);
        for (let itemId of removedSet) {
            this.removeItemById(itemId);
        }
        for (let itemId of addedSet) {
            const parser = fragment.get(itemId);
            if (!parser)
                continue;
            const item = new _items_FurnitureItem__WEBPACK_IMPORTED_MODULE_7__["FurnitureItem"](parser);
            this.addFurnitureItem(item, true);
        }
        if (!emptyExistingSet) {
            if (addedSet.length) {
                // run lock checking in sub sets, trading, marketplace etc
            }
        }
        //this._view.instance.detectChanges();
        this.setListInitialized();
    }
    getAllItemIds() {
        const itemIds = [];
        for (let groupItem of this._furniData) {
            let totalCount = groupItem.getTotalCount();
            if (groupItem.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_12351)
                totalCount = 1;
            let i = 0;
            while (i < totalCount) {
                itemIds.push(groupItem.getItemByIndex(i).id);
                i++;
            }
        }
        return itemIds;
    }
    addFurnitureItem(k, _arg_2) {
        let groupItem = null;
        if (!k.isGroupable) {
            groupItem = this._Str_22387(k, _arg_2);
        }
        else {
            groupItem = this._Str_23860(k, _arg_2);
        }
        if (!_arg_2)
            groupItem.unseen = true;
    }
    _Str_22387(k, _arg_2) {
        const groupItems = [];
        for (let groupItem of this._furniData) {
            if (groupItem.type === k.type)
                groupItems.push(groupItem);
        }
        for (let groupItem of groupItems) {
            if (groupItem.getItemById(k.id))
                return groupItem;
        }
        const unseen = this._Str_3613(k);
        const groupItem = this.createGroupItem(k.type, k.category, k.stuffData, k._Str_2794, _arg_2);
        groupItem.push(k, unseen);
        if (unseen) {
            groupItem.unseen = true;
            this.unshift(groupItem);
        }
        else {
            this.push(groupItem);
        }
        return groupItem;
    }
    _Str_23860(item, _arg_2) {
        let existingGroup = null;
        for (let groupItem of this._furniData) {
            if ((groupItem.type === item.type) && (groupItem.isWallItem == item.isWallItem) && groupItem.isGroupable) {
                if (item.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_5186) {
                    if (groupItem.stuffData.getLegacyString() === item.stuffData.getLegacyString()) {
                        existingGroup = groupItem;
                        break;
                    }
                }
                else if (item.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_12454) {
                    if (item.stuffData.compare(groupItem.stuffData)) {
                        existingGroup = groupItem;
                        break;
                    }
                }
                else {
                    existingGroup = groupItem;
                    break;
                }
            }
        }
        const unseen = this._Str_3613(item);
        if (existingGroup) {
            existingGroup.push(item, unseen);
            if (unseen) {
                existingGroup.unseen = true;
                this.moveToFront(existingGroup);
            }
            return existingGroup;
        }
        existingGroup = this.createGroupItem(item.type, item.category, item.stuffData, item._Str_2794, _arg_2);
        existingGroup.push(item, unseen);
        if (unseen) {
            existingGroup.unseen = true;
            this.unshift(existingGroup);
        }
        else {
            this.push(existingGroup);
        }
        return existingGroup;
    }
    _Str_5298() {
        if (this._itemIdInFurniPlacing > -1) {
            this._roomEngine.cancelRoomObjectPlacement();
            this._isObjectMoverRequested = false;
            this._itemIdInFurniPlacing = -1;
        }
    }
    removeItemById(k) {
        let i = 0;
        while (i < this._furniData.length) {
            const groupItem = this._furniData[i];
            const item = groupItem.remove(k);
            if (item) {
                if (this._itemIdInFurniPlacing === item.ref) {
                    this._Str_5298();
                    if (!this._Str_5337()) {
                        //this._controller._Str_4731();
                    }
                }
                if (groupItem.getTotalCount() <= 0) {
                    this._furniData.splice(i, 1);
                    // if(((this._view) && (this._view.grid)))
                    // {
                    //     this._view.grid._Str_9854(groupItem);
                    // }
                    //if(groupItem._Str_2365) this._Str_14744();
                    groupItem.dispose();
                }
                else {
                    //this._view._Str_2944();
                }
                //this._view._Str_7636();
                return groupItem;
            }
            i++;
        }
        return null;
    }
    _Str_3613(item) {
        let category = 0;
        if (item.rentable)
            category = _enum_UnseenItemCategoryEnum__WEBPACK_IMPORTED_MODULE_6__["UnseenItemCategoryEnum"].RENTABLE;
        else
            category = _enum_UnseenItemCategoryEnum__WEBPACK_IMPORTED_MODULE_6__["UnseenItemCategoryEnum"].FURNI;
        return this._controller.unseenTracker._Str_3613(category, item.id);
    }
    createGroupItem(k, category, stuffData, extra = NaN, flag = false) {
        let iconImage = null;
        if (category == _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3639) {
            // const icon = this._windowManager.assets.getAssetByName("inventory_furni_icon_wallpaper");
            // if (icon != null)
            // {
            //     iconImage = (icon.content as BitmapData).clone();
            // }
        }
        else if (category == _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3683) {
            // const icon = this._windowManager.assets.getAssetByName("inventory_furni_icon_floor");
            // if (icon != null)
            // {
            //     iconImage = (icon.content as BitmapData).clone();
            // }
        }
        else if (category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3432) {
            // const icon = this._windowManager.assets.getAssetByName("inventory_furni_icon_landscape");
            // if (icon != null)
            // {
            //     iconImage = (icon.content as BitmapData).clone();
            // }
        }
        const groupItem = new _items_GroupItem__WEBPACK_IMPORTED_MODULE_8__["GroupItem"](this, k, category, this._roomEngine, stuffData, extra);
        groupItem.init();
        return groupItem;
    }
    unshift(k) {
        this._furniData.unshift(k);
    }
    push(k) {
        this._furniData.push(k);
    }
    remove(k) {
        const index = this._furniData.indexOf(k);
        if (index > -1)
            this._furniData.splice(index, 1);
    }
    moveToFront(k) {
        this.remove(k);
        this.unshift(k);
    }
    lockAllGroups() {
        for (let groupItem of this._furniData)
            (groupItem && (groupItem.unlocked = false));
    }
    getFirstUnlockedGroup() {
        for (let groupItem of this._furniData) {
            if (!groupItem)
                continue;
            if (groupItem.unlocked)
                return groupItem;
        }
        return null;
    }
    _Str_5337(k = false) {
        const groupItem = this.getFirstUnlockedGroup();
        if (!groupItem)
            return false;
        if (!groupItem.getUnlockedCount())
            return false;
        const item = groupItem.getLastItem();
        if (!item)
            return false;
        if ((item.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3683) || (item.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3639) || (item.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3432)) {
            if (k)
                return false;
            //this._communication.connection.send(new _Str_5270(_local_3.id));
        }
        else {
            this._Str_12029(item);
        }
        return true;
    }
    _Str_12029(k) {
        let category = 0;
        let isMoving = false;
        if (k.isWallItem)
            category = _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_3__["RoomObjectCategory"].WALL;
        else
            category = _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_3__["RoomObjectCategory"].FLOOR;
        if ((k.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_5186)) // or external image from furnidata
         {
            isMoving = this._roomEngine._Str_5346(_client_nitro_room_enums_RoomObjectPlacementSource__WEBPACK_IMPORTED_MODULE_2__["RoomObjectPlacementSource"].INVENTORY, k.id, category, k.type, k.stuffData.getLegacyString());
        }
        else {
            isMoving = this._roomEngine._Str_5346(_client_nitro_room_enums_RoomObjectPlacementSource__WEBPACK_IMPORTED_MODULE_2__["RoomObjectPlacementSource"].INVENTORY, k.id, category, k.type, k.stuffData.getLegacyString(), k.stuffData);
        }
        if (isMoving) {
            this._itemIdInFurniPlacing = k.ref;
            this._isObjectMoverRequested = true;
        }
    }
    requestLoad() {
        if (this._controller.isInRoom) {
            this._communication.connection.send(new _client_nitro_communication_messages_outgoing_inventory_furni_FurnitureListComposer__WEBPACK_IMPORTED_MODULE_1__["FurnitureListComposer"]());
        }
        else {
            this._communication.connection.send(new _client_nitro_communication_messages_outgoing_inventory_furni_FurnitureList2Composer__WEBPACK_IMPORTED_MODULE_0__["FurnitureList2Composer"]());
        }
    }
    setListInitialized() {
        if (this._isListInitialized)
            return;
        this._isListInitialized = true;
    }
    get controller() {
        return this._controller;
    }
    get type() {
        return _enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_5__["InventoryCategory"].FURNI;
    }
    get furniData() {
        return this._furniData;
    }
    get isListInitialized() {
        return this._isListInitialized;
    }
}


/***/ }),

/***/ "QxiR":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureIceStormLogic.ts ***!
  \********************************************************************************/
/*! exports provided: FurnitureIceStormLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureIceStormLogic", function() { return FurnitureIceStormLogic; });
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/type/LegacyDataType */ "v12S");
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");



class FurnitureIceStormLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureMultiStateLogic"] {
    constructor() {
        super();
        this._nextState = 0;
        this._nextStateTimestamp = 0;
    }
    update(totalTimeRunning) {
        if ((this._nextStateTimestamp > 0) && (totalTimeRunning >= this._nextStateTimestamp)) {
            this._nextStateTimestamp = 0;
            const data = new _data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_1__["LegacyDataType"]();
            data.setString(this._nextState.toString());
            super.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectDataUpdateMessage"](this._nextState, data));
        }
        super.update(totalTimeRunning);
    }
    processUpdateMessage(message) {
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectDataUpdateMessage"])
            return this.processUpdate(message);
        super.processUpdateMessage(message);
    }
    processUpdate(message) {
        if (!message)
            return;
        const state = message.state / 1000;
        const time = message.state % 1000;
        if (!time) {
            this._nextStateTimestamp = 0;
            const data = new _data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_1__["LegacyDataType"]();
            data.setString(state.toString());
            super.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectDataUpdateMessage"](state, data));
        }
        else {
            this._nextState = state;
            this._nextStateTimestamp = this.time + time;
        }
    }
}


/***/ }),

/***/ "QzjD":
/*!*****************************************************!*\
  !*** ./src/client/nitro/room/object/RoomMapData.ts ***!
  \*****************************************************/
/*! exports provided: RoomMapData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomMapData", function() { return RoomMapData; });
class RoomMapData {
    constructor() {
        this._width = 0;
        this._height = 0;
        this._wallHeight = 0;
        this._fixedWallsHeight = 0;
        this._tileMap = [];
        this._holeMap = [];
        this._doors = [];
        this._dimensions = {
            minX: 0,
            maxX: 0,
            minY: 0,
            maxY: 0
        };
    }
    get width() {
        return this._width;
    }
    set width(width) {
        this._width = width;
    }
    get height() {
        return this._height;
    }
    set height(height) {
        this._height = height;
    }
    get wallHeight() {
        return this._wallHeight;
    }
    set wallHeight(wallHeight) {
        this._wallHeight = wallHeight;
    }
    get fixedWallsHeight() {
        return this._fixedWallsHeight;
    }
    set fixedWallsHeight(fixedWallsHeight) {
        this._fixedWallsHeight = fixedWallsHeight;
    }
    get tileMap() {
        return this._tileMap;
    }
    get holeMap() {
        return this._holeMap;
    }
    get doors() {
        return this._doors;
    }
    get dimensions() {
        return this._dimensions;
    }
}


/***/ }),

/***/ "R+k5":
/*!*************************************************************!*\
  !*** ./src/app/components/toolbar/enums/ToolbarIconEnum.ts ***!
  \*************************************************************/
/*! exports provided: ToolbarIconEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolbarIconEnum", function() { return ToolbarIconEnum; });
class ToolbarIconEnum {
}
ToolbarIconEnum.INVENTORY = 'inventory';


/***/ }),

/***/ "R5Am":
/*!*********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureFireworksLogic.ts ***!
  \*********************************************************************************/
/*! exports provided: FurnitureFireworksLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFireworksLogic", function() { return FurnitureFireworksLogic; });
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");

class FurnitureFireworksLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureMultiStateLogic"] {
}


/***/ }),

/***/ "RDtd":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneMaterialCellMatrix.ts ***!
  \*****************************************************************************************************/
/*! exports provided: PlaneMaterialCellMatrix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneMaterialCellMatrix", function() { return PlaneMaterialCellMatrix; });
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/TextureUtils */ "IxQr");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _utils_Randomizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/Randomizer */ "CH4U");
/* harmony import */ var _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PlaneMaterialCellColumn */ "ksTa");




class PlaneMaterialCellMatrix {
    constructor(k, _arg_2 = 1, _arg_3 = 1, _arg_4 = -1, _arg_5 = 1, _arg_6 = -1, _arg_7 = 1) {
        this._repeatMode = 1;
        this._align = 1;
        this._cachedBitmapNormal = null;
        this._cachedBitmapHeight = 0;
        this._isCached = false;
        this._isStatic = true;
        this._normalMinX = -1;
        this._normalMaxX = 1;
        this._normalMinY = -1;
        this._normalMaxY = 1;
        this._columns = [];
        if (k < 1) {
            k = 1;
        }
        let _local_8 = 0;
        while (_local_8 < k) {
            this._columns.push(null);
            _local_8++;
        }
        this._repeatMode = _arg_2;
        this._align = _arg_3;
        this._normalMinX = _arg_4;
        this._normalMaxX = _arg_5;
        this._normalMinY = _arg_6;
        this._normalMaxY = _arg_7;
        if (this._repeatMode == PlaneMaterialCellMatrix._Str_9127) {
            this._isStatic = false;
        }
    }
    static _Str_12526(k) {
        return ((_utils_Randomizer__WEBPACK_IMPORTED_MODULE_2__["Randomizer"]._Str_1612(1, 0, (k * 17631))[0]) % k);
    }
    get normalMinX() {
        return this._normalMinX;
    }
    get normalMaxX() {
        return this._normalMaxX;
    }
    get normalMinY() {
        return this._normalMinY;
    }
    get normalMaxY() {
        return this._normalMaxY;
    }
    _Str_14945() {
        return this._align === PlaneMaterialCellMatrix._Str_3606;
    }
    get isStatic() {
        return this._isStatic;
    }
    dispose() {
        if (this._cachedBitmapData) {
            this._cachedBitmapData.destroy();
            this._cachedBitmapData = null;
        }
        if (this._cachedBitmapNormal)
            this._cachedBitmapNormal = null;
    }
    _Str_3355() {
        if (!this._isCached)
            return;
        if (this._cachedBitmapData) {
            this._cachedBitmapData.destroy();
            this._cachedBitmapData = null;
        }
        if (this._cachedBitmapNormal) {
            this._cachedBitmapNormal.x = 0;
            this._cachedBitmapNormal.y = 0;
            this._cachedBitmapNormal.z = 0;
        }
        if (this._columns && this._columns.length) {
            for (let column of this._columns) {
                if (!column)
                    continue;
                column._Str_3355();
            }
        }
        this._isCached = false;
    }
    _Str_22372(k, _arg_2, _arg_3, _arg_4 = 1) {
        if ((k < 0) || (k >= this._columns.length))
            return false;
        const newColumn = new _PlaneMaterialCellColumn__WEBPACK_IMPORTED_MODULE_3__["PlaneMaterialCellColumn"](_arg_2, _arg_3, _arg_4);
        const oldColumn = this._columns[k];
        if (oldColumn)
            oldColumn.dispose();
        this._columns[k] = newColumn;
        if (newColumn && !newColumn.isStatic)
            this._isStatic = false;
        return true;
    }
    render(canvas, width, height, normal, useTexture, offsetX, offsetY, topAlign) {
        if (width < 1)
            width = 1;
        if (height < 1)
            height = 1;
        if (!canvas || (canvas.width !== width) || (canvas.height !== height))
            canvas = null;
        if (!this._cachedBitmapNormal)
            this._cachedBitmapNormal = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        if (this.isStatic) {
            if (this._cachedBitmapData) {
                if (((this._cachedBitmapData.width === width) && (this._cachedBitmapData.height == height)) && _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].isEqual(this._cachedBitmapNormal, normal)) {
                    if (canvas) {
                        this._Str_17578(canvas, this._cachedBitmapHeight, offsetY, topAlign);
                        return canvas;
                    }
                    return this._cachedBitmapData;
                }
                this._cachedBitmapData.destroy();
                this._cachedBitmapData = null;
            }
        }
        else {
            if (this._cachedBitmapData) {
                if ((this._cachedBitmapData.width === width) && (this._cachedBitmapData.height === height)) {
                    this._cachedBitmapData
                        .beginFill(0xFFFFFF)
                        .drawRect(0, 0, width, height)
                        .endFill();
                }
                else {
                    this._cachedBitmapData.destroy();
                    this._cachedBitmapData = null;
                }
            }
        }
        this._isCached = true;
        this._cachedBitmapNormal.assign(normal);
        if (!useTexture) {
            this._cachedBitmapHeight = height;
            if (!this._cachedBitmapData) {
                const graphic = new PIXI.Graphics()
                    .beginFill(0xFFFFFF)
                    .drawRect(0, 0, width, height)
                    .endFill();
                this._cachedBitmapData = graphic;
            }
            else {
                this._cachedBitmapData
                    .beginFill(0xFFFFFF)
                    .drawRect(0, 0, width, height)
                    .endFill();
            }
            if (canvas) {
                this._Str_17578(canvas, height, offsetY, topAlign);
                return canvas;
            }
            return this._cachedBitmapData;
        }
        if (!this._cachedBitmapData) {
            this._cachedBitmapHeight = height;
            const graphic = new PIXI.Graphics()
                .beginFill(0xFFFFFF)
                .drawRect(0, 0, width, height)
                .endFill();
            this._cachedBitmapData = graphic;
        }
        const columns = [];
        var columnIndex = 0;
        while (columnIndex < this._columns.length) {
            const column = this._columns[columnIndex];
            if (column) {
                const columnBitmapData = column.render(height, normal, offsetX, offsetY);
                if (columnBitmapData)
                    columns.push(columnBitmapData);
            }
            columnIndex++;
        }
        if (!columns.length) {
            if (canvas)
                return canvas;
            return this._cachedBitmapData;
        }
        let maxColumnHeight = 0;
        switch (this._repeatMode) {
            case PlaneMaterialCellMatrix._Str_6087:
                //     maxColumnHeight = this._Str_18476(this._cachedBitmapData, columns);
                break;
            case PlaneMaterialCellMatrix._Str_6114:
                //     maxColumnHeight = this._Str_17295(this._cachedBitmapData, columns);
                break;
            case PlaneMaterialCellMatrix._Str_6187:
                //     maxColumnHeight = this._Str_18019(this._cachedBitmapData, columns);
                break;
            case PlaneMaterialCellMatrix._Str_6063:
                //     maxColumnHeight = this._Str_16099(this._cachedBitmapData, columns);
                break;
            case PlaneMaterialCellMatrix._Str_9127:
                //     maxColumnHeight = this._Str_25678(this._cachedBitmapData, columns);
                break;
            default:
                maxColumnHeight = this._Str_18711(this._cachedBitmapData, columns);
                break;
        }
        this._cachedBitmapHeight = maxColumnHeight;
        if (canvas) {
            this._Str_17578(canvas, maxColumnHeight, offsetY, topAlign);
            return canvas;
        }
        return this._cachedBitmapData;
    }
    _Str_17578(k, _arg_2, _arg_3, _arg_4) {
        if (!k || !this._cachedBitmapData || (k === this._cachedBitmapData))
            return;
        if (!_arg_4)
            _arg_3 = ((k.height - _arg_2) - _arg_3);
        let _local_5;
        if (this._align == PlaneMaterialCellMatrix.ALIGN_TOP) {
            _local_5 = new PIXI.Rectangle(0, 0, this._cachedBitmapData.width, this._cachedBitmapHeight);
        }
        else {
            _local_5 = new PIXI.Rectangle(0, (this._cachedBitmapData.height - this._cachedBitmapHeight), this._cachedBitmapData.width, this._cachedBitmapHeight);
        }
        const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(this._cachedBitmapData, _local_5);
        if (texture) {
            k
                .beginTextureFill({ texture })
                .drawRect(0, _arg_3, _local_5.width, _local_5.height)
                .endFill();
        }
    }
    _Str_25859(k) {
        if (!k || !k.length)
            return 0;
        let width = 0;
        for (let graphic of k) {
            if (!graphic)
                continue;
            width += graphic.width;
        }
        return width;
    }
    _Str_4606(k, _arg_2, _arg_3, _arg_4) {
        if (!k || !_arg_2 || !_arg_2.length)
            return new PIXI.Point(_arg_3, 0);
        var height = 0;
        var _local_6 = null;
        var _local_7 = 0;
        while (_local_7 < _arg_2.length) {
            if (_arg_4) {
                _local_6 = _arg_2[_local_7];
            }
            else {
                _local_6 = _arg_2[((_arg_2.length - 1) - _local_7)];
            }
            if (_local_6 != null) {
                if (!_arg_4) {
                    _arg_3 = (_arg_3 - _local_6.width);
                }
                let _local_8 = 0;
                if (this._align == PlaneMaterialCellMatrix._Str_3606) {
                    _local_8 = (k.height - _local_6.height);
                }
                const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(_local_6, new PIXI.Rectangle(0, 0, _local_6.width, _local_6.height));
                if (texture) {
                    k.beginTextureFill({ texture });
                    k.drawRect(_arg_3, _local_8, texture.width, texture.height);
                    k.endFill();
                }
                //k.copyPixels(_local_6, _local_6.rect, new Point(_arg_3, _local_8), _local_6, null, true);
                if (_local_6.height > height) {
                    height = _local_6.height;
                }
                if (_arg_4) {
                    _arg_3 = (_arg_3 + _local_6.width);
                }
                if ((((_arg_4) && (_arg_3 >= k.width)) || ((!(_arg_4)) && (_arg_3 <= 0)))) {
                    return new PIXI.Point(_arg_3, height);
                }
            }
            _local_7++;
        }
        return new PIXI.Point(_arg_3, height);
    }
    _Str_18711(k, _arg_2) {
        if (!k || !_arg_2 || !_arg_2.length)
            return 0;
        const totalWidth = this._Str_25859(_arg_2);
        let x = 0;
        let y = 0;
        while (x < k.width) {
            const point = this._Str_4606(k, _arg_2, x, true);
            x = point.x;
            if (point.y > y)
                y = point.y;
            if (!point.x)
                return y;
        }
        return y;
    }
    // private _Str_18476(k:BitmapData, _arg_2:Array): number
    // {
    //     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))
    //     {
    //         return 0;
    //     }
    //     var _local_3: number;
    //     var _local_4:BitmapData;
    //     var _local_5:Array = [];
    //     var _local_6: number;
    //     var _local_7: number;
    //     _local_7 = 1;
    //     while (_local_7 < (_arg_2.length - 1))
    //     {
    //         _local_4 = (_arg_2[_local_7] as BitmapData);
    //         if (_local_4 != null)
    //         {
    //             _local_6 = (_local_6 + _local_4.width);
    //             _local_5.push(_local_4);
    //         }
    //         _local_7++;
    //     }
    //     if (this._columns.length == 1)
    //     {
    //         _local_4 = (this._columns[0] as BitmapData);
    //         if (_local_4 != null)
    //         {
    //             _local_6 = _local_4.width;
    //             _local_5.push(_local_4);
    //         }
    //     }
    //     var _local_8:* = ((k.width - _local_6) >> 1);
    //     var _local_9:Point;
    //     _local_9 = this._Str_4606(k, _local_5, _local_8, true);
    //     var _local_10: number = _local_9.x;
    //     if (_local_9.y > _local_3)
    //     {
    //         _local_3 = _local_9.y;
    //     }
    //     _local_4 = (_arg_2[0] as BitmapData);
    //     if (_local_4 != null)
    //     {
    //         _local_5 = [_local_4];
    //         while (_local_8 >= 0)
    //         {
    //             _local_9 = this._Str_4606(k, _local_5, _local_8, false);
    //             _local_8 = _local_9.x;
    //             if (_local_9.y > _local_3)
    //             {
    //                 _local_3 = _local_9.y;
    //             }
    //         }
    //     }
    //     _local_4 = (_arg_2[(_arg_2.length - 1)] as BitmapData);
    //     if (_local_4 != null)
    //     {
    //         _local_5 = [_local_4];
    //         while (_local_10 < k.height)
    //         {
    //             _local_9 = this._Str_4606(k, _local_5, _local_10, true);
    //             _local_10 = _local_9.x;
    //             if (_local_9.y > _local_3)
    //             {
    //                 _local_3 = _local_9.y;
    //             }
    //         }
    //     }
    //     return _local_3;
    // }
    // private _Str_17295(k:BitmapData, _arg_2:Array): number
    // {
    //     var _local_14: number;
    //     var _local_15: number;
    //     var _local_16: number;
    //     var _local_17: number;
    //     var _local_18:Array;
    //     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))
    //     {
    //         return 0;
    //     }
    //     var _local_3: number;
    //     var _local_4:BitmapData;
    //     var _local_5:Array = [];
    //     var _local_6:Array = [];
    //     var _local_7: number;
    //     var _local_8: number;
    //     var _local_9: number;
    //     _local_9 = 0;
    //     while (_local_9 < (_arg_2.length >> 1))
    //     {
    //         _local_4 = (_arg_2[_local_9] as BitmapData);
    //         if (_local_4 != null)
    //         {
    //             _local_7 = (_local_7 + _local_4.width);
    //             _local_5.push(_local_4);
    //         }
    //         _local_9++;
    //     }
    //     _local_9 = ((_arg_2.length >> 1) + 1);
    //     while (_local_9 < _arg_2.length)
    //     {
    //         _local_4 = (_arg_2[_local_9] as BitmapData);
    //         if (_local_4 != null)
    //         {
    //             _local_8 = (_local_8 + _local_4.width);
    //             _local_6.push(_local_4);
    //         }
    //         _local_9++;
    //     }
    //     var _local_10:Point;
    //     var _local_11: number;
    //     var _local_12: number;
    //     var _local_13: number = k.width;
    //     if ((_local_7 + _local_8) > k.width)
    //     {
    //         _local_11 = ((_local_7 + _local_8) - k.width);
    //         _local_12 = (_local_12 - (_local_11 >> 1));
    //         _local_13 = (_local_13 + (_local_11 - (_local_11 >> 1)));
    //     }
    //     if (_local_11 == 0)
    //     {
    //         _local_4 = (_arg_2[(_arg_2.length >> 1)] as BitmapData);
    //         if (_local_4 != null)
    //         {
    //             _local_14 = _local_4.width;
    //             _local_15 = (k.width - (_local_7 + _local_8));
    //             _local_16 = (Math.ceil((_local_15 / _local_14)) * _local_14);
    //             _local_12 = (_local_7 - ((_local_16 - _local_15) >> 1));
    //             _local_17 = (_local_12 + _local_16);
    //             _local_18 = [_local_4];
    //             while (_local_12 < _local_17)
    //             {
    //                 _local_10 = this._Str_4606(k, _local_18, _local_12, true);
    //                 _local_12 = _local_10.x;
    //                 if (_local_10.y > _local_3)
    //                 {
    //                     _local_3 = _local_10.y;
    //                 }
    //             }
    //         }
    //     }
    //     _local_12 = 0;
    //     _local_10 = this._Str_4606(k, _local_5, _local_12, true);
    //     if (_local_10.y > _local_3)
    //     {
    //         _local_3 = _local_10.y;
    //     }
    //     _local_10 = this._Str_4606(k, _local_6, _local_13, false);
    //     if (_local_10.y > _local_3)
    //     {
    //         _local_3 = _local_10.y;
    //     }
    //     return _local_3;
    // }
    // private _Str_18019(k:BitmapData, _arg_2:Array): number
    // {
    //     var _local_7:Array;
    //     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))
    //     {
    //         return 0;
    //     }
    //     var _local_3: number;
    //     var _local_4:BitmapData;
    //     var _local_5: number = k.width;
    //     var _local_6:Point = this._Str_4606(k, _arg_2, _local_5, false);
    //     _local_5 = _local_6.x;
    //     if (_local_6.y > _local_3)
    //     {
    //         _local_3 = _local_6.y;
    //     }
    //     _local_4 = (_arg_2[0] as BitmapData);
    //     if (_local_4 != null)
    //     {
    //         _local_7 = [_local_4];
    //         while (_local_5 >= 0)
    //         {
    //             _local_6 = this._Str_4606(k, _local_7, _local_5, false);
    //             _local_5 = _local_6.x;
    //             if (_local_6.y > _local_3)
    //             {
    //                 _local_3 = _local_6.y;
    //             }
    //         }
    //     }
    //     return _local_3;
    // }
    // private _Str_16099(k:BitmapData, _arg_2:Array): number
    // {
    //     var _local_7:Array;
    //     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))
    //     {
    //         return 0;
    //     }
    //     var _local_3: number;
    //     var _local_4:BitmapData;
    //     var _local_5: number;
    //     var _local_6:Point = this._Str_4606(k, _arg_2, _local_5, true);
    //     _local_5 = _local_6.x;
    //     if (_local_6.y > _local_3)
    //     {
    //         _local_3 = _local_6.y;
    //     }
    //     _local_4 = (_arg_2[(_arg_2.length - 1)] as BitmapData);
    //     if (_local_4 != null)
    //     {
    //         _local_7 = [_local_4];
    //         while (_local_5 < k.width)
    //         {
    //             _local_6 = this._Str_4606(k, _local_7, _local_5, true);
    //             _local_5 = _local_6.x;
    //             if (_local_6.y > _local_3)
    //             {
    //                 _local_3 = _local_6.y;
    //             }
    //         }
    //     }
    //     return _local_3;
    // }
    // private _Str_25678(k:BitmapData, _arg_2:Array): number
    // {
    //     var _local_6:Array;
    //     var _local_7:Point;
    //     if ((((_arg_2 == null) || (_arg_2.length == 0)) || (k == null)))
    //     {
    //         return 0;
    //     }
    //     var _local_3: number;
    //     var _local_4:BitmapData;
    //     var _local_5: number;
    //     while (_local_5 < k.width)
    //     {
    //         _local_4 = (_arg_2[_Str_12526(_arg_2.length)] as BitmapData);
    //         if (_local_4 != null)
    //         {
    //             _local_6 = [_local_4];
    //             _local_7 = this._Str_4606(k, _local_6, _local_5, true);
    //             _local_5 = _local_7.x;
    //             if (_local_7.y > _local_3)
    //             {
    //                 _local_3 = _local_7.y;
    //             }
    //         }
    //         else
    //         {
    //             return _local_3;
    //         }
    //     }
    //     return _local_3;
    // }
    _Str_23721(k) {
        if (this._repeatMode === PlaneMaterialCellMatrix._Str_9127) {
            const columns = [];
            let columnIndex = 0;
            while (columnIndex < k) {
                const column = this._columns[PlaneMaterialCellMatrix._Str_12526(this._columns.length)];
                if (column) {
                    columns.push(column);
                    if (column.width > 1)
                        columnIndex += column.width;
                    else
                        break;
                }
            }
            return columns;
        }
        return this._columns;
    }
}
PlaneMaterialCellMatrix._Str_7916 = 1;
PlaneMaterialCellMatrix._Str_6087 = 2;
PlaneMaterialCellMatrix._Str_6114 = 3;
PlaneMaterialCellMatrix._Str_6187 = 4;
PlaneMaterialCellMatrix._Str_6063 = 5;
PlaneMaterialCellMatrix._Str_9127 = 6;
PlaneMaterialCellMatrix._Str_18632 = PlaneMaterialCellMatrix._Str_7916; //1
PlaneMaterialCellMatrix._Str_3268 = -1;
PlaneMaterialCellMatrix._Str_3271 = 1;
PlaneMaterialCellMatrix.ALIGN_TOP = 1;
PlaneMaterialCellMatrix._Str_3606 = 2;
PlaneMaterialCellMatrix._Str_6914 = PlaneMaterialCellMatrix.ALIGN_TOP; //1


/***/ }),

/***/ "RGbm":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureBadgeDisplayLogic.ts ***!
  \************************************************************************************/
/*! exports provided: FurnitureBadgeDisplayLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureBadgeDisplayLogic", function() { return FurnitureBadgeDisplayLogic; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Nitro */ "P7Cj");
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectBadgeAssetEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../events/RoomObjectBadgeAssetEvent */ "V8qy");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _messages_ObjectGroupBadgeUpdateMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../messages/ObjectGroupBadgeUpdateMessage */ "O9Gp");
/* harmony import */ var _data_type_StringDataType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/type/StringDataType */ "PJfP");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");








class FurnitureBadgeDisplayLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_7__["FurnitureLogic"] {
    getEventTypes() {
        const types = [_events_RoomObjectBadgeAssetEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectBadgeAssetEvent"].LOAD_BADGE];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    processUpdateMessage(message) {
        super.processUpdateMessage(message);
        if (!this.object)
            return;
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_3__["ObjectDataUpdateMessage"]) {
            const data = message.data;
            if (data instanceof _data_type_StringDataType__WEBPACK_IMPORTED_MODULE_5__["StringDataType"])
                this.updateBadge(data.getValue(1));
            return;
        }
        if (message instanceof _messages_ObjectGroupBadgeUpdateMessage__WEBPACK_IMPORTED_MODULE_4__["ObjectGroupBadgeUpdateMessage"]) {
            if (message.assetName !== 'loading_icon') {
                this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FURNITURE_BADGE_ASSET_NAME, message.assetName);
                this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FURNITURE_BADGE_IMAGE_STATUS, 1);
                this.update(_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time);
            }
            return;
        }
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_1__["MouseEventType"].DOUBLE_CLICK:
                this.useObject();
                return;
        }
        super.mouseEvent(event, geometry);
    }
    useObject() {
        if (!this.object)
            return;
    }
    updateBadge(badgeId) {
        if (badgeId === '')
            return;
        if (this.eventDispatcher)
            this.eventDispatcher.dispatchEvent(new _events_RoomObjectBadgeAssetEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectBadgeAssetEvent"](_events_RoomObjectBadgeAssetEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectBadgeAssetEvent"].LOAD_BADGE, this.object, badgeId, false));
    }
}


/***/ }),

/***/ "RaVQ":
/*!********************************************************!*\
  !*** ./src/client/nitro/avatar/animation/Animation.ts ***!
  \********************************************************/
/*! exports provided: Animation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Animation", function() { return Animation; });
/* harmony import */ var _AddDataContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AddDataContainer */ "CpcG");
/* harmony import */ var _AnimationLayerData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnimationLayerData */ "Bdrp");
/* harmony import */ var _AvatarDataContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AvatarDataContainer */ "50sT");
/* harmony import */ var _DirectionDataContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DirectionDataContainer */ "XLgX");
/* harmony import */ var _SpriteDataContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SpriteDataContainer */ "9t4n");





class Animation {
    constructor(k, _arg_2) {
        this._id = _arg_2.name;
        this._description = this._id;
        this._frames = [];
        this._spriteData = null;
        this._avatarData = null;
        this._directionData = null;
        this._removeData = null;
        this._addData = null;
        this._overriddenActions = null;
        this._overrideFrames = null;
        this._resetOnToggle = _arg_2.resetOnToggle || false;
        if (_arg_2.sprites && _arg_2.sprites.length) {
            this._spriteData = [];
            for (let sprite of _arg_2.sprites)
                this._spriteData.push(new _SpriteDataContainer__WEBPACK_IMPORTED_MODULE_4__["SpriteDataContainer"](this, sprite));
        }
        if (_arg_2.avatars && _arg_2.avatars.length)
            this._avatarData = new _AvatarDataContainer__WEBPACK_IMPORTED_MODULE_2__["AvatarDataContainer"](_arg_2.avatars[0]);
        if (_arg_2.directions && _arg_2.directions.length)
            this._directionData = new _DirectionDataContainer__WEBPACK_IMPORTED_MODULE_3__["DirectionDataContainer"](_arg_2.directions[0]);
        if (_arg_2.removes && _arg_2.removes.length) {
            this._removeData = [];
            for (let remove of _arg_2.removes)
                this._removeData.push(remove.id);
        }
        if (_arg_2.adds && _arg_2.adds.length) {
            this._addData = [];
            for (let add of _arg_2.adds)
                this._addData.push(new _AddDataContainer__WEBPACK_IMPORTED_MODULE_0__["AddDataContainer"](add));
        }
        if (_arg_2.overrides && _arg_2.overrides.length) {
            this._overrideFrames = new Map();
            this._overriddenActions = new Map();
            for (let override of _arg_2.overrides) {
                const name = override.name;
                const value = override.override;
                this._overriddenActions.set(value, name);
                const frames = [];
                this._Str_1031(frames, override.frames, k);
                this._overrideFrames.set(name, frames);
            }
        }
        this._Str_1031(this._frames, _arg_2.frames, k);
    }
    _Str_1031(frames, _arg_2, _arg_3) {
        if (!_arg_2 || !_arg_2.length)
            return;
        for (let frame of _arg_2) {
            let repeats = 1;
            if (frame.repeats && (frame.repeats > 1))
                repeats = frame.repeats;
            let index = 0;
            while (index < repeats) {
                const layers = [];
                if (frame.bodyparts && frame.bodyparts.length) {
                    for (let bodyPart of frame.bodyparts) {
                        const definition = _arg_3._Str_1675(bodyPart.action);
                        const layer = new _AnimationLayerData__WEBPACK_IMPORTED_MODULE_1__["AnimationLayerData"](bodyPart, _AnimationLayerData__WEBPACK_IMPORTED_MODULE_1__["AnimationLayerData"].BODYPART, definition);
                        layers.push(layer);
                    }
                }
                if (frame.fxs && frame.fxs.length) {
                    for (let fx of frame.fxs) {
                        const definition = _arg_3._Str_1675(fx.action);
                        const layer = new _AnimationLayerData__WEBPACK_IMPORTED_MODULE_1__["AnimationLayerData"](fx, _AnimationLayerData__WEBPACK_IMPORTED_MODULE_1__["AnimationLayerData"].FX, definition);
                        layers.push(layer);
                    }
                }
                frames.push(layers);
                index++;
            }
        }
    }
    _Str_2185(k = null) {
        if (!k)
            return this._frames.length;
        if (this._overrideFrames) {
            const _local_2 = this._overrideFrames.get(k);
            if (_local_2)
                return _local_2.length;
        }
        return 0;
    }
    _Str_1892() {
        if (!this._overriddenActions)
            return false;
        return (this._overriddenActions.size > 0);
    }
    _Str_1571() {
        if (!this._overriddenActions)
            return null;
        const keys = [];
        for (let key of this._overriddenActions.keys())
            keys.push(key);
        return keys;
    }
    _Str_707(k) {
        if (!this._overriddenActions)
            return null;
        return this._overriddenActions.get(k);
    }
    _Str_2259(frameCount, _arg_2 = null) {
        let layers = [];
        if (!_arg_2) {
            if (this._frames.length > 0) {
                layers = this._frames[(frameCount % this._frames.length)];
            }
        }
        else {
            const overrideLayers = this._overrideFrames.get(_arg_2);
            if (overrideLayers && (overrideLayers.length > 0)) {
                layers = overrideLayers[(frameCount % overrideLayers.length)];
            }
        }
        return layers;
    }
    _Str_1065(k, _arg_2 = null) {
        const _local_3 = [];
        for (let layer of this._Str_2259(k, _arg_2)) {
            if (layer.type === _AnimationLayerData__WEBPACK_IMPORTED_MODULE_1__["AnimationLayerData"].BODYPART) {
                _local_3.push(layer.id);
            }
            else if (layer.type === _AnimationLayerData__WEBPACK_IMPORTED_MODULE_1__["AnimationLayerData"].FX) {
                if (this._addData && this._addData.length) {
                    for (let _local_5 of this._addData) {
                        if (_local_5.id === layer.id)
                            _local_3.push(_local_5.align);
                    }
                }
            }
        }
        return _local_3;
    }
    _Str_607(frameCount, spriteId, _arg_3 = null) {
        for (let layer of this._Str_2259(frameCount, _arg_3)) {
            if (layer.id === spriteId)
                return layer;
            if (layer.type === _AnimationLayerData__WEBPACK_IMPORTED_MODULE_1__["AnimationLayerData"].FX) {
                if (this._addData && this._addData.length) {
                    for (let addData of this._addData) {
                        if (((addData.align === spriteId) && (addData.id === layer.id)))
                            return layer;
                    }
                }
            }
        }
        return null;
    }
    _Str_872() {
        return this._avatarData !== null;
    }
    _Str_776() {
        return this._directionData !== null;
    }
    _Str_706() {
        return this._addData !== null;
    }
    _Str_1550(k) {
        if (this._addData) {
            for (let _local_2 of this._addData) {
                if (_local_2.id === k)
                    return _local_2;
            }
        }
        return null;
    }
    get id() {
        return this._id;
    }
    get _Str_786() {
        return this._spriteData || Animation._Str_2211;
    }
    get _Str_1475() {
        return this._avatarData;
    }
    get _Str_1493() {
        return this._directionData;
    }
    get _Str_652() {
        return this._removeData || Animation._Str_2211;
    }
    get _Str_687() {
        return this._addData || Animation._Str_2211;
    }
    toString() {
        return this._description;
    }
    get resetOnToggle() {
        return this._resetOnToggle;
    }
}
Animation._Str_2211 = [];


/***/ }),

/***/ "RgMb":
/*!***********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/RoomPlaneRectangleMask.ts ***!
  \***********************************************************************************/
/*! exports provided: RoomPlaneRectangleMask */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPlaneRectangleMask", function() { return RoomPlaneRectangleMask; });
class RoomPlaneRectangleMask {
    constructor(k, _arg_2, _arg_3, _arg_4) {
        this._leftSideLoc = k;
        this._rightSideLoc = _arg_2;
        this._leftSideLength = _arg_3;
        this._rightSideLength = _arg_4;
    }
    get _Str_5120() {
        return this._leftSideLoc;
    }
    get _Str_4659() {
        return this._rightSideLoc;
    }
    get _Str_9124() {
        return this._leftSideLength;
    }
    get _Str_12156() {
        return this._rightSideLength;
    }
}


/***/ }),

/***/ "RmPA":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureWaterAreaVisualization.ts ***!
  \*************************************************************************************************/
/*! exports provided: FurnitureWaterAreaVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWaterAreaVisualization", function() { return FurnitureWaterAreaVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureWaterAreaVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
}


/***/ }),

/***/ "RomB":
/*!****************************************************!*\
  !*** ./src/client/nitro/window/motion/EaseRate.ts ***!
  \****************************************************/
/*! exports provided: EaseRate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EaseRate", function() { return EaseRate; });
/* harmony import */ var _Ease__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ease */ "cDwF");

class EaseRate extends _Ease__WEBPACK_IMPORTED_MODULE_0__["Ease"] {
    constructor(k, _arg_2) {
        super(k);
        this._Str_21638 = _arg_2;
    }
}


/***/ }),

/***/ "Rvjn":
/*!*************************************************************!*\
  !*** ./src/client/nitro/session/handler/RoomChatHandler.ts ***!
  \*************************************************************/
/*! exports provided: RoomChatHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomChatHandler", function() { return RoomChatHandler; });
/* harmony import */ var _communication_messages_incoming_room_unit_chat_RoomUnitChatEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../communication/messages/incoming/room/unit/chat/RoomUnitChatEvent */ "sRv6");
/* harmony import */ var _communication_messages_incoming_room_unit_chat_RoomUnitChatShoutEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../communication/messages/incoming/room/unit/chat/RoomUnitChatShoutEvent */ "xq+5");
/* harmony import */ var _communication_messages_incoming_room_unit_chat_RoomUnitChatWhisperEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../communication/messages/incoming/room/unit/chat/RoomUnitChatWhisperEvent */ "jFxZ");
/* harmony import */ var _events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events/RoomSessionChatEvent */ "Z0XG");
/* harmony import */ var _BaseHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BaseHandler */ "8mH1");





class RoomChatHandler extends _BaseHandler__WEBPACK_IMPORTED_MODULE_4__["BaseHandler"] {
    constructor(connection, listener) {
        super(connection, listener);
        connection.addMessageEvent(new _communication_messages_incoming_room_unit_chat_RoomUnitChatEvent__WEBPACK_IMPORTED_MODULE_0__["RoomUnitChatEvent"](this.onRoomUnitChatEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_unit_chat_RoomUnitChatShoutEvent__WEBPACK_IMPORTED_MODULE_1__["RoomUnitChatShoutEvent"](this.onRoomUnitChatEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_unit_chat_RoomUnitChatWhisperEvent__WEBPACK_IMPORTED_MODULE_2__["RoomUnitChatWhisperEvent"](this.onRoomUnitChatEvent.bind(this)));
    }
    onRoomUnitChatEvent(event) {
        if (!this.listener)
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        let chatType = _events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_3__["RoomSessionChatEvent"].CHAT_NORMAL;
        if (event instanceof _communication_messages_incoming_room_unit_chat_RoomUnitChatShoutEvent__WEBPACK_IMPORTED_MODULE_1__["RoomUnitChatShoutEvent"])
            chatType = _events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_3__["RoomSessionChatEvent"].CHAT_SHOUT;
        else if (event instanceof _communication_messages_incoming_room_unit_chat_RoomUnitChatWhisperEvent__WEBPACK_IMPORTED_MODULE_2__["RoomUnitChatWhisperEvent"])
            chatType = _events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_3__["RoomSessionChatEvent"].CHAT_WHISPER;
        const chatEvent = new _events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_3__["RoomSessionChatEvent"](_events_RoomSessionChatEvent__WEBPACK_IMPORTED_MODULE_3__["RoomSessionChatEvent"].CHAT_EVENT, session, parser.unitId, parser.message, chatType, parser.bubble);
        this.listener.events.dispatchEvent(chatEvent);
    }
}


/***/ }),

/***/ "RzrE":
/*!***********************************************************!*\
  !*** ./src/client/room/renderer/cache/RoomObjectCache.ts ***!
  \***********************************************************/
/*! exports provided: RoomObjectCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectCache", function() { return RoomObjectCache; });
/* harmony import */ var _data_RoomObjectSpriteData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/RoomObjectSpriteData */ "kXXe");
/* harmony import */ var _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../object/enum/RoomObjectSpriteType */ "9ewd");
/* harmony import */ var _RoomObjectCacheItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RoomObjectCacheItem */ "2NIa");



class RoomObjectCache {
    constructor(accurateZ) {
        this._data = new Map();
        this._roomObjectVariableAccurateZ = accurateZ;
    }
    dispose() {
        if (this._data) {
            for (let [key, item] of this._data.entries()) {
                if (!item)
                    continue;
                this._data.delete(key);
                item.dispose();
            }
            this._data = null;
        }
    }
    getObjectCache(k) {
        let existing = this._data.get(k);
        if (!existing) {
            existing = new _RoomObjectCacheItem__WEBPACK_IMPORTED_MODULE_2__["RoomObjectCacheItem"](this._roomObjectVariableAccurateZ);
            this._data.set(k, existing);
        }
        return existing;
    }
    removeObjectCache(k) {
        const existing = this._data.get(k);
        if (!existing)
            return;
        this._data.delete(k);
        existing.dispose();
    }
    getSortableSpriteList() {
        const spriteData = [];
        for (let item of this._data.values()) {
            if (!item)
                continue;
            const sprites = item.sprites && item.sprites._Str_9272;
            if (!sprites || !sprites.length)
                continue;
            for (let sprite of sprites) {
                if (!sprite)
                    continue;
                if ((sprite.sprite.spriteType !== _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_1__["RoomObjectSpriteType"]._Str_8616) && (sprite.sprite.name !== '')) {
                    const data = new _data_RoomObjectSpriteData__WEBPACK_IMPORTED_MODULE_0__["RoomObjectSpriteData"]();
                    data.objectId = item._Str_1577;
                    data.x = sprite.x;
                    data.y = sprite.y;
                    data.z = sprite.z;
                    data.name = sprite.sprite.name || '';
                    data.flipH = sprite.sprite.flipH;
                    data.alpha = sprite.sprite.alpha;
                    data.color = sprite.sprite.color.toString();
                    data.blendMode = sprite.sprite.blendMode.toString();
                    data.width = sprite.sprite.width;
                    data.height = sprite.sprite.height;
                    data.type = sprite.sprite.type;
                    data.posture = sprite.sprite.posture;
                    const isSkewed = this.isSkewedSprite(sprite.sprite);
                    if (isSkewed) {
                        data.skew = (((sprite.sprite.direction % 4) === 0) ? -0.5 : 0.5);
                    }
                    if (((((isSkewed || (sprite.name.indexOf("%image.library.url%") >= 0)) || (sprite.name.indexOf("%group.badge.url%") >= 0)) && (data.width <= RoomObjectCache.MAX_SIZE_FOR_AVG_COLOR)) && (data.height <= RoomObjectCache.MAX_SIZE_FOR_AVG_COLOR))) {
                        //data.color = Canvas._Str_23439(sprite.sprite.texture).toString();
                        if (sprite.sprite.name.indexOf("external_image_wallitem") === 0) {
                            data.frame = true;
                        }
                    }
                    spriteData.push(data);
                }
            }
        }
        if (!spriteData || !spriteData.length)
            return null;
        return spriteData;
    }
    isSkewedSprite(k) {
        if (!k.type)
            return false;
        if ((k.type.indexOf("external_image_wallitem") === 0) && (k.tag === "THUMBNAIL"))
            return true;
        if ((k.type.indexOf("guild_forum") === 0) && (k.tag === "THUMBNAIL"))
            return true;
        return false;
    }
    getPlaneSortableSprites() {
        const sprites = [];
        for (let item of this._data.values()) {
            for (let sprite of item.sprites._Str_9272) {
                if (sprite.sprite.spriteType === _object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_1__["RoomObjectSpriteType"]._Str_8616)
                    sprites.push(sprite);
            }
        }
        return sprites;
    }
}
RoomObjectCache.MAX_SIZE_FOR_AVG_COLOR = 200;


/***/ }),

/***/ "S50T":
/*!***************************************************************************!*\
  !*** ./src/app/components/room/widgets/avatarinfo/ownavatar/component.ts ***!
  \***************************************************************************/
/*! exports provided: RoomAvatarInfoOwnAvatarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomAvatarInfoOwnAvatarComponent", function() { return RoomAvatarInfoOwnAvatarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../client/nitro/avatar/enum/AvatarAction */ "/PsI");
/* harmony import */ var _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../client/nitro/session/enum/RoomControllerLevel */ "9vQN");
/* harmony import */ var _client_nitro_ui_widget_enums_AvatarExpressionEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../client/nitro/ui/widget/enums/AvatarExpressionEnum */ "QAHT");
/* harmony import */ var _messages_RoomWidgetAvatarExpressionMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../messages/RoomWidgetAvatarExpressionMessage */ "hYlx");
/* harmony import */ var _messages_RoomWidgetChangePostureMessage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../messages/RoomWidgetChangePostureMessage */ "5edz");
/* harmony import */ var _messages_RoomWidgetDanceMessage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../messages/RoomWidgetDanceMessage */ "7+D5");
/* harmony import */ var _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../messages/RoomWidgetUserActionMessage */ "Tngy");
/* harmony import */ var _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../AvatarContextInfoView */ "AsRw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "ofXK");











const _c0 = ["activeView"];
function RoomAvatarInfoOwnAvatarComponent_ng_container_7_ul_1_ng_container_1_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomAvatarInfoOwnAvatarComponent_ng_container_7_ul_1_ng_container_1_li_1_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const item_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r7.processAction(item_r5.name); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](item_r5.name);
} }
function RoomAvatarInfoOwnAvatarComponent_ng_container_7_ul_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RoomAvatarInfoOwnAvatarComponent_ng_container_7_ul_1_ng_container_1_li_1_Template, 2, 1, "li", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r5 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r5.visible);
} }
function RoomAvatarInfoOwnAvatarComponent_ng_container_7_ul_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RoomAvatarInfoOwnAvatarComponent_ng_container_7_ul_1_ng_container_1_Template, 2, 1, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const entry_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", entry_r2.items);
} }
function RoomAvatarInfoOwnAvatarComponent_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RoomAvatarInfoOwnAvatarComponent_ng_container_7_ul_1_Template, 2, 1, "ul", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const entry_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.mode === entry_r2.mode);
} }
class RoomAvatarInfoOwnAvatarComponent extends _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_8__["AvatarContextInfoView"] {
    constructor() {
        super(...arguments);
        this.avatarData = null;
        this.mode = 0;
        this.menu = [];
    }
    static setup(view, userId, userName, userType, roomIndex, avatarData) {
        view.avatarData = avatarData;
        if (view.widget.isDancing && view.widget._Str_6454)
            view.mode = RoomAvatarInfoOwnAvatarComponent.MODE_CLUB_DANCES;
        _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_8__["AvatarContextInfoView"].extendedSetup(view, userId, userName, userType, roomIndex);
        view.setupButtons();
    }
    setupButtons() {
        const isRidingHorse = this.widget._Str_25831;
        this.menu = [
            {
                mode: RoomAvatarInfoOwnAvatarComponent.MODE_NORMAL,
                items: [
                    {
                        name: 'decorate',
                        visible: (this.widget._Str_6454 && (this.avatarData.roomControllerLevel >= _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_2__["RoomControllerLevel"].GUEST) || this.avatarData._Str_3246)
                    },
                    {
                        name: 'change_looks',
                        visible: true
                    },
                    {
                        name: 'dance_menu',
                        visible: (this.widget._Str_6454 && !isRidingHorse)
                    },
                    {
                        name: 'dance',
                        visible: (!this.widget.isDancing && !this.widget._Str_6454 && !isRidingHorse)
                    },
                    {
                        name: 'dance_stop',
                        visible: (this.widget.isDancing && !this.widget._Str_6454 && !isRidingHorse)
                    },
                    {
                        name: 'expressions',
                        visible: true
                    },
                    {
                        name: 'signs',
                        visible: true
                    },
                    {
                        name: 'drop_hand_item',
                        visible: ((this.avatarData._Str_8826 > 0) && (this.avatarData._Str_8826 < 999999))
                    }
                ]
            },
            {
                mode: RoomAvatarInfoOwnAvatarComponent.MODE_CLUB_DANCES,
                items: [
                    {
                        name: 'dance_stop',
                        visible: this.widget.isDancing
                    },
                    {
                        name: 'dance_1',
                        visible: true
                    },
                    {
                        name: 'dance_2',
                        visible: true
                    },
                    {
                        name: 'dance_3',
                        visible: true
                    },
                    {
                        name: 'dance_4',
                        visible: true
                    },
                    {
                        name: 'back',
                        visible: true
                    }
                ]
            },
            {
                mode: RoomAvatarInfoOwnAvatarComponent.MODE_EXPRESSIONS,
                items: [
                    {
                        name: 'sit',
                        visible: (this.widget.getOwnPosture === _client_nitro_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_1__["AvatarAction"].POSTURE_STAND)
                    },
                    {
                        name: 'stand',
                        visible: this.widget.getCanStandUp
                    },
                    {
                        name: 'wave',
                        visible: (!this.widget._Str_12708)
                    },
                    {
                        name: 'laugh',
                        visible: (!this.widget._Str_12708 && this.widget._Str_7303)
                    },
                    {
                        name: 'blow',
                        visible: (!this.widget._Str_12708 && this.widget._Str_7303)
                    },
                    {
                        name: 'idle',
                        visible: true
                    },
                    {
                        name: 'back',
                        visible: true
                    }
                ]
            }
        ];
    }
    processAction(name) {
        let message = null;
        let hideMenu = true;
        if (name) {
            switch (name) {
                case 'decorate':
                    break;
                case 'change_looks':
                    break;
                case 'expressions':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoOwnAvatarComponent.MODE_EXPRESSIONS);
                    break;
                case 'sit':
                    message = new _messages_RoomWidgetChangePostureMessage__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetChangePostureMessage"](_messages_RoomWidgetChangePostureMessage__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetChangePostureMessage"]._Str_2016);
                    break;
                case 'stand':
                    message = new _messages_RoomWidgetChangePostureMessage__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetChangePostureMessage"](_messages_RoomWidgetChangePostureMessage__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetChangePostureMessage"]._Str_1553);
                    break;
                case 'wave':
                    message = new _messages_RoomWidgetAvatarExpressionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetAvatarExpressionMessage"](_client_nitro_ui_widget_enums_AvatarExpressionEnum__WEBPACK_IMPORTED_MODULE_3__["AvatarExpressionEnum"]._Str_6268);
                    break;
                case 'blow':
                    message = new _messages_RoomWidgetAvatarExpressionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetAvatarExpressionMessage"](_client_nitro_ui_widget_enums_AvatarExpressionEnum__WEBPACK_IMPORTED_MODULE_3__["AvatarExpressionEnum"]._Str_5579);
                    break;
                case 'laugh':
                    message = new _messages_RoomWidgetAvatarExpressionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetAvatarExpressionMessage"](_client_nitro_ui_widget_enums_AvatarExpressionEnum__WEBPACK_IMPORTED_MODULE_3__["AvatarExpressionEnum"]._Str_7336);
                    break;
                case 'idle':
                    message = new _messages_RoomWidgetAvatarExpressionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetAvatarExpressionMessage"](_client_nitro_ui_widget_enums_AvatarExpressionEnum__WEBPACK_IMPORTED_MODULE_3__["AvatarExpressionEnum"]._Str_6989);
                    break;
                case 'dance_menu':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoOwnAvatarComponent.MODE_CLUB_DANCES);
                    break;
                case 'dance':
                    message = new _messages_RoomWidgetDanceMessage__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetDanceMessage"](1);
                    break;
                case 'dance_stop':
                    message = new _messages_RoomWidgetDanceMessage__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetDanceMessage"](0);
                    break;
                case 'dance_1':
                case 'dance_2':
                case 'dance_3':
                case 'dance_4':
                    message = new _messages_RoomWidgetDanceMessage__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetDanceMessage"](parseInt(name.charAt((name.length - 1))));
                    break;
                case 'signs':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoOwnAvatarComponent.MODE_SIGNS);
                    break;
                case 'back':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoOwnAvatarComponent.MODE_NORMAL);
                    break;
                case 'more':
                    hideMenu = false;
                    //this.widget._Str_13909 = false;
                    this.setMode(RoomAvatarInfoOwnAvatarComponent.MODE_NORMAL);
                    break;
                case 'drop_hand_item':
                    message = new _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_7__["RoomWidgetUserActionMessage"](_messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_7__["RoomWidgetUserActionMessage"].RWUAM_DROP_CARRY_ITEM, this.userId);
                    break;
            }
            if (message)
                this.parent.messageListener.processWidgetMessage(message);
        }
        if (hideMenu) {
            this.parent.removeView(this.componentRef, false);
        }
    }
    setMode(mode) {
        if (mode === this.mode)
            return;
        this.mode = mode;
    }
    get widget() {
        return this.parent;
    }
}
RoomAvatarInfoOwnAvatarComponent.MODE_NORMAL = 0;
RoomAvatarInfoOwnAvatarComponent.MODE_CLUB_DANCES = 1;
RoomAvatarInfoOwnAvatarComponent.MODE_NAME_CHANGE = 2;
RoomAvatarInfoOwnAvatarComponent.MODE_EXPRESSIONS = 3;
RoomAvatarInfoOwnAvatarComponent.MODE_SIGNS = 4;
RoomAvatarInfoOwnAvatarComponent.MODE_CHANGE_LOOKS = 5;
RoomAvatarInfoOwnAvatarComponent.ɵfac = function RoomAvatarInfoOwnAvatarComponent_Factory(t) { return ɵRoomAvatarInfoOwnAvatarComponent_BaseFactory(t || RoomAvatarInfoOwnAvatarComponent); };
RoomAvatarInfoOwnAvatarComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomAvatarInfoOwnAvatarComponent, selectors: [["nitro-room-avatarinfo-ownavatar-component"]], viewQuery: function RoomAvatarInfoOwnAvatarComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.activeView = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 2, consts: [[1, "nitro-room-avatarinfo-ownavatar-component", "context-menu"], ["activeView", ""], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "card-body"], [4, "ngFor", "ngForOf"], [1, "card-pointer"], ["class", "list-group", 4, "ngIf"], [1, "list-group"], ["class", "list-group-item", 3, "click", 4, "ngIf"], [1, "list-group-item", 3, "click"]], template: function RoomAvatarInfoOwnAvatarComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, RoomAvatarInfoOwnAvatarComponent_ng_container_7_Template, 2, 1, "ng-container", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.userName);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.menu);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_9__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"]], encapsulation: 2 });
const ɵRoomAvatarInfoOwnAvatarComponent_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](RoomAvatarInfoOwnAvatarComponent);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomAvatarInfoOwnAvatarComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-avatarinfo-ownavatar-component',
                template: `
    <div #activeView class="nitro-room-avatarinfo-ownavatar-component context-menu">
        <div class="card">
            <div class="card-header">
                <div class="header-title">{{ userName }}</div>
            </div>
            <div class="card-body">
                <ng-container *ngFor="let entry of menu">
                    <ul *ngIf="(mode === entry.mode)" class="list-group">
                        <ng-container *ngFor="let item of entry.items">
                            <li *ngIf="item.visible" (click)="processAction(item.name)" class="list-group-item">{{ item.name }}</li>
                        </ng-container>
                    </ul>
                </ng-container>
            </div>
            <div class="card-pointer"></div>
        </div>
    </div>`
            }]
    }], null, { activeView: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['activeView']
        }] }); })();


/***/ }),

/***/ "S8Tn":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/navigator/NavigatorInitComposer.ts ***!
  \*********************************************************************************************/
/*! exports provided: NavigatorInitComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorInitComposer", function() { return NavigatorInitComposer; });
class NavigatorInitComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "SBJG":
/*!***********************************************************!*\
  !*** ./src/client/nitro/room/utils/LegacyWallGeometry.ts ***!
  \***********************************************************/
/*! exports provided: LegacyWallGeometry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LegacyWallGeometry", function() { return LegacyWallGeometry; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");

class LegacyWallGeometry {
    constructor() {
        this._isDisposed = false;
        this._scale = 64;
        this._heightMap = [];
        this._width = 0;
        this._height = 0;
        this._floorHeight = 0;
    }
    get disposed() {
        return this._isDisposed;
    }
    get scale() {
        return this._scale;
    }
    set scale(k) {
        this._scale = k;
    }
    dispose() {
        this.reset();
        this._isDisposed = true;
    }
    initialize(width, height, floorHeight) {
        if ((width <= this._width) && (height <= this._height)) {
            this._width = width;
            this._height = height;
            this._floorHeight = floorHeight;
            return;
        }
        this.reset();
        let y = 0;
        while (y < height) {
            const heights = [];
            this._heightMap.push(heights);
            let x = 0;
            while (x < width) {
                heights.push(0);
                x++;
            }
            y++;
        }
        this._width = width;
        this._height = height;
        this._floorHeight = floorHeight;
    }
    reset() {
        this._heightMap = [];
    }
    setHeight(x, y, height) {
        if ((((x < 0) || (x >= this._width)) || (y < 0)) || (y >= this._height))
            return false;
        const heightMap = this._heightMap[y];
        if (!heightMap)
            return false;
        heightMap[x] = height;
        return true;
    }
    getHeight(x, y) {
        if ((((x < 0) || (x >= this._width)) || (y < 0)) || (y >= this._height))
            return 0;
        const heightMap = this._heightMap[y];
        if (!heightMap)
            return 0;
        return heightMap[x];
    }
    getLocation(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        var _local_12;
        var _local_6;
        var _local_7;
        if (((k == 0) && (_arg_2 == 0))) {
            k = this._width;
            _arg_2 = this._height;
            _local_12 = Math.round((this.scale / 10));
            if (_arg_5 == LegacyWallGeometry.R) {
                _local_7 = (this._width - 1);
                while (_local_7 >= 0) {
                    _local_6 = 1;
                    while (_local_6 < this._height) {
                        if (this.getHeight(_local_7, _local_6) <= this._floorHeight) {
                            if ((_local_6 - 1) < _arg_2) {
                                k = _local_7;
                                _arg_2 = (_local_6 - 1);
                            }
                            break;
                        }
                        _local_6++;
                    }
                    _local_7--;
                }
                _arg_4 = (_arg_4 + ((this.scale / 4) - (_local_12 / 2)));
                _arg_3 = (_arg_3 + (this.scale / 2));
            }
            else {
                _local_6 = (this._height - 1);
                while (_local_6 >= 0) {
                    _local_7 = 1;
                    while (_local_7 < this._width) {
                        if (this.getHeight(_local_7, _local_6) <= this._floorHeight) {
                            if ((_local_7 - 1) < k) {
                                k = (_local_7 - 1);
                                _arg_2 = _local_6;
                            }
                            break;
                        }
                        _local_7++;
                    }
                    _local_6--;
                }
                _arg_4 = (_arg_4 + ((this.scale / 4) - (_local_12 / 2)));
                _arg_3 = (_arg_3 - _local_12);
            }
        }
        var _local_8 = k;
        var _local_9 = _arg_2;
        var _local_10 = this.getHeight(k, _arg_2);
        if (_arg_5 == LegacyWallGeometry.R) {
            _local_8 = (_local_8 + ((_arg_3 / (this._scale / 2)) - 0.5));
            _local_9 = (_local_9 + 0.5);
            _local_10 = (_local_10 - ((_arg_4 - (_arg_3 / 2)) / (this._scale / 2)));
        }
        else {
            _local_9 = (_local_9 + ((((this._scale / 2) - _arg_3) / (this._scale / 2)) - 0.5));
            _local_8 = (_local_8 + 0.5);
            _local_10 = (_local_10 - ((_arg_4 - (((this._scale / 2) - _arg_3) / 2)) / (this._scale / 2)));
        }
        var _local_11 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_8, _local_9, _local_10);
        return _local_11;
    }
    _Str_24084(k, _arg_2, _arg_3) {
        var _local_4;
        var _local_5;
        var _local_6 = 0;
        var _local_7 = 0;
        _local_5 = Math.ceil(k);
        _local_6 = (_local_5 - k);
        var _local_8;
        var _local_9;
        var _local_10;
        var _local_11;
        var _local_12 = 0;
        _local_4 = 0;
        while (_local_4 < this._width) {
            if (((_local_5 >= 0) && (_local_5 < this._height))) {
                if (this.getHeight(_local_4, _local_5) <= this._floorHeight) {
                    _local_8 = (_local_4 - 1);
                    _local_9 = _local_5;
                    _local_7 = _local_4;
                    _arg_3 = LegacyWallGeometry.L;
                    break;
                }
                if (this.getHeight(_local_4, (_local_5 + 1)) <= this._floorHeight) {
                    _local_8 = _local_4;
                    _local_9 = _local_5;
                    _local_7 = (_local_9 - k);
                    _arg_3 = LegacyWallGeometry.R;
                    break;
                }
            }
            _local_5++;
            _local_4++;
        }
        _local_10 = ((this.scale / 2) * _local_6);
        var _local_13 = ((-(_local_7) * this.scale) / 2);
        _local_13 = (_local_13 + ((((-(_arg_2) * 18) / 32) * this.scale) / 2));
        _local_12 = this.getHeight(_local_8, _local_9);
        _local_11 = (((_local_12 * this.scale) / 2) + _local_13);
        if (_arg_3 == LegacyWallGeometry.R) {
            _local_11 = (_local_11 + ((_local_6 * this.scale) / 4));
        }
        else {
            _local_11 = (_local_11 + (((1 - _local_6) * this.scale) / 4));
        }
        return this.getLocation(_local_8, _local_9, _local_10, _local_11, _arg_3);
    }
    _Str_22875(k, _arg_2) {
        if (k == null) {
            return null;
        }
        var _local_3 = 0;
        var _local_4 = 0;
        var _local_5 = 0;
        var _local_6 = 0;
        var _local_7 = "";
        var _local_8 = 0;
        if (_arg_2 == 90) {
            _local_3 = Math.floor((k.x - 0.5));
            _local_4 = Math.floor((k.y + 0.5));
            _local_8 = this.getHeight(_local_3, _local_4);
            _local_5 = ((this._scale / 2) - (((k.y - _local_4) + 0.5) * (this._scale / 2)));
            _local_6 = (((_local_8 - k.z) * (this._scale / 2)) + (((this._scale / 2) - _local_5) / 2));
            _local_7 = LegacyWallGeometry.L;
        }
        else {
            if (_arg_2 == 180) {
                _local_3 = Math.floor((k.x + 0.5));
                _local_4 = Math.floor((k.y - 0.5));
                _local_8 = this.getHeight(_local_3, _local_4);
                _local_5 = (((k.x + 0.5) - _local_3) * (this._scale / 2));
                _local_6 = (((_local_8 - k.z) * (this._scale / 2)) + (_local_5 / 2));
                _local_7 = LegacyWallGeometry.R;
            }
            else {
                return null;
            }
        }
        return [_local_3, _local_4, _local_5, _local_6, _local_7];
    }
    _Str_21860(k, _arg_2) {
        var _local_3 = this._Str_22875(k, _arg_2);
        if (_local_3 == null) {
            return null;
        }
        var _local_4 = Math.trunc(_local_3[0]);
        var _local_5 = Math.trunc(_local_3[1]);
        var _local_6 = Math.trunc(_local_3[2]);
        var _local_7 = Math.trunc(_local_3[3]);
        var _local_8 = _local_3[4];
        var _local_9 = (((((((((":w=" + _local_4) + ",") + _local_5) + " l=") + _local_6) + ",") + _local_7) + " ") + _local_8);
        return _local_9;
    }
    getDirection(k) {
        if (k == LegacyWallGeometry.R) {
            return 180;
        }
        return 90;
    }
    _Str_24141(k, _arg_2) {
        const _local_3 = this.getHeight(k, _arg_2);
        const _local_4 = (_local_3 + 1);
        return _local_3 + (((((((((Math.trunc(this.getHeight((k - 1), (_arg_2 - 1))) == _local_4) || (Math.trunc(this.getHeight(k, (_arg_2 - 1))) == _local_4)) || (Math.trunc(this.getHeight((k + 1), (_arg_2 - 1))) == _local_4)) || (Math.trunc(this.getHeight((k - 1), _arg_2)) == _local_4)) || (Math.trunc(this.getHeight((k + 1), _arg_2)) == _local_4)) || (Math.trunc(this.getHeight((k - 1), (_arg_2 + 1))) == _local_4)) || (Math.trunc(this.getHeight(k, (_arg_2 + 1))) == _local_4)) || (Math.trunc(this.getHeight((k + 1), (_arg_2 + 1))) == _local_4)) ? 0.5 : 0);
    }
    _Str_10375(k, _arg_2) {
        return ((((k >= 0) && (k < this._width)) && (_arg_2 >= 0)) && (_arg_2 < this._height)) && (this._heightMap[_arg_2][k] >= 0);
    }
}
LegacyWallGeometry.L = "l";
LegacyWallGeometry.R = "r";


/***/ }),

/***/ "SBOa":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureThumbnailVisualization.ts ***!
  \*************************************************************************************************/
/*! exports provided: FurnitureThumbnailVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureThumbnailVisualization", function() { return FurnitureThumbnailVisualization; });
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/utils/TextureUtils */ "IxQr");
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");


class FurnitureThumbnailVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._Str_22237 = null;
        this._Str_10040 = null;
        this._Str_21698 = -1;
        this._Str_16232 = false;
    }
    get _Str_23660() {
        return !(this._Str_10040 == null);
    }
    _Str_6645(k) {
        this._Str_10040 = k;
        this._Str_16232 = true;
    }
    updateModel(scale) {
        const flag = super.updateModel(scale);
        if (!this._Str_16232 && (this._Str_21698 === this.direction))
            return flag;
        this._Str_25236();
        return true;
    }
    _Str_25236() {
        if (this.asset == null)
            return;
        if (this._Str_10040) {
            this._Str_20857(this._Str_10040, 64);
        }
        else {
            this.asset.disposeAsset(this._Str_15493(64));
        }
        this._Str_16232 = false;
        this._Str_21698 = this.direction;
    }
    _Str_20857(k, scale) {
        let layerId = 0;
        while (layerId < this.totalSprites) {
            if (this.getLayerTag(scale, this.direction, layerId) === FurnitureThumbnailVisualization.THUMBNAIL) {
                const assetName = (this.cacheSpriteAssetName(scale, layerId, false) + this.getFrameNumber(scale, layerId));
                const asset = this.getAsset(assetName, layerId);
                if (asset) {
                    const _local_6 = this._Str_25562(k, asset);
                    const _local_7 = this._Str_15493(scale);
                    this.asset.disposeAsset(_local_7);
                    this.asset.addAsset(_local_7, _local_6, true, asset.offsetX, asset.offsetY, false, false);
                }
                return;
            }
            layerId++;
        }
    }
    _Str_25562(texture, asset) {
        let graphic = null;
        const _local_3 = 1.1;
        const matrix = new PIXI.Matrix();
        const _local_5 = (asset.width / texture.width);
        switch (this.direction) {
            case 2:
                matrix.a = _local_5;
                matrix.b = (-0.5 * _local_5);
                matrix.c = 0;
                matrix.d = (_local_5 * _local_3);
                matrix.tx = 0;
                matrix.ty = ((0.5 * _local_5) * texture.width);
                break;
            case 0:
            case 4:
                matrix.a = _local_5;
                matrix.b = (0.5 * _local_5);
                matrix.c = 0;
                matrix.d = (_local_5 * _local_3);
                matrix.tx = 0;
                matrix.ty = 0;
                break;
            default:
                matrix.a = _local_5;
                matrix.b = 0;
                matrix.c = 0;
                matrix.d = _local_5;
                matrix.tx = 0;
                matrix.ty = 0;
        }
        const sprite = PIXI.Sprite.from(texture);
        sprite.transform.setFromMatrix(matrix);
        return _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(sprite, new PIXI.Rectangle(0, 0, asset.width, asset.height));
    }
    getSpriteAssetName(scale, layerId) {
        if (this._Str_10040 && (this.getLayerTag(scale, this.direction, layerId) === FurnitureThumbnailVisualization.THUMBNAIL))
            return this._Str_15493(scale);
        return super.getSpriteAssetName(scale, layerId);
    }
    _Str_15493(scale) {
        this._Str_22237 = this._Str_12961(this.object.id, 64);
        return this._Str_22237;
    }
    _Str_12961(k, _arg_2) {
        return [this._type, k, "thumb", _arg_2].join("_");
    }
}
FurnitureThumbnailVisualization.THUMBNAIL = 'THUMBNAIL';


/***/ }),

/***/ "SS+8":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureRoomDimmerLogic.ts ***!
  \**********************************************************************************/
/*! exports provided: FurnitureRoomDimmerLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureRoomDimmerLogic", function() { return FurnitureRoomDimmerLogic; });
/* harmony import */ var _events_RoomObjectDimmerStateUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../events/RoomObjectDimmerStateUpdateEvent */ "l58M");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureRoomBrandingLogic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FurnitureRoomBrandingLogic */ "6qh2");




class FurnitureRoomDimmerLogic extends _FurnitureRoomBrandingLogic__WEBPACK_IMPORTED_MODULE_3__["FurnitureRoomBrandingLogic"] {
    constructor() {
        super();
        this._roomColorUpdated = false;
    }
    getEventTypes() {
        const types = [_events_RoomObjectDimmerStateUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectDimmerStateUpdateEvent"].DIMMER_STATE];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    dispose() {
        if (this._roomColorUpdated) {
            if (this.eventDispatcher && this.object) {
                const realRoomObject = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_REAL_ROOM_OBJECT);
                if (realRoomObject === 1) {
                    this.eventDispatcher.dispatchEvent(new _events_RoomObjectDimmerStateUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectDimmerStateUpdateEvent"](this.object, 0, 1, 1, 0xFFFFFF, 0xFF));
                }
                this._roomColorUpdated = false;
            }
        }
        super.dispose();
    }
    processUpdateMessage(message) {
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_1__["ObjectDataUpdateMessage"]) {
            if (message.data) {
                const extra = message.data.getLegacyString();
                const realRoomObject = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_REAL_ROOM_OBJECT);
                if (realRoomObject === 1)
                    this.processDimmerData(extra);
                super.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_1__["ObjectDataUpdateMessage"](this.getStateFromDimmerData(extra), message.data));
            }
            return;
        }
        super.processUpdateMessage(message);
    }
    getStateFromDimmerData(data) {
        if (!data)
            return 0;
        const parts = data.split(',');
        if (parts.length >= 5)
            return (parseInt(parts[0]) - 1);
        return 0;
    }
    processDimmerData(data) {
        if (!data)
            return;
        const parts = data.split(',');
        if (parts.length >= 5) {
            const state = this.getStateFromDimmerData(data);
            const presetId = parseInt(parts[1]);
            const effectId = parseInt(parts[2]);
            const color = parts[3];
            let colorCode = parseInt(color.substr(1), 16);
            let brightness = parseInt(parts[4]);
            if (!state) {
                colorCode = 0xFFFFFF;
                brightness = 0xFF;
            }
            if (this.eventDispatcher && this.object) {
                this.eventDispatcher.dispatchEvent(new _events_RoomObjectDimmerStateUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectDimmerStateUpdateEvent"](this.object, state, presetId, effectId, colorCode, brightness));
                this._roomColorUpdated = true;
            }
        }
    }
    useObject() {
        // widget
    }
}


/***/ }),

/***/ "SS1c":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogPageEvent.ts ***!
  \**************************************************************************************/
/*! exports provided: CatalogPageEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPageEvent", function() { return CatalogPageEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogPageParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogPageParser */ "faf2");


class CatalogPageEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogPageParser__WEBPACK_IMPORTED_MODULE_1__["CatalogPageParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Sb1T":
/*!***************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/floor/FurnitureFloorUpdateComposer.ts ***!
  \***************************************************************************************************************/
/*! exports provided: FurnitureFloorUpdateComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorUpdateComposer", function() { return FurnitureFloorUpdateComposer; });
class FurnitureFloorUpdateComposer {
    constructor(itemId, x, y, direction) {
        this._data = [itemId, x, y, direction];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "Sfdk":
/*!*************************************************!*\
  !*** ./src/app/components/toolbar/component.ts ***!
  \*************************************************/
/*! exports provided: ToolbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolbarComponent", function() { return ToolbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../client/nitro/room/events/RoomEngineAnimateIconEvent */ "IhK7");
/* harmony import */ var _client_nitro_window_motion_Dispose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../client/nitro/window/motion/Dispose */ "t0x/");
/* harmony import */ var _client_nitro_window_motion_DropBounce__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../client/nitro/window/motion/DropBounce */ "iuqI");
/* harmony import */ var _client_nitro_window_motion_EaseOut__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../client/nitro/window/motion/EaseOut */ "do8I");
/* harmony import */ var _client_nitro_window_motion_JumpBy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../client/nitro/window/motion/JumpBy */ "eAe2");
/* harmony import */ var _client_nitro_window_motion_Motions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../client/nitro/window/motion/Motions */ "q5zc");
/* harmony import */ var _client_nitro_window_motion_Queue__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../client/nitro/window/motion/Queue */ "BCdO");
/* harmony import */ var _client_nitro_window_motion_Wait__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../client/nitro/window/motion/Wait */ "OMxv");
/* harmony import */ var _enums_ToolbarIconEnum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./enums/ToolbarIconEnum */ "R+k5");
/* harmony import */ var _security_services_session_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../security/services/session.service */ "j2zY");
/* harmony import */ var _core_settings_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/settings/service */ "WnqX");
/* harmony import */ var _cameracontrols_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cameracontrols/component */ "cvrJ");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_components_avatarimage_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../shared/components/avatarimage/component */ "mjBu");

















const _c0 = ["navigationList"];
function ToolbarComponent_li_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ToolbarComponent_li_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class ToolbarComponent {
    constructor(sessionService, settingsService, ngZone) {
        this.sessionService = sessionService;
        this.settingsService = settingsService;
        this.ngZone = ngZone;
        this.isInRoom = false;
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineAnimateIconEvent"].ANIMATE, this.onRoomEngineEvent.bind(this));
        });
    }
    ngOnDestroy() {
        this.ngZone.runOutsideAngular(() => {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineAnimateIconEvent"].ANIMATE, this.onRoomEngineEvent.bind(this));
        });
    }
    toggleCatalog() {
        this.settingsService.toggleCatalog();
    }
    toggleInventory() {
        this.settingsService.toggleInventory();
    }
    toggleNavigator() {
        this.settingsService.toggleNavigator();
    }
    onRoomEngineEvent(event) {
        if (!event)
            return;
        switch (event.type) {
            case _client_nitro_room_events_RoomEngineAnimateIconEvent__WEBPACK_IMPORTED_MODULE_2__["RoomEngineAnimateIconEvent"].ANIMATE:
                const iconEvent = event;
                this.animateToIcon(iconEvent.icon, iconEvent.image, iconEvent.x, iconEvent.y);
                return;
        }
    }
    animateToIcon(icon, image, x, y) {
        if (!icon || !image || !this.navigationListElement)
            return;
        const iconName = this.getIconName(icon);
        const target = this.navigationListElement.getElementsByClassName(iconName)[0];
        if (target) {
            image.className = 'toolbar-icon-animation';
            image.style.visibility = 'visible';
            image.style.left = (x + 'px');
            image.style.top = (y + 'px');
            document.body.append(image);
            const targetBounds = target.getBoundingClientRect();
            const imageBounds = image.getBoundingClientRect();
            let left = (imageBounds.x - targetBounds.x);
            let top = (imageBounds.y - targetBounds.y);
            let squared = Math.sqrt(((left * left) + (top * top)));
            var wait = (500 - Math.abs(((((1 / squared) * 100) * 500) * 0.5)));
            var height = 20;
            const motionName = (`ToolbarBouncing[${iconName}]`);
            if (!_client_nitro_window_motion_Motions__WEBPACK_IMPORTED_MODULE_7__["Motions"]._Str_19320(motionName)) {
                _client_nitro_window_motion_Motions__WEBPACK_IMPORTED_MODULE_7__["Motions"]._Str_4598(new _client_nitro_window_motion_Queue__WEBPACK_IMPORTED_MODULE_8__["Queue"](new _client_nitro_window_motion_Wait__WEBPACK_IMPORTED_MODULE_9__["Wait"]((wait + 8)), new _client_nitro_window_motion_DropBounce__WEBPACK_IMPORTED_MODULE_4__["DropBounce"](target, 400, 12))).tag = motionName;
            }
            var _local_19 = new _client_nitro_window_motion_Queue__WEBPACK_IMPORTED_MODULE_8__["Queue"](new _client_nitro_window_motion_EaseOut__WEBPACK_IMPORTED_MODULE_5__["EaseOut"](new _client_nitro_window_motion_JumpBy__WEBPACK_IMPORTED_MODULE_6__["JumpBy"](image, wait, ((targetBounds.x - imageBounds.x) + height), (targetBounds.y - imageBounds.y), 100, 1), 1), new _client_nitro_window_motion_Dispose__WEBPACK_IMPORTED_MODULE_3__["Dispose"](image));
            _client_nitro_window_motion_Motions__WEBPACK_IMPORTED_MODULE_7__["Motions"]._Str_4598(_local_19);
        }
    }
    getIconName(icon) {
        switch (icon) {
            case _enums_ToolbarIconEnum__WEBPACK_IMPORTED_MODULE_10__["ToolbarIconEnum"].INVENTORY:
                return 'icon-inventory';
            default:
                return null;
        }
    }
    get figure() {
        return this.sessionService.figure;
    }
    get navigationListElement() {
        return ((this.navigationList && this.navigationList.nativeElement) || null);
    }
}
ToolbarComponent.ɵfac = function ToolbarComponent_Factory(t) { return new (t || ToolbarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_security_services_session_service__WEBPACK_IMPORTED_MODULE_11__["SessionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_settings_service__WEBPACK_IMPORTED_MODULE_12__["SettingsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
ToolbarComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ToolbarComponent, selectors: [["nitro-toolbar-component"]], viewQuery: function ToolbarComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.navigationList = _t.first);
    } }, inputs: { isInRoom: "isInRoom" }, decls: 19, vars: 6, consts: [[1, "nitro-toolbar-component"], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "card-body"], ["nitro-toolbar-cameracontrols-component", ""], [1, "list-group"], ["navigationList", ""], ["class", "list-group-item", 4, "ngIf"], [1, "list-group-item", 3, "click"], [1, "icon", "icon-rooms"], [1, "icon", "icon-inventory"], [1, "icon", "icon-catalog"], [1, "list-group-item", "avatar-image"], [3, "figure", "headOnly", "direction", "scale"], [1, "list-group-item"], [1, "icon", "icon-habbo"], [1, "icon", "icon-house"]], template: function ToolbarComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Nitro");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "ul", 6, 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, ToolbarComponent_li_9_Template, 2, 0, "li", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, ToolbarComponent_li_10_Template, 2, 0, "li", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "li", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ToolbarComponent_Template_li_click_11_listener() { return ctx.toggleNavigator(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "i", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "li", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ToolbarComponent_Template_li_click_13_listener() { return ctx.toggleInventory(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](14, "i", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "li", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ToolbarComponent_Template_li_click_15_listener() { return ctx.toggleCatalog(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](16, "i", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "li", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](18, "nitro-avatar-image", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isInRoom);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isInRoom);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("figure", ctx.figure)("headOnly", true)("direction", 2)("scale", 0.5);
    } }, directives: [_cameracontrols_component__WEBPACK_IMPORTED_MODULE_13__["CameraControlsComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_14__["NgIf"], _shared_components_avatarimage_component__WEBPACK_IMPORTED_MODULE_15__["AvatarImageComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ToolbarComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-toolbar-component',
                template: `
    <div class="nitro-toolbar-component">
        <div class="card">
            <div class="card-header">
                <div class="header-title">Nitro</div>
            </div>
            <div class="card-body">
                <div nitro-toolbar-cameracontrols-component></div>
                <ul #navigationList class="list-group">
                    <li class="list-group-item" *ngIf="isInRoom" ><i class="icon icon-habbo"></i></li>
                    <li class="list-group-item" *ngIf="!isInRoom"><i class="icon icon-house"></i></li>
                    <li class="list-group-item" (click)="toggleNavigator()"><i class="icon icon-rooms"></i></li>
                    <li class="list-group-item" (click)="toggleInventory()"><i class="icon icon-inventory"></i></li>
                    <li class="list-group-item" (click)="toggleCatalog()"><i class="icon icon-catalog"></i></li>
                    <li class="list-group-item avatar-image"><nitro-avatar-image [figure]="figure" [headOnly]="true" [direction]="2" [scale]="0.5"></nitro-avatar-image></li>
                </ul>
            </div>
        </div>
    </div>`
            }]
    }], function () { return [{ type: _security_services_session_service__WEBPACK_IMPORTED_MODULE_11__["SessionService"] }, { type: _core_settings_service__WEBPACK_IMPORTED_MODULE_12__["SettingsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { isInRoom: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], navigationList: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['navigationList']
        }] }); })();


/***/ }),

/***/ "SjBA":
/*!********************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureDynamicThumbnailVisualization.ts ***!
  \********************************************************************************************************/
/*! exports provided: FurnitureDynamicThumbnailVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureDynamicThumbnailVisualization", function() { return FurnitureDynamicThumbnailVisualization; });
/* harmony import */ var _FurnitureThumbnailVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureThumbnailVisualization */ "SBOa");

class FurnitureDynamicThumbnailVisualization extends _FurnitureThumbnailVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureThumbnailVisualization"] {
    constructor() {
        super();
        this._cachedUrl = null;
    }
    updateModel(scale) {
        if (this.object) {
            const thumbnailUrl = this.getThumbnailURL();
            if (this._cachedUrl !== thumbnailUrl) {
                this._cachedUrl = thumbnailUrl;
                if (this._cachedUrl && (this._cachedUrl !== '')) {
                    const image = new Image();
                    image.src = thumbnailUrl;
                    image.crossOrigin = '*';
                    image.onload = () => {
                        const texture = PIXI.Texture.from(image);
                        this._Str_6645(texture);
                    };
                }
                else {
                    this._Str_6645(null);
                }
            }
        }
        return super.updateModel(scale);
    }
    getThumbnailURL() {
        throw (new Error('This method must be overridden!'));
    }
}


/***/ }),

/***/ "SpZa":
/*!******************************************************!*\
  !*** ./src/client/core/communication/codec/Short.ts ***!
  \******************************************************/
/*! exports provided: Short */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Short", function() { return Short; });
class Short {
    constructor(value) {
        this._value = value;
    }
    get value() {
        return this._value;
    }
}


/***/ }),

/***/ "Szpn":
/*!*****************************************************!*\
  !*** ./src/client/core/communication/codec/Byte.ts ***!
  \*****************************************************/
/*! exports provided: Byte */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Byte", function() { return Byte; });
class Byte {
    constructor(value) {
        this._value = value;
    }
    get value() {
        return this._value;
    }
}


/***/ }),

/***/ "T3EG":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/rentablebot/InfoStandRentableBotData.ts ***!
  \*******************************************************************************************/
/*! exports provided: InfoStandRentableBotData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoStandRentableBotData", function() { return InfoStandRentableBotData; });
class InfoStandRentableBotData {
    constructor() {
        this._userId = 0;
        this._name = "";
        this._carryItem = 0;
        this._userRoomId = 0;
        this._badges = [];
    }
    set userId(k) {
        this._userId = k;
    }
    set name(k) {
        this._name = k;
    }
    set badges(k) {
        this._badges = k;
    }
    set _Str_3249(k) {
        this._carryItem = k;
    }
    set _Str_3313(k) {
        this._userRoomId = k;
    }
    set _Str_3246(k) {
        this._amIOwner = k;
    }
    set _Str_3529(k) {
        this._amIAnyRoomController = k;
    }
    get userId() {
        return this._userId;
    }
    get name() {
        return this._name;
    }
    get badges() {
        return this._badges.slice();
    }
    get _Str_3249() {
        return this._carryItem;
    }
    get _Str_3313() {
        return this._userRoomId;
    }
    get _Str_3246() {
        return this._amIOwner;
    }
    get _Str_3529() {
        return this._amIAnyRoomController;
    }
    get _Str_2899() {
        return this._botSkills;
    }
    set _Str_2899(k) {
        this._botSkills = k;
    }
    populate(k) {
        this.userId = k._Str_2394;
        this.name = k.name;
        this.badges = k.badges;
        this._Str_3249 = k._Str_3249;
        this._Str_3313 = k._Str_3313;
        this._Str_3246 = k._Str_3246;
        this._Str_3529 = k._Str_3529;
        this._Str_2899 = k._Str_2899;
    }
}


/***/ }),

/***/ "TErY":
/*!*********************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetChatTypingMessage.ts ***!
  \*********************************************************************************/
/*! exports provided: RoomWidgetChatTypingMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetChatTypingMessage", function() { return RoomWidgetChatTypingMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetChatTypingMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(isTyping) {
        super(RoomWidgetChatTypingMessage.TYPING_STATUS);
        this._isTyping = isTyping;
    }
    get isTyping() {
        return this._isTyping;
    }
}
RoomWidgetChatTypingMessage.TYPING_STATUS = 'RWCTM_TYPING_STATUS';


/***/ }),

/***/ "TKt8":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogUpdatedParser.ts ***!
  \****************************************************************************************/
/*! exports provided: CatalogUpdatedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogUpdatedParser", function() { return CatalogUpdatedParser; });
class CatalogUpdatedParser {
    flush() {
        this._instantlyRefreshCatalogue = false;
        this._newFurniDataHash = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._instantlyRefreshCatalogue = wrapper.readBoolean();
        if (wrapper.bytesAvailable)
            this._newFurniDataHash = wrapper.readString();
        return true;
    }
    get instantlyRefreshCatalogue() {
        return this._instantlyRefreshCatalogue;
    }
    get newFurniDataHash() {
        return this._newFurniDataHash;
    }
}


/***/ }),

/***/ "TLc4":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAdUpdateMessage.ts ***!
  \*****************************************************************/
/*! exports provided: ObjectAdUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAdUpdateMessage", function() { return ObjectAdUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectAdUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(type) {
        super(null, null);
        this._type = type;
    }
    get type() {
        return this._type;
    }
}
ObjectAdUpdateMessage.IMAGE_LOADED = 'ROAUM_IMAGE_LOADED';
ObjectAdUpdateMessage.IMAGE_LOADING_FAILED = 'ROAUM_IMAGE_FAILED';


/***/ }),

/***/ "TPa8":
/*!******************************************************************!*\
  !*** ./src/client/nitro/session/events/RoomSessionDanceEvent.ts ***!
  \******************************************************************/
/*! exports provided: RoomSessionDanceEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSessionDanceEvent", function() { return RoomSessionDanceEvent; });
/* harmony import */ var _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomSessionEvent */ "Ns5P");

class RoomSessionDanceEvent extends _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__["RoomSessionEvent"] {
    constructor(session, roomIndex, danceId) {
        super(RoomSessionDanceEvent.RSDE_DANCE, session);
        this._roomIndex = roomIndex;
        this._danceId = danceId;
    }
    get roomIndex() {
        return this._roomIndex;
    }
    get danceId() {
        return this._danceId;
    }
}
RoomSessionDanceEvent.RSDE_DANCE = 'RSDE_DANCE';


/***/ }),

/***/ "TRVI":
/*!****************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/component.ts ***!
  \****************************************************************/
/*! exports provided: RoomInfoStandComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoStandComponent", function() { return RoomInfoStandComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_ui_widget_ConversionTrackingWidget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/ConversionTrackingWidget */ "2Ba9");
/* harmony import */ var _events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events/RoomWidgetFurniInfostandUpdateEvent */ "1tVg");
/* harmony import */ var _events_RoomWidgetPetInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events/RoomWidgetPetInfostandUpdateEvent */ "xCtS");
/* harmony import */ var _events_RoomWidgetRentableBotInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/RoomWidgetRentableBotInfostandUpdateEvent */ "8bTt");
/* harmony import */ var _events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events/RoomWidgetRoomObjectUpdateEvent */ "K0gz");
/* harmony import */ var _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../events/RoomWidgetUserInfostandUpdateEvent */ "7KBg");
/* harmony import */ var _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../messages/RoomWidgetRoomObjectMessage */ "NpmB");
/* harmony import */ var _bot_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./bot/component */ "cakP");
/* harmony import */ var _furni_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./furni/component */ "g4Z0");
/* harmony import */ var _furni_InfoStandFurniData__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./furni/InfoStandFurniData */ "lCBb");
/* harmony import */ var _pet_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pet/component */ "87jD");
/* harmony import */ var _pet_InfoStandPetData__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pet/InfoStandPetData */ "gYzS");
/* harmony import */ var _rentablebot_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./rentablebot/component */ "6x6l");
/* harmony import */ var _rentablebot_InfoStandRentableBotData__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./rentablebot/InfoStandRentableBotData */ "T3EG");
/* harmony import */ var _user_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./user/component */ "DaQz");
/* harmony import */ var _user_InfoStandUserData__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./user/InfoStandUserData */ "VSOq");


















const _c0 = ["infostandsContainer"];
class RoomInfoStandComponent extends _client_nitro_ui_widget_ConversionTrackingWidget__WEBPACK_IMPORTED_MODULE_1__["ConversionTrackingWidget"] {
    constructor(ngZone, componentFactoryResolver, changeDetector) {
        super();
        this.ngZone = ngZone;
        this.componentFactoryResolver = componentFactoryResolver;
        this.changeDetector = changeDetector;
        this.botView = null;
        this.furniView = null;
        this.petView = null;
        this.rentableBotView = null;
        this.userView = null;
        this.furniData = new _furni_InfoStandFurniData__WEBPACK_IMPORTED_MODULE_10__["InfoStandFurniData"]();
        this.userData = new _user_InfoStandUserData__WEBPACK_IMPORTED_MODULE_16__["InfoStandUserData"]();
        this.petData = new _pet_InfoStandPetData__WEBPACK_IMPORTED_MODULE_12__["InfoStandPetData"]();
        this.botData = new _rentablebot_InfoStandRentableBotData__WEBPACK_IMPORTED_MODULE_14__["InfoStandRentableBotData"]();
    }
    ngAfterViewInit() {
        this.setupInfostands();
        this.changeDetector.detectChanges();
    }
    setupInfostands() {
        this.botView = this.createView(_bot_component__WEBPACK_IMPORTED_MODULE_8__["RoomInfoStandBotComponent"]);
        this.furniView = this.createView(_furni_component__WEBPACK_IMPORTED_MODULE_9__["RoomInfoStandFurniComponent"]);
        this.petView = this.createView(_pet_component__WEBPACK_IMPORTED_MODULE_11__["RoomInfoStandPetComponent"]);
        this.rentableBotView = this.createView(_rentablebot_component__WEBPACK_IMPORTED_MODULE_13__["RoomInfoStandRentableBotComponent"]);
        this.userView = this.createView(_user_component__WEBPACK_IMPORTED_MODULE_15__["RoomInfoStandUserComponent"]);
    }
    createView(component) {
        if (!component)
            return null;
        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);
        const viewRef = this.infostandsContainer.createComponent(componentFactory);
        const view = viewRef.instance;
        //@ts-ignore
        view.widget = this;
        return view;
    }
    registerUpdateEvents(eventDispatcher) {
        if (!eventDispatcher)
            return;
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_SELECTED, this.objectSelectedHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_DESELECTED, this.objectDeselectedHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].USER_REMOVED, this.objectRemovedHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].FURNI_REMOVED, this.objectRemovedHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER, this.userInfostandUpdateHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetUserInfostandUpdateEvent"].PEER, this.userInfostandUpdateHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetUserInfostandUpdateEvent"].BOT, this.botInfostandUpdateHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetFurniInfostandUpdateEvent"].FURNI, this.furniInfostandUpdateHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRentableBotInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetRentableBotInfostandUpdateEvent"].RENTABLE_BOT, this.rentableBotInfostandUpdateHandler.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetPetInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetPetInfostandUpdateEvent"].PET_INFO, this.petInfostandUpdateHandler.bind(this));
        super.registerUpdateEvents(eventDispatcher);
    }
    unregisterUpdateEvents(eventDispatcher) {
        if (!eventDispatcher)
            return;
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_SELECTED, this.objectSelectedHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_DESELECTED, this.objectDeselectedHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].USER_REMOVED, this.objectRemovedHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].FURNI_REMOVED, this.objectRemovedHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER, this.userInfostandUpdateHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetUserInfostandUpdateEvent"].PEER, this.userInfostandUpdateHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_6__["RoomWidgetUserInfostandUpdateEvent"].BOT, this.botInfostandUpdateHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetFurniInfostandUpdateEvent"].FURNI, this.furniInfostandUpdateHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRentableBotInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetRentableBotInfostandUpdateEvent"].RENTABLE_BOT, this.rentableBotInfostandUpdateHandler.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetPetInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetPetInfostandUpdateEvent"].PET_INFO, this.petInfostandUpdateHandler.bind(this));
        super.unregisterUpdateEvents(eventDispatcher);
    }
    hideAllInfoStands() {
        if (this.botView)
            this.botView.hide();
        if (this.furniView)
            this.furniView.hide();
        if (this.petView)
            this.petView.hide();
        if (this.rentableBotView)
            this.rentableBotView.hide();
        if (this.userView)
            this.userView.hide();
    }
    close() {
        this.ngZone.run(() => this.hideAllInfoStands());
    }
    objectSelectedHandler(k) {
        this.messageListener.processWidgetMessage(new _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_7__["RoomWidgetRoomObjectMessage"](_messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_7__["RoomWidgetRoomObjectMessage"].GET_OBJECT_INFO, k.id, k.category));
    }
    objectDeselectedHandler(k) {
        this.close();
    }
    objectRemovedHandler(event) {
        let remove = false;
        switch (event.type) {
            case _events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].FURNI_REMOVED:
                if (this.furniView && this.furniView.visible) {
                    remove = (event.id === this.furniData.id);
                    break;
                }
            case _events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomObjectUpdateEvent"].USER_REMOVED:
                if (this.userView && this.userView.visible) {
                    remove = (event.id === this.userData._Str_3313);
                    break;
                }
                if (this.petView && this.petView.visible) {
                    remove = (event.id === this.petData._Str_2707);
                    break;
                }
                if (this.botView && this.botView.visible) {
                    remove = (event.id === this.userData._Str_3313);
                    break;
                }
                if (this.rentableBotView && this.rentableBotView.visible) {
                    remove = (event.id === this.userData._Str_3313);
                    break;
                }
                break;
        }
        if (remove)
            this.close();
    }
    userInfostandUpdateHandler(event) {
        if (!event || !this.userView)
            return;
        this.ngZone.run(() => {
            this.userData.populate(event);
            this.userView.update(event);
            this.hideAllInfoStands();
            this.userView.show();
        });
    }
    botInfostandUpdateHandler(event) {
        if (!event)
            return;
        this.ngZone.run(() => {
            this.userData.populate(event);
            this.hideAllInfoStands();
            this.botView.show();
        });
    }
    furniInfostandUpdateHandler(event) {
        if (!event)
            return;
        this.ngZone.run(() => {
            this.furniData.populate(event);
            this.furniView.update(event);
            this.hideAllInfoStands();
            this.furniView.show();
        });
    }
    rentableBotInfostandUpdateHandler(event) {
        if (!event || !this.userView)
            return;
        this.ngZone.run(() => {
            this.botData.populate(event);
            this.rentableBotView.update(event);
            this.hideAllInfoStands();
            this.rentableBotView.show();
        });
    }
    petInfostandUpdateHandler(event) {
        if (!event)
            return;
        this.ngZone.run(() => {
            this.petData.populate(event);
            this.hideAllInfoStands();
            this.petView.show();
        });
    }
    updateUserBadges(userId, badges) {
        if (userId !== this.userData.userId)
            return;
        this.userData.badges = badges;
        if (!this.userData._Str_18577()) {
            this.ngZone.run(() => this.userView.resetBadges());
        }
    }
    get handler() {
        return this.widgetHandler;
    }
}
RoomInfoStandComponent.ɵfac = function RoomInfoStandComponent_Factory(t) { return new (t || RoomInfoStandComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
RoomInfoStandComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomInfoStandComponent, selectors: [["nitro-room-infostand-component"]], viewQuery: function RoomInfoStandComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.infostandsContainer = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 0, consts: [[1, "nitro-room-infostand-component"], ["infostandsContainer", ""]], template: function RoomInfoStandComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", null, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomInfoStandComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-infostand-component',
                template: `
    <div class="nitro-room-infostand-component">
        <div #infostandsContainer></div>
    </div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { infostandsContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['infostandsContainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]
        }] }); })();


/***/ }),

/***/ "TSaE":
/*!********************************************************!*\
  !*** ./src/client/room/events/RoomSpriteMouseEvent.ts ***!
  \********************************************************/
/*! exports provided: RoomSpriteMouseEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSpriteMouseEvent", function() { return RoomSpriteMouseEvent; });
class RoomSpriteMouseEvent {
    constructor(type, eventId, canvasId, spriteTag, screenX, screenY, localX = 0, localY = 0, ctrlKey = false, altKey = false, shiftKey = false, buttonDown = false) {
        this._type = type;
        this._eventId = eventId;
        this._canvasId = canvasId;
        this._spriteTag = spriteTag;
        this._screenX = screenX;
        this._screenY = screenY;
        this._localX = localX;
        this._localY = localY;
        this._ctrlKey = ctrlKey;
        this._altKey = altKey;
        this._shiftKey = shiftKey;
        this._buttonDown = buttonDown;
        this._spriteOffsetX = 0;
        this._spriteOffsetY = 0;
    }
    get type() {
        return this._type;
    }
    get _Str_3463() {
        return this._eventId;
    }
    get canvasId() {
        return this._canvasId;
    }
    get _Str_4216() {
        return this._spriteTag;
    }
    get _Str_24406() {
        return this._screenX;
    }
    get _Str_25684() {
        return this._screenY;
    }
    get localX() {
        return this._localX;
    }
    get localY() {
        return this._localY;
    }
    get ctrlKey() {
        return this._ctrlKey;
    }
    get altKey() {
        return this._altKey;
    }
    get shiftKey() {
        return this._shiftKey;
    }
    get buttonDown() {
        return this._buttonDown;
    }
    get spriteOffsetX() {
        return this._spriteOffsetX;
    }
    set spriteOffsetX(k) {
        this._spriteOffsetX = k;
    }
    get spriteOffsetY() {
        return this._spriteOffsetY;
    }
    set spriteOffsetY(k) {
        this._spriteOffsetY = k;
    }
}


/***/ }),

/***/ "TUS6":
/*!*********************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureResettingAnimatedVisualization.ts ***!
  \*********************************************************************************************************/
/*! exports provided: FurnitureResettingAnimatedVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureResettingAnimatedVisualization", function() { return FurnitureResettingAnimatedVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureResettingAnimatedVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
    usesAnimationResetting() {
        return true;
    }
}


/***/ }),

/***/ "TXNj":
/*!*******************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarPetGestureUpdateMessage.ts ***!
  \*******************************************************************************/
/*! exports provided: ObjectAvatarPetGestureUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarPetGestureUpdateMessage", function() { return ObjectAvatarPetGestureUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarPetGestureUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(gesture) {
        super();
        this._gesture = gesture;
    }
    get gesture() {
        return this._gesture;
    }
}


/***/ }),

/***/ "Tngy":
/*!*********************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetUserActionMessage.ts ***!
  \*********************************************************************************/
/*! exports provided: RoomWidgetUserActionMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetUserActionMessage", function() { return RoomWidgetUserActionMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetUserActionMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(k, userId = 0) {
        super(k);
        this._userId = userId;
    }
    get userId() {
        return this._userId;
    }
}
RoomWidgetUserActionMessage.RWUAM_WHISPER_USER = 'RWUAM_WHISPER_USER';
RoomWidgetUserActionMessage.RWUAM_IGNORE_USER = 'RWUAM_IGNORE_USER';
RoomWidgetUserActionMessage.RWUAM_IGNORE_USER_BUBBLE = 'RWUAM_IGNORE_USER_BUBBLE';
RoomWidgetUserActionMessage.RWUAM_UNIGNORE_USER = 'RWUAM_UNIGNORE_USER';
RoomWidgetUserActionMessage.RWUAM_KICK_USER = 'RWUAM_KICK_USER';
RoomWidgetUserActionMessage.RWUAM_BAN_USER_HOUR = 'RWUAM_BAN_USER_HOUR';
RoomWidgetUserActionMessage.RWUAM_BAN_USER_DAY = 'RWUAM_BAN_USER_DAY';
RoomWidgetUserActionMessage.RWUAM_BAN_USER_PERM = 'RWUAM_BAN_USER_PERM';
RoomWidgetUserActionMessage.MUTE_USER_2MIN = 'RWUAM_MUTE_USER_2MIN';
RoomWidgetUserActionMessage.MUTE_USER_5MIN = 'RWUAM_MUTE_USER_5MIN';
RoomWidgetUserActionMessage.MUTE_USER_10MIN = 'RWUAM_MUTE_USER_10MIN';
RoomWidgetUserActionMessage.RWUAM_SEND_FRIEND_REQUEST = 'RWUAM_SEND_FRIEND_REQUEST';
RoomWidgetUserActionMessage.RWUAM_RESPECT_USER = 'RWUAM_RESPECT_USER';
RoomWidgetUserActionMessage.RWUAM_GIVE_RIGHTS = 'RWUAM_GIVE_RIGHTS';
RoomWidgetUserActionMessage.RWUAM_TAKE_RIGHTS = 'RWUAM_TAKE_RIGHTS';
RoomWidgetUserActionMessage.RWUAM_START_TRADING = 'RWUAM_START_TRADING';
RoomWidgetUserActionMessage.RWUAM_OPEN_HOME_PAGE = 'RWUAM_OPEN_HOME_PAGE';
RoomWidgetUserActionMessage.RWUAM_REPORT = 'RWUAM_REPORT';
RoomWidgetUserActionMessage.RWUAM_PICKUP_PET = 'RWUAM_PICKUP_PET';
RoomWidgetUserActionMessage.RWUAM_MOUNT_PET = 'RWUAM_MOUNT_PET';
RoomWidgetUserActionMessage.RWUAM_TOGGLE_PET_RIDING_PERMISSION = 'RWUAM_TOGGLE_PET_RIDING_PERMISSION';
RoomWidgetUserActionMessage.RWUAM_TOGGLE_PET_BREEDING_PERMISSION = 'RWUAM_TOGGLE_PET_BREEDING_PERMISSION';
RoomWidgetUserActionMessage.RWUAM_DISMOUNT_PET = 'RWUAM_DISMOUNT_PET';
RoomWidgetUserActionMessage.RWUAM_SADDLE_OFF = 'RWUAM_SADDLE_OFF';
RoomWidgetUserActionMessage.RWUAM_TRAIN_PET = 'RWUAM_TRAIN_PET';
RoomWidgetUserActionMessage._Str_6480 = ' RWUAM_RESPECT_PET';
RoomWidgetUserActionMessage.RWUAM_TREAT_PET = 'RWUAM_TREAT_PET';
RoomWidgetUserActionMessage.RWUAM_REQUEST_PET_UPDATE = 'RWUAM_REQUEST_PET_UPDATE';
RoomWidgetUserActionMessage.RWUAM_START_NAME_CHANGE = 'RWUAM_START_NAME_CHANGE';
RoomWidgetUserActionMessage.RWUAM_PASS_CARRY_ITEM = 'RWUAM_PASS_CARRY_ITEM';
RoomWidgetUserActionMessage.RWUAM_DROP_CARRY_ITEM = 'RWUAM_DROP_CARRY_ITEM';
RoomWidgetUserActionMessage.RWUAM_GIVE_CARRY_ITEM_TO_PET = 'RWUAM_GIVE_CARRY_ITEM_TO_PET';
RoomWidgetUserActionMessage.RWUAM_GIVE_WATER_TO_PET = 'RWUAM_GIVE_WATER_TO_PET';
RoomWidgetUserActionMessage.RWUAM_GIVE_LIGHT_TO_PET = 'RWUAM_GIVE_LIGHT_TO_PET';
RoomWidgetUserActionMessage.RWUAM_REQUEST_BREED_PET = 'RWUAM_REQUEST_BREED_PET';
RoomWidgetUserActionMessage.RWUAM_HARVEST_PET = 'RWUAM_HARVEST_PET';
RoomWidgetUserActionMessage.RWUAM_REVIVE_PET = 'RWUAM_REVIVE_PET';
RoomWidgetUserActionMessage.RWUAM_COMPOST_PLANT = 'RWUAM_COMPOST_PLANT';
RoomWidgetUserActionMessage.RWUAM_GET_BOT_INFO = 'RWUAM_GET_BOT_INFO';
RoomWidgetUserActionMessage.RWUAM_REPORT_CFH_OTHER = 'RWUAM_REPORT_CFH_OTHER';
RoomWidgetUserActionMessage.RWUAM_AMBASSADOR_ALERT_USER = 'RWUAM_AMBASSADOR_ALERT_USER';
RoomWidgetUserActionMessage.RWUAM_AMBASSADOR_KICK_USER = 'RWUAM_AMBASSADOR_KICK_USER';
RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_2MIN = 'RWUAM_AMBASSADOR_MUTE_2MIN';
RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_10MIN = 'RWUAM_AMBASSADOR_MUTE_10MIN';
RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_60MIN = 'RWUAM_AMBASSADOR_MUTE_60MIN';
RoomWidgetUserActionMessage.AMBASSADOR_MUTE_USER_18HOUR = 'RWUAM_AMBASSADOR_MUTE_18HOUR';


/***/ }),

/***/ "U1pS":
/*!***************************************************!*\
  !*** ./src/client/nitro/room/utils/RoomCamera.ts ***!
  \***************************************************/
/*! exports provided: RoomCamera */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomCamera", function() { return RoomCamera; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");

class RoomCamera {
    constructor() {
        this._targetId = -1;
        this._targetCategory = -2;
        this._targetLoc = null;
        this._moveDistance = 0;
        this._previousMoveSpeed = 0;
        this._maintainPreviousMoveSpeed = false;
        this._currentLoc = null;
        this._limitedLocX = false;
        this._limitedLocY = false;
        this._centeredLocX = false;
        this._centeredLocY = false;
        this._screenWd = 0;
        this._screenHt = 0;
        this._scale = 0;
        this._roomWd = 0;
        this._roomHt = 0;
        this._geometryUpdateId = -1;
        this._scaleChanged = false;
        this._targetObjectLoc = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
    }
    get location() {
        return this._currentLoc;
    }
    get _Str_10760() {
        return this._targetId;
    }
    get _Str_16562() {
        return this._targetCategory;
    }
    get _Str_16185() {
        return this._targetObjectLoc;
    }
    get _Str_10235() {
        return this._limitedLocX;
    }
    get _Str_10446() {
        return this._limitedLocY;
    }
    get _Str_8564() {
        return this._centeredLocX;
    }
    get _Str_8690() {
        return this._centeredLocY;
    }
    get _Str_7609() {
        return this._screenWd;
    }
    get _Str_7902() {
        return this._screenHt;
    }
    get scale() {
        return this._scale;
    }
    get _Str_18975() {
        return this._roomWd;
    }
    get _Str_15953() {
        return this._roomHt;
    }
    get _Str_16377() {
        return this._geometryUpdateId;
    }
    get _Str_12536() {
        if (((!(this._targetLoc == null)) && (!(this._currentLoc == null)))) {
            return true;
        }
        return false;
    }
    set _Str_10760(k) {
        this._targetId = k;
    }
    set _Str_16185(k) {
        this._targetObjectLoc.assign(k);
    }
    set _Str_16562(k) {
        this._targetCategory = k;
    }
    set _Str_10235(k) {
        this._limitedLocX = k;
    }
    set _Str_10446(k) {
        this._limitedLocY = k;
    }
    set _Str_8564(k) {
        this._centeredLocX = k;
    }
    set _Str_8690(k) {
        this._centeredLocY = k;
    }
    set _Str_7609(k) {
        this._screenWd = k;
    }
    set _Str_7902(k) {
        this._screenHt = k;
    }
    set scale(k) {
        if (this._scale != k) {
            this._scale = k;
            this._scaleChanged = true;
        }
    }
    set _Str_18975(k) {
        this._roomWd = k;
    }
    set _Str_15953(k) {
        this._roomHt = k;
    }
    set _Str_16377(k) {
        this._geometryUpdateId = k;
    }
    set target(k) {
        var _local_2;
        if (this._targetLoc == null) {
            this._targetLoc = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        }
        if ((((!(this._targetLoc.x == k.x)) || (!(this._targetLoc.y == k.y))) || (!(this._targetLoc.z == k.z)))) {
            this._targetLoc.assign(k);
            _local_2 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dif(this._targetLoc, this._currentLoc);
            this._moveDistance = _local_2.length;
            this._maintainPreviousMoveSpeed = true;
        }
    }
    dispose() {
        this._targetLoc = null;
        this._currentLoc = null;
    }
    _Str_20685(k) {
        if (this._currentLoc != null) {
            return;
        }
        this._currentLoc = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._currentLoc.assign(k);
    }
    _Str_25467(k) {
        if (this._currentLoc == null) {
            this._currentLoc = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        }
        this._currentLoc.assign(k);
    }
    update(k, _arg_2) {
        var _local_3;
        var _local_4;
        var _local_5;
        var _local_6;
        var _local_7;
        if ((((this._followDuration > 0) && (!(this._targetLoc == null))) && (!(this._currentLoc == null)))) {
            if (this._scaleChanged) {
                this._scaleChanged = false;
                this._currentLoc = this._targetLoc;
                this._targetLoc = null;
                return;
            }
            _local_3 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].dif(this._targetLoc, this._currentLoc);
            if (_local_3.length > this._moveDistance) {
                this._moveDistance = _local_3.length;
            }
            if (_local_3.length <= _arg_2) {
                this._currentLoc = this._targetLoc;
                this._targetLoc = null;
                this._previousMoveSpeed = 0;
            }
            else {
                _local_4 = Math.sin(((Math.PI * _local_3.length) / this._moveDistance));
                _local_5 = (_arg_2 * 0.5);
                _local_6 = (this._moveDistance / RoomCamera.MOVE_SPEED_DENOMINATOR);
                _local_7 = (_local_5 + ((_local_6 - _local_5) * _local_4));
                if (this._maintainPreviousMoveSpeed) {
                    if (_local_7 < this._previousMoveSpeed) {
                        _local_7 = this._previousMoveSpeed;
                        if (_local_7 > _local_3.length) {
                            _local_7 = _local_3.length;
                        }
                    }
                    else {
                        this._maintainPreviousMoveSpeed = false;
                    }
                }
                this._previousMoveSpeed = _local_7;
                _local_3.divide(_local_3.length);
                _local_3.multiply(_local_7);
                this._currentLoc = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(this._currentLoc, _local_3);
            }
        }
    }
    reset() {
        this._geometryUpdateId = -1;
    }
    _Str_19465(k) {
        this._followDuration = k;
    }
}
RoomCamera.MOVE_SPEED_DENOMINATOR = 12;


/***/ }),

/***/ "U4HJ":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogSearchEvent.ts ***!
  \****************************************************************************************/
/*! exports provided: CatalogSearchEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogSearchEvent", function() { return CatalogSearchEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogSearchParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogSearchParser */ "ykra");


class CatalogSearchEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogSearchParser__WEBPACK_IMPORTED_MODULE_1__["CatalogSearchParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "UJeg":
/*!********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitTypingStartComposer.ts ***!
  \********************************************************************************************************/
/*! exports provided: RoomUnitTypingStartComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitTypingStartComposer", function() { return RoomUnitTypingStartComposer; });
class RoomUnitTypingStartComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "ULa2":
/*!**************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarMutedUpdateMessage.ts ***!
  \**************************************************************************/
/*! exports provided: ObjectAvatarMutedUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarMutedUpdateMessage", function() { return ObjectAvatarMutedUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarMutedUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(isMuted = false) {
        super();
        this._isMuted = isMuted;
    }
    get isMuted() {
        return this._isMuted;
    }
}


/***/ }),

/***/ "UOsA":
/*!************************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectFurnitureActionEvent.ts ***!
  \************************************************************************/
/*! exports provided: RoomObjectFurnitureActionEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectFurnitureActionEvent", function() { return RoomObjectFurnitureActionEvent; });
/* harmony import */ var _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectEvent */ "y81I");

class RoomObjectFurnitureActionEvent extends _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
}
RoomObjectFurnitureActionEvent.DICE_OFF = 'ROFCAE_DICE_OFF';
RoomObjectFurnitureActionEvent.DICE_ACTIVATE = 'ROFCAE_DICE_ACTIVATE';
RoomObjectFurnitureActionEvent.USE_HABBOWHEEL = 'ROFCAE_USE_HABBOWHEEL';
RoomObjectFurnitureActionEvent.STICKIE = 'ROFCAE_STICKIE';
RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR = 'ROFCAE_ENTER_ONEWAYDOOR';
RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT = 'ROFCAE_SOUND_MACHINE_INIT';
RoomObjectFurnitureActionEvent.SOUND_MACHINE_START = 'ROFCAE_SOUND_MACHINE_START';
RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP = 'ROFCAE_SOUND_MACHINE_STOP';
RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE = 'ROFCAE_SOUND_MACHINE_DISPOSE';
RoomObjectFurnitureActionEvent.JUKEBOX_INIT = 'ROFCAE_JUKEBOX_INIT';
RoomObjectFurnitureActionEvent.JUKEBOX_START = 'ROFCAE_JUKEBOX_START';
RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP = 'ROFCAE_JUKEBOX_MACHINE_STOP';
RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE = 'ROFCAE_JUKEBOX_DISPOSE';
RoomObjectFurnitureActionEvent.MOUSE_BUTTON = 'ROFCAE_MOUSE_BUTTON';
RoomObjectFurnitureActionEvent.MOUSE_ARROW = 'ROFCAE_MOUSE_ARROW';


/***/ }),

/***/ "UPCw":
/*!************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectRoomColorUpdateMessage.ts ***!
  \************************************************************************/
/*! exports provided: ObjectRoomColorUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectRoomColorUpdateMessage", function() { return ObjectRoomColorUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectRoomColorUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(type, color, light, backgroundOnly) {
        super(null, null);
        this._type = type;
        this._color = color;
        this._light = light;
        this._backgroundOnly = backgroundOnly;
    }
    get type() {
        return this._type;
    }
    get color() {
        return this._color;
    }
    get light() {
        return this._light;
    }
    get backgroundOnly() {
        return this._backgroundOnly;
    }
}
ObjectRoomColorUpdateMessage.BACKGROUND_COLOR = 'RORCUM_BACKGROUND_COLOR';


/***/ }),

/***/ "UTUL":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomObjectOperationType.ts ***!
  \*****************************************************************/
/*! exports provided: RoomObjectOperationType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectOperationType", function() { return RoomObjectOperationType; });
class RoomObjectOperationType {
}
RoomObjectOperationType.OBJECT_UNDEFINED = 'OBJECT_UNDEFINED';
RoomObjectOperationType.OBJECT_MOVE = 'OBJECT_MOVE';
RoomObjectOperationType.OBJECT_PLACE = 'OBJECT_PLACE';
RoomObjectOperationType.OBJECT_ROTATE_POSITIVE = 'OBJECT_ROTATE_POSITIVE';
RoomObjectOperationType.OBJECT_ROTATE_NEGATIVE = 'OBJECT_ROTATE_NEGATIVE';
RoomObjectOperationType.OBJECT_MOVE_TO = 'OBJECT_MOVE_TO';
RoomObjectOperationType.OBJECT_PLACE_TO = 'OBJECT_PLACE_TO';
RoomObjectOperationType.OBJECT_PICKUP = 'OBJECT_PICKUP';
RoomObjectOperationType.OBJECT_PICKUP_BOT = 'OBJECT_PICKUP_BOT';
RoomObjectOperationType.OBJECT_PICKUP_PET = 'OBJECT_PICKUP_PET';
RoomObjectOperationType.OBJECT_EJECT = 'OBJECT_EJECT';
RoomObjectOperationType.OBJECT_SAVE_STUFF_DATA = 'OBJECT_SAVE_STUFF_DATA';


/***/ }),

/***/ "UXuA":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureFireworksVisualization.ts ***!
  \*************************************************************************************************/
/*! exports provided: FurnitureFireworksVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFireworksVisualization", function() { return FurnitureFireworksVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureFireworksVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
}


/***/ }),

/***/ "UdUS":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/navigator/NavigatorSearchComposer.ts ***!
  \***********************************************************************************************/
/*! exports provided: NavigatorSearchComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchComposer", function() { return NavigatorSearchComposer; });
class NavigatorSearchComposer {
    constructor(code, data) {
        this._data = [code, data];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "UdsT":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/data/UserFigureParser.ts ***!
  \**************************************************************************************/
/*! exports provided: UserFigureParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserFigureParser", function() { return UserFigureParser; });
class UserFigureParser {
    flush() {
        this._figure = null;
        this._gender = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._figure = wrapper.readString();
        this._gender = wrapper.readString();
        return true;
    }
    get figure() {
        return this._figure;
    }
    get gender() {
        return this._gender;
    }
}


/***/ }),

/***/ "Ue1F":
/*!************************************************************!*\
  !*** ./src/app/components/inventory/enum/FurniCategory.ts ***!
  \************************************************************/
/*! exports provided: FurniCategory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniCategory", function() { return FurniCategory; });
class FurniCategory {
}
FurniCategory.DEFAULT = 1;
FurniCategory._Str_3639 = 2;
FurniCategory._Str_3683 = 3;
FurniCategory._Str_3432 = 4;
FurniCategory._Str_12351 = 5;
FurniCategory._Str_5186 = 6;
FurniCategory._Str_21911 = 7;
FurniCategory._Str_9125 = 8;
FurniCategory._Str_5922 = 9;
FurniCategory._Str_18231 = 10;
FurniCategory._Str_4255 = 11;
FurniCategory._Str_19933 = 12;
FurniCategory._Str_7696 = 13;
FurniCategory._Str_7297 = 14;
FurniCategory._Str_7954 = 15;
FurniCategory._Str_6096 = 16;
FurniCategory._Str_12454 = 17;
FurniCategory._Str_19144 = 18;
FurniCategory.MONSTERPLANT_SEED = 19;
FurniCategory._Str_6915 = 20;
FurniCategory._Str_8726 = 21;
FurniCategory._Str_9449 = 22;
FurniCategory._Str_12534 = 23;


/***/ }),

/***/ "Um4B":
/*!**********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/trading/TradingOpenFailedEventParser.ts ***!
  \**********************************************************************************************************/
/*! exports provided: TradingOpenFailedEventParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingOpenFailedEventParser", function() { return TradingOpenFailedEventParser; });
class TradingOpenFailedEventParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._reason = wrapper.readInt();
        this._Str_10068 = wrapper.readString();
        return true;
    }
    get reason() {
        return this._reason;
    }
    get _Str_17035() {
        return this._Str_10068;
    }
}
TradingOpenFailedEventParser._Str_18150 = 7;
TradingOpenFailedEventParser._Str_18383 = 8;


/***/ }),

/***/ "Uni9":
/*!*************************************!*\
  !*** ./src/client/utils/FurniId.ts ***!
  \*************************************/
/*! exports provided: FurniId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniId", function() { return FurniId; });
class FurniId {
    static isBuilderClubId(k) {
        return (k >= FurniId.BUILDER_CLUB_FURNI_ID_BASE);
    }
}
FurniId.BUILDER_CLUB_FURNI_ID_BASE = 0x7FFF0000;


/***/ }),

/***/ "Uo71":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitIdleParser.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomUnitIdleParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitIdleParser", function() { return RoomUnitIdleParser; });
class RoomUnitIdleParser {
    flush() {
        this._unitId = null;
        this._isIdle = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = wrapper.readInt();
        this._isIdle = wrapper.readBoolean();
        return true;
    }
    get unitId() {
        return this._unitId;
    }
    get isIdle() {
        return this._isIdle;
    }
}


/***/ }),

/***/ "UtBh":
/*!****************************************************!*\
  !*** ./src/client/nitro/avatar/cache/ImageData.ts ***!
  \****************************************************/
/*! exports provided: ImageData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageData", function() { return ImageData; });
class ImageData {
    constructor(k, rectangle, _arg_3, flipH, color) {
        this._bitmap = k;
        this._rect = rectangle;
        this._regPoint = _arg_3;
        this._flipH = flipH;
        this._color = color;
        if (flipH)
            this._regPoint.x = (-(this._regPoint.x) + rectangle.width);
    }
    dispose() {
        this._bitmap = null;
        this._regPoint = null;
        this._color = null;
    }
    get bitmap() {
        return this._bitmap;
    }
    get rect() {
        return this._rect;
    }
    get _Str_1076() {
        return this._regPoint;
    }
    get flipH() {
        return this._flipH;
    }
    get color() {
        return this._color;
    }
    get _Str_1567() {
        return new PIXI.Rectangle(-(this._regPoint.x), -(this._regPoint.y), this._rect.width, this._rect.height);
    }
}


/***/ }),

/***/ "UxH5":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/data/RoomSettingsErrorEvent.ts ***!
  \**********************************************************************************************/
/*! exports provided: RoomSettingsErrorEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSettingsErrorEvent", function() { return RoomSettingsErrorEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_data_RoomSettingsErrorParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/data/RoomSettingsErrorParser */ "jwcc");


class RoomSettingsErrorEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_data_RoomSettingsErrorParser__WEBPACK_IMPORTED_MODULE_1__["RoomSettingsErrorParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "V1nr":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/navigator/NavigatorSettingsEvent.ts ***!
  \**********************************************************************************************/
/*! exports provided: NavigatorSettingsEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSettingsEvent", function() { return NavigatorSettingsEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_navigator_NavigatorSettingsParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/navigator/NavigatorSettingsParser */ "p4l5");


class NavigatorSettingsEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_navigator_NavigatorSettingsParser__WEBPACK_IMPORTED_MODULE_1__["NavigatorSettingsParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "V5Lx":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/navigator/NavigatorCategoriesComposer.ts ***!
  \***************************************************************************************************/
/*! exports provided: NavigatorCategoriesComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorCategoriesComposer", function() { return NavigatorCategoriesComposer; });
class NavigatorCategoriesComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "V8qy":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectBadgeAssetEvent.ts ***!
  \*******************************************************************/
/*! exports provided: RoomObjectBadgeAssetEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectBadgeAssetEvent", function() { return RoomObjectBadgeAssetEvent; });
/* harmony import */ var _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectEvent */ "y81I");

class RoomObjectBadgeAssetEvent extends _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
    constructor(k, _arg_2, badgeId, groupBadge = true) {
        super(k, _arg_2);
        this._badgeId = badgeId;
        this._groupBadge = groupBadge;
    }
    get badgeId() {
        return this._badgeId;
    }
    get groupBadge() {
        return this._groupBadge;
    }
}
RoomObjectBadgeAssetEvent.LOAD_BADGE = 'ROBAE_LOAD_BADGE';


/***/ }),

/***/ "VAFd":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomEngineObjectPlacedEvent.ts ***!
  \*********************************************************************/
/*! exports provided: RoomEngineObjectPlacedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEngineObjectPlacedEvent", function() { return RoomEngineObjectPlacedEvent; });
/* harmony import */ var _RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomEngineObjectEvent */ "Hs+C");

class RoomEngineObjectPlacedEvent extends _RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomEngineObjectEvent"] {
    constructor(type, roomId, objectId, category, wallLocation, x, y, z, direction, placedInRoom, placedOnFloor, placedOnWall, instanceData) {
        super(type, roomId, objectId, category);
        this._wallLocation = '';
        this._x = 0;
        this._y = 0;
        this._z = 0;
        this._direction = 0;
        this._placedInRoom = false;
        this._placedOnFloor = false;
        this._placedOnWall = false;
        this._instanceData = null;
        this._wallLocation = wallLocation;
        this._x = x;
        this._y = y;
        this._z = z;
        this._direction = direction;
        this._placedInRoom = placedInRoom;
        this._placedOnFloor = placedOnFloor;
        this._placedOnWall = placedOnWall;
        this._instanceData = instanceData;
    }
    get _Str_7031() {
        return this._wallLocation;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get z() {
        return this._z;
    }
    get direction() {
        return this._direction;
    }
    get _Str_4057() {
        return this._placedInRoom;
    }
    get _Str_23888() {
        return this._placedOnFloor;
    }
    get _Str_23432() {
        return this._placedOnWall;
    }
    get _Str_4766() {
        return this._instanceData;
    }
}


/***/ }),

/***/ "VSOq":
/*!*****************************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/user/InfoStandUserData.ts ***!
  \*****************************************************************************/
/*! exports provided: InfoStandUserData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoStandUserData", function() { return InfoStandUserData; });
/* harmony import */ var _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../events/RoomWidgetUserInfostandUpdateEvent */ "7KBg");

class InfoStandUserData {
    constructor() {
        this._userId = 0;
        this._userName = "";
        this._groupId = 0;
        this._groupName = "";
        this._groupBadgeId = "";
        this._respectLeft = 0;
        this._carryItem = 0;
        this._userRoomId = 0;
        this._petRespectLeft = 0;
        this._badges = [];
    }
    set userId(k) {
        this._userId = k;
    }
    set userName(k) {
        this._userName = k;
    }
    set badges(k) {
        this._badges = k;
    }
    set groupId(k) {
        this._groupId = k;
    }
    set groupName(k) {
        this._groupName = k;
    }
    set _Str_5235(k) {
        this._groupBadgeId = k;
    }
    set _Str_3577(k) {
        this._respectLeft = k;
    }
    set _Str_3249(k) {
        this._carryItem = k;
    }
    set _Str_3313(k) {
        this._userRoomId = k;
    }
    set type(k) {
        this._type = k;
    }
    set _Str_2985(k) {
        this._petRespectLeft = k;
    }
    get userId() {
        return this._userId;
    }
    get userName() {
        return this._userName;
    }
    get badges() {
        return this._badges.slice();
    }
    get groupId() {
        return this._groupId;
    }
    get groupName() {
        return this._groupName;
    }
    get _Str_5235() {
        return this._groupBadgeId;
    }
    get _Str_3577() {
        return this._respectLeft;
    }
    get _Str_3249() {
        return this._carryItem;
    }
    get _Str_3313() {
        return this._userRoomId;
    }
    get type() {
        return this._type;
    }
    get _Str_2985() {
        return this._petRespectLeft;
    }
    _Str_18577() {
        return (this.type === _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUserInfostandUpdateEvent"].BOT);
    }
    populate(k) {
        this.userId = k.webID;
        this.userName = k.name;
        this.badges = k.badges;
        this.groupId = k.groupId;
        this.groupName = k.groupName;
        this._Str_5235 = k._Str_5235;
        this._Str_3577 = k._Str_3577;
        this._Str_3249 = k.carryId;
        this._Str_3313 = k.roomIndex;
        this.type = k.type;
    }
}


/***/ }),

/***/ "VXSf":
/*!***********************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/client/ClientPingParser.ts ***!
  \***********************************************************************************/
/*! exports provided: ClientPingParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientPingParser", function() { return ClientPingParser; });
class ClientPingParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "VZrs":
/*!****************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/VoteDataType.ts ***!
  \****************************************************************/
/*! exports provided: VoteDataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VoteDataType", function() { return VoteDataType; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectDataBase */ "MeCd");
/* harmony import */ var _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ObjectDataKey */ "KQk8");



class VoteDataType extends _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__["ObjectDataBase"] {
    constructor() {
        super();
        this._state = '';
        this._result = 0;
    }
    parseWrapper(wrapper) {
        if (!wrapper)
            return;
        this._state = wrapper.readString();
        this._result = wrapper.readInt();
        super.parseWrapper(wrapper);
    }
    writeRoomObjectModel(model) {
        super.writeRoomObjectModel(model);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA_FORMAT, VoteDataType.FORMAT_KEY);
        const data = {};
        data['S'] = this._state;
        data['R'] = this._result.toString();
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA, data);
    }
    getLegacyString() {
        return this._state;
    }
    compare(data) {
        return true;
    }
    setString(state) {
        this._state = state;
    }
    get result() {
        return this._result;
    }
}
VoteDataType.FORMAT_KEY = _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__["ObjectDataKey"].VOTE_KEY;


/***/ }),

/***/ "Vknh":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/client/ClientPingEvent.ts ***!
  \************************************************************************************/
/*! exports provided: ClientPingEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientPingEvent", function() { return ClientPingEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_client_ClientPingParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/client/ClientPingParser */ "VXSf");


class ClientPingEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_client_ClientPingParser__WEBPACK_IMPORTED_MODULE_1__["ClientPingParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Vp9w":
/*!*******************************************************!*\
  !*** ./src/client/nitro/avatar/geometry/Matrix4x4.ts ***!
  \*******************************************************/
/*! exports provided: Matrix4x4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Matrix4x4", function() { return Matrix4x4; });
/* harmony import */ var _Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3D */ "lQzo");

class Matrix4x4 {
    constructor(k = 0, _arg_2 = 0, _arg_3 = 0, _arg_4 = 0, _arg_5 = 0, _arg_6 = 0, _arg_7 = 0, _arg_8 = 0, _arg_9 = 0) {
        this._data = [k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8, _arg_9];
    }
    static _Str_1869(k) {
        const _local_2 = ((k * Math.PI) / 180);
        const _local_3 = Math.cos(_local_2);
        const _local_4 = Math.sin(_local_2);
        return new Matrix4x4(1, 0, 0, 0, _local_3, -(_local_4), 0, _local_4, _local_3);
    }
    static _Str_1560(k) {
        const _local_2 = ((k * Math.PI) / 180);
        const _local_3 = Math.cos(_local_2);
        const _local_4 = Math.sin(_local_2);
        return new Matrix4x4(_local_3, 0, _local_4, 0, 1, 0, -(_local_4), 0, _local_3);
    }
    static _Str_1368(k) {
        const _local_2 = ((k * Math.PI) / 180);
        const _local_3 = Math.cos(_local_2);
        const _local_4 = Math.sin(_local_2);
        return new Matrix4x4(_local_3, -(_local_4), 0, _local_4, _local_3, 0, 0, 0, 1);
    }
    identity() {
        this._data = [1, 0, 0, 0, 1, 0, 0, 0, 1];
        return this;
    }
    _Str_2186(k) {
        const _local_2 = (((k.x * this._data[0]) + (k.y * this._data[3])) + (k.z * this._data[6]));
        const _local_3 = (((k.x * this._data[1]) + (k.y * this._data[4])) + (k.z * this._data[7]));
        const _local_4 = (((k.x * this._data[2]) + (k.y * this._data[5])) + (k.z * this._data[8]));
        return new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_2, _local_3, _local_4);
    }
    _Str_1186(k) {
        const _local_2 = (((this._data[0] * k.data[0]) + (this._data[1] * k.data[3])) + (this._data[2] * k.data[6]));
        const _local_3 = (((this._data[0] * k.data[1]) + (this._data[1] * k.data[4])) + (this._data[2] * k.data[7]));
        const _local_4 = (((this._data[0] * k.data[2]) + (this._data[1] * k.data[5])) + (this._data[2] * k.data[8]));
        const _local_5 = (((this._data[3] * k.data[0]) + (this._data[4] * k.data[3])) + (this._data[5] * k.data[6]));
        const _local_6 = (((this._data[3] * k.data[1]) + (this._data[4] * k.data[4])) + (this._data[5] * k.data[7]));
        const _local_7 = (((this._data[3] * k.data[2]) + (this._data[4] * k.data[5])) + (this._data[5] * k.data[8]));
        const _local_8 = (((this._data[6] * k.data[0]) + (this._data[7] * k.data[3])) + (this._data[8] * k.data[6]));
        const _local_9 = (((this._data[6] * k.data[1]) + (this._data[7] * k.data[4])) + (this._data[8] * k.data[7]));
        const _local_10 = (((this._data[6] * k.data[2]) + (this._data[7] * k.data[5])) + (this._data[8] * k.data[8]));
        return new Matrix4x4(_local_2, _local_3, _local_4, _local_5, _local_6, _local_7, _local_8, _local_9, _local_10);
    }
    _Str_1157(k) {
        let index = 0;
        while (index < this._data.length) {
            this._data[index] = (this._data[index] * k);
            index++;
        }
    }
    _Str_1089(k) {
        const _local_2 = ((k * Math.PI) / 180);
        const _local_3 = Math.cos(_local_2);
        const _local_4 = Math.sin(_local_2);
        const _local_5 = new Matrix4x4(1, 0, 0, 0, _local_3, -(_local_4), 0, _local_4, _local_3);
        return _local_5._Str_1186(this);
    }
    _Str_2123(k) {
        const _local_2 = ((k * Math.PI) / 180);
        const _local_3 = Math.cos(_local_2);
        const _local_4 = Math.sin(_local_2);
        const _local_5 = new Matrix4x4(_local_3, 0, _local_4, 0, 1, 0, -(_local_4), 0, _local_3);
        return _local_5._Str_1186(this);
    }
    _Str_2232(k) {
        const _local_2 = ((k * Math.PI) / 180);
        const _local_3 = Math.cos(_local_2);
        const _local_4 = Math.sin(_local_2);
        const _local_5 = new Matrix4x4(_local_3, -(_local_4), 0, _local_4, _local_3, 0, 0, 0, 1);
        return _local_5._Str_1186(this);
    }
    skew() {
    }
    _Str_1779() {
        return new Matrix4x4(this._data[0], this._data[3], this._data[6], this._data[1], this._data[4], this._data[7], this._data[2], this._data[5], this._data[8]);
    }
    _Str_1451(k) {
        return false;
    }
    get data() {
        return this._data;
    }
}
Matrix4x4.IDENTITY = new Matrix4x4(1, 0, 0, 0, 1, 0, 0, 0, 1);
Matrix4x4.TOLERANS = 1E-18;


/***/ }),

/***/ "Vutg":
/*!**************************************************************!*\
  !*** ./src/client/nitro/session/handler/RoomUsersHandler.ts ***!
  \**************************************************************/
/*! exports provided: RoomUsersHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUsersHandler", function() { return RoomUsersHandler; });
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitDanceEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../communication/messages/incoming/room/unit/RoomUnitDanceEvent */ "mGgu");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../communication/messages/incoming/room/unit/RoomUnitEvent */ "fVO9");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitInfoEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../communication/messages/incoming/room/unit/RoomUnitInfoEvent */ "jzpY");
/* harmony import */ var _communication_messages_incoming_room_unit_RoomUnitRemoveEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../communication/messages/incoming/room/unit/RoomUnitRemoveEvent */ "n7CB");
/* harmony import */ var _communication_messages_incoming_user_data_UserCurrentBadgesEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../communication/messages/incoming/user/data/UserCurrentBadgesEvent */ "xB90");
/* harmony import */ var _events_RoomSessionDanceEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events/RoomSessionDanceEvent */ "TPa8");
/* harmony import */ var _events_RoomSessionUserBadgesEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../events/RoomSessionUserBadgesEvent */ "hXx8");
/* harmony import */ var _events_RoomSessionUserDataUpdateEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../events/RoomSessionUserDataUpdateEvent */ "EHDF");
/* harmony import */ var _RoomUserData__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../RoomUserData */ "J7UC");
/* harmony import */ var _BaseHandler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BaseHandler */ "8mH1");










class RoomUsersHandler extends _BaseHandler__WEBPACK_IMPORTED_MODULE_9__["BaseHandler"] {
    constructor(connection, listener) {
        super(connection, listener);
        connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitEvent__WEBPACK_IMPORTED_MODULE_1__["RoomUnitEvent"](this.onRoomUnitEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitInfoEvent__WEBPACK_IMPORTED_MODULE_2__["RoomUnitInfoEvent"](this.onRoomUnitInfoEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitRemoveEvent__WEBPACK_IMPORTED_MODULE_3__["RoomUnitRemoveEvent"](this.onRoomUnitRemoveEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_room_unit_RoomUnitDanceEvent__WEBPACK_IMPORTED_MODULE_0__["RoomUnitDanceEvent"](this.onRoomUnitDanceEvent.bind(this)));
        connection.addMessageEvent(new _communication_messages_incoming_user_data_UserCurrentBadgesEvent__WEBPACK_IMPORTED_MODULE_4__["UserCurrentBadgesEvent"](this.onUserCurrentBadgesEvent.bind(this)));
    }
    onRoomUnitEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitEvent__WEBPACK_IMPORTED_MODULE_1__["RoomUnitEvent"]) || !this.listener)
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        const users = event.getParser().users;
        const usersToAdd = [];
        if (users && users.length) {
            for (let user of users) {
                if (!user)
                    continue;
                const userData = new _RoomUserData__WEBPACK_IMPORTED_MODULE_8__["RoomUserData"](user.roomIndex);
                userData.name = user.name;
                userData.custom = user.custom;
                userData.activityPoints = user.activityPoints;
                userData.figure = user.figure;
                userData.type = user.userType;
                userData.webID = user.webID;
                userData.guildId = user.groupID;
                userData.groupName = user.groupName;
                userData.groupStatus = user.groupStatus;
                userData.sex = user.sex;
                userData.ownerId = user.ownerId;
                userData.ownerName = user.ownerName;
                userData.rarityLevel = user.rarityLevel;
                userData.hasSaddle = user.hasSaddle;
                userData.isRiding = user.isRiding;
                userData.canBreed = user.canBreed;
                userData.canHarvest = user.canHarvest;
                userData.canRevive = user.canRevive;
                userData.hasBreedingPermission = user.hasBreedingPermission;
                userData.petLevel = user.petLevel;
                userData.botSkills = user.botSkills;
                userData.isModerator = user.isModerator;
                if (!session.userDataManager.getUserData(user.roomIndex))
                    usersToAdd.push(userData);
                session.userDataManager.updateUserData(userData);
            }
        }
        this.listener.events.dispatchEvent(new _events_RoomSessionUserDataUpdateEvent__WEBPACK_IMPORTED_MODULE_7__["RoomSessionUserDataUpdateEvent"](session, usersToAdd));
    }
    onRoomUnitInfoEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitInfoEvent__WEBPACK_IMPORTED_MODULE_2__["RoomUnitInfoEvent"]) || !this.listener)
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        session.userDataManager.updateFigure(parser.unitId, parser.figure, parser.gender, false, false);
        session.userDataManager.updateMotto(parser.unitId, parser.motto);
    }
    onRoomUnitRemoveEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitRemoveEvent__WEBPACK_IMPORTED_MODULE_3__["RoomUnitRemoveEvent"]) || !this.listener)
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        session.userDataManager.removeUserData(event.getParser().unitId);
    }
    onRoomUnitDanceEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_unit_RoomUnitDanceEvent__WEBPACK_IMPORTED_MODULE_0__["RoomUnitDanceEvent"]) || !this.listener)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        this.listener.events.dispatchEvent(new _events_RoomSessionDanceEvent__WEBPACK_IMPORTED_MODULE_5__["RoomSessionDanceEvent"](session, parser.unitId, parser.danceId));
    }
    onUserCurrentBadgesEvent(event) {
        if (!(event instanceof _communication_messages_incoming_user_data_UserCurrentBadgesEvent__WEBPACK_IMPORTED_MODULE_4__["UserCurrentBadgesEvent"]) || !this.listener)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const session = this.listener.getSession(this.roomId);
        if (!session)
            return;
        session.userDataManager.setUserBadges(parser.userId, parser.badges);
        this.listener.events.dispatchEvent(new _events_RoomSessionUserBadgesEvent__WEBPACK_IMPORTED_MODULE_6__["RoomSessionUserBadgesEvent"](session, parser.userId, parser.badges));
    }
}


/***/ }),

/***/ "WAWN":
/*!*********************************************************!*\
  !*** ./src/client/nitro/room/utils/RoomInstanceData.ts ***!
  \*********************************************************/
/*! exports provided: RoomInstanceData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInstanceData", function() { return RoomInstanceData; });
/* harmony import */ var _LegacyWallGeometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LegacyWallGeometry */ "SBJG");
/* harmony import */ var _RoomCamera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomCamera */ "U1pS");
/* harmony import */ var _TileObjectMap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileObjectMap */ "m653");



class RoomInstanceData {
    constructor(roomId) {
        this._roomId = roomId;
        this._modelName = null;
        this._legacyGeometry = new _LegacyWallGeometry__WEBPACK_IMPORTED_MODULE_0__["LegacyWallGeometry"]();
        this._tileObjectMap = null;
        this._roomCamera = new _RoomCamera__WEBPACK_IMPORTED_MODULE_1__["RoomCamera"]();
        this._selectedObject = null;
        this._placedObject = null;
        this._furnitureStackingHeightMap = null;
        this._floorStack = new Map();
        this._wallStack = new Map();
        this._mouseButtonCursorOwners = [];
    }
    dispose() {
        return;
    }
    setModelName(name) {
        this._modelName = name;
    }
    setSelectedObject(data) {
        if (this._selectedObject) {
            this._selectedObject.dispose();
        }
        this._selectedObject = data;
    }
    setPlacedObject(data) {
        if (this._placedObject) {
            this._placedObject.dispose();
        }
        this._placedObject = data;
    }
    setFurnitureStackingHeightMap(heightMap) {
        if (this._furnitureStackingHeightMap)
            this._furnitureStackingHeightMap.dispose();
        this._furnitureStackingHeightMap = heightMap;
        if (this._tileObjectMap)
            this._tileObjectMap.dispose();
        if (this._furnitureStackingHeightMap) {
            this._tileObjectMap = new _TileObjectMap__WEBPACK_IMPORTED_MODULE_2__["TileObjectMap"](this._furnitureStackingHeightMap.width, this._furnitureStackingHeightMap.height);
        }
    }
    addPendingFurnitureFloor(data) {
        if (!data)
            return;
        this._floorStack.delete(data.id);
        this._floorStack.set(data.id, data);
    }
    removePendingFunitureFloor(id) {
        const existing = this._floorStack.get(id);
        if (!existing)
            return null;
        this._floorStack.delete(id);
        return existing;
    }
    getPendingFurnitureFloor(id) {
        const existing = this._floorStack.get(id);
        if (!existing)
            return null;
        this._floorStack.delete(id);
        return existing;
    }
    getNextPendingFurnitureFloor() {
        if (!this._floorStack.size)
            return null;
        const keys = this._floorStack.keys();
        return this.getPendingFurnitureFloor(keys.next().value);
    }
    addPendingFurnitureWall(data) {
        if (!data)
            return;
        this._wallStack.delete(data.id);
        this._wallStack.set(data.id, data);
    }
    removePendingFurnitureWall(id) {
        const existing = this._wallStack.get(id);
        if (!existing)
            return null;
        this._wallStack.delete(id);
        return existing;
    }
    getPendingFurnitureWall(id) {
        const existing = this._wallStack.get(id);
        if (!existing)
            return null;
        this._wallStack.delete(id);
        return existing;
    }
    getNextPendingFurnitureWall() {
        if (!this._wallStack.size)
            return null;
        const keys = this._wallStack.keys();
        return this.getPendingFurnitureWall(keys.next().value);
    }
    _Str_16810(k) {
        const _local_2 = this._mouseButtonCursorOwners.indexOf(k);
        if (_local_2 === -1) {
            this._mouseButtonCursorOwners.push(k);
            return true;
        }
        return false;
    }
    _Str_11959(k) {
        const _local_2 = this._mouseButtonCursorOwners.indexOf(k);
        if (_local_2 > -1) {
            this._mouseButtonCursorOwners.splice(_local_2, 1);
            return true;
        }
        return false;
    }
    _Str_22598() {
        return this._mouseButtonCursorOwners.length > 0;
    }
    get roomId() {
        return this._roomId;
    }
    get modelName() {
        return this._modelName;
    }
    get legacyGeometry() {
        return this._legacyGeometry;
    }
    get tileObjectMap() {
        return this._tileObjectMap;
    }
    get roomCamera() {
        return this._roomCamera;
    }
    get selectedObject() {
        return this._selectedObject;
    }
    get placedObject() {
        return this._placedObject;
    }
    get furnitureStackingHeightMap() {
        return this._furnitureStackingHeightMap;
    }
}


/***/ }),

/***/ "WDm9":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/avatar/additions/FloatingIdleZAddition.ts ***!
  \**********************************************************************************************/
/*! exports provided: FloatingIdleZAddition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FloatingIdleZAddition", function() { return FloatingIdleZAddition; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../Nitro */ "P7Cj");

class FloatingIdleZAddition {
    constructor(id, visualization) {
        this._id = id;
        this._visualization = visualization;
        this._asset = null;
        this._startTime = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time;
        this._offsetY = 0;
        this._scale = 0;
        this._state = 0;
    }
    dispose() {
        this._visualization = null;
        this._asset = null;
    }
    getSpriteAssetName(state) {
        let side = 'left';
        if ((this._visualization.angle === 135) || (this._visualization.angle === 180) || (this._visualization.angle === 225) || (this._visualization.angle === 270))
            side = 'right';
        return ('user_idle_' + side + '_' + state + ((this._scale < 48) ? '_small' : ''));
    }
    update(sprite, scale) {
        if (!sprite)
            return;
        this._scale = scale;
        this._asset = this._visualization.getAvatarRenderAsset(this.getSpriteAssetName((this._state === FloatingIdleZAddition.STATE_FRAME_A) ? 1 : 2));
        let additionScale = 64;
        let offsetX = 0;
        if (scale < 48) {
            if ((this._visualization.angle === 135) || (this._visualization.angle === 180) || (this._visualization.angle === 225) || (this._visualization.angle === 270)) {
                offsetX = 10;
            }
            else {
                offsetX = -16;
            }
            this._offsetY = -38;
            additionScale = 32;
        }
        else {
            if ((this._visualization.angle === 135) || (this._visualization.angle === 180) || (this._visualization.angle === 225) || (this._visualization.angle === 270)) {
                offsetX = 22;
            }
            else {
                offsetX = -30;
            }
            this._offsetY = -70;
        }
        if (this._visualization.posture === 'sit') {
            this._offsetY += (additionScale / 2);
        }
        else if (this._visualization.posture === 'lay') {
            this._offsetY += (additionScale - (0.3 * additionScale));
        }
        if (this._asset) {
            sprite.texture = this._asset;
            sprite.offsetX = offsetX;
            sprite.offsetY = this._offsetY;
            sprite.relativeDepth = -0.02;
            sprite.alpha = 0;
        }
    }
    animate(sprite) {
        if (!sprite)
            return false;
        const totalTimeRunning = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time;
        if (this._state === FloatingIdleZAddition.STATE_DELAY) {
            if ((totalTimeRunning - this._startTime) >= FloatingIdleZAddition.DELAY_BEFORE_ANIMATION) {
                this._state = FloatingIdleZAddition.STATE_FRAME_A;
                this._startTime = totalTimeRunning;
                this._asset = this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(1));
            }
        }
        if (this._state === FloatingIdleZAddition.STATE_FRAME_A) {
            if ((totalTimeRunning - this._startTime) >= FloatingIdleZAddition.DELAY_PER_FRAME) {
                this._state = FloatingIdleZAddition.STATE_FRAME_B;
                this._startTime = totalTimeRunning;
                this._asset = this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(2));
            }
        }
        if (this._state === FloatingIdleZAddition.STATE_FRAME_B) {
            if ((totalTimeRunning - this._startTime) >= FloatingIdleZAddition.DELAY_PER_FRAME) {
                this._state = FloatingIdleZAddition.STATE_FRAME_A;
                this._startTime = totalTimeRunning;
                this._asset = this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(1));
            }
        }
        if (this._asset) {
            sprite.texture = this._asset;
            sprite.alpha = 255;
            sprite.visible = true;
        }
        else {
            sprite.visible = false;
        }
        return false;
    }
    get id() {
        return this._id;
    }
}
FloatingIdleZAddition.DELAY_BEFORE_ANIMATION = 2000;
FloatingIdleZAddition.DELAY_PER_FRAME = 2000;
FloatingIdleZAddition.STATE_DELAY = 0;
FloatingIdleZAddition.STATE_FRAME_A = 1;
FloatingIdleZAddition.STATE_FRAME_B = 2;


/***/ }),

/***/ "WVQs":
/*!**************************************************************************!*\
  !*** ./src/app/components/catalog/navigation/navigationset/component.ts ***!
  \**************************************************************************/
/*! exports provided: CatalogNavigationSetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogNavigationSetComponent", function() { return CatalogNavigationSetComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");


function CatalogNavigationSetComponent_ng_container_1_nitro_catalog_navigation_item_component_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "nitro-catalog-navigation-item-component", 3);
} if (rf & 2) {
    const child_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("catalogPage", child_r1)("activePage", ctx_r2.activePage);
} }
function CatalogNavigationSetComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CatalogNavigationSetComponent_ng_container_1_nitro_catalog_navigation_item_component_1_Template, 1, 2, "nitro-catalog-navigation-item-component", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const child_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", child_r1.visible);
} }
class CatalogNavigationSetComponent {
    constructor() {
        this.catalogPage = null;
        this.activePage = null;
    }
}
CatalogNavigationSetComponent.ɵfac = function CatalogNavigationSetComponent_Factory(t) { return new (t || CatalogNavigationSetComponent)(); };
CatalogNavigationSetComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogNavigationSetComponent, selectors: [["nitro-catalog-navigation-set-component"]], inputs: { catalogPage: "catalogPage", activePage: "activePage" }, decls: 2, vars: 1, consts: [[1, "nav", "nav-pills", "nav-item", "flex-column"], [4, "ngFor", "ngForOf"], [3, "catalogPage", "activePage", 4, "ngIf"], [3, "catalogPage", "activePage"]], template: function CatalogNavigationSetComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CatalogNavigationSetComponent_ng_container_1_Template, 2, 1, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.catalogPage.children);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogNavigationSetComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-catalog-navigation-set-component',
                template: `
    <div class="nav nav-pills nav-item flex-column">
        <ng-container *ngFor="let child of catalogPage.children">
            <nitro-catalog-navigation-item-component *ngIf="child.visible" [catalogPage]="child" [activePage]="activePage"></nitro-catalog-navigation-item-component>
        </ng-container>
    </div>`
            }]
    }], null, { catalogPage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activePage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "Wamt":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/FurnitureItemDataEvent.ts ***!
  \***************************************************************************************************/
/*! exports provided: FurnitureItemDataEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureItemDataEvent", function() { return FurnitureItemDataEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_FurnitureItemDataParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/furniture/FurnitureItemDataParser */ "5K1g");


class FurnitureItemDataEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_FurnitureItemDataParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureItemDataParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Wgf2":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/mapping/RoomHeightMapParser.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomHeightMapParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomHeightMapParser", function() { return RoomHeightMapParser; });
class RoomHeightMapParser {
    static decodeTileHeight(height) {
        return ((height < 0) ? -1 : ((height & 16383) / 0x0100));
    }
    static decodeIsStackingBlocked(height) {
        return !!(height & 0x4000);
    }
    static decodeIsRoomTile(height) {
        return height >= 0;
    }
    getTileHeight(x, y) {
        if ((x < 0) || (x >= this._width) || (y < 0) || (y >= this._height))
            return -1;
        return RoomHeightMapParser.decodeTileHeight(this._heights[((y * this._width) + x)]);
    }
    getStackingBlocked(x, y) {
        if ((x < 0) || (x >= this._width) || (y < 0) || (y >= this._height))
            return true;
        return RoomHeightMapParser.decodeIsStackingBlocked(this._heights[((y * this._width) + x)]);
    }
    isRoomTile(x, y) {
        if ((x < 0) || (x >= this._width) || (y < 0) || (y >= this._height))
            return false;
        return RoomHeightMapParser.decodeIsRoomTile(this._heights[((y * this._width) + x)]);
    }
    flush() {
        this._width = 0;
        this._height = 0;
        this._heights = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._width = wrapper.readInt();
        let totalTiles = wrapper.readInt();
        this._height = totalTiles / this._width;
        let i = 0;
        while (i < totalTiles) {
            this._heights[i] = wrapper.readShort();
            i++;
        }
        return true;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
    get heights() {
        return this._heights;
    }
}


/***/ }),

/***/ "Wmih":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureVoteMajorityLogic.ts ***!
  \************************************************************************************/
/*! exports provided: FurnitureVoteMajorityLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureVoteMajorityLogic", function() { return FurnitureVoteMajorityLogic; });
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _data_type_VoteDataType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/type/VoteDataType */ "VZrs");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");




class FurnitureVoteMajorityLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_3__["FurnitureMultiStateLogic"] {
    processUpdateMessage(message) {
        super.processUpdateMessage(message);
        if (!this.object)
            return;
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectDataUpdateMessage"]) {
            const data = message.data;
            if (data instanceof _data_type_VoteDataType__WEBPACK_IMPORTED_MODULE_1__["VoteDataType"])
                this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_VOTE_MAJORITY_RESULT, data.result);
        }
    }
}


/***/ }),

/***/ "WnqX":
/*!******************************************!*\
  !*** ./src/app/core/settings/service.ts ***!
  \******************************************/
/*! exports provided: SettingsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsService", function() { return SettingsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");


class SettingsService {
    constructor() {
        this._navigatorVisible = false;
        this._catalogVisible = false;
        this._inventoryVisible = false;
    }
    showNavigator() {
        this._navigatorVisible = true;
    }
    hideNavigator() {
        this._navigatorVisible = false;
    }
    toggleNavigator() {
        this._navigatorVisible = !this._navigatorVisible;
    }
    showCatalog() {
        this._catalogVisible = true;
    }
    hideCatalog() {
        this._catalogVisible = false;
    }
    toggleCatalog() {
        this._catalogVisible = !this._catalogVisible;
    }
    showInventory() {
        this._inventoryVisible = true;
    }
    hideInventory() {
        this._inventoryVisible = false;
    }
    toggleInventory() {
        this._inventoryVisible = !this._inventoryVisible;
    }
    get navigatorVisible() {
        return this._navigatorVisible;
    }
    get catalogVisible() {
        return this._catalogVisible;
    }
    get inventoryVisible() {
        return this._inventoryVisible;
    }
}
SettingsService.ɵfac = function SettingsService_Factory(t) { return new (t || SettingsService)(); };
SettingsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SettingsService, factory: SettingsService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SettingsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "Wzp3":
/*!************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/floor/FurnitureFloorUpdateEvent.ts ***!
  \************************************************************************************************************/
/*! exports provided: FurnitureFloorUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorUpdateEvent", function() { return FurnitureFloorUpdateEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_floor_FurnitureFloorUpdateParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/furniture/floor/FurnitureFloorUpdateParser */ "7Hz+");


class FurnitureFloorUpdateEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_floor_FurnitureFloorUpdateParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureFloorUpdateParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "X0Jn":
/*!*************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarChatUpdateMessage.ts ***!
  \*************************************************************************/
/*! exports provided: ObjectAvatarChatUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarChatUpdateMessage", function() { return ObjectAvatarChatUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarChatUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(numberOfWords = 0) {
        super();
        this._numberOfWords = numberOfWords;
    }
    get numberOfWords() {
        return this._numberOfWords;
    }
}


/***/ }),

/***/ "X1P1":
/*!************************************************************************!*\
  !*** ./src/app/components/room/widgets/avatarinfo/avatar/component.ts ***!
  \************************************************************************/
/*! exports provided: RoomAvatarInfoAvatarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomAvatarInfoAvatarComponent", function() { return RoomAvatarInfoAvatarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../client/nitro/room/object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../client/nitro/room/object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../client/nitro/session/enum/RoomControllerLevel */ "9vQN");
/* harmony import */ var _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../messages/RoomWidgetUserActionMessage */ "Tngy");
/* harmony import */ var _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../AvatarContextInfoView */ "AsRw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");








const _c0 = ["activeView"];
function RoomAvatarInfoAvatarComponent_ng_container_7_ul_1_ng_container_1_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomAvatarInfoAvatarComponent_ng_container_7_ul_1_ng_container_1_li_1_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const item_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r7.processAction(item_r5.name); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](item_r5.name);
} }
function RoomAvatarInfoAvatarComponent_ng_container_7_ul_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RoomAvatarInfoAvatarComponent_ng_container_7_ul_1_ng_container_1_li_1_Template, 2, 1, "li", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r5 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r5.visible);
} }
function RoomAvatarInfoAvatarComponent_ng_container_7_ul_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RoomAvatarInfoAvatarComponent_ng_container_7_ul_1_ng_container_1_Template, 2, 1, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const entry_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", entry_r2.items);
} }
function RoomAvatarInfoAvatarComponent_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RoomAvatarInfoAvatarComponent_ng_container_7_ul_1_Template, 2, 1, "ul", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const entry_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.mode === entry_r2.mode);
} }
class RoomAvatarInfoAvatarComponent extends _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_5__["AvatarContextInfoView"] {
    constructor() {
        super(...arguments);
        this.avatarData = null;
        this.mode = 0;
        this.menu = [];
    }
    static setup(view, userId, userName, userType, roomIndex, avatarData) {
        view.avatarData = avatarData;
        _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_5__["AvatarContextInfoView"].extendedSetup(view, userId, userName, userType, roomIndex);
        view.setupButtons();
    }
    setupButtons() {
        let giveHandItem = false;
        const handler = this.widget.handler;
        const roomObject = handler.container.roomEngine.getRoomObject(handler.roomSession.roomId, handler.container.roomSession.ownRoomIndex, _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_1__["RoomObjectCategory"].UNIT);
        if (roomObject) {
            //@ts-ignore
            const carryId = roomObject.model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FIGURE_CARRY_OBJECT);
            if ((carryId > 0) && (carryId < 999999))
                giveHandItem = true;
        }
        this.menu = [
            {
                mode: RoomAvatarInfoAvatarComponent.MODE_NORMAL,
                items: [
                    {
                        name: 'add_friend',
                        visible: this.avatarData.canBeAskedForAFriend
                    },
                    {
                        name: 'trade',
                        visible: this.avatarData._Str_5751
                    },
                    {
                        name: 'whisper',
                        visible: true
                    },
                    {
                        name: 'respect',
                        visible: (this.avatarData._Str_3577 > 0)
                    },
                    {
                        name: 'ignore',
                        visible: !this.avatarData._Str_3655
                    },
                    {
                        name: 'unignore',
                        visible: this.avatarData._Str_3655
                    },
                    {
                        name: 'report',
                        visible: true
                    },
                    {
                        name: 'moderate',
                        visible: this.moderateMenuHasContent()
                    },
                    {
                        name: 'ambassador',
                        visible: this.ambassadorMenuHasContent()
                    },
                    {
                        name: 'pass_handitem',
                        visible: giveHandItem
                    }
                ]
            },
            {
                mode: RoomAvatarInfoAvatarComponent.MODE_MODERATE,
                items: [
                    {
                        name: 'kick',
                        visible: true
                    },
                    {
                        name: 'mute',
                        visible: true
                    },
                    {
                        name: 'ban',
                        visible: true
                    },
                    {
                        name: 'give_rights',
                        visible: true
                    },
                    {
                        name: 'remove_rights',
                        visible: true
                    },
                    {
                        name: 'back',
                        visible: true
                    }
                ]
            },
            {
                mode: RoomAvatarInfoAvatarComponent.MODE_MODERATE_BAN,
                items: [
                    {
                        name: 'ban_hour',
                        visible: true
                    },
                    {
                        name: 'ban_day',
                        visible: true
                    },
                    {
                        name: 'ban_perm',
                        visible: true
                    },
                    {
                        name: 'back_moderate',
                        visible: true
                    }
                ]
            },
            {
                mode: RoomAvatarInfoAvatarComponent.MODE_MODERATE_MUTE,
                items: [
                    {
                        name: 'mute_2min',
                        visible: true
                    },
                    {
                        name: 'mute_5min',
                        visible: true
                    },
                    {
                        name: 'mute_10min',
                        visible: true
                    },
                    {
                        name: 'back_moderate',
                        visible: true
                    }
                ]
            },
            {
                mode: RoomAvatarInfoAvatarComponent.MODE_AMBASSADOR,
                items: [
                    {
                        name: 'ambassador_alert',
                        visible: true
                    },
                    {
                        name: 'ambassador_kick',
                        visible: true
                    },
                    {
                        name: 'ambassador_mute',
                        visible: true
                    },
                    {
                        name: 'back',
                        visible: true
                    }
                ]
            },
            {
                mode: RoomAvatarInfoAvatarComponent.MODE_AMBASSADOR_MUTE,
                items: [
                    {
                        name: 'ambassador_mute_2min',
                        visible: true
                    },
                    {
                        name: 'ambassador_mute_10min',
                        visible: true
                    },
                    {
                        name: 'ambassador_mute_60min',
                        visible: true
                    },
                    {
                        name: 'ambassador_mute_18hr',
                        visible: true
                    },
                    {
                        name: 'back_ambassador',
                        visible: true
                    }
                ]
            }
        ];
    }
    processAction(name) {
        let messageType = null;
        let message = null;
        let hideMenu = true;
        if (name) {
            switch (name) {
                case 'moderate':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoAvatarComponent.MODE_MODERATE);
                    break;
                case 'ban':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoAvatarComponent.MODE_MODERATE_BAN);
                    break;
                case 'mute':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoAvatarComponent.MODE_MODERATE_MUTE);
                    break;
                case 'ambassador':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoAvatarComponent.MODE_AMBASSADOR);
                    break;
                case 'ambassador_mute':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoAvatarComponent.MODE_AMBASSADOR_MUTE);
                    break;
                case 'back_moderate':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoAvatarComponent.MODE_MODERATE);
                    break;
                case 'back_ambassador':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoAvatarComponent.MODE_AMBASSADOR);
                    break;
                case 'back':
                    hideMenu = false;
                    this.setMode(RoomAvatarInfoAvatarComponent.MODE_NORMAL);
                    break;
                case 'whisper':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_WHISPER_USER;
                    break;
                case 'friend':
                    this.avatarData.canBeAskedForAFriend = false;
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_SEND_FRIEND_REQUEST;
                    break;
                case 'respect':
                    // this._data._Str_3577--;
                    // _local_6 = this._data._Str_3577;
                    // this.widget.localizations.registerParameter('infostand.button.respect', 'count', _local_6.toString());
                    // _Str_2304('respect', (this._data._Str_3577 > 0));
                    // messageType = RoomWidgetUserActionMessage.RWUAM_RESPECT_USER;
                    // if (_local_6 > 0)
                    // {
                    //     _local_3 = false;
                    // }
                    break;
                case 'ignore':
                    this.avatarData._Str_3655 = true;
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_IGNORE_USER;
                    break;
                case 'unignore':
                    this.avatarData._Str_3655 = false;
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_UNIGNORE_USER;
                    break;
                case 'kick':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_KICK_USER;
                    break;
                case 'ban_hour':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_BAN_USER_HOUR;
                    break;
                case 'ban_day':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_BAN_USER_DAY;
                    break;
                case 'perm_ban':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_BAN_USER_PERM;
                    break;
                case 'mute_2min':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].MUTE_USER_2MIN;
                    break;
                case 'mute_5min':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].MUTE_USER_5MIN;
                    break;
                case 'mute_10min':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].MUTE_USER_10MIN;
                    break;
                case 'give_rights':
                    this.avatarData.roomControllerLevel = _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_3__["RoomControllerLevel"].GUEST;
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_GIVE_RIGHTS;
                    break;
                case 'remove_rights':
                    this.avatarData.roomControllerLevel = _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_3__["RoomControllerLevel"].NONE;
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_TAKE_RIGHTS;
                    break;
                case 'trade':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_START_TRADING;
                    break;
                case 'report':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_REPORT_CFH_OTHER;
                    break;
                case 'pass_handitem':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_PASS_CARRY_ITEM;
                    break;
                case 'ambassador_alert':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_AMBASSADOR_ALERT_USER;
                    break;
                case 'ambassador_kick':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].RWUAM_AMBASSADOR_KICK_USER;
                    break;
                case 'ambassador_mute_2min':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].AMBASSADOR_MUTE_USER_2MIN;
                    break;
                case 'ambassador_mute_10min':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].AMBASSADOR_MUTE_USER_10MIN;
                    break;
                case 'ambassador_mute_60min':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].AMBASSADOR_MUTE_USER_60MIN;
                    break;
                case 'ambassador_mute_18hour':
                    messageType = _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"].AMBASSADOR_MUTE_USER_18HOUR;
                    break;
            }
            if (messageType)
                message = new _messages_RoomWidgetUserActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetUserActionMessage"](messageType, this.userId);
            if (message)
                this.parent.messageListener.processWidgetMessage(message);
        }
        if (hideMenu) {
            this.parent.removeView(this.componentRef, false);
        }
    }
    setMode(mode) {
        if (mode === this.mode)
            return;
        this.mode = mode;
    }
    ambassadorMenuHasContent() {
        return this.avatarData._Str_4050;
    }
    moderateMenuHasContent() {
        return (this.avatarData._Str_5990 || this.avatarData._Str_6701 || this.avatarData._Str_6394 || this.isShowGiveRights() || this.isShowRemoveRights());
    }
    isShowGiveRights() {
        return (this.avatarData._Str_3246 && (this.avatarData._Str_5599 < _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_3__["RoomControllerLevel"].GUEST) && !this.avatarData._Str_3672);
    }
    isShowRemoveRights() {
        return (this.avatarData._Str_3246 && (this.avatarData._Str_5599 === _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_3__["RoomControllerLevel"].GUEST) && !this.avatarData._Str_3672);
    }
    get widget() {
        return this.parent;
    }
}
RoomAvatarInfoAvatarComponent.MODE_NORMAL = 0;
RoomAvatarInfoAvatarComponent.MODE_MODERATE = 1;
RoomAvatarInfoAvatarComponent.MODE_MODERATE_BAN = 2;
RoomAvatarInfoAvatarComponent.MODE_MODERATE_MUTE = 3;
RoomAvatarInfoAvatarComponent.MODE_AMBASSADOR = 4;
RoomAvatarInfoAvatarComponent.MODE_AMBASSADOR_MUTE = 5;
RoomAvatarInfoAvatarComponent.ɵfac = function RoomAvatarInfoAvatarComponent_Factory(t) { return ɵRoomAvatarInfoAvatarComponent_BaseFactory(t || RoomAvatarInfoAvatarComponent); };
RoomAvatarInfoAvatarComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomAvatarInfoAvatarComponent, selectors: [["nitro-room-avatarinfo-avatar-component"]], viewQuery: function RoomAvatarInfoAvatarComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.activeView = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 2, consts: [[1, "nitro-room-avatarinfo-avatar-component", "context-menu"], ["activeView", ""], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "card-body"], [4, "ngFor", "ngForOf"], [1, "card-pointer"], ["class", "list-group", 4, "ngIf"], [1, "list-group"], ["class", "list-group-item", 3, "click", 4, "ngIf"], [1, "list-group-item", 3, "click"]], template: function RoomAvatarInfoAvatarComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, RoomAvatarInfoAvatarComponent_ng_container_7_Template, 2, 1, "ng-container", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.userName);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.menu);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"]], encapsulation: 2 });
const ɵRoomAvatarInfoAvatarComponent_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](RoomAvatarInfoAvatarComponent);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomAvatarInfoAvatarComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-avatarinfo-avatar-component',
                template: `
    <div #activeView class="nitro-room-avatarinfo-avatar-component context-menu">
        <div class="card">
            <div class="card-header">
                <div class="header-title">{{ userName }}</div>
            </div>
            <div class="card-body">
                <ng-container *ngFor="let entry of menu">
                    <ul *ngIf="(mode === entry.mode)" class="list-group">
                        <ng-container *ngFor="let item of entry.items">
                            <li *ngIf="item.visible" (click)="processAction(item.name)" class="list-group-item">{{ item.name }}</li>
                        </ng-container>
                    </ul>
                </ng-container>
            </div>
            <div class="card-pointer"></div>
        </div>
    </div>`
            }]
    }], null, { activeView: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['activeView']
        }] }); })();


/***/ }),

/***/ "X23D":
/*!******************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/user/inventory/subscription/UserSubscriptionComposer.ts ***!
  \******************************************************************************************************************/
/*! exports provided: UserSubscriptionComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserSubscriptionComposer", function() { return UserSubscriptionComposer; });
class UserSubscriptionComposer {
    constructor(type) {
        this._data = [type];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "XAr4":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/utils/CatalogFrontPageItem.ts ***!
  \**********************************************************************************************/
/*! exports provided: CatalogFrontPageItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogFrontPageItem", function() { return CatalogFrontPageItem; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../Nitro */ "P7Cj");

class CatalogFrontPageItem {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._type = -1;
        this._position = null;
        this._itemName = null;
        this._itemPromoImage = null;
        this._catalogPageLocation = null;
        this._productCode = null;
        this._productOfferId = 0;
        this._expirationTime = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._position = wrapper.readInt();
        this._itemName = wrapper.readString();
        this._itemPromoImage = wrapper.readString();
        this._type = wrapper.readInt();
        switch (this._type) {
            case CatalogFrontPageItem.ITEM_CATALOGUE_PAGE:
                this._catalogPageLocation = wrapper.readString();
                break;
            case CatalogFrontPageItem.ITEM_PRODUCT_OFFER:
                this._productOfferId = wrapper.readInt();
                break;
            case CatalogFrontPageItem.ITEM_IAP:
                this._productCode = wrapper.readString();
                break;
        }
        let time = wrapper.readInt();
        this._expirationTime = ((time > 0) ? ((time * 1000) + _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time) : 0);
        return true;
    }
    get type() {
        return this._type;
    }
    get position() {
        return this._position;
    }
    get itemName() {
        return this._itemName;
    }
    get itemPromoImage() {
        return this._itemPromoImage;
    }
    get catalogPageLocation() {
        return this._catalogPageLocation;
    }
    get productCode() {
        return this._productCode;
    }
    get productOfferId() {
        return this._productOfferId;
    }
    get expirationTime() {
        return this._expirationTime;
    }
}
CatalogFrontPageItem.ITEM_CATALOGUE_PAGE = 0;
CatalogFrontPageItem.ITEM_PRODUCT_OFFER = 1;
CatalogFrontPageItem.ITEM_IAP = 2;


/***/ }),

/***/ "XG+c":
/*!**********************************************************************!*\
  !*** ./src/app/components/room/widgets/avatarinfo/AvatarInfoData.ts ***!
  \**********************************************************************/
/*! exports provided: AvatarInfoData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarInfoData", function() { return AvatarInfoData; });
/* harmony import */ var _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events/RoomWidgetUserInfostandUpdateEvent */ "7KBg");

class AvatarInfoData {
    constructor() {
        this._isIgnored = false;
        this._canTrade = false;
        this._canTradeReason = 0;
        this._canBeKicked = false;
        this._canBeBanned = false;
        this._canBeMuted = false;
        this._canBeAskedAsFriend = false;
        this._amIOwner = false;
        this._amIAnyRoomController = false;
        this._respectLeft = 0;
        this._isOwnUser = false;
        this._allowNameChange = false;
        this._isGuildRoom = false;
        this._carryItemType = 0;
        this._myRoomControllerLevel = 0;
        this._targetRoomControllerLevel = 0;
        this._isFriend = false;
        this._isAmbassador = false;
    }
    get _Str_3655() {
        return this._isIgnored;
    }
    get _Str_5751() {
        return this._canTrade;
    }
    get _Str_6622() {
        return this._canTradeReason;
    }
    get _Str_5990() {
        return this._canBeKicked;
    }
    get _Str_6701() {
        return this._canBeBanned;
    }
    get canBeAskedForAFriend() {
        return this._canBeAskedAsFriend;
    }
    get _Str_3246() {
        return this._amIOwner;
    }
    get _Str_3529() {
        return this._amIAnyRoomController;
    }
    get _Str_3577() {
        return this._respectLeft;
    }
    get _Str_11453() {
        return this._isOwnUser;
    }
    get allowNameChange() {
        return this._allowNameChange;
    }
    get _Str_3672() {
        return this._isGuildRoom;
    }
    get _Str_8826() {
        return this._carryItemType;
    }
    get roomControllerLevel() {
        return this._myRoomControllerLevel;
    }
    get _Str_5599() {
        return this._targetRoomControllerLevel;
    }
    set _Str_3655(k) {
        this._isIgnored = k;
    }
    set _Str_5751(k) {
        this._canTrade = k;
    }
    set _Str_6622(k) {
        this._canTradeReason = k;
    }
    set _Str_5990(k) {
        this._canBeKicked = k;
    }
    set _Str_6701(k) {
        this._canBeBanned = k;
    }
    get _Str_6394() {
        return this._canBeMuted;
    }
    set _Str_6394(k) {
        this._canBeMuted = k;
    }
    set canBeAskedForAFriend(k) {
        this._canBeAskedAsFriend = k;
    }
    set _Str_3246(k) {
        this._amIOwner = k;
    }
    set _Str_3529(k) {
        this._amIAnyRoomController = k;
    }
    set _Str_3577(k) {
        this._respectLeft = k;
    }
    set _Str_11453(k) {
        this._isOwnUser = k;
    }
    set allowNameChange(k) {
        this._allowNameChange = k;
    }
    set _Str_3672(k) {
        this._isGuildRoom = k;
    }
    set _Str_8826(k) {
        this._carryItemType = k;
    }
    set roomControllerLevel(k) {
        this._myRoomControllerLevel = k;
    }
    set _Str_5599(k) {
        this._targetRoomControllerLevel = k;
    }
    get isFriend() {
        return this._isFriend;
    }
    get _Str_4050() {
        return this._isAmbassador;
    }
    populate(k) {
        this._amIAnyRoomController = k.isModerator;
        this._myRoomControllerLevel = k.roomControllerLevel;
        this._amIOwner = k.isRoomOwner;
        this._canBeAskedAsFriend = k.canBeAskedForAFriend;
        this._canBeKicked = k._Str_5990;
        this._canBeBanned = k._Str_6701;
        this._canBeMuted = k._Str_6394;
        this._canTrade = k.canTrade;
        this._canTradeReason = k._Str_6622;
        this._isIgnored = k.isIgnored;
        this._respectLeft = k._Str_3577;
        this._isOwnUser = (k.type === _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER);
        this._allowNameChange = k._Str_4330;
        this._isGuildRoom = k.isGuildRoom;
        this._targetRoomControllerLevel = k.flatControl;
        this._carryItemType = k.carryId;
        this._isFriend = k.isFriend;
        this._isAmbassador = k.isAmbassador;
    }
}


/***/ }),

/***/ "XHj7":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/avatar/additions/FloatingHeartAddition.ts ***!
  \**********************************************************************************************/
/*! exports provided: FloatingHeartAddition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FloatingHeartAddition", function() { return FloatingHeartAddition; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../Nitro */ "P7Cj");
/* harmony import */ var _ExpressionAddition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ExpressionAddition */ "DG3E");


class FloatingHeartAddition extends _ExpressionAddition__WEBPACK_IMPORTED_MODULE_1__["ExpressionAddition"] {
    constructor(id, type, visualization) {
        super(id, type, visualization);
        this._asset = null;
        this._startTime = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time;
        this._delta = 0;
        this._offsetY = 0;
        this._scale = 0;
        this._state = 0;
    }
    update(sprite, scale) {
        if (!sprite)
            return;
        this._scale = scale;
        let additionScale = 64;
        let offsetX = 0;
        if (scale < 48) {
            this._asset = this.visualization.getAvatarRenderAsset('user_blowkiss_small');
            if ((this.visualization.angle === 90) || (this.visualization.angle === 270)) {
                offsetX = 0;
            }
            else if ((this.visualization.angle === 135) || (this.visualization.angle === 180) || (this.visualization.angle === 225)) {
                offsetX = 6;
            }
            else
                offsetX = -6;
            this._offsetY = -38;
            additionScale = 32;
        }
        else {
            this._asset = this.visualization.getAvatarRenderAsset('user_blowkiss');
            if ((this.visualization.angle === 90) || (this.visualization.angle === 270)) {
                offsetX = -3;
            }
            else if ((this.visualization.angle === 135) || (this.visualization.angle === 180) || (this.visualization.angle === 225)) {
                offsetX = 22;
            }
            else
                offsetX = -30;
            this._offsetY = -70;
        }
        if (this.visualization.posture === 'sit') {
            this._offsetY += (additionScale / 2);
        }
        else if (this.visualization.posture === 'lay') {
            this._offsetY += additionScale;
        }
        if (this._asset) {
            sprite.texture = this._asset;
            sprite.offsetX = offsetX;
            sprite.offsetY = this._offsetY;
            sprite.relativeDepth = -0.02;
            sprite.alpha = 0;
            let delta = this._delta;
            this.animate(sprite);
            this._delta = delta;
        }
    }
    animate(sprite) {
        if (!sprite)
            return false;
        if (this._asset)
            sprite.texture = this._asset;
        if (this._state === FloatingHeartAddition.STATE_DELAY) {
            if ((_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time - this._startTime) < FloatingHeartAddition.DELAY_BEFORE_ANIMATION)
                return false;
            this._state = FloatingHeartAddition.STATE_FADE_IN;
            sprite.alpha = 0;
            sprite.visible = true;
            this._delta = 0;
            return true;
        }
        if (this._state === FloatingHeartAddition.STATE_FADE_IN) {
            this._delta += 0.1;
            sprite.offsetY = this._offsetY;
            sprite.alpha = (Math.pow(this._delta, 0.9) * 255);
            if (this._delta >= 1) {
                sprite.alpha = 255;
                this._delta = 0;
                this._state = FloatingHeartAddition.STATE_FLOAT;
            }
            return true;
        }
        if (this._state === FloatingHeartAddition.STATE_FLOAT) {
            let alpha = Math.pow(this._delta, 0.9);
            this._delta += 0.05;
            let offset = ((this._scale < 48) ? -30 : -40);
            sprite.offsetY = (this._offsetY + (((this._delta < 1) ? alpha : 1) * offset));
            sprite.alpha = ((1 - alpha) * 255);
            if (sprite.alpha <= 0) {
                sprite.visible = false;
                this._state = FloatingHeartAddition.STATE_COMPLETE;
            }
            return true;
        }
        return false;
    }
}
FloatingHeartAddition.DELAY_BEFORE_ANIMATION = 300;
FloatingHeartAddition.STATE_DELAY = 0;
FloatingHeartAddition.STATE_FADE_IN = 1;
FloatingHeartAddition.STATE_FLOAT = 2;
FloatingHeartAddition.STATE_COMPLETE = 3;


/***/ }),

/***/ "XLgX":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/avatar/animation/DirectionDataContainer.ts ***!
  \*********************************************************************/
/*! exports provided: DirectionDataContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionDataContainer", function() { return DirectionDataContainer; });
class DirectionDataContainer {
    constructor(k) {
        this._offset = parseInt(k.offset);
    }
    get offset() {
        return this._offset;
    }
}


/***/ }),

/***/ "XMGm":
/*!************************************************************!*\
  !*** ./src/client/nitro/room/object/RoomObjectVariable.ts ***!
  \************************************************************/
/*! exports provided: RoomObjectVariable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectVariable", function() { return RoomObjectVariable; });
class RoomObjectVariable {
}
RoomObjectVariable.OBJECT_ROOM_ID = 'object_room_id';
RoomObjectVariable.OBJECT_ACCURATE_Z_VALUE = 'object_accurate_z_value';
RoomObjectVariable.TILE_CURSOR_HEIGHT = 'tile_cursor_height';
RoomObjectVariable.FIGURE = 'figure';
RoomObjectVariable.GENDER = 'gender';
RoomObjectVariable.OWN_USER = 'own_user';
RoomObjectVariable.FIGURE_CAN_STAND_UP = 'figure_can_stand_up';
RoomObjectVariable.FIGURE_VERTICAL_OFFSET = 'figure_vertical_offset';
RoomObjectVariable.FIGURE_TALK = 'figure_talk';
RoomObjectVariable.FIGURE_DANCE = 'figure_dance';
RoomObjectVariable.FIGURE_SLEEP = 'figure_sleep';
RoomObjectVariable.FIGURE_BLINK = 'figure_blink';
RoomObjectVariable.FIGURE_EFFECT = 'figure_effect';
RoomObjectVariable.FIGURE_CARRY_OBJECT = 'figure_carry_object';
RoomObjectVariable.FIGURE_USE_OBJECT = 'figure_use_object';
RoomObjectVariable.FIGURE_GESTURE = 'figure_gesture';
RoomObjectVariable.FIGURE_POSTURE = 'figure_posture';
RoomObjectVariable.FIGURE_POSTURE_PARAMETER = 'figure_posture_parameter';
RoomObjectVariable.FIGURE_HIGHLIGHT_ENABLE = 'figure_highlight_enable';
RoomObjectVariable.FIGURE_HIGHLIGHT = 'figure_highlight';
RoomObjectVariable.STD = 'std';
RoomObjectVariable.FIGURE_SIGN = 'figure_sign';
RoomObjectVariable.FIGURE_FLAT_CONTROL = 'figure_flat_control';
RoomObjectVariable.FIGURE_IS_TYPING = 'figure_is_typing';
RoomObjectVariable.FIGURE_IS_MUTED = 'figure_is_muted';
RoomObjectVariable.FIGURE_GAINED_EXPERIENCE = 'figure_gained_experience';
RoomObjectVariable.FIGURE_NUMBER_VALUE = 'figure_number_value';
RoomObjectVariable.FIGURE_IS_PLAYING_GAME = 'figure_is_playing_game';
RoomObjectVariable.FIGURE_GUIDE_STATUS = 'figure_guide_status';
RoomObjectVariable.FIGURE_EXPRESSION = 'figure_expression';
RoomObjectVariable.HEAD_DIRECTION = 'head_direction';
RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX = 'furniture_automatic_state_index';
RoomObjectVariable.FURNITURE_ALWAYS_STACKABLE = 'furniture_always_stackable';
RoomObjectVariable.FURNITURE_DISABLE_PICKING_ANIMATION = 'furniture_disable_picking_animation';
RoomObjectVariable.FURNITURE_DATA_FORMAT = 'furniture_data_format';
RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER = 'furniture_unique_serial_number';
RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE = 'furniture_unique_edition_size';
RoomObjectVariable.FURNITURE_CRACKABLE_STATE = 'furniture_crackable_state';
RoomObjectVariable.FURNITURE_CRACKABLE_HITS = 'furniture_crackable_hits';
RoomObjectVariable.FURNITURE_CRACKABLE_TARGET = 'furniture_crackable_target';
RoomObjectVariable.FURNITURE_DATA = 'furniture_data';
RoomObjectVariable.FURNITURE_ITEMDATA = 'furniture_itemdata';
RoomObjectVariable.FURNITURE_COLOR = 'furniture_color';
RoomObjectVariable.FURNITURE_LIFT_AMOUNT = 'furniure_lift_amount';
RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID = 'furniture_guild_customized_guild_id';
RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_BADGE = 'furniture_guild_customized_badge';
RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_1 = 'furniture_guild_customized_color_1';
RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_2 = 'furniture_guild_customized_color_2';
RoomObjectVariable.FURNITURE_STATE_UPDATE_TIME = 'furniture_state_update_time';
RoomObjectVariable.FURNITURE_SELECTION_DISABLED = 'furniture_selection_disabled';
RoomObjectVariable.FURNITURE_SIZE_X = 'furniture_size_x';
RoomObjectVariable.FURNITURE_SIZE_Y = 'furniture_size_y';
RoomObjectVariable.FURNITURE_SIZE_Z = 'furniture_size_z';
RoomObjectVariable.FURNITURE_CENTER_X = 'furniture_center_x';
RoomObjectVariable.FURNITURE_CENTER_Y = 'furniture_center_y';
RoomObjectVariable.FURNITURE_CENTER_Z = 'furniture_center_z';
RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS = 'furniture_allowed_directions';
RoomObjectVariable.FURNITURE_AD_URL = 'furniture_ad_url';
RoomObjectVariable.FURNITURE_TYPE_ID = 'furniture_type_id';
RoomObjectVariable.FURNITURE_EXTRAS = 'furniture_extras';
RoomObjectVariable.FURNITURE_EXPIRY_TIME = 'furniture_expiry_time';
RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP = 'furniture_expiry_timestamp';
RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT = 'furniture_real_room_object';
RoomObjectVariable.FURNITURE_IS_STICKIE = 'furniture_is_stickie';
RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS = 'furniture_branding_image_status';
RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL = 'furniture_branding_image_url';
RoomObjectVariable.FURNITURE_BRANDING_URL = 'furniture_branding_url';
RoomObjectVariable.FURNITURE_BRANDING_OFFSET_X = 'furniture_branding_offset_x';
RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Y = 'furniture_branding_offset_y';
RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Z = 'furniture_branding_offset_z';
RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS = 'furniture_badge_image_status';
RoomObjectVariable.FURNITURE_BADGE_ASSET_NAME = 'furniture_badge_asset_name';
RoomObjectVariable.FURNITURE_BADGE_VISIBLE_IN_STATE = 'furniture_badge_visible_in_state';
RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER = 'furniture_alpha_multiplier';
RoomObjectVariable.FURNITURE_USAGE_POLICY = 'furniture_usage_policy';
RoomObjectVariable.FURNITURE_OWNER_ID = 'furniture_owner_id';
RoomObjectVariable.FURNITURE_OWNER_NAME = 'furniture_owner_name';
RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_HUE = 'furniture_room_background_color_hue';
RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION = 'furniture_room_background_color_saturation';
RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS = 'furniture_room_background_color_lightness';
RoomObjectVariable.FURNITURE_USES_PLANE_MASK = 'furniture_uses_plane_mask';
RoomObjectVariable.FURNITURE_PLANE_MASK_TYPE = 'furniture_plane_mask_type';
RoomObjectVariable.FURNITURE_IS_VARIABLE_HEIGHT = 'furniture_is_variable_height';
RoomObjectVariable.FURNITURE_VOTE_MAJORITY_RESULT = 'furniture_vote_majority_result';
RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT = 'furniture_vote_counter_count';
RoomObjectVariable.FURNITURE_MANNEQUIN_NAME = 'furniture_mannequin_name';
RoomObjectVariable.FURNITURE_MANNEQUIN_GENDER = 'furniture_mannequin_gender';
RoomObjectVariable.FURNITURE_MANNEQUIN_FIGURE = 'furniture_mannequin_figure';
RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE = 'furniture_highscore_score_type';
RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE = 'furniture_highscore_clear_type';
RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT = 'furniture_highscore_data_entry_count';
RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_ = 'furniture_highscore_data_entry_base_users_';
RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_ = 'furniture_highscore_data_entry_base_score_';
RoomObjectVariable.PET_PALETTE_INDEX = 'pet_palette_index';
RoomObjectVariable.PET_COLOR = 'pet_color';
RoomObjectVariable.PET_HEAD_ONLY = 'pet_head_only';
RoomObjectVariable.PET_CUSTOM_LAYER_IDS = 'pet_custom_layer_ids';
RoomObjectVariable.PET_CUSTOM_PARTS_IDS = 'pet_custom_part_ids';
RoomObjectVariable.PET_CUSTOM_PALETTE_IDS = 'pet_custom_palette_ids';
RoomObjectVariable.PET_IS_RIDING = 'pet_is_riding';
RoomObjectVariable.PET_TYPE = 'pet_type';
RoomObjectVariable.PET_ALLOWED_DIRECTIONS = 'pet_allowed_directions';
RoomObjectVariable.RACE = 'race';
RoomObjectVariable.ROOM_MAP_DATA = 'room_map_data';
RoomObjectVariable.ROOM_PLANE_MASK_XML = 'room_plane_mask_xml';
RoomObjectVariable.ROOM_FLOOR_TYPE = 'room_floor_type';
RoomObjectVariable.ROOM_WALL_TYPE = 'room_wall_type';
RoomObjectVariable.ROOM_LANDSCAPE_TYPE = 'room_landscape_type';
RoomObjectVariable.ROOM_WALL_THICKNESS = 'room_wall_thickness';
RoomObjectVariable.ROOM_FLOOR_THICKNESS = 'room_floor_thickness';
RoomObjectVariable.ROOM_FLOOR_HOLE_UPDATE_TIME = 'room_floor_hole_update_time';
RoomObjectVariable.ROOM_FLOOR_VISIBILITY = 'room_floor_visibility';
RoomObjectVariable.ROOM_WALL_VISIBILITY = 'room_wall_visibility';
RoomObjectVariable.ROOM_LANDSCAPE_VISIBILITY = 'room_landscape_visibility';
RoomObjectVariable.ROOM_DOOR_X = 'room_door_x';
RoomObjectVariable.ROOM_DOOR_Y = 'room_door_y';
RoomObjectVariable.ROOM_DOOR_Z = 'room_door_z';
RoomObjectVariable.ROOM_DOOR_DIR = 'room_door_dir';
RoomObjectVariable.ROOM_BACKGROUND_COLOR = 'room_background_color';
RoomObjectVariable.ROOM_COLORIZE_BG_ONLY = 'room_colorize_bg_only';
RoomObjectVariable.ROOM_RANDOM_SEED = 'room_random_seed';
RoomObjectVariable.ROOM_WORLD_TYPE = 'room_world_type';
RoomObjectVariable.ROOM_SELECTED_X = 'room_selected_x';
RoomObjectVariable.ROOM_SELECTED_Y = 'room_selected_y';
RoomObjectVariable.ROOM_SELECTED_Z = 'room_selected_z';
RoomObjectVariable.ROOM_SELECTED_PLANE = 'room_selected_plane';
RoomObjectVariable.IMAGE_QUERY_SCALE = 'image_query_scale';


/***/ }),

/***/ "XMUx":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/generic/GenericAlertParser.ts ***!
  \**************************************************************************************/
/*! exports provided: GenericAlertParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GenericAlertParser", function() { return GenericAlertParser; });
class GenericAlertParser {
    flush() {
        this._message = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._message = wrapper.readString();
        return true;
    }
    get message() {
        return this._message;
    }
}


/***/ }),

/***/ "XPka":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectRoomFloorHoleUpdateMessage.ts ***!
  \****************************************************************************/
/*! exports provided: ObjectRoomFloorHoleUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectRoomFloorHoleUpdateMessage", function() { return ObjectRoomFloorHoleUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectRoomFloorHoleUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(type, id, x = 0, y = 0, width = 0, height = 0) {
        super(null, null);
        this._type = type;
        this._id = id;
        this._x = x;
        this._y = y;
        this._width = width;
        this._height = height;
    }
    get type() {
        return this._type;
    }
    get id() {
        return this._id;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
}
ObjectRoomFloorHoleUpdateMessage.ADD = 'ORPFHUM_ADD';
ObjectRoomFloorHoleUpdateMessage.REMOVE = 'ORPFHUM_REMOVE';


/***/ }),

/***/ "XSqo":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/pet/PetVisualizationData.ts ***!
  \********************************************************************************/
/*! exports provided: PetVisualizationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetVisualizationData", function() { return PetVisualizationData; });
/* harmony import */ var _data_AnimationSizeData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/AnimationSizeData */ "sZiI");
/* harmony import */ var _data_PetSizeData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/PetSizeData */ "E8E1");
/* harmony import */ var _furniture_FurnitureAnimatedVisualizationData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../furniture/FurnitureAnimatedVisualizationData */ "kSKJ");



class PetVisualizationData extends _furniture_FurnitureAnimatedVisualizationData__WEBPACK_IMPORTED_MODULE_2__["FurnitureAnimatedVisualizationData"] {
    constructor() {
        super();
        this._isAllowedToTurnHead = true;
    }
    createSizeData(scale, layerCount, angle) {
        if (scale > 1)
            return new _data_PetSizeData__WEBPACK_IMPORTED_MODULE_1__["PetSizeData"](layerCount, angle);
        else
            return new _data_AnimationSizeData__WEBPACK_IMPORTED_MODULE_0__["AnimationSizeData"](layerCount, angle);
    }
    defineVisualizations(visualizations) {
        this._isAllowedToTurnHead = true; //check visualization for '@disableheadturn'
        return super.defineVisualizations(visualizations);
    }
    processVisualElement(sizeData, key, data) {
        if (!sizeData || !key || !data)
            return false;
        switch (key) {
            case 'postures':
                if (!(sizeData instanceof _data_PetSizeData__WEBPACK_IMPORTED_MODULE_1__["PetSizeData"]) || !sizeData.processPostures(data))
                    return false;
                break;
            case 'gestures':
                if (!(sizeData instanceof _data_PetSizeData__WEBPACK_IMPORTED_MODULE_1__["PetSizeData"]) || !sizeData.processGestures(data))
                    return false;
                break;
            default:
                if (!super.processVisualElement(sizeData, key, data))
                    return false;
                break;
        }
        return true;
    }
    postureToAnimation(scale, posture) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_PetSizeData__WEBPACK_IMPORTED_MODULE_1__["PetSizeData"].DEFAULT;
        return size.postureToAnimation(posture);
    }
    _Str_18284(scale, posture) {
        const size = this.getSizeData(scale);
        if (!size)
            return false;
        return size._Str_18284(posture);
    }
    gestureToAnimation(scale, gesture) {
        const size = this.getSizeData(scale);
        if (!size)
            return _data_PetSizeData__WEBPACK_IMPORTED_MODULE_1__["PetSizeData"].DEFAULT;
        return size.gestureToAnimation(gesture);
    }
    _Str_14207(scale, index, useDefault) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size._Str_14207(index, useDefault);
    }
    _Str_17844(scale, index) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size._Str_17844(index);
    }
    _Str_17976(scale, _arg_2) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size._Str_17976(_arg_2);
    }
    totalPostures(scale) {
        const size = this.getSizeData(scale);
        if (!size)
            return 0;
        return size.totalPostures;
    }
    totalGestures(scale) {
        const size = this.getSizeData(scale);
        if (!size)
            return 0;
        return size.totalGestures;
    }
    get isAllowedToTurnHead() {
        return this._isAllowedToTurnHead;
    }
}


/***/ }),

/***/ "XTHs":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/FurnitureAliasesParser.ts ***!
  \*************************************************************************************************/
/*! exports provided: FurnitureAliasesParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureAliasesParser", function() { return FurnitureAliasesParser; });
class FurnitureAliasesParser {
    flush() {
        this._aliases = new Map();
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalCount = wrapper.readInt();
        while (totalCount > 0) {
            this._aliases.set(wrapper.readString(), wrapper.readString());
            totalCount--;
        }
        return true;
    }
    get aliases() {
        return this._aliases;
    }
}


/***/ }),

/***/ "Xc8i":
/*!******************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureCreditLogic.ts ***!
  \******************************************************************************/
/*! exports provided: FurnitureCreditLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureCreditLogic", function() { return FurnitureCreditLogic; });
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");

class FurnitureCreditLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureLogic"] {
}


/***/ }),

/***/ "Xe1u":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/HighScoreDataType.ts ***!
  \*********************************************************************/
/*! exports provided: HighScoreDataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HighScoreDataType", function() { return HighScoreDataType; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectDataBase */ "MeCd");
/* harmony import */ var _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ObjectDataKey */ "KQk8");
/* harmony import */ var _HighScoreData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./HighScoreData */ "LUka");




class HighScoreDataType extends _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__["ObjectDataBase"] {
    constructor() {
        super();
        this._state = '';
        this._scoreType = -1;
        this._clearType = -1;
        this._entries = [];
    }
    parseWrapper(wrapper) {
        if (!wrapper)
            return;
        this._state = wrapper.readString();
        this._scoreType = wrapper.readInt();
        this._clearType = wrapper.readInt();
        let totalScores = wrapper.readInt();
        while (totalScores > 0) {
            const data = new _HighScoreData__WEBPACK_IMPORTED_MODULE_3__["HighScoreData"]();
            data.score = wrapper.readInt();
            let totalUsers = wrapper.readInt();
            while (totalUsers > 0) {
                data.addUsername(wrapper.readString());
                totalUsers--;
            }
            this._entries.push(data);
            totalScores--;
        }
        super.parseWrapper(wrapper);
    }
    initializeFromRoomObjectModel(model) {
        this._scoreType = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_SCORE_TYPE);
        this._clearType = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_CLEAR_TYPE);
        this._entries = [];
        let totalEntries = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT);
        let i = 0;
        while (i < totalEntries) {
            const data = new _HighScoreData__WEBPACK_IMPORTED_MODULE_3__["HighScoreData"]();
            data.score = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_ + i);
            data.users = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_ + i);
            this._entries.push(data);
            i++;
        }
        super.initializeFromRoomObjectModel(model);
    }
    writeRoomObjectModel(model) {
        super.writeRoomObjectModel(model);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA_FORMAT, HighScoreDataType.FORMAT_KEY);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_SCORE_TYPE, this._scoreType);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_CLEAR_TYPE, this._clearType);
        if (this._entries) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT, this._entries.length);
            let i = 0;
            while (i < this._entries.length) {
                const entry = this._entries[i];
                model.setValue((_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_ + i), entry.score);
                model.setValue((_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_ + i), entry.users);
                i++;
            }
        }
    }
    getLegacyString() {
        return this._state;
    }
}
HighScoreDataType.FORMAT_KEY = _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__["ObjectDataKey"].HIGHSCORE_KEY;


/***/ }),

/***/ "Xe8L":
/*!**********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/wall/FurnitureWallRemoveEvent.ts ***!
  \**********************************************************************************************************/
/*! exports provided: FurnitureWallRemoveEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallRemoveEvent", function() { return FurnitureWallRemoveEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_wall_FurnitureWallRemoveParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/furniture/wall/FurnitureWallRemoveParser */ "Ecq7");


class FurnitureWallRemoveEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_wall_FurnitureWallRemoveParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureWallRemoveParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "XjQ+":
/*!**********************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetChangeMottoMessage.ts ***!
  \**********************************************************************************/
/*! exports provided: RoomWidgetChangeMottoMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetChangeMottoMessage", function() { return RoomWidgetChangeMottoMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetChangeMottoMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(k) {
        super(RoomWidgetChangeMottoMessage.RWVM_CHANGE_MOTTO_MESSAGE);
        this._motto = k;
    }
    get motto() {
        return this._motto;
    }
}
RoomWidgetChangeMottoMessage.RWVM_CHANGE_MOTTO_MESSAGE = 'RWVM_CHANGE_MOTTO_MESSAGE';


/***/ }),

/***/ "Xmmk":
/*!****************************************!*\
  !*** ./src/client/room/RoomManager.ts ***!
  \****************************************/
/*! exports provided: RoomManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomManager", function() { return RoomManager; });
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/common/NitroManager */ "Fv14");
/* harmony import */ var _nitro_room_RoomContentLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../nitro/room/RoomContentLoader */ "ZQhZ");
/* harmony import */ var _events_RoomContentLoadedEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/RoomContentLoadedEvent */ "IGSi");
/* harmony import */ var _RoomInstance__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RoomInstance */ "83pK");
/* harmony import */ var _RoomObjectManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RoomObjectManager */ "DQM0");






class RoomManager extends _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_1__["NitroManager"] {
    constructor(listener, visualizationFactory, logicFactory) {
        super();
        this._state = RoomManager._Str_16443;
        this._rooms = new Map();
        this._contentLoader = null;
        this._updateCategories = [];
        this._listener = listener;
        this._visualizationFactory = visualizationFactory;
        this._logicFactory = logicFactory;
        this._initialLoadList = [];
        this._pendingContentTypes = [];
        this._skipContentProcessing = false;
        this._disposed = false;
        this.events.addEventListener(_events_RoomContentLoadedEvent__WEBPACK_IMPORTED_MODULE_3__["RoomContentLoadedEvent"].RCLE_SUCCESS, this.onRoomContentLoadedEvent.bind(this));
        this.events.addEventListener(_events_RoomContentLoadedEvent__WEBPACK_IMPORTED_MODULE_3__["RoomContentLoadedEvent"].RCLE_FAILURE, this.onRoomContentLoadedEvent.bind(this));
        this.events.addEventListener(_events_RoomContentLoadedEvent__WEBPACK_IMPORTED_MODULE_3__["RoomContentLoadedEvent"].RCLE_CANCEL, this.onRoomContentLoadedEvent.bind(this));
    }
    onInit() {
        if (this._state >= RoomManager._Str_13904 || !this._contentLoader)
            return;
        const mandatoryLibraries = _nitro_room_RoomContentLoader__WEBPACK_IMPORTED_MODULE_2__["RoomContentLoader"].MANDATORY_LIBRARIES;
        for (let library of mandatoryLibraries) {
            if (!library)
                continue;
            if (this._initialLoadList.indexOf(library) === -1) {
                this._contentLoader.downloadAsset(library, this.events);
                this._initialLoadList.push(library);
            }
        }
        this._state = RoomManager._Str_13904;
    }
    getRoomInstance(roomId) {
        const existing = this._rooms.get(roomId);
        if (!existing)
            return null;
        return existing;
    }
    createRoomInstance(roomId) {
        if (this._rooms.get(roomId))
            return null;
        const instance = new _RoomInstance__WEBPACK_IMPORTED_MODULE_4__["RoomInstance"](roomId, this);
        this._rooms.set(instance.id, instance);
        if (this._updateCategories.length) {
            for (let category of this._updateCategories) {
                instance.addUpdateCategory(category);
            }
        }
        return instance;
    }
    removeRoomInstance(roomId) {
        const existing = this._rooms.get(roomId);
        if (!existing)
            return false;
        this._rooms.delete(roomId);
        existing.dispose();
        return true;
    }
    createRoomObjectAndInitalize(roomId, objectId, type, category) {
        const instance = this.getRoomInstance(roomId);
        if (!instance)
            return null;
        let visualization = type;
        let logic = type;
        let assetName = type;
        let asset = null;
        let isLoading = false;
        if (this._contentLoader.isLoaderType(type)) {
            asset = this._contentLoader.getCollection(type);
            if (!asset) {
                isLoading = true;
                this._contentLoader.downloadAsset(type, this.events);
                assetName = this._contentLoader.getPlaceholderName(type);
                asset = this._contentLoader.getCollection(assetName);
                if (!asset)
                    return null;
            }
            visualization = asset.data.visualizationType;
            logic = asset.data.logicType;
        }
        const object = instance.createRoomObject(objectId, 1, type, category);
        if (!object)
            return null;
        if (this._visualizationFactory) {
            const visualizationInstance = this._visualizationFactory.getVisualization(visualization);
            if (!visualizationInstance) {
                instance.removeRoomObject(objectId, category);
                return null;
            }
            visualizationInstance.asset = asset;
            const visualizationData = this._visualizationFactory.getVisualizationData(assetName, visualization, ((asset && asset.data) || null));
            if (!visualizationData || !visualizationInstance.initialize(visualizationData)) {
                instance.removeRoomObject(objectId, category);
                return null;
            }
            object.setVisualization(visualizationInstance);
        }
        if (this._logicFactory) {
            const logicInstance = this._logicFactory.getLogic(logic);
            object.setLogic(logicInstance);
            if (logicInstance) {
                logicInstance.initialize((asset && asset.data) || null);
            }
        }
        if (!isLoading)
            object.isReady = true;
        this._contentLoader.setRoomObjectRoomId(object, roomId);
        return object;
    }
    reinitializeRoomObjectsByType(type) {
        if (!type || !this._contentLoader || !this._visualizationFactory || !this._logicFactory)
            return;
        const asset = this._contentLoader.getCollection(type);
        if (!asset)
            return;
        const visualization = asset.data.visualizationType;
        const logic = asset.data.logicType;
        const visualizationData = this._visualizationFactory.getVisualizationData(type, visualization, asset.data);
        for (let room of this._rooms.values()) {
            if (!room)
                continue;
            for (let [category, manager] of room.managers.entries()) {
                if (!manager)
                    continue;
                for (let object of manager.objects.getValues()) {
                    if (!object || object.type !== type)
                        continue;
                    const visualizationInstance = this._visualizationFactory.getVisualization(visualization);
                    if (visualizationInstance) {
                        visualizationInstance.asset = asset;
                        if (!visualizationData || !visualizationInstance.initialize(visualizationData)) {
                            manager.removeObject(object.id);
                        }
                        else {
                            object.setVisualization(visualizationInstance);
                            const logicInstance = this._logicFactory.getLogic(logic);
                            object.setLogic(logicInstance);
                            if (logicInstance) {
                                logicInstance.initialize(asset.data);
                            }
                            object.isReady = true;
                            if (this._listener)
                                this._listener.objectInitialized(room.id, object.id, category);
                        }
                    }
                    else {
                        manager.removeObject(object.id);
                    }
                }
            }
        }
    }
    addUpdateCategory(category) {
        const index = this._updateCategories.indexOf(category);
        if (index >= 0)
            return;
        this._updateCategories.push(category);
        if (!this._rooms.size)
            return;
        for (let room of this._rooms.values()) {
            if (!room)
                continue;
            room.addUpdateCategory(category);
        }
    }
    removeUpdateCategory(category) {
        const index = this._updateCategories.indexOf(category);
        if (index === -1)
            return;
        this._updateCategories.splice(index, 1);
        if (!this._rooms.size)
            return;
        for (let room of this._rooms.values()) {
            if (!room)
                continue;
            room.removeUpdateCategory(category);
        }
    }
    setContentLoader(loader) {
        if (this._contentLoader)
            this._contentLoader.dispose();
        this._contentLoader = loader;
    }
    processPendingContentTypes(time) {
        if (this._skipContentProcessing) {
            this._skipContentProcessing = false;
            return;
        }
        while (this._pendingContentTypes.length) {
            const type = this._pendingContentTypes.shift();
            const collection = this._contentLoader.getCollection(type);
            if (!collection) {
                if (this._listener) {
                    this._listener.initalizeTemporaryObjectsByType(type, false);
                }
                _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log(`Invalid Collection: ${type}`);
                continue;
            }
            this.reinitializeRoomObjectsByType(type);
            if (this._listener)
                this._listener.initalizeTemporaryObjectsByType(type, true);
            if (this._initialLoadList.length > 0)
                this.removeFromInitialLoad(type);
        }
    }
    removeFromInitialLoad(type) {
        if (!type || this._state === RoomManager._Str_9994)
            return;
        if (!this._contentLoader)
            this._state = RoomManager._Str_9994;
        if (this._contentLoader.getCollection(type)) {
            const i = this._initialLoadList.indexOf(type);
            if (i >= 0)
                this._initialLoadList.splice(i, 1);
            if (!this._initialLoadList.length) {
                this._state = RoomManager._Str_9846;
                if (this._listener)
                    this._listener.onRoomEngineInitalized(true);
            }
        }
        else {
            this._state = RoomManager._Str_9994;
            if (this._listener)
                this._listener.onRoomEngineInitalized(false);
        }
    }
    onRoomContentLoadedEvent(event) {
        if (!this._contentLoader)
            return;
        const contentType = event.contentType;
        if (this._pendingContentTypes.indexOf(contentType) >= 0)
            return;
        this._pendingContentTypes.push(contentType);
    }
    update(time) {
        this.processPendingContentTypes(time);
        if (!this._rooms.size)
            return;
        for (let room of this._rooms.values())
            room && room.update(time);
    }
    createRoomObjectManager(category) {
        return new _RoomObjectManager__WEBPACK_IMPORTED_MODULE_5__["RoomObjectManager"]();
    }
    get rooms() {
        return this._rooms;
    }
    get disposed() {
        return this._disposed;
    }
}
RoomManager._Str_9994 = -1;
RoomManager._Str_16337 = 0;
RoomManager._Str_16443 = 1;
RoomManager._Str_13904 = 2;
RoomManager._Str_9846 = 3;
RoomManager._Str_18280 = 40;


/***/ }),

/***/ "XpxF":
/*!********************************************************!*\
  !*** ./src/client/nitro/avatar/AvatarRenderManager.ts ***!
  \********************************************************/
/*! exports provided: AvatarRenderManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarRenderManager", function() { return AvatarRenderManager; });
/* harmony import */ var xml2js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! xml2js */ "CDzl");
/* harmony import */ var xml2js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(xml2js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/common/NitroManager */ "Fv14");
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/events/NitroEvent */ "3r1x");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Nitro */ "P7Cj");
/* harmony import */ var _alias_AssetAliasCollection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./alias/AssetAliasCollection */ "tuiI");
/* harmony import */ var _AvatarAssetDownloadManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AvatarAssetDownloadManager */ "IcRi");
/* harmony import */ var _AvatarFigureContainer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AvatarFigureContainer */ "/niJ");
/* harmony import */ var _AvatarImage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AvatarImage */ "8cFD");
/* harmony import */ var _AvatarStructure__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AvatarStructure */ "Onn/");
/* harmony import */ var _data_HabboAvatarAnimations_json__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./data/HabboAvatarAnimations.json */ "yp5t");
var _data_HabboAvatarAnimations_json__WEBPACK_IMPORTED_MODULE_10___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./data/HabboAvatarAnimations.json */ "yp5t", 1);
/* harmony import */ var _data_HabboAvatarGeometry_json__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./data/HabboAvatarGeometry.json */ "JY8D");
var _data_HabboAvatarGeometry_json__WEBPACK_IMPORTED_MODULE_11___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./data/HabboAvatarGeometry.json */ "JY8D", 1);
/* harmony import */ var _data_HabboAvatarPartSets_json__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./data/HabboAvatarPartSets.json */ "LPTP");
var _data_HabboAvatarPartSets_json__WEBPACK_IMPORTED_MODULE_12___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./data/HabboAvatarPartSets.json */ "LPTP", 1);
/* harmony import */ var _EffectAssetDownloadManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./EffectAssetDownloadManager */ "EjjF");
/* harmony import */ var _events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./events/AvatarRenderEvent */ "qEDl");
/* harmony import */ var _PlaceHolderAvatarImage__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./PlaceHolderAvatarImage */ "u1l8");
/* harmony import */ var _structure_AvatarStructureDownload__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./structure/AvatarStructureDownload */ "eX4B");

















class AvatarRenderManager extends _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_1__["NitroManager"] {
    constructor() {
        super();
        this._structure = null;
        this._avatarAssetDownloadManager = null;
        this._placeHolderFigure = null;
        this._figureMapReady = false;
        this._effectMapReady = false;
        this._actionsReady = false;
        this._geometryReady = false;
        this._partSetsReady = false;
        this._animationsReady = false;
        this._isReady = false;
    }
    onInit() {
        this._structure = new _AvatarStructure__WEBPACK_IMPORTED_MODULE_9__["AvatarStructure"](this);
        this.loadGeometry();
        this.loadPartSets();
        this.loadActions();
        this.loadAnimations();
        this.loadFigureData();
        this._aliasCollection = new _alias_AssetAliasCollection__WEBPACK_IMPORTED_MODULE_5__["AssetAliasCollection"](this, _Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.core.asset);
        this._aliasCollection.init();
        if (!this._avatarAssetDownloadManager) {
            this._avatarAssetDownloadManager = new _AvatarAssetDownloadManager__WEBPACK_IMPORTED_MODULE_6__["AvatarAssetDownloadManager"](_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.core.asset, this._structure);
            this._avatarAssetDownloadManager.addEventListener(_AvatarAssetDownloadManager__WEBPACK_IMPORTED_MODULE_6__["AvatarAssetDownloadManager"].DOWNLOADER_READY, this.onAvatarAssetDownloaderReady.bind(this));
            this._avatarAssetDownloadManager.addEventListener(_AvatarAssetDownloadManager__WEBPACK_IMPORTED_MODULE_6__["AvatarAssetDownloadManager"].LIBRARY_LOADED, this.onAvatarAssetDownloaded.bind(this));
        }
        if (!this._effectAssetDownloadManager) {
            this._effectAssetDownloadManager = new _EffectAssetDownloadManager__WEBPACK_IMPORTED_MODULE_13__["EffectAssetDownloadManager"](_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.core.asset, this._structure);
            this._effectAssetDownloadManager.addEventListener(_EffectAssetDownloadManager__WEBPACK_IMPORTED_MODULE_13__["EffectAssetDownloadManager"].DOWNLOADER_READY, this.onEffectAssetDownloaderReady.bind(this));
            this._effectAssetDownloadManager.addEventListener(_EffectAssetDownloadManager__WEBPACK_IMPORTED_MODULE_13__["EffectAssetDownloadManager"].LIBRARY_LOADED, this.onEffectAssetDownloaded.bind(this));
        }
        this.checkReady();
    }
    onDispose() {
        if (this._avatarAssetDownloadManager) {
            this._avatarAssetDownloadManager.removeEventListener(_AvatarAssetDownloadManager__WEBPACK_IMPORTED_MODULE_6__["AvatarAssetDownloadManager"].DOWNLOADER_READY, this.onAvatarAssetDownloaderReady.bind(this));
            this._avatarAssetDownloadManager.removeEventListener(_AvatarAssetDownloadManager__WEBPACK_IMPORTED_MODULE_6__["AvatarAssetDownloadManager"].LIBRARY_LOADED, this.onAvatarAssetDownloaded.bind(this));
        }
        if (this._effectAssetDownloadManager) {
            this._effectAssetDownloadManager.removeEventListener(_EffectAssetDownloadManager__WEBPACK_IMPORTED_MODULE_13__["EffectAssetDownloadManager"].DOWNLOADER_READY, this.onEffectAssetDownloaderReady.bind(this));
            this._effectAssetDownloadManager.removeEventListener(_EffectAssetDownloadManager__WEBPACK_IMPORTED_MODULE_13__["EffectAssetDownloadManager"].LIBRARY_LOADED, this.onEffectAssetDownloaded.bind(this));
        }
    }
    loadGeometry() {
        if (!this._structure)
            return;
        this._structure._Str_1825(_data_HabboAvatarGeometry_json__WEBPACK_IMPORTED_MODULE_11__["geometry"]);
        this._geometryReady = true;
        this.checkReady();
    }
    loadPartSets() {
        if (!this._structure)
            return;
        this._structure._Str_1296(_data_HabboAvatarPartSets_json__WEBPACK_IMPORTED_MODULE_12__["partSets"]);
        this._partSetsReady = true;
        this.checkReady();
    }
    loadActions() {
        const defaultActions = _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].AVATAR_DEFAULT_ACTIONS;
        if (defaultActions)
            this._structure._Str_1060(_Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.core.asset, defaultActions);
        const request = new XMLHttpRequest();
        try {
            request.open('GET', _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].AVATAR_ACTIONS_URL);
            request.send();
            request.onloadend = e => {
                if (!this._structure)
                    return;
                this._structure._Str_1620(JSON.parse(request.responseText));
                this._actionsReady = true;
                this.checkReady();
            };
            request.onerror = e => { throw new Error('invalid_avatar_actions'); };
        }
        catch (e) {
            this.logger.error(e);
        }
    }
    loadAnimations() {
        if (!this._structure)
            return;
        this._structure._Str_2229(_data_HabboAvatarAnimations_json__WEBPACK_IMPORTED_MODULE_10__["animations"]);
        this._animationsReady = true;
        this.checkReady();
    }
    loadFigureData() {
        const defaultFigureData = _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].AVATAR_DEFAULT_FIGUREDATA;
        if (defaultFigureData) {
            const parser = new xml2js__WEBPACK_IMPORTED_MODULE_0__["Parser"]();
            parser.parseString(defaultFigureData, (err, results) => {
                if (err || !results || !results.figuredata)
                    throw new Error('invalid_default_figure_data');
                if (this._structure)
                    this._structure._Str_1569(results.figuredata);
            });
        }
        const structureDownloader = new _structure_AvatarStructureDownload__WEBPACK_IMPORTED_MODULE_16__["AvatarStructureDownload"](_NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].AVATAR_FIGUREDATA_URL, this._structure.figureData);
        structureDownloader.addEventListener(_structure_AvatarStructureDownload__WEBPACK_IMPORTED_MODULE_16__["AvatarStructureDownload"].AVATAR_STRUCTURE_DONE, this.onAvatarStructureDownloadDone.bind(this));
    }
    onAvatarStructureDownloadDone(event) {
        this._structureReady = true;
        this._structure.init();
        this.checkReady();
    }
    onAvatarAssetDownloaderReady(event) {
        if (!event)
            return;
        this._figureMapReady = true;
        this.checkReady();
    }
    onAvatarAssetDownloaded(event) {
        if (!event)
            return;
        this._aliasCollection.reset();
    }
    onEffectAssetDownloaderReady(event) {
        if (!event)
            return;
        this._effectMapReady = true;
        this.checkReady();
    }
    onEffectAssetDownloaded(event) {
        if (!event)
            return;
        this._aliasCollection.reset();
    }
    checkReady() {
        if (this._isReady)
            return;
        if (!this._geometryReady || !this._partSetsReady || !this._actionsReady || !this._animationsReady || !this._figureMapReady || !this._effectMapReady || !this._structureReady)
            return;
        this._isReady = true;
        if (this.events)
            this.events.dispatchEvent(new _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_2__["NitroEvent"](_events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_14__["AvatarRenderEvent"].AVATAR_RENDER_READY));
    }
    createAvatarImage(figure, size, gender, listener = null, effectListener = null) {
        if (!this._structure || !this._avatarAssetDownloadManager)
            return null;
        const figureContainer = new _AvatarFigureContainer__WEBPACK_IMPORTED_MODULE_7__["AvatarFigureContainer"](figure);
        if (gender)
            this.validateAvatarFigure(figureContainer, gender);
        if (this._avatarAssetDownloadManager.isAvatarFigureContainerReady(figureContainer)) {
            return new _AvatarImage__WEBPACK_IMPORTED_MODULE_8__["AvatarImage"](this._structure, this._aliasCollection, figureContainer, size, this._effectAssetDownloadManager, effectListener);
        }
        if (!this._placeHolderFigure)
            this._placeHolderFigure = new _AvatarFigureContainer__WEBPACK_IMPORTED_MODULE_7__["AvatarFigureContainer"](AvatarRenderManager.DEFAULT_FIGURE);
        this._avatarAssetDownloadManager.downloadAvatarFigure(figureContainer, listener);
        return new _PlaceHolderAvatarImage__WEBPACK_IMPORTED_MODULE_15__["PlaceHolderAvatarImage"](this._structure, this._aliasCollection, this._placeHolderFigure, size, this._effectAssetDownloadManager);
    }
    downloadAvatarFigure(container, listener) {
        if (!this._avatarAssetDownloadManager)
            return;
        this._avatarAssetDownloadManager.downloadAvatarFigure(container, listener);
    }
    validateAvatarFigure(container, gender) {
        let isValid = false;
        const typeIds = this._structure._Str_1733(gender, 2);
        if (typeIds) {
            const figureData = this._structure.figureData;
            for (let id of typeIds) {
                if (!container._Str_744(id)) {
                    const figurePartSet = this._structure._Str_2264(id, gender);
                    if (figurePartSet) {
                        container._Str_830(id, figurePartSet.id, [0]);
                        isValid = true;
                    }
                }
                else {
                    const setType = figureData._Str_740(id);
                    if (setType) {
                        const figurePartSet = setType._Str_1020(container.getPartSetId(id));
                        if (!figurePartSet) {
                            const partSet = this._structure._Str_2264(id, gender);
                            if (partSet) {
                                container._Str_830(id, partSet.id, [0]);
                                isValid = true;
                            }
                        }
                    }
                }
            }
        }
        return !(isValid);
    }
    getAssetByName(name) {
        return this._aliasCollection.getAsset(name);
    }
    get assets() {
        return _Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.core.asset;
    }
    get isReady() {
        return this._isReady;
    }
    get structure() {
        return this._structure;
    }
    get structureData() {
        if (this._structure)
            return this._structure.figureData;
        return null;
    }
    get downloadManager() {
        return this._avatarAssetDownloadManager;
    }
}
AvatarRenderManager.DEFAULT_FIGURE = 'hd-99999-99999';


/***/ }),

/***/ "Xr/m":
/*!*********************************************************!*\
  !*** ./src/client/core/common/disposable/Disposable.ts ***!
  \*********************************************************/
/*! exports provided: Disposable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Disposable", function() { return Disposable; });
class Disposable {
    constructor() {
        this._isDisposed = false;
        this._isDisposing = false;
    }
    dispose() {
        if (this._isDisposed || this._isDisposing)
            return;
        this._isDisposing = true;
        this.onDispose();
        this._isDisposed = true;
        this._isDisposing = false;
    }
    onDispose() {
        return;
    }
    get disposed() {
        return this._isDisposed;
    }
    get isDisposing() {
        return this._isDisposing;
    }
}


/***/ }),

/***/ "Y2sV":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurniturePlanetSystemVisualization.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurniturePlanetSystemVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePlanetSystemVisualization", function() { return FurniturePlanetSystemVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurniturePlanetSystemVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
}


/***/ }),

/***/ "YBQe":
/*!**************************************************!*\
  !*** ./src/client/nitro/window/motion/Motion.ts ***!
  \**************************************************/
/*! exports provided: Motion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Motion", function() { return Motion; });
class Motion {
    constructor(target) {
        this._complete = true;
        this._target = target;
    }
    get running() {
        return ((this._running) && (!!this._target));
    }
    get complete() {
        return this._complete;
    }
    set target(k) {
        this._target = k;
    }
    get target() {
        return this._target;
    }
    set tag(k) {
        this._tag = k;
    }
    get tag() {
        return this._tag;
    }
    start() {
        this._running = true;
    }
    update(k) {
    }
    stop() {
        this._target = null;
        this._running = false;
    }
    tick(k) {
    }
}


/***/ }),

/***/ "YT1U":
/*!*************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/figure/Palette.ts ***!
  \*************************************************************/
/*! exports provided: Palette */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Palette", function() { return Palette; });
/* harmony import */ var _PartColor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PartColor */ "sAC4");

class Palette {
    constructor(data) {
        if (!data)
            throw new Error('invalid_data');
        this._id = parseInt(data['$'].id);
        this._colors = new Map();
        this._Str_2015(data);
    }
    _Str_2015(data) {
        for (let color of data.color) {
            const newColor = new _PartColor__WEBPACK_IMPORTED_MODULE_0__["PartColor"](color);
            this._colors.set(color['$'].id.toString(), newColor);
        }
    }
    _Str_751(id) {
        if ((id === undefined) || id < 0)
            return null;
        return (this._colors.get(id.toString()) || null);
    }
    get id() {
        return this._id;
    }
    get colors() {
        return this._colors;
    }
}


/***/ }),

/***/ "YWyz":
/*!***************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/AnimationFrame.ts ***!
  \***************************************************************************/
/*! exports provided: AnimationFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrame", function() { return AnimationFrame; });
class AnimationFrame {
    static allocate(id, x, y, repeats, frameRepeats, isLastFrame, activeSequence = -1, sequenceOffset = 0) {
        const frame = (AnimationFrame.POOL.length) ? AnimationFrame.POOL.pop() : new AnimationFrame();
        if (repeats < 1)
            repeats = 1;
        if (frameRepeats < 0)
            frameRepeats = AnimationFrame.FRAME_REPEAT_FOREVER;
        frame._id = id;
        frame._x = x || 0;
        frame._y = y || 0;
        frame._repeats = repeats;
        frame._frameRepeats = frameRepeats;
        frame._remainingFrameRepeats = frameRepeats;
        frame._isLastFrame = isLastFrame;
        frame._isRecycled = false;
        if (activeSequence >= 0) {
            frame._activeSequence = activeSequence;
            frame._activeSequenceOffset = sequenceOffset;
        }
        else {
            frame._activeSequence = -1;
            frame._activeSequenceOffset = 0;
        }
        return frame;
    }
    get id() {
        if (this._id >= 0)
            return this._id;
        return -(this._id) * Math.random();
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get repeats() {
        return this._repeats;
    }
    get frameRepeats() {
        return this._frameRepeats;
    }
    get isLastFrame() {
        return this._isLastFrame;
    }
    get remainingFrameRepeats() {
        if (this._frameRepeats < 0)
            return AnimationFrame.FRAME_REPEAT_FOREVER;
        return this._remainingFrameRepeats;
    }
    set remainingFrameRepeats(k) {
        if (k < 0)
            k = 0;
        if ((this._frameRepeats > 0) && (k > this._frameRepeats))
            k = this._frameRepeats;
        this._remainingFrameRepeats = k;
    }
    get activeSequence() {
        return this._activeSequence;
    }
    get activeSequenceOffset() {
        return this._activeSequenceOffset;
    }
    recycle() {
        if (this._isRecycled)
            return;
        this._isRecycled = true;
        if (AnimationFrame.POOL.length < AnimationFrame.POOL_SIZE_LIMIT)
            AnimationFrame.POOL.push(this);
    }
}
AnimationFrame.FRAME_REPEAT_FOREVER = -1;
AnimationFrame.SEQUENCE_NOT_DEFINED = -1;
AnimationFrame.POOL_SIZE_LIMIT = 3000;
AnimationFrame.POOL = [];


/***/ }),

/***/ "YaHj":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/WallRasterizer.ts ***!
  \********************************************************************************************/
/*! exports provided: WallRasterizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WallRasterizer", function() { return WallRasterizer; });
/* harmony import */ var _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/PlaneBitmapData */ "I7q/");
/* harmony import */ var _PlaneRasterizer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PlaneRasterizer */ "3fb7");
/* harmony import */ var _WallPlane__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WallPlane */ "ch59");



class WallRasterizer extends _PlaneRasterizer__WEBPACK_IMPORTED_MODULE_1__["PlaneRasterizer"] {
    initializePlanes() {
        if (!this.data)
            return;
        const walls = this.data.walls;
        if (walls && walls.length)
            this._Str_24495(walls);
    }
    _Str_24495(k) {
        if (!k)
            return;
        for (let wallIndex in k) {
            const wall = k[wallIndex];
            if (!wall)
                continue;
            const id = wall.id;
            const visualization = wall.visualizations;
            const plane = new _WallPlane__WEBPACK_IMPORTED_MODULE_2__["WallPlane"]();
            this._Str_9137(plane, visualization);
            if (!this._Str_3453(id, plane))
                plane.dispose();
        }
    }
    render(canvas, id, width, height, scale, normal, useTexture, offsetX = 0, offsetY = 0, maxX = 0, maxY = 0, timeSinceStartMs = 0) {
        let plane = this._Str_3491(id);
        if (!plane)
            plane = this._Str_3491(_PlaneRasterizer__WEBPACK_IMPORTED_MODULE_1__["PlaneRasterizer"].DEFAULT);
        if (!plane)
            return null;
        if (canvas) {
            const rectangle = canvas.getBounds();
            canvas.clear();
            canvas.drawRect(rectangle.x, rectangle.y, rectangle.width, rectangle.height);
        }
        let graphic = plane.render(canvas, width, height, scale, normal, useTexture);
        if (graphic && (graphic !== canvas)) {
            graphic = graphic.clone();
            if (!graphic)
                return null;
        }
        return new _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_0__["PlaneBitmapData"](graphic, -1);
    }
    getTextureIdentifier(k, _arg_2) {
        if (_arg_2) {
            return `${k}_${_arg_2.x}_${_arg_2.y}_${_arg_2.z}`;
        }
        return super.getTextureIdentifier(k, _arg_2);
    }
}


/***/ }),

/***/ "YgkC":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/user/data/UserHomeRoomComposer.ts ***!
  \********************************************************************************************/
/*! exports provided: UserHomeRoomComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserHomeRoomComposer", function() { return UserHomeRoomComposer; });
class UserHomeRoomComposer {
    constructor(roomId) {
        this._data = [roomId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "YmDv":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallParser.ts ***!
  \***************************************************************************************************/
/*! exports provided: FurnitureWallParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallParser", function() { return FurnitureWallParser; });
/* harmony import */ var _FurnitureWallDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureWallDataParser */ "1+1A");

class FurnitureWallParser {
    flush() {
        this._owners = new Map();
        this._items = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        if (!this.parseOwners(wrapper))
            return false;
        let totalItems = wrapper.readInt();
        while (totalItems > 0) {
            const item = new _FurnitureWallDataParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureWallDataParser"](wrapper);
            if (!item)
                continue;
            const username = this._owners.get(item.userId);
            if (username)
                item.username = username;
            this._items.push(item);
            totalItems--;
        }
        return true;
    }
    parseOwners(wrapper) {
        if (!wrapper)
            return false;
        let totalOwners = wrapper.readInt();
        while (totalOwners > 0) {
            this._owners.set(wrapper.readInt(), wrapper.readString());
            totalOwners--;
        }
        return true;
    }
    get owners() {
        return this._owners;
    }
    get items() {
        return this._items;
    }
}


/***/ }),

/***/ "YwNY":
/*!*******************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarExperienceUpdateMessage.ts ***!
  \*******************************************************************************/
/*! exports provided: ObjectAvatarExperienceUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarExperienceUpdateMessage", function() { return ObjectAvatarExperienceUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarExperienceUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(amount) {
        super();
        this._gainedExperience = amount;
    }
    get gainedExperience() {
        return this._gainedExperience;
    }
}


/***/ }),

/***/ "Yx/o":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitExpressionEvent.ts ***!
  \***********************************************************************************************/
/*! exports provided: RoomUnitExpressionEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitExpressionEvent", function() { return RoomUnitExpressionEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitExpressionParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitExpressionParser */ "ZdSI");


class RoomUnitExpressionEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitExpressionParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitExpressionParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "YyQJ":
/*!******************************************************!*\
  !*** ./src/client/nitro/room/utils/FurnitureData.ts ***!
  \******************************************************/
/*! exports provided: FurnitureData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureData", function() { return FurnitureData; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");

class FurnitureData {
    constructor(id, typeId, type, location, direction, state, objectData, extra = NaN, expires = -1, usagePolicy = 0, ownerId = 0, ownerName = '', synchronized = true, realRoomObject = true, sizeZ = -1) {
        this._id = id;
        this._typeId = typeId;
        this._type = type;
        this._state = state;
        this._data = objectData;
        this._extra = extra;
        this._expiryTime = expires;
        this._usagePolicy = usagePolicy;
        this._ownerId = ownerId;
        this._ownerName = ownerName;
        this._synchronized = synchronized;
        this._realRoomObject = realRoomObject;
        this._sizeZ = sizeZ;
        this._location = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._location.assign(location);
        this._direction.assign(direction);
    }
    get id() {
        return this._id;
    }
    get typeId() {
        return this._typeId;
    }
    get type() {
        return this._type;
    }
    get location() {
        return this._location;
    }
    get direction() {
        return this._direction;
    }
    get state() {
        return this._state;
    }
    get data() {
        return this._data;
    }
    get extra() {
        return this._extra;
    }
    get expiryTime() {
        return this._expiryTime;
    }
    get usagePolicy() {
        return this._usagePolicy;
    }
    get ownerId() {
        return this._ownerId;
    }
    get ownerName() {
        return this._ownerName;
    }
    get synchronized() {
        return this._synchronized;
    }
    get realRoomObject() {
        return this._realRoomObject;
    }
    get sizeZ() {
        return this._sizeZ;
    }
}


/***/ }),

/***/ "Z+Lj":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/utils/CatalogClubOfferData.ts ***!
  \**********************************************************************************************/
/*! exports provided: CatalogClubOfferData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogClubOfferData", function() { return CatalogClubOfferData; });
class CatalogClubOfferData {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._offerId = -1;
        this._productCode = null;
        this._priceCredits = 0;
        this._priceActivityPoints = 0;
        this._priceActivityPointsType = 0;
        this._vip = false;
        this._months = 0;
        this._extraDays = 0;
        this._daysLeftAfterPurchase = 0;
        this._year = 0;
        this._month = 0;
        this._day = 0;
        this._giftable = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._offerId = wrapper.readInt();
        this._productCode = wrapper.readString();
        wrapper.readBoolean();
        this._priceCredits = wrapper.readInt();
        this._priceActivityPoints = wrapper.readInt();
        this._priceActivityPointsType = wrapper.readInt();
        this._vip = wrapper.readBoolean();
        this._months = wrapper.readInt();
        this._extraDays = wrapper.readInt();
        this._giftable = wrapper.readBoolean();
        this._daysLeftAfterPurchase = wrapper.readInt();
        this._year = wrapper.readInt();
        this._month = wrapper.readInt();
        this._day = wrapper.readInt();
        return true;
    }
    get offerId() {
        return this._offerId;
    }
    get productCode() {
        return this._productCode;
    }
    get priceCredits() {
        return this._priceCredits;
    }
    get priceActivityPoints() {
        return this._priceActivityPoints;
    }
    get priceActivityPointsType() {
        return this._priceActivityPointsType;
    }
    get vip() {
        return this._vip;
    }
    get months() {
        return this._months;
    }
    get extraDays() {
        return this._extraDays;
    }
    get daysLeftAfterPurchase() {
        return this._daysLeftAfterPurchase;
    }
    get year() {
        return this._year;
    }
    get month() {
        return this._month;
    }
    get day() {
        return this._day;
    }
    get giftable() {
        return this._giftable;
    }
}


/***/ }),

/***/ "Z0XG":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/session/events/RoomSessionChatEvent.ts ***!
  \*****************************************************************/
/*! exports provided: RoomSessionChatEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSessionChatEvent", function() { return RoomSessionChatEvent; });
/* harmony import */ var _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomSessionEvent */ "Ns5P");

class RoomSessionChatEvent extends _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__["RoomSessionEvent"] {
    constructor(type, session, objectId, message, chatType, style = 0, links = null, extraParam = -1) {
        super(type, session);
        this._objectId = objectId;
        this._message = message;
        this._chatType = chatType;
        this._links = links;
        this._extraParam = extraParam;
        this._style = style;
    }
    get objectId() {
        return this._objectId;
    }
    get message() {
        return this._message;
    }
    get chatType() {
        return this._chatType;
    }
    get links() {
        return this._links;
    }
    get extraParam() {
        return this._extraParam;
    }
    get style() {
        return this._style;
    }
}
RoomSessionChatEvent.CHAT_EVENT = 'RSCE_CHAT_EVENT';
RoomSessionChatEvent.FLOOD_EVENT = 'RSCE_FLOOD_EVENT';
RoomSessionChatEvent.CHAT_NORMAL = 0;
RoomSessionChatEvent.CHAT_WHISPER = 1;
RoomSessionChatEvent.CHAT_SHOUT = 2;
RoomSessionChatEvent._Str_5821 = 3;
RoomSessionChatEvent._Str_6081 = 4;
RoomSessionChatEvent._Str_8971 = 5;
RoomSessionChatEvent._Str_5958 = 6;
RoomSessionChatEvent._Str_6065 = 7;
RoomSessionChatEvent._Str_5998 = 8;
RoomSessionChatEvent._Str_5904 = 9;
RoomSessionChatEvent._Str_8909 = 10;


/***/ }),

/***/ "ZCWo":
/*!**************************************************************!*\
  !*** ./src/client/nitro/avatar/geometry/GeometryBodyPart.ts ***!
  \**************************************************************/
/*! exports provided: GeometryBodyPart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeometryBodyPart", function() { return GeometryBodyPart; });
/* harmony import */ var _GeometryItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeometryItem */ "Cj+m");
/* harmony import */ var _Node3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Node3D */ "QVRr");


class GeometryBodyPart extends _Node3D__WEBPACK_IMPORTED_MODULE_1__["Node3D"] {
    constructor(k) {
        super(parseFloat(k.x), parseFloat(k.y), parseFloat(k.z));
        this._id = k.id;
        this._radius = parseFloat(k.radius);
        this._parts = new Map();
        this._dynamicParts = new Map();
        if (k.items && (k.items.length > 0)) {
            for (let item of k.items) {
                if (!item)
                    continue;
                const geometryItem = new _GeometryItem__WEBPACK_IMPORTED_MODULE_0__["GeometryItem"](item);
                this._parts.set(geometryItem.id, geometryItem);
            }
        }
    }
    _Str_1883(k) {
        const existing = this._dynamicParts.get(k);
        const parts = [];
        if (existing) {
            for (let index in existing) {
                const item = existing[index];
                if (!item)
                    continue;
                parts.push(item);
            }
        }
        return parts;
    }
    _Str_1456(k) {
        const ids = [];
        for (let part of this._parts.values()) {
            if (!part)
                continue;
            ids.push(part.id);
        }
        if (k) {
            const existing = this._dynamicParts.get(k);
            if (existing) {
                for (let index in existing) {
                    const part = existing[index];
                    if (!part)
                        continue;
                    ids.push(part.id);
                }
            }
        }
        return ids;
    }
    _Str_2004(k) {
        this._dynamicParts.delete(k);
        return true;
    }
    _Str_2020(k, _arg_2) {
        if (this._Str_2030(k.id, _arg_2))
            return false;
        let existing = this._dynamicParts.get(_arg_2);
        if (!existing) {
            existing = {};
            this._dynamicParts.set(_arg_2, existing);
        }
        existing[k.id] = new _GeometryItem__WEBPACK_IMPORTED_MODULE_0__["GeometryItem"](k, true);
        return true;
    }
    _Str_2030(k, _arg_2) {
        let existingPart = (this._parts.get(k) || null);
        if (!existingPart && (this._dynamicParts.get(_arg_2) !== undefined)) {
            existingPart = (this._dynamicParts.get(_arg_2)[k] || null);
        }
        return (existingPart !== null);
    }
    _Str_713(k, _arg_2, _arg_3, _arg_4) {
        const parts = [];
        for (let part of this._parts.values()) {
            if (!part)
                continue;
            part._Str_1101(k);
            parts.push([part._Str_1522(_arg_2), part]);
        }
        const existingDynamic = this._dynamicParts.get(_arg_4);
        if (existingDynamic) {
            for (let index in existingDynamic) {
                const part = existingDynamic[index];
                if (!part)
                    continue;
                part._Str_1101(k);
                parts.push([part._Str_1522(_arg_2), part]);
            }
        }
        parts.sort((a, b) => {
            const partA = a[0];
            const partB = b[0];
            if (partA < partB)
                return -1;
            if (partA > partB)
                return 1;
            return 0;
        });
        const partIds = [];
        for (let part of parts) {
            if (!part)
                continue;
            partIds.push(part[1].id);
        }
        return partIds;
    }
    _Str_1522(k) {
        const _local_2 = Math.abs(((k.z - this._Str_1604.z) - this._radius));
        const _local_3 = Math.abs(((k.z - this._Str_1604.z) + this._radius));
        return Math.min(_local_2, _local_3);
    }
    get id() {
        return this._id;
    }
    get radius() {
        return this._radius;
    }
}


/***/ }),

/***/ "ZH8Y":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureBBVisualization.ts ***!
  \******************************************************************************************/
/*! exports provided: FurnitureBBVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureBBVisualization", function() { return FurnitureBBVisualization; });
/* harmony import */ var _FurnitureBrandedImageVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureBrandedImageVisualization */ "Q0xv");

class FurnitureBBVisualization extends _FurnitureBrandedImageVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureBrandedImageVisualization"] {
    getLayerXOffset(scale, direction, layerId) {
        return super.getLayerXOffset(scale, direction, layerId) + this._offsetX;
    }
    getLayerYOffset(scale, direction, layerId) {
        return super.getLayerYOffset(scale, direction, layerId) + this._offsetY;
    }
    getLayerZOffset(scale, direction, layerId) {
        return super.getLayerZOffset(scale, direction, layerId) + this._offsetZ;
    }
}


/***/ }),

/***/ "ZMEG":
/*!*******************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/AnimationStateData.ts ***!
  \*******************************************************************************/
/*! exports provided: AnimationStateData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationStateData", function() { return AnimationStateData; });
/* harmony import */ var _AnimationFrame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationFrame */ "YWyz");

class AnimationStateData {
    constructor() {
        this._animationId = -1;
        this._animationAfterTransitionId = 0;
        this._animationOver = false;
        this._frameCounter = 0;
        this._frames = [];
        this._lastFramePlayed = [];
        this._animationPlayed = [];
        this._layerCount = 0;
    }
    get animationOver() {
        return this._animationOver;
    }
    set animationOver(k) {
        this._animationOver = k;
    }
    get frameCounter() {
        return this._frameCounter;
    }
    set frameCounter(k) {
        this._frameCounter = k;
    }
    get animationId() {
        return this._animationId;
    }
    set animationId(animationId) {
        if (animationId === this._animationId)
            return;
        this._animationId = animationId;
        this.resetAnimationFrames(false);
    }
    get animationAfterTransitionId() {
        return this._animationAfterTransitionId;
    }
    set animationAfterTransitionId(k) {
        this._animationAfterTransitionId = k;
    }
    dispose() {
        this.recycleFrames();
        this._frames = null;
        this._lastFramePlayed = null;
        this._animationPlayed = null;
    }
    setLayerCount(k) {
        this._layerCount = k;
        this.resetAnimationFrames();
    }
    resetAnimationFrames(k = true) {
        if (k || (!this._frames)) {
            this.recycleFrames();
            this._frames = [];
        }
        this._lastFramePlayed = [];
        this._animationPlayed = [];
        this._animationOver = false;
        this._frameCounter = 0;
        let layerId = 0;
        while (layerId < this._layerCount) {
            if (k || (this._frames.length <= layerId)) {
                this._frames[layerId] = null;
            }
            else {
                const frame = this._frames[layerId];
                if (frame) {
                    frame.recycle();
                    this._frames[layerId] = _AnimationFrame__WEBPACK_IMPORTED_MODULE_0__["AnimationFrame"].allocate(frame.id, frame.x, frame.y, frame.repeats, 0, frame.isLastFrame);
                }
            }
            this._lastFramePlayed[layerId] = false;
            this._animationPlayed[layerId] = false;
            layerId++;
        }
    }
    recycleFrames() {
        if (!this._frames || !this._frames.length)
            return;
        for (let frame of this._frames) {
            if (!frame)
                continue;
            frame.recycle();
        }
    }
    getFrame(layerId) {
        if ((layerId < 0) || (layerId >= this._layerCount))
            return null;
        return this._frames[layerId];
    }
    setFrame(layerId, frame) {
        if ((layerId < 0) || (layerId >= this._layerCount))
            return;
        const existingFrame = this._frames[layerId];
        if (existingFrame)
            existingFrame.recycle();
        this._frames[layerId] = frame;
    }
    getAnimationPlayed(layerId) {
        if ((layerId < 0) || (layerId >= this._layerCount))
            return true;
        return this._animationPlayed[layerId];
    }
    setAnimationPlayed(layerId, flag) {
        if ((layerId < 0) || (layerId >= this._layerCount))
            return;
        this._animationPlayed[layerId] = flag;
    }
    getLastFramePlayed(layerId) {
        if ((layerId < 0) || (layerId >= this._layerCount))
            return true;
        return this._lastFramePlayed[layerId];
    }
    setLastFramePlayed(layerId, flag) {
        if ((layerId < 0) || (layerId >= this._layerCount))
            return;
        this._lastFramePlayed[layerId] = flag;
    }
}


/***/ }),

/***/ "ZQhZ":
/*!****************************************************!*\
  !*** ./src/client/nitro/room/RoomContentLoader.ts ***!
  \****************************************************/
/*! exports provided: RoomContentLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomContentLoader", function() { return RoomContentLoader; });
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _room_events_RoomContentLoadedEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../room/events/RoomContentLoadedEvent */ "IGSi");
/* harmony import */ var _room_object_visualization_utils_GraphicAssetCollection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../room/object/visualization/utils/GraphicAssetCollection */ "auym");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Nitro */ "P7Cj");
/* harmony import */ var _session_furniture_FurnitureType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session/furniture/FurnitureType */ "z20u");
/* harmony import */ var _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./object/RoomObjectUserType */ "38Mq");
/* harmony import */ var _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _object_RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./object/RoomObjectVisualizationType */ "IqYK");









class RoomContentLoader {
    constructor() {
        this._stateEvents = null;
        this._sessionDataManager = null;
        this._waitingForSessionDataManager = false;
        this._iconListener = null;
        this._collections = new Map();
        this._images = new Map();
        this._events = new Map();
        this._activeObjects = {};
        this._activeObjectTypes = new Map();
        this._activeObjectTypeIds = new Map();
        this._objectTypeAdUrls = new Map();
        this._wallItems = {};
        this._wallItemTypes = new Map();
        this._wallItemTypeIds = new Map();
        this._pets = {};
        this._objectAliases = new Map();
        this._objectOriginalNames = new Map();
        this._pendingContentTypes = [];
    }
    initialize(events) {
        this._stateEvents = events;
        this.setFurnitureData();
        for (let [index, name] of _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].PET_TYPES.entries())
            this._pets[name] = index;
    }
    dispose() {
    }
    setSessionDataManager(sessionData) {
        this._sessionDataManager = sessionData;
        if (this._waitingForSessionDataManager) {
            this._waitingForSessionDataManager = false;
            this.setFurnitureData();
        }
    }
    loadFurnitureData() {
        this.setFurnitureData();
    }
    setFurnitureData() {
        if (!this._sessionDataManager) {
            this._waitingForSessionDataManager = true;
            return;
        }
        const furnitureData = this._sessionDataManager.getAllFurnitureData(this);
        if (!furnitureData)
            return;
        this._sessionDataManager.removePendingFurniDataListener(this);
        this.processFurnitureData(furnitureData);
    }
    processFurnitureData(furnitureData) {
        if (!furnitureData)
            return;
        for (let furniture of furnitureData) {
            if (!furniture)
                continue;
            const id = furniture.id;
            let name = furniture.className;
            let className = furniture.className;
            if (furniture.colorId)
                name = (name + '*' + furniture.colorId);
            const adUrl = furniture.adUrl;
            if (adUrl && adUrl.length > 0)
                this._objectTypeAdUrls.set(name, adUrl);
            if (furniture.type === _session_furniture_FurnitureType__WEBPACK_IMPORTED_MODULE_4__["FurnitureType"].FLOOR) {
                this._activeObjectTypes.set(id, name);
                this._activeObjectTypeIds.set(name, id);
                if (!this._activeObjects[className])
                    this._activeObjects[className] = 1;
            }
            else if (furniture.type === _session_furniture_FurnitureType__WEBPACK_IMPORTED_MODULE_4__["FurnitureType"].WALL) {
                if (name === 'post.it') {
                    name = 'post_it';
                    className = 'post_it';
                }
                if (name === 'post.it.vd') {
                    name = 'post_it_vd';
                    className = 'post_id_vd';
                }
                this._wallItemTypes.set(id, name);
                this._wallItemTypeIds.set(name, id);
                if (!this._wallItems[className])
                    this._wallItems[className] = 1;
            }
        }
    }
    getFurnitureFloorNameForTypeId(typeId) {
        const type = this._activeObjectTypes.get(typeId);
        return this.removeColorIndex(type);
    }
    getFurnitureWallNameForTypeId(typeId, extra = null) {
        let type = this._wallItemTypes.get(typeId);
        if ((type === 'poster') && (extra !== null))
            type = (type + extra);
        return this.removeColorIndex(type);
    }
    getFurnitureFloorColorIndex(typeId) {
        const type = this._activeObjectTypes.get(typeId);
        if (!type)
            return -1;
        return this.getColorIndexFromName(type);
    }
    getFurnitureWallColorIndex(typeId) {
        const type = this._wallItemTypes.get(typeId);
        if (!type)
            return -1;
        return this.getColorIndexFromName(type);
    }
    getColorIndexFromName(name) {
        if (!name)
            return -1;
        const index = name.indexOf('*');
        if (index === -1)
            return 0;
        return parseInt(name.substr(index + 1));
    }
    removeColorIndex(name) {
        if (!name)
            return null;
        const index = name.indexOf('*');
        if (index === -1)
            return name;
        return name.substr(0, index);
    }
    getCollection(name) {
        if (!name)
            return null;
        const existing = this._collections.get(name);
        if (!existing) {
            const globalCollection = _Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.core.asset.getCollection(name);
            if (globalCollection) {
                this._collections.set(name, globalCollection);
                return globalCollection;
            }
            return null;
        }
        return existing;
    }
    getImage(name) {
        if (!name)
            return null;
        const existing = this._images.get(name);
        if (!existing)
            return null;
        const image = new Image();
        image.src = existing.src;
        return image;
    }
    addAssetToCollection(collectionName, assetName, texture) {
        const collection = this.getCollection(collectionName);
        if (!collection)
            return false;
        return collection.addAsset(assetName, texture, true, 0, 0, false, false);
    }
    createCollection(data, spritesheet) {
        if (!data || !spritesheet)
            return null;
        const collection = new _room_object_visualization_utils_GraphicAssetCollection__WEBPACK_IMPORTED_MODULE_2__["GraphicAssetCollection"](data, spritesheet);
        this._collections.set(collection.name, collection);
    }
    getPlaceholderName(type) {
        if (this._activeObjects[type] !== undefined)
            return RoomContentLoader.PLACE_HOLDER;
        if (this._wallItems[type] !== undefined)
            return RoomContentLoader.PLACE_HOLDER_WALL;
        if (this._pets[type] !== undefined)
            return RoomContentLoader.PLACE_HOLDER_PET;
        return RoomContentLoader.PLACE_HOLDER_DEFAULT;
    }
    getCategoryForType(type) {
        if (!type)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].MINIMUM;
        if (this._activeObjects[type] !== undefined)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].FLOOR;
        if (this._wallItems[type] !== undefined)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].WALL;
        if (this._pets[type] !== undefined)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].UNIT;
        if (type.indexOf('poster') === 0)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].WALL;
        if (type === 'room')
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].ROOM;
        if (type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_6__["RoomObjectUserType"].USER)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].UNIT;
        if (type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_6__["RoomObjectUserType"].PET)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].UNIT;
        if (type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_6__["RoomObjectUserType"].BOT)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].UNIT;
        if (type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_6__["RoomObjectUserType"].RENTABLE_BOT)
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].UNIT;
        if (type === 'tile_cursor' || type === 'selection_arrow')
            return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].CURSOR;
        return _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].MINIMUM;
    }
    getPetNameForType(type) {
        return _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].PET_TYPES[type] || null;
    }
    isLoaderType(type) {
        type = _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_6__["RoomObjectUserType"].getRealType(type);
        if (type === _object_RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_8__["RoomObjectVisualizationType"].USER)
            return false;
        return true;
    }
    downloadImage(id, type, param, events = null) {
        let typeName = null;
        let assetUrls = [];
        if (type && (type.indexOf(',') >= 0)) {
            typeName = type;
            type = typeName.split(',')[0];
        }
        if (typeName) {
            assetUrls = this.getAssetUrls(typeName, param, true);
        }
        else {
            assetUrls = this.getAssetUrls(type, param, true);
        }
        if (assetUrls && assetUrls.length) {
            const url = assetUrls[0];
            const image = new Image();
            image.src = url;
            image.onload = () => {
                this._images.set(([type, param].join('_')), image);
                this._iconListener.onRoomContentLoaded(id, [type, param].join('_'), true);
            };
            image.onerror = () => {
                this._iconListener.onRoomContentLoaded(id, [type, param].join('_'), false);
            };
            return true;
        }
        return false;
    }
    downloadAsset(type, events) {
        const assetUrls = this.getAssetUrls(type);
        if (!assetUrls || !assetUrls.length)
            return false;
        if ((this._pendingContentTypes.indexOf(type) >= 0) || this.getOrRemoveEventDispatcher(type))
            return false;
        this._pendingContentTypes.push(type);
        this._events.set(type, events);
        let totalToDownload = assetUrls.length;
        let totalDownloaded = 0;
        const onDownloaded = (loader) => {
            totalDownloaded++;
            if (loader)
                loader.destroy();
            if (totalDownloaded === totalToDownload) {
                const events = this._events.get(type);
                if (!events)
                    return;
                events.dispatchEvent(new _room_events_RoomContentLoadedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomContentLoadedEvent"](_room_events_RoomContentLoadedEvent__WEBPACK_IMPORTED_MODULE_1__["RoomContentLoadedEvent"].RCLE_SUCCESS, type));
            }
        };
        for (let url of assetUrls) {
            if (!url)
                continue;
            const loader = new PIXI.Loader();
            const options = {
                crossOrigin: false
            };
            loader
                .use((resource, next) => this.assetLoader(loader, resource, next, onDownloaded))
                .add(assetUrls, options)
                .load();
        }
        return true;
    }
    assetLoader(loader, resource, next, onDownloaded) {
        if (!resource || resource.error)
            return next();
        if (resource.type === PIXI.LoaderResource.TYPE.JSON) {
            const assetData = resource.data;
            if (!assetData.type)
                return;
            if (assetData.spritesheet && Object.keys(assetData.spritesheet).length) {
                const imageUrl = (resource.url.substring(0, (resource.url.lastIndexOf('/') + 1)) + assetData.spritesheet.meta.image);
                if (!imageUrl)
                    return;
                const baseTexture = PIXI.BaseTexture.from(imageUrl);
                if (baseTexture.valid) {
                    const spritesheet = new PIXI.Spritesheet(baseTexture, assetData.spritesheet);
                    spritesheet.parse(textures => {
                        this.createCollection(assetData, spritesheet);
                        onDownloaded(loader);
                    });
                }
                else {
                    baseTexture.once('loaded', () => {
                        const spritesheet = new PIXI.Spritesheet(baseTexture, assetData.spritesheet);
                        spritesheet.parse(textures => {
                            this.createCollection(assetData, spritesheet);
                            onDownloaded(loader);
                        });
                    });
                }
                return;
            }
            this.createCollection(assetData, null);
            onDownloaded(loader);
            return;
        }
    }
    _Str_12966(name, originalName) {
        this._objectAliases.set(name, originalName);
        this._objectOriginalNames.set(originalName, name);
    }
    getAssetAliasName(name) {
        const existing = this._objectAliases.get(name);
        if (!existing)
            return name;
        return existing;
    }
    getAssetOriginalName(name) {
        const existing = this._objectOriginalNames.get(name);
        if (!existing)
            return name;
        return existing;
    }
    getAssetUrls(type, param = null, icon = false) {
        switch (type) {
            case RoomContentLoader.PLACE_HOLDER:
                return [this.getAssetUrlWithRoomBase('place_holder')];
            case RoomContentLoader.PLACE_HOLDER_WALL:
                return [this.getAssetUrlWithRoomBase('place_holder_wall')];
            case RoomContentLoader.PLACE_HOLDER_PET:
                return [this.getAssetUrlWithRoomBase('place_holder_pet')];
            case RoomContentLoader.ROOM:
                return [this.getAssetUrlWithRoomBase('room')];
            case RoomContentLoader.TILE_CURSOR:
                return [this.getAssetUrlWithRoomBase('tile_cursor')];
            case RoomContentLoader.SELECTION_ARROW:
                return [this.getAssetUrlWithRoomBase('selection_arrow')];
            default:
                const category = this.getCategoryForType(type);
                if ((category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].FLOOR) || (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].WALL)) {
                    if (icon) {
                        const name = this.getAssetAliasName(type);
                        let assetUrl = this.getAssetUrlWithFurniIconBase(name);
                        const active = (param && (param !== '') && (param !== '0') && (this._activeObjectTypeIds.get((name + '*' + param)) !== null));
                        assetUrl = (assetUrl.replace(/%param%/gi, (active ? ('_' + param) : '')));
                        return [assetUrl];
                    }
                    return [this.getAssetUrlWithFurniBase(type)];
                }
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_5__["RoomObjectCategory"].UNIT) {
                    return [this.getAssetUrlWithPetBase(type)];
                }
                return null;
        }
    }
    getAssetIconUrl(type, colorIndex) {
        let assetName = null;
        let assetUrls = [];
        if (type && (type.indexOf(',') >= 0)) {
            assetName = type;
            type = assetName.split(',')[0];
        }
        if (assetName) {
            assetUrls = this.getAssetUrls(assetName, colorIndex, true);
        }
        else {
            assetUrls = this.getAssetUrls(type, colorIndex, true);
        }
        if (assetUrls.length)
            return assetUrls[0];
        return null;
    }
    getAssetUrlWithRoomBase(assetName) {
        return (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].ROOM_ASSET_URL.replace(/%libname%/gi, assetName));
    }
    getAssetUrlWithFurniBase(assetName) {
        return (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].FURNI_ASSET_URL.replace(/%libname%/gi, assetName));
    }
    getAssetUrlWithFurniIconBase(assetName) {
        return (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].FURNI_ASSET_ICON_URL.replace(/%libname%/gi, assetName));
    }
    getAssetUrlWithPetBase(assetName) {
        return (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].PET_ASSET_URL.replace(/%libname%/gi, assetName));
    }
    setRoomObjectRoomId(object, roomId) {
        const model = object && object.model;
        if (!model)
            return;
        model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_7__["RoomObjectVariable"].OBJECT_ROOM_ID, roomId);
    }
    getOrRemoveEventDispatcher(type, remove = false) {
        const existing = this._events.get(type);
        if (remove)
            this._events.delete(type);
        return existing;
    }
    setIconListener(listener) {
        this._iconListener = listener;
    }
}
RoomContentLoader.PLACE_HOLDER = 'place_holder';
RoomContentLoader.PLACE_HOLDER_WALL = 'place_holder_wall';
RoomContentLoader.PLACE_HOLDER_PET = 'place_holder_pet';
RoomContentLoader.PLACE_HOLDER_DEFAULT = RoomContentLoader.PLACE_HOLDER;
RoomContentLoader.ROOM = 'room';
RoomContentLoader.TILE_CURSOR = 'tile_cursor';
RoomContentLoader.SELECTION_ARROW = 'selection_arrow';
RoomContentLoader.MANDATORY_LIBRARIES = [RoomContentLoader.PLACE_HOLDER, RoomContentLoader.PLACE_HOLDER_WALL, RoomContentLoader.PLACE_HOLDER_PET, RoomContentLoader.ROOM, RoomContentLoader.TILE_CURSOR];


/***/ }),

/***/ "ZT0H":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureGiftWrappedVisualization.ts ***!
  \***************************************************************************************************/
/*! exports provided: FurnitureGiftWrappedVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureGiftWrappedVisualization", function() { return FurnitureGiftWrappedVisualization; });
/* harmony import */ var _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureVisualization */ "vAq0");

class FurnitureGiftWrappedVisualization extends _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureVisualization"] {
}


/***/ }),

/***/ "Zc44":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/mapping/RoomPaintParser.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomPaintParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPaintParser", function() { return RoomPaintParser; });
class RoomPaintParser {
    flush() {
        this._floorType = null;
        this._wallType = null;
        this._landscapeType = null;
        this._landscapeAnimation = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        const type = wrapper.readString();
        const value = wrapper.readString();
        switch (type) {
            case 'floor':
                this._floorType = value;
                break;
            case 'wallpaper':
                this._wallType = value;
                break;
            case 'landscape':
                this._landscapeType = value;
                break;
            case 'landscapeanim':
                this._landscapeAnimation = value;
                break;
        }
        return true;
    }
    get floorType() {
        return this._floorType;
    }
    get wallType() {
        return this._wallType;
    }
    get landscapeType() {
        return this._landscapeType;
    }
    get landscapeAnimation() {
        return this._landscapeAnimation;
    }
}


/***/ }),

/***/ "ZdSI":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitExpressionParser.ts ***!
  \**********************************************************************************************/
/*! exports provided: RoomUnitExpressionParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitExpressionParser", function() { return RoomUnitExpressionParser; });
class RoomUnitExpressionParser {
    flush() {
        this._unitId = null;
        this._expression = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = wrapper.readInt();
        this._expression = wrapper.readInt();
        return true;
    }
    get unitId() {
        return this._unitId;
    }
    get expression() {
        return this._expression;
    }
}


/***/ }),

/***/ "Znue":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureCustomStackHeightLogic.ts ***!
  \*****************************************************************************************/
/*! exports provided: FurnitureCustomStackHeightLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureCustomStackHeightLogic", function() { return FurnitureCustomStackHeightLogic; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");


class FurnitureCustomStackHeightLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_1__["FurnitureLogic"] {
    initialize(asset) {
        super.initialize(asset);
        if (this.object && this.object.model)
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_ALWAYS_STACKABLE, 1);
    }
}


/***/ }),

/***/ "Zq74":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogPurchaseUnavailableEvent.ts ***!
  \*****************************************************************************************************/
/*! exports provided: CatalogPurchaseUnavailableEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseUnavailableEvent", function() { return CatalogPurchaseUnavailableEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogPurchaseUnavailableParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogPurchaseUnavailableParser */ "glfn");


class CatalogPurchaseUnavailableEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogPurchaseUnavailableParser__WEBPACK_IMPORTED_MODULE_1__["CatalogPurchaseUnavailableParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "Zx9K":
/*!***********************************************************!*\
  !*** ./src/client/nitro/avatar/structure/PartSetsData.ts ***!
  \***********************************************************/
/*! exports provided: PartSetsData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartSetsData", function() { return PartSetsData; });
/* harmony import */ var _parts_ActivePartSet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parts/ActivePartSet */ "8cm3");
/* harmony import */ var _parts_PartDefinition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parts/PartDefinition */ "pELD");


class PartSetsData {
    constructor() {
        this._parts = new Map();
        this._activePartSets = new Map();
    }
    parse(data) {
        if (data.partSet && (data.partSet.length > 0)) {
            for (let part of data.partSet) {
                if (!part)
                    continue;
                this._parts.set(part.setType, new _parts_PartDefinition__WEBPACK_IMPORTED_MODULE_1__["PartDefinition"](part));
            }
        }
        if (data.activePartSets && (data.activePartSets.length > 0)) {
            for (let activePart of data.activePartSets) {
                if (!activePart)
                    continue;
                this._activePartSets.set(activePart.id, new _parts_ActivePartSet__WEBPACK_IMPORTED_MODULE_0__["ActivePartSet"](activePart));
            }
        }
        return true;
    }
    _Str_1017(data) {
        if (data.partSet && (data.partSet.length > 0)) {
            for (let part of data.partSet) {
                if (!part)
                    continue;
                this._parts.set(part.setType, new _parts_PartDefinition__WEBPACK_IMPORTED_MODULE_1__["PartDefinition"](part));
            }
        }
        if (data.activePartSets && (data.activePartSets.length > 0)) {
            for (let activePart of data.activePartSets) {
                if (!activePart)
                    continue;
                this._activePartSets.set(activePart.id, new _parts_ActivePartSet__WEBPACK_IMPORTED_MODULE_0__["ActivePartSet"](activePart));
            }
        }
        return false;
    }
    _Str_1795(k) {
        const activePartSet = this._activePartSets.get(k.activePartSet);
        if (!activePartSet)
            return [];
        return activePartSet._Str_806;
    }
    _Str_1102(part) {
        const existing = this._parts.get(part);
        if (!existing)
            return null;
        return existing;
    }
    _Str_1520(k) {
        const _local_2 = k.setType;
        let existing = this._parts.get(_local_2);
        if (!existing) {
            existing = new _parts_PartDefinition__WEBPACK_IMPORTED_MODULE_1__["PartDefinition"](k);
            this._parts.set(_local_2, existing);
        }
        return existing;
    }
    _Str_1113(k) {
        const existing = this._activePartSets.get(k.activePartSet);
        if (!existing)
            return null;
        return existing;
    }
    get _Str_806() {
        return this._parts;
    }
    get _Str_1979() {
        return this._activePartSets;
    }
}


/***/ }),

/***/ "Zxrk":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/animated/LandscapePlane.ts ***!
  \***********************************************************************************************/
/*! exports provided: LandscapePlane */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LandscapePlane", function() { return LandscapePlane; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _basic_Plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/Plane */ "kSg6");


class LandscapePlane extends _basic_Plane__WEBPACK_IMPORTED_MODULE_1__["Plane"] {
    constructor() {
        super(...arguments);
        this._width = 0;
        this._height = 0;
    }
    isStatic(k) {
        const _local_2 = this._Str_6009(k);
        if (_local_2)
            return !(_local_2._Str_20530);
        return super.isStatic(k);
    }
    initializeDimensions(k, _arg_2) {
        if (k < 0)
            k = 0;
        if (_arg_2 < 0)
            _arg_2 = 0;
        if ((k !== this._width) || (_arg_2 !== this._height)) {
            this._width = k;
            this._height = _arg_2;
        }
    }
    render(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8, _arg_9, _arg_10, _arg_11) {
        const visualization = this._Str_6009(_arg_4);
        if (!visualization || !visualization.geometry)
            return null;
        var _local_13 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, 0));
        var _local_14 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, 1));
        var _local_15 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 1, 0));
        if (_local_13 && _local_14 && _local_15) {
            _arg_2 = Math.round(Math.abs((((_local_13.x - _local_15.x) * _arg_2) / visualization.geometry.scale)));
            _arg_3 = Math.round(Math.abs((((_local_13.y - _local_14.y) * _arg_3) / visualization.geometry.scale)));
            const _local_16 = (_arg_7 * Math.abs((_local_13.x - _local_15.x)));
            const _local_17 = (_arg_8 * Math.abs((_local_13.y - _local_14.y)));
            const _local_18 = (_arg_9 * Math.abs((_local_13.x - _local_15.x)));
            const _local_19 = (_arg_10 * Math.abs((_local_13.y - _local_14.y)));
            return visualization.render(k, _arg_2, _arg_3, _arg_5, _arg_6, _local_16, _local_17, _local_18, _local_19, _arg_9, _arg_10, _arg_11);
        }
        return null;
    }
}
LandscapePlane._Str_2531 = 0xFFFFFF;
LandscapePlane._Str_5433 = 45;
LandscapePlane._Str_5509 = 30;


/***/ }),

/***/ "Zylo":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/pet/PetFigureUpdateParser.ts ***!
  \******************************************************************************************/
/*! exports provided: PetFigureUpdateParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetFigureUpdateParser", function() { return PetFigureUpdateParser; });
/* harmony import */ var _inventory_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../inventory/pets/PetFigureData */ "N+Yd");

class PetFigureUpdateParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomIndex = wrapper.readInt();
        this._petId = wrapper.readInt();
        this._figureData = new _inventory_pets_PetFigureData__WEBPACK_IMPORTED_MODULE_0__["PetFigureData"](wrapper);
        this._hasSaddle = wrapper.readBoolean();
        this._isRiding = wrapper.readBoolean();
        return true;
    }
    get roomIndex() {
        return this._roomIndex;
    }
    get petId() {
        return this._petId;
    }
    get figureData() {
        return this._figureData;
    }
    get hasSaddle() {
        return this._hasSaddle;
    }
    get isRiding() {
        return this._isRiding;
    }
}


/***/ }),

/***/ "a6s0":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureEditableInternalLinkLogic.ts ***!
  \********************************************************************************************/
/*! exports provided: FurnitureEditableInternalLinkLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureEditableInternalLinkLogic", function() { return FurnitureEditableInternalLinkLogic; });
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");

class FurnitureEditableInternalLinkLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureLogic"] {
}


/***/ }),

/***/ "aJmH":
/*!********************************************************!*\
  !*** ./src/app/shared/components/loading/component.ts ***!
  \********************************************************/
/*! exports provided: LoadingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingComponent", function() { return LoadingComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");



function LoadingComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.message);
} }
const _c0 = function (a0) { return { "width": a0 }; };
function LoadingComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, (ctx_r1.percentage || 0) + "%"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", ctx_r1.percentage || 0, "%");
} }
class LoadingComponent {
    constructor() {
        this.message = '';
        this.percentage = 0;
        this.hideProgress = false;
    }
}
LoadingComponent.ɵfac = function LoadingComponent_Factory(t) { return new (t || LoadingComponent)(); };
LoadingComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LoadingComponent, selectors: [["nitro-loading"]], inputs: { message: "message", percentage: "percentage", hideProgress: "hideProgress" }, decls: 7, vars: 2, consts: [[1, "nitro-loading-component"], [1, "loading-view"], [1, "splash"], [1, "photo"], [1, "frame"], ["class", "text", 4, "ngIf"], ["class", "progress-container", 4, "ngIf"], [1, "text"], [1, "progress-container"], [1, "loading-bar"], [1, "bar", 3, "ngStyle"], [1, "percent"]], template: function LoadingComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, LoadingComponent_div_5_Template, 2, 1, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, LoadingComponent_div_6_Template, 5, 4, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.message && ctx.message.length);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hideProgress);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgStyle"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoadingComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-loading',
                template: `
	<div class="nitro-loading-component">
		<div class="loading-view">
			<div class="splash">
				<div class="photo"></div>
				<div class="frame"></div>
			</div>
			<div *ngIf="message && message.length" class="text">{{ message }}</div>
			<div *ngIf="!hideProgress" class="progress-container">
				<div class="loading-bar">
					<div class="bar" [ngStyle]="{ 'width': ((percentage || 0) + '%') }"></div>
				</div>
				<div class="percent">{{ (percentage || 0) }}%</div>
			</div>
		</div>
	</div>`
            }]
    }], null, { message: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], percentage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], hideProgress: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "aSCJ":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/navigator/NavigatorSearchSaveComposer.ts ***!
  \***************************************************************************************************/
/*! exports provided: NavigatorSearchSaveComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchSaveComposer", function() { return NavigatorSearchSaveComposer; });
class NavigatorSearchSaveComposer {
    constructor(code, data) {
        this._data = [code, data];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "aXn3":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorSearchesParser.ts ***!
  \*********************************************************************************************/
/*! exports provided: NavigatorSearchesParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchesParser", function() { return NavigatorSearchesParser; });
/* harmony import */ var _utils_NavigatorSavedSearch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/NavigatorSavedSearch */ "5F4d");

class NavigatorSearchesParser {
    flush() {
        this._searches = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalSearches = wrapper.readInt();
        while (totalSearches > 0) {
            this._searches.push(new _utils_NavigatorSavedSearch__WEBPACK_IMPORTED_MODULE_0__["NavigatorSavedSearch"](wrapper));
            totalSearches--;
        }
        return true;
    }
    get searches() {
        return this._searches;
    }
}


/***/ }),

/***/ "ajqW":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/utils/CatalogPurchaseData.ts ***!
  \*********************************************************************************************/
/*! exports provided: CatalogPurchaseData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseData", function() { return CatalogPurchaseData; });
/* harmony import */ var _CatalogProductOfferData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CatalogProductOfferData */ "P5vI");

class CatalogPurchaseData {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._offerId = -1;
        this._localizationId = null;
        this._rent = false;
        this._priceCredits = 0;
        this._priceActivityPoints = 0;
        this._priceActivityPointsType = 0;
        this._clubLevel = 0;
        this._giftable = false;
        this._bundlePurchaseAllowed = false;
        this._products = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._offerId = wrapper.readInt();
        this._localizationId = wrapper.readString();
        this._rent = wrapper.readBoolean();
        this._priceCredits = wrapper.readInt();
        this._priceActivityPoints = wrapper.readInt();
        this._priceActivityPointsType = wrapper.readInt();
        this._giftable = wrapper.readBoolean();
        let totalProducts = wrapper.readInt();
        while (totalProducts > 0) {
            this._products.push(new _CatalogProductOfferData__WEBPACK_IMPORTED_MODULE_0__["CatalogProductOfferData"](wrapper));
            totalProducts--;
        }
        this._clubLevel = wrapper.readInt();
        this._bundlePurchaseAllowed = wrapper.readBoolean();
        return true;
    }
    get offerId() {
        return this._offerId;
    }
    get localizationId() {
        return this._localizationId;
    }
    get rent() {
        return this._rent;
    }
    get priceCredits() {
        return this._priceCredits;
    }
    get priceActivityPoints() {
        return this._priceActivityPoints;
    }
    get priceActivityPointsType() {
        return this._priceActivityPointsType;
    }
    get clubLevel() {
        return this._clubLevel;
    }
    get giftable() {
        return this._giftable;
    }
    get bundlePurchaseAllowed() {
        return this._bundlePurchaseAllowed;
    }
    get products() {
        return this._products;
    }
}


/***/ }),

/***/ "aniU":
/*!****************************************************************!*\
  !*** ./src/app/components/room/widgets/chatinput/component.ts ***!
  \****************************************************************/
/*! exports provided: RoomChatInputComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomChatInputComponent", function() { return RoomChatInputComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_ui_widget_ConversionTrackingWidget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/ConversionTrackingWidget */ "2Ba9");
/* harmony import */ var _client_nitro_ui_widget_enums_SystemChatStyleEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/enums/SystemChatStyleEnum */ "gLCd");
/* harmony import */ var _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/RoomWidgetChatMessage */ "gXhT");
/* harmony import */ var _messages_RoomWidgetChatTypingMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/RoomWidgetChatTypingMessage */ "TErY");
/* harmony import */ var _styleselector_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./styleselector/component */ "+fn7");







const _c0 = ["chatInputView"];
class RoomChatInputComponent extends _client_nitro_ui_widget_ConversionTrackingWidget__WEBPACK_IMPORTED_MODULE_1__["ConversionTrackingWidget"] {
    constructor(ngZone) {
        super();
        this.ngZone = ngZone;
        this.selectedUsername = '';
        this.floodBlocked = false;
        this.lastContent = '';
        this.isTyping = false;
        this.typingStartedSent = false;
        this.typingTimer = null;
        this.idleTimer = null;
        this.currentStyle = -1;
        this.needsStyleUpdate = false;
    }
    ngAfterViewInit() {
        this.ngZone.runOutsideAngular(() => {
            document.body.addEventListener('keydown', this.onKeyDownEvent.bind(this));
            this.inputView.addEventListener('mousedown', this.onInputMouseDownEvent.bind(this));
            this.inputView.addEventListener('input', this.onInputChangeEvent.bind(this));
        });
    }
    ngOnDestroy() {
        this.ngZone.runOutsideAngular(() => {
            document.body.removeEventListener('keydown', this.onKeyDownEvent.bind(this));
            this.inputView.removeEventListener('mousedown', this.onInputMouseDownEvent.bind(this));
            this.inputView.removeEventListener('input', this.onInputChangeEvent.bind(this));
        });
    }
    sendChat(text, chatType, recipientName = '', styleId = 0) {
        if (this.floodBlocked)
            return;
        this.messageListener.processWidgetMessage(new _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatMessage"](_messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatMessage"].MESSAGE_CHAT, text, chatType, recipientName, styleId));
    }
    onKeyDownEvent(event) {
        if (!event)
            return;
        if (this.anotherInputHasFocus())
            return;
        this.setInputFocus();
        const key = event.keyCode;
        const shiftKey = event.shiftKey;
        switch (key) {
            case 32: // SPACE
                this.checkSpecialKeywordForInput();
                return;
            case 13: // ENTER
                this.sendChatFromInputField(shiftKey);
                return;
            case 8: // BACKSPACE
                if (this.inputView) {
                    const value = this.inputView.value;
                    const parts = value.split(' ');
                    if ((parts[0] === ':whisper') && (parts.length === 3) && (parts[2] === '')) {
                        this.inputView.value = '';
                        this.lastContent = '';
                    }
                }
                return;
        }
    }
    onInputMouseDownEvent(event) {
        this.setInputFocus();
    }
    onInputChangeEvent(event) {
        const input = event.target;
        if (!input)
            return;
        const value = input.value;
        if (!value.length) {
            this.isTyping = false;
            this.startTypingTimer();
        }
        else {
            this.lastContent = value;
            if (!this.isTyping) {
                this.isTyping = true;
                this.startTypingTimer();
            }
            this.startIdleTimer();
        }
    }
    onStyleSelected(styleId) {
        if (styleId === this.currentStyle)
            return;
        this.currentStyle = styleId;
        this.needsStyleUpdate = true;
    }
    sendChatFromInputField(shiftKey = false) {
        if (!this.inputView || (this.inputView.value === ''))
            return;
        let chatType = (shiftKey ? _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatMessage"].CHAT_SHOUT : _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatMessage"].CHAT_DEFAULT);
        let text = this.inputView.value;
        const parts = text.split(' ');
        let recipientName = '';
        let append = '';
        switch (parts[0]) {
            case ':whisper':
                chatType = _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatMessage"].CHAT_WHISPER;
                recipientName = parts[1];
                append = (`:whisper ${recipientName} `);
                parts.shift();
                parts.shift();
                break;
            case ':shout':
                chatType = _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatMessage"].CHAT_SHOUT;
                parts.shift();
                break;
            case ':speak':
                chatType = _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatMessage"].CHAT_DEFAULT;
                parts.shift();
                break;
        }
        text = parts.join(' ');
        let chatStyle = _client_nitro_ui_widget_enums_SystemChatStyleEnum__WEBPACK_IMPORTED_MODULE_2__["SystemChatStyleEnum"].NORMAL;
        if (this.typingTimer)
            this.resetTypingTimer();
        if (this.idleTimer)
            this.resetIdleTimer();
        this.sendChat(text, chatType, recipientName, this.currentStyle);
        this.isTyping = false;
        if (this.typingStartedSent)
            this.sendTypingMessage();
        this.typingStartedSent = false;
        this.inputView.value = append;
        this.lastContent = append;
    }
    sendTypingMessage() {
        if (this.floodBlocked)
            return;
        this.messageListener.processWidgetMessage(new _messages_RoomWidgetChatTypingMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetChatTypingMessage"](this.isTyping));
    }
    anotherInputHasFocus() {
        const activeElement = document.activeElement;
        if (!activeElement)
            return false;
        if (this.chatInputView && this.chatInputView.nativeElement && (this.chatInputView.nativeElement === activeElement))
            return false;
        if (!(activeElement instanceof HTMLInputElement))
            return false;
        return true;
    }
    setInputFocus() {
        this.chatInputView && this.chatInputView.nativeElement && this.chatInputView.nativeElement.focus();
    }
    checkSpecialKeywordForInput() {
        const inputView = ((this.chatInputView && this.chatInputView.nativeElement) || null);
        if (!inputView || (inputView.value === ''))
            return;
        const text = inputView.value;
        const selectedUsername = this.selectedUsername;
        if ((text !== ':whisper') || (selectedUsername.length === 0))
            return;
        inputView.value = `${inputView.value} ${this.selectedUsername}`;
    }
    startIdleTimer() {
        this.resetIdleTimer();
        this.idleTimer = setTimeout(this.onIdleTimerComplete.bind(this), 10000);
    }
    resetIdleTimer() {
        if (this.idleTimer) {
            clearTimeout(this.idleTimer);
            this.idleTimer = null;
        }
    }
    onIdleTimerComplete() {
        if (this.isTyping)
            this.typingStartedSent = false;
        this.isTyping = false;
        this.sendTypingMessage();
    }
    startTypingTimer() {
        this.resetTypingTimer();
        this.typingTimer = setTimeout(this.onTypingTimerComplete.bind(this), 1000);
    }
    resetTypingTimer() {
        if (this.typingTimer) {
            clearTimeout(this.typingTimer);
            this.typingTimer = null;
        }
    }
    onTypingTimerComplete() {
        if (this.isTyping)
            this.typingStartedSent = true;
        this.sendTypingMessage();
    }
    get inputView() {
        return ((this.chatInputView && this.chatInputView.nativeElement) || null);
    }
    get handler() {
        return this.widgetHandler;
    }
}
RoomChatInputComponent.ɵfac = function RoomChatInputComponent_Factory(t) { return new (t || RoomChatInputComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
RoomChatInputComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomChatInputComponent, selectors: [["nitro-room-chatinput-component"]], viewQuery: function RoomChatInputComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.chatInputView = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 5, vars: 0, consts: [[1, "nitro-room-chatinput-component"], [1, "chatinput-container"], ["type", "text", 1, "chat-input"], ["chatInputView", ""], [3, "styleSelected"]], template: function RoomChatInputComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "input", 2, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "nitro-room-chatinput-styleselector-component", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("styleSelected", function RoomChatInputComponent_Template_nitro_room_chatinput_styleselector_component_styleSelected_4_listener($event) { return ctx.onStyleSelected($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, directives: [_styleselector_component__WEBPACK_IMPORTED_MODULE_5__["RoomChatInputStyleSelectorComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomChatInputComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-chatinput-component',
                template: `
    <div class="nitro-room-chatinput-component">
        <div class="chatinput-container">
            <input #chatInputView type="text" class="chat-input" />
        </div>
        <nitro-room-chatinput-styleselector-component (styleSelected)="onStyleSelected($event)"></nitro-room-chatinput-styleselector-component>
    </div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { chatInputView: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['chatInputView']
        }] }); })();


/***/ }),

/***/ "aq2s":
/*!******************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureWindowLogic.ts ***!
  \******************************************************************************/
/*! exports provided: FurnitureWindowLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWindowLogic", function() { return FurnitureWindowLogic; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");


class FurnitureWindowLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_1__["FurnitureMultiStateLogic"] {
    initialize(asset) {
        super.initialize(asset);
        const maskType = (asset.maskType || null);
        if (maskType) {
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_USES_PLANE_MASK, 1);
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_PLANE_MASK_TYPE, maskType);
        }
    }
}


/***/ }),

/***/ "auym":
/*!******************************************************************************!*\
  !*** ./src/client/room/object/visualization/utils/GraphicAssetCollection.ts ***!
  \******************************************************************************/
/*! exports provided: GraphicAssetCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicAssetCollection", function() { return GraphicAssetCollection; });
/* harmony import */ var _core_asset_AssetManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/asset/AssetManager */ "kiYJ");
/* harmony import */ var _nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../nitro/Nitro */ "P7Cj");
/* harmony import */ var _GraphicAsset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GraphicAsset */ "Gudf");
/* harmony import */ var _GraphicAssetPalette__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GraphicAssetPalette */ "kOUW");




class GraphicAssetCollection {
    constructor(data, spritesheet) {
        if (!data)
            throw new Error('invalid_collection');
        this._name = data.name;
        this._data = data;
        this._textures = new Map();
        this._assets = new Map();
        this._palettes = new Map();
        this._paletteAssetNames = [];
        if (spritesheet)
            this.addLibraryAsset(spritesheet.textures);
        this.define(data);
    }
    dispose() {
        if (this._palettes) {
            for (let palette of this._palettes.values())
                palette.dispose();
            this._palettes.clear();
        }
        if (this._paletteAssetNames) {
            this.disposePaletteAssets();
            this._paletteAssetNames = null;
        }
        if (this._assets) {
            for (let asset of this._assets.values())
                asset.recycle();
            this._assets.clear();
        }
    }
    addReference() {
        this._referenceCount++;
        this._referenceTimestamp = _nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.time;
    }
    removeReference() {
        this._referenceCount--;
        if (this._referenceCount <= 0) {
            this._referenceCount = 0;
            this._referenceTimestamp = _nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.time;
            this.disposePaletteAssets(false);
        }
    }
    define(data) {
        const assets = data.assets;
        const palettes = data.palettes;
        if (assets)
            this.defineAssets(assets);
        if (palettes)
            this.definePalettes(palettes);
    }
    defineAssets(assets) {
        if (!assets)
            return;
        for (let name in assets) {
            const asset = assets[name];
            if (!asset)
                continue;
            let x = (-(asset.x) || 0);
            let y = (-(asset.y) || 0);
            let flipH = false;
            let flipV = false;
            let usesPalette = (asset.usesPalette || false);
            let source = (asset.source || '');
            if (asset.flipH && source.length)
                flipH = true;
            // if(asset.flipV && source.length) flipV = true;
            if (!source.length)
                source = name;
            const texture = this.getLibraryAsset(source);
            if (!texture)
                continue;
            let didAddAsset = this.createAsset(name, source, texture, flipH, flipV, x, y, usesPalette);
            if (!didAddAsset) {
                const existingAsset = this.getAsset(name);
                if (existingAsset && (existingAsset.name !== existingAsset.source)) {
                    didAddAsset = this.replaceAsset(name, source, texture, flipH, flipV, x, y, usesPalette);
                }
            }
        }
    }
    definePalettes(palettes) {
        if (!palettes)
            return;
        for (let name in palettes) {
            const palette = palettes[name];
            if (!palette)
                continue;
            const id = palette.id.toString();
            if (this._palettes.get(id))
                continue;
            let colorOne = 0xFFFFFF;
            let colorTwo = 0xFFFFFF;
            let color = palette.color1;
            if (color && color.length > 0)
                colorOne = parseInt(color, 16);
            color = palette.color2;
            if (color && color.length > 0)
                colorTwo = parseInt(color, 16);
            this._palettes.set(id, new _GraphicAssetPalette__WEBPACK_IMPORTED_MODULE_3__["GraphicAssetPalette"](palette.rgb, colorOne, colorTwo));
        }
    }
    createAsset(name, source, texture, flipH, flipV, x, y, usesPalette) {
        if (this._assets.get(name))
            return false;
        const graphicAsset = _GraphicAsset__WEBPACK_IMPORTED_MODULE_2__["GraphicAsset"].createAsset(name, source, texture, x, y, flipH, flipV, usesPalette);
        this._assets.set(name, graphicAsset);
        return true;
    }
    replaceAsset(name, source, texture, flipH, flipV, x, y, usesPalette) {
        const existing = this._assets.get(name);
        if (existing) {
            this._assets.delete(name);
            existing.recycle();
        }
        return this.createAsset(name, source, texture, flipH, flipV, x, y, usesPalette);
    }
    getAsset(name) {
        if (!name)
            return null;
        const existing = this._assets.get(name);
        if (!existing)
            return null;
        return existing;
    }
    getAssetWithPalette(name, paletteName) {
        let saveName = (name + '@' + paletteName);
        let asset = this.getAsset(saveName);
        if (!asset) {
            asset = this.getAsset(name);
            if (!asset || !asset.usesPalette)
                return asset;
            const palette = this.getPalette(paletteName);
            if (palette) {
                const texture = palette.applyPalette(asset.texture);
                if (texture) {
                    this._paletteAssetNames.push(saveName);
                    this.createAsset(saveName, (asset.source + '@' + paletteName), texture, asset.flipH, asset.flipV, asset.x, asset.y, false);
                    asset = this.getAsset(saveName);
                }
            }
        }
        return asset;
    }
    getPaletteNames() {
        return Array.from(this._palettes.keys());
    }
    getPaletteColors(paletteName) {
        const palette = this.getPalette(paletteName);
        if (palette)
            return [palette.primaryColor, palette.secondaryColor];
        return null;
    }
    getPalette(name) {
        if (!name)
            return null;
        const existing = this._palettes.get(name);
        if (!existing)
            return null;
        return existing;
    }
    addAsset(name, texture, override, x = 0, y = 0, flipH = false, flipV = false) {
        if (!name || !texture)
            return false;
        const existingTexture = this.getLibraryAsset(name);
        if (!existingTexture) {
            this._textures.set(name, texture);
            return this.createAsset(name, name, texture, flipH, flipV, x, y, false);
        }
        if (override) {
            existingTexture.baseTexture = texture.baseTexture;
            existingTexture.frame = texture.frame;
            existingTexture.trim = texture.trim;
            existingTexture.updateUvs();
            return true;
        }
        return false;
    }
    disposeAsset(name) {
        const existing = this._assets.get(name);
        if (!existing)
            return;
        this._assets.delete(name);
        const texture = this.getLibraryAsset(existing.source);
        if (texture) {
            this._textures.delete(existing.source);
            texture.destroy();
        }
        existing.recycle();
    }
    getLibraryAsset(name) {
        if (!name)
            return null;
        name = this._name + '_' + name;
        const texture = this._textures.get(name);
        if (!texture)
            return null;
        return texture;
    }
    addLibraryAsset(textures) {
        if (!textures)
            return;
        for (let name in textures) {
            const texture = textures[name];
            if (!texture)
                continue;
            name = _core_asset_AssetManager__WEBPACK_IMPORTED_MODULE_0__["AssetManager"].removeFileExtension(name);
            this._textures.set(name, texture);
        }
    }
    disposePaletteAssets(disposeAll = true) {
        if (this._paletteAssetNames) {
            if (disposeAll || (this._paletteAssetNames.length > GraphicAssetCollection.PALETTE_ASSET_DISPOSE_THRESHOLD)) {
                for (let name of this._paletteAssetNames)
                    this.disposeAsset(name);
                this._paletteAssetNames = [];
            }
        }
    }
    get referenceCount() {
        return this._referenceCount;
    }
    get referenceTimestamp() {
        return this._referenceTimestamp;
    }
    get name() {
        return this._name;
    }
    get data() {
        return this._data;
    }
    get textures() {
        return this._textures;
    }
    get assets() {
        return this._assets;
    }
}
GraphicAssetCollection.PALETTE_ASSET_DISPOSE_THRESHOLD = 10;


/***/ }),

/***/ "b9MM":
/*!************************************************************!*\
  !*** ./src/app/components/catalog/navigation/component.ts ***!
  \************************************************************/
/*! exports provided: CatalogNavigationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogNavigationComponent", function() { return CatalogNavigationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _navigationset_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./navigationset/component */ "WVQs");




const _c0 = ["nitro-catalog-navigation-component", ""];
function CatalogNavigationComponent_nitro_catalog_navigation_set_component_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "nitro-catalog-navigation-set-component", 3);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("catalogPage", ctx_r0.catalogPage)("activePage", ctx_r0.activePage);
} }
class CatalogNavigationComponent {
    constructor() {
        this.catalogPage = null;
        this.activePage = null;
    }
}
CatalogNavigationComponent.ɵfac = function CatalogNavigationComponent_Factory(t) { return new (t || CatalogNavigationComponent)(); };
CatalogNavigationComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogNavigationComponent, selectors: [["", "nitro-catalog-navigation-component", ""]], inputs: { catalogPage: "catalogPage", activePage: "activePage" }, attrs: _c0, decls: 3, vars: 1, consts: [[1, "nitro-catalog-navigation-component"], [1, "scroll-container"], [3, "catalogPage", "activePage", 4, "ngIf"], [3, "catalogPage", "activePage"]], template: function CatalogNavigationComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CatalogNavigationComponent_nitro_catalog_navigation_set_component_2_Template, 1, 2, "nitro-catalog-navigation-set-component", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.catalogPage);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _navigationset_component__WEBPACK_IMPORTED_MODULE_2__["CatalogNavigationSetComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogNavigationComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[nitro-catalog-navigation-component]',
                template: `
    <div class="nitro-catalog-navigation-component">
        <div class="scroll-container">
            <nitro-catalog-navigation-set-component *ngIf="catalogPage" [catalogPage]="catalogPage" [activePage]="activePage"></nitro-catalog-navigation-set-component>
        </div>
    </div>`
            }]
    }], null, { catalogPage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activePage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "bFXL":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/generic/GenericAlertLinkEvent.ts ***!
  \*******************************************************************************************/
/*! exports provided: GenericAlertLinkEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GenericAlertLinkEvent", function() { return GenericAlertLinkEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_generic_GenericAlertLinkParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/generic/GenericAlertLinkParser */ "bPZT");


class GenericAlertLinkEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_generic_GenericAlertLinkParser__WEBPACK_IMPORTED_MODULE_1__["GenericAlertLinkParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "bG1/":
/*!*************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarSignUpdateMessage.ts ***!
  \*************************************************************************/
/*! exports provided: ObjectAvatarSignUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarSignUpdateMessage", function() { return ObjectAvatarSignUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarSignUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(signType = 0) {
        super();
        this._signType = signType;
    }
    get signType() {
        return this._signType;
    }
}


/***/ }),

/***/ "bNFM":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/security/AuthenticatedParser.ts ***!
  \****************************************************************************************/
/*! exports provided: AuthenticatedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticatedParser", function() { return AuthenticatedParser; });
class AuthenticatedParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "bPZT":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/generic/GenericAlertLinkParser.ts ***!
  \******************************************************************************************/
/*! exports provided: GenericAlertLinkParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GenericAlertLinkParser", function() { return GenericAlertLinkParser; });
class GenericAlertLinkParser {
    flush() {
        this._message = null;
        this._link = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._message = wrapper.readString();
        this._link = wrapper.readString();
        return true;
    }
    get message() {
        return this._message;
    }
    get link() {
        return this._link;
    }
}


/***/ }),

/***/ "bQu+":
/*!**********************************************************************!*\
  !*** ./src/app/components/room/widgets/avatarinfo/name/component.ts ***!
  \**********************************************************************/
/*! exports provided: RoomAvatarInfoNameComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomAvatarInfoNameComponent", function() { return RoomAvatarInfoNameComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../AvatarContextInfoView */ "AsRw");



const _c0 = ["activeView"];
class RoomAvatarInfoNameComponent extends _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_1__["AvatarContextInfoView"] {
    static setup(view, userId, userName, userType, roomIndex, willFade = false) {
        view.willFade = willFade;
        _AvatarContextInfoView__WEBPACK_IMPORTED_MODULE_1__["AvatarContextInfoView"].extendedSetup(view, userId, userName, userType, roomIndex);
    }
}
RoomAvatarInfoNameComponent.ɵfac = function RoomAvatarInfoNameComponent_Factory(t) { return ɵRoomAvatarInfoNameComponent_BaseFactory(t || RoomAvatarInfoNameComponent); };
RoomAvatarInfoNameComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomAvatarInfoNameComponent, selectors: [["nitro-room-avatarinfo-name-component"]], viewQuery: function RoomAvatarInfoNameComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.activeView = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 7, vars: 1, consts: [[1, "nitro-room-avatarinfo-name-component", "context-menu"], ["activeView", ""], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "card-pointer"]], template: function RoomAvatarInfoNameComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.userName);
    } }, encapsulation: 2 });
const ɵRoomAvatarInfoNameComponent_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](RoomAvatarInfoNameComponent);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomAvatarInfoNameComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-avatarinfo-name-component',
                template: `
    <div #activeView class="nitro-room-avatarinfo-name-component context-menu">
        <div class="card">
            <div class="card-header">
                <div class="header-title">{{ userName }}</div>
            </div>
            <div class="card-pointer"></div>
        </div>
    </div>`
            }]
    }], null, { activeView: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['activeView']
        }] }); })();


/***/ }),

/***/ "bQvs":
/*!*************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/figure/SetType.ts ***!
  \*************************************************************/
/*! exports provided: SetType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetType", function() { return SetType; });
/* harmony import */ var _FigurePartSet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FigurePartSet */ "NcKY");

class SetType {
    constructor(data) {
        if (!data)
            throw new Error('invalid_data');
        this._type = data['$'].type;
        this._paletteId = parseInt(data['$'].paletteid);
        this._isMandatory = {};
        this._isMandatory['F'] = [parseInt(data['$'].mand_f_0) === 1, parseInt(data['$'].mand_f_1) === 1];
        this._isMandatory['M'] = [(parseInt(data['$'].mand_m_0) === 1), (parseInt(data['$'].mand_m_1) === 1)];
        this._partSets = new Map();
        this._Str_2015(data);
    }
    dispose() {
        for (let set of this._partSets.values()) {
            const partSet = set;
            partSet.dispose();
        }
        this._partSets = null;
    }
    _Str_1874(k) {
        for (let _local_2 of k) {
            const _local_3 = _local_2.id;
            const _local_4 = this._partSets.get(_local_3);
            if (_local_4) {
                _local_4.dispose();
                this._partSets.delete(_local_3);
            }
        }
    }
    _Str_2015(k) {
        if (!k || !k.set)
            return;
        for (let set of k.set)
            this._partSets.set(set['$'].id, new _FigurePartSet__WEBPACK_IMPORTED_MODULE_0__["FigurePartSet"](this._type, set));
    }
    _Str_2264(k) {
        for (let set of this._partSets.values()) {
            if (!set)
                continue;
            if ((set.clubLevel === 0) && ((set.gender === k) || (set.gender === 'U')))
                return set;
        }
        return null;
    }
    _Str_1020(k) {
        return this._partSets.get(k.toString());
    }
    get type() {
        return this._type;
    }
    get _Str_734() {
        return this._paletteId;
    }
    _Str_895(k, _arg_2) {
        return this._isMandatory[k.toUpperCase()][Math.min(_arg_2, 1)];
    }
    _Str_1002(k) {
        const _local_2 = this._isMandatory[k.toUpperCase()];
        return _local_2.indexOf(false);
    }
    get _Str_710() {
        return this._partSets;
    }
}


/***/ }),

/***/ "bWzX":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/data/UserCurrentBadgesParser.ts ***!
  \*********************************************************************************************/
/*! exports provided: UserCurrentBadgesParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCurrentBadgesParser", function() { return UserCurrentBadgesParser; });
class UserCurrentBadgesParser {
    flush() {
        this._userId = null;
        this._badges = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._userId = wrapper.readInt();
        let totalBadges = wrapper.readInt();
        while (totalBadges > 0) {
            const slotId = wrapper.readInt();
            const badgeCode = wrapper.readString();
            this._badges.push(badgeCode);
            totalBadges--;
        }
        return true;
    }
    get userId() {
        return this._userId;
    }
    get badges() {
        return this._badges;
    }
}


/***/ }),

/***/ "bYEj":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureDiceLogic.ts ***!
  \****************************************************************************/
/*! exports provided: FurnitureDiceLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureDiceLogic", function() { return FurnitureDiceLogic; });
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events/RoomObjectFurnitureActionEvent */ "UOsA");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");



class FurnitureDiceLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureLogic"] {
    constructor() {
        super();
        this._noTags = false;
        this._noTagsLastStateActivate = false;
    }
    getEventTypes() {
        const types = [_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].DICE_ACTIVATE, _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].DICE_OFF];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        let objectEvent = null;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DOUBLE_CLICK:
                if (this._noTags) {
                    if (((!(this._noTagsLastStateActivate)) || (this.object.getState(0) === 0)) || (this.object.getState(0) === 100)) {
                        objectEvent = new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].DICE_ACTIVATE, this.object);
                        this._noTagsLastStateActivate = true;
                    }
                    else {
                        objectEvent = new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].DICE_OFF, this.object);
                        this._noTagsLastStateActivate = false;
                    }
                }
                else {
                    if (((event._Str_4216 === 'activate') || (this.object.getState(0) === 0)) || (this.object.getState(0) === 100)) {
                        objectEvent = new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].DICE_ACTIVATE, this.object);
                    }
                    else if (event._Str_4216 === 'deactivate') {
                        objectEvent = new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].DICE_OFF, this.object);
                    }
                }
                if (objectEvent && this.eventDispatcher)
                    this.eventDispatcher.dispatchEvent(objectEvent);
                return;
        }
        super.mouseEvent(event, geometry);
    }
}


/***/ }),

/***/ "be3F":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitInfoParser.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomUnitInfoParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitInfoParser", function() { return RoomUnitInfoParser; });
class RoomUnitInfoParser {
    flush() {
        this._unitId = null;
        this._figure = null;
        this._gender = 'M';
        this._motto = null;
        this._achievementScore = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = wrapper.readInt();
        this._figure = wrapper.readString();
        this._gender = wrapper.readString().toLocaleUpperCase();
        this._motto = wrapper.readString();
        this._achievementScore = wrapper.readInt();
        return true;
    }
    get unitId() {
        return this._unitId;
    }
    get figure() {
        return this._figure;
    }
    get gender() {
        return this._gender;
    }
    get motto() {
        return this._motto;
    }
    get achievementScore() {
        return this._achievementScore;
    }
}


/***/ }),

/***/ "bmKR":
/*!**************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/furniture/FurnitureListAddOrUpdateParser.ts ***!
  \**************************************************************************************************************/
/*! exports provided: FurnitureListAddOrUpdateParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListAddOrUpdateParser", function() { return FurnitureListAddOrUpdateParser; });
/* harmony import */ var _utils_FurnitureListItemParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/FurnitureListItemParser */ "J0ap");

class FurnitureListAddOrUpdateParser {
    flush() {
        this._items = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._items.push(new _utils_FurnitureListItemParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureListItemParser"](wrapper));
        return true;
    }
    get items() {
        return this._items;
    }
}


/***/ }),

/***/ "bmMM":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/mapping/RoomModelEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: RoomModelEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomModelEvent", function() { return RoomModelEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_mapping_RoomModelParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/mapping/RoomModelParser */ "Ly0c");


class RoomModelEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_mapping_RoomModelParser__WEBPACK_IMPORTED_MODULE_1__["RoomModelParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "byIU":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/user/access/UserPermissionsParser.ts ***!
  \*********************************************************************************************/
/*! exports provided: UserPermissionsParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPermissionsParser", function() { return UserPermissionsParser; });
class UserPermissionsParser {
    flush() {
        this._clubLevel = 0;
        this._securityLevel = 0;
        this._isAmbassador = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._clubLevel = wrapper.readInt();
        this._securityLevel = wrapper.readInt();
        this._isAmbassador = wrapper.readBoolean();
        return true;
    }
    get clubLevel() {
        return this._clubLevel;
    }
    get securityLevel() {
        return this._securityLevel;
    }
    get isAmbassador() {
        return this._isAmbassador;
    }
}


/***/ }),

/***/ "byXj":
/*!*****************************************************************************!*\
  !*** ./src/client/room/renderer/cache/RoomObjectSortableSpriteCacheItem.ts ***!
  \*****************************************************************************/
/*! exports provided: RoomObjectSortableSpriteCacheItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectSortableSpriteCacheItem", function() { return RoomObjectSortableSpriteCacheItem; });
class RoomObjectSortableSpriteCacheItem {
    constructor() {
        this._sprites = [];
        this._updateId1 = -1;
        this._updateId2 = -1;
        this._isEmpty = false;
    }
    get _Str_3008() {
        return this._sprites.length;
    }
    get isEmpty() {
        return this._isEmpty;
    }
    dispose() {
        this._Str_20276(0);
    }
    _Str_12937(sprite) {
        this._sprites.push(sprite);
    }
    _Str_2505(k) {
        return this._sprites[k];
    }
    get _Str_9272() {
        return this._sprites;
    }
    _Str_17574(k, _arg_2) {
        if ((k === this._updateId1) && (_arg_2 === this._updateId2))
            return false;
        this._updateId1 = k;
        this._updateId2 = _arg_2;
        return true;
    }
    _Str_20276(k) {
        if (k < this._sprites.length) {
            let iterator = k;
            while (iterator < this._sprites.length) {
                const sprite = this._sprites[iterator];
                if (sprite)
                    sprite.dispose();
                iterator++;
            }
            this._sprites.splice(k, (this._sprites.length - k));
        }
        this._isEmpty = (this._sprites.length) ? false : true;
    }
}


/***/ }),

/***/ "c746":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/chat/RoomUnitChatParser.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomUnitChatParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitChatParser", function() { return RoomUnitChatParser; });
class RoomUnitChatParser {
    flush() {
        this._unitId = null;
        this._message = null;
        this._gesture = 0;
        this._bubble = 0;
        this._urls = [];
        this._messageLength = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = wrapper.readInt();
        this._message = wrapper.readString();
        this._gesture = wrapper.readInt();
        this._bubble = wrapper.readInt();
        this.parseUrls(wrapper);
        this._messageLength = wrapper.readInt();
        return true;
    }
    parseUrls(wrapper) {
        if (!wrapper)
            return false;
        this._urls = [];
        let totalUrls = wrapper.readInt();
        while (totalUrls > 0) {
            this._urls.push(wrapper.readString());
            totalUrls--;
        }
        return true;
    }
    get unitId() {
        return this._unitId;
    }
    get message() {
        return this._message;
    }
    get gesture() {
        return this._gesture;
    }
    get bubble() {
        return this._bubble;
    }
    get urls() {
        return this._urls;
    }
    get messageLength() {
        return this._messageLength;
    }
}


/***/ }),

/***/ "c7QS":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/navigator/NavigatorSearchEvent.ts ***!
  \********************************************************************************************/
/*! exports provided: NavigatorSearchEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchEvent", function() { return NavigatorSearchEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_navigator_NavigatorSearchParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/navigator/NavigatorSearchParser */ "QYPi");


class NavigatorSearchEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_navigator_NavigatorSearchParser__WEBPACK_IMPORTED_MODULE_1__["NavigatorSearchParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "cDwF":
/*!************************************************!*\
  !*** ./src/client/nitro/window/motion/Ease.ts ***!
  \************************************************/
/*! exports provided: Ease */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Ease", function() { return Ease; });
/* harmony import */ var _Interval__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Interval */ "9fVB");

class Ease extends _Interval__WEBPACK_IMPORTED_MODULE_0__["Interval"] {
    constructor(k) {
        super(k.target, k.duration);
        this._interval = k;
    }
    start() {
        super.start();
        this._interval.start();
    }
    update(k) {
        super.update(k);
        this._interval.update(k);
    }
    stop() {
        super.stop();
        this._interval.stop();
    }
}


/***/ }),

/***/ "cRIN":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/IncomingHeader.ts ***!
  \****************************************************************************/
/*! exports provided: IncomingHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IncomingHeader", function() { return IncomingHeader; });
class IncomingHeader {
}
IncomingHeader.ACHIEVEMENT_LIST = 305;
IncomingHeader.AUTHENTICATED = 2491;
IncomingHeader.AVAILABILITY_STATUS = 2033;
IncomingHeader.BUILDERS_CLUB_EXPIRED = 1452;
IncomingHeader.CAMERA_PRICE = 3878;
IncomingHeader.CAMERA_THUMBNAIL_SAVED = 3595;
IncomingHeader.CAMERA_URL = 3696;
IncomingHeader.CATALOG_CLUB = 2405;
IncomingHeader.CATALOG_MODE = 3828;
IncomingHeader.CATALOG_PAGE = 804;
IncomingHeader.CATALOG_PAGES = 1032;
IncomingHeader.CATALOG_PURCHASE = 869;
IncomingHeader.CATALOG_PURCHASE_FAILED = 1404;
IncomingHeader.CATALOG_PURCHASE_UNAVAILABLE = 3770;
IncomingHeader.CATALOG_SEARCH = 3388;
IncomingHeader.CATALOG_SOLD_OUT = 377;
IncomingHeader.CATALOG_UPDATED = 1866;
IncomingHeader.CLIENT_LATENCY = 10;
IncomingHeader.CLIENT_PING = 3928;
IncomingHeader.DESKTOP_CAMPAIGN = 1745;
IncomingHeader.DESKTOP_NEWS = 286;
IncomingHeader.DESKTOP_VIEW = 122;
IncomingHeader.DISCOUNT_CONFIG = 2347;
IncomingHeader.FIRST_LOGIN_OF_DAY = 793;
IncomingHeader.FURNITURE_DATA = 2547;
IncomingHeader.FURNITURE_FLOOR = 1778;
IncomingHeader.FURNITURE_FLOOR_ADD = 1534;
IncomingHeader.FURNITURE_FLOOR_REMOVE = 2703;
IncomingHeader.FURNITURE_FLOOR_UPDATE = 3776;
IncomingHeader.FURNITURE_ITEMDATA = 2202;
IncomingHeader.FURNITURE_STATE = 2376;
IncomingHeader.GAME_CENTER_ACHIEVEMENTS = 2265;
IncomingHeader.GAME_CENTER_GAME_LIST = 222;
IncomingHeader.GAME_CENTER_STATUS = 2893;
IncomingHeader.GENERIC_ALERT = 3801;
IncomingHeader.GENERIC_ALERT_LINK = 2030;
IncomingHeader.GENERIC_ALERT_MESSAGES = 2035;
IncomingHeader.GENERIC_ERROR = 1600;
IncomingHeader.GIFT_CONFIG = 2234;
IncomingHeader.GROUP_BADGES = 2402;
IncomingHeader.GROUP_CREATE_OPTIONS = 2159;
IncomingHeader.GROUP_FORUM_INFO = 3011;
IncomingHeader.GROUP_FORUM_LIST = 3001;
IncomingHeader.GROUP_FORUM_THREADS = 1073;
IncomingHeader.GROUP_INFO = 1702;
IncomingHeader.GROUP_LIST = 420;
IncomingHeader.GROUP_MEMBER = 265;
IncomingHeader.GROUP_MEMBERS = 1200;
IncomingHeader.GROUP_MEMBERS_REFRESH = 2445;
IncomingHeader.GROUP_SETTINGS = 3965;
IncomingHeader.ITEM_DIMMER_SETTINGS = 2710;
IncomingHeader.ITEM_STACK_HELPER = 2816;
IncomingHeader.ITEM_WALL = 1369;
IncomingHeader.ITEM_WALL_ADD = 2187;
IncomingHeader.ITEM_WALL_REMOVE = 3208;
IncomingHeader.ITEM_WALL_UPDATE = 2009;
IncomingHeader.MARKETPLACE_CONFIG = 1823;
IncomingHeader.MESSENGER_CHAT = 1587;
IncomingHeader.MESSENGER_CHAT_ERROR = 896;
IncomingHeader.MESSENGER_FRIENDS = 3130;
IncomingHeader.MESSENGER_INIT = 1605;
IncomingHeader.MESSENGER_RELATIONSHIPS = 2016;
IncomingHeader.MESSENGER_REQUEST = 2219;
IncomingHeader.MESSENGER_REQUEST_ERROR = 892;
IncomingHeader.MESSENGER_REQUESTS = 280;
IncomingHeader.MESSENGER_ROOM_INVITE = 3870;
IncomingHeader.MESSENGER_SEARCH = 973;
IncomingHeader.MESSENGER_UPDATE = 2800;
IncomingHeader.MODERATION_REPORT_DISABLED = 1651;
IncomingHeader.MODERATION_TOOL = 2696;
IncomingHeader.MODERATION_TOPICS = 325;
IncomingHeader.MODERATION_USER_INFO = 2866;
IncomingHeader.NAVIGATOR_CATEGORIES = 1562;
IncomingHeader.NAVIGATOR_COLLAPSED = 1543;
IncomingHeader.NAVIGATOR_EVENT_CATEGORIES = 3244;
IncomingHeader.NAVIGATOR_LIFTED = 3104;
IncomingHeader.NAVIGATOR_SEARCH = 2690;
IncomingHeader.NAVIGATOR_SEARCHES = 3984;
IncomingHeader.NAVIGATOR_SETTINGS = 518;
IncomingHeader.NAVIGATOR_METADATA = 3052;
IncomingHeader.NOTIFICATION_LIST = 1992;
IncomingHeader.PET_FIGURE_UPDATE = 1924;
IncomingHeader.PET_INFO = 2901;
IncomingHeader.RECYCLER_PRIZES = 3164;
IncomingHeader.ROOM_BAN_LIST = 1869;
IncomingHeader.ROOM_BAN_REMOVE = 3429;
IncomingHeader.ROOM_CREATED = 1304;
IncomingHeader.ROOM_DOORBELL_ADD = 2309;
IncomingHeader.ROOM_DOORBELL_CLOSE = 3783;
IncomingHeader.ROOM_DOORBELL_DENIED = 878;
IncomingHeader.ROOM_ENTER = 758;
IncomingHeader.ROOM_ENTER_ERROR = 899;
IncomingHeader.ROOM_FORWARD = 160;
IncomingHeader.ROOM_HEIGHT_MAP = 2753;
IncomingHeader.ROOM_HEIGHT_MAP_UPDATE = 558;
IncomingHeader.ROOM_INFO = 687;
IncomingHeader.ROOM_INFO_OWNER = 749;
IncomingHeader.ROOM_MODEL = 1301;
IncomingHeader.ROOM_MODEL_BLOCKED_TILES = 3990;
IncomingHeader.ROOM_MODEL_DOOR = 1664;
IncomingHeader.ROOM_MODEL_NAME = 2031;
IncomingHeader.ROOM_MUTE = 2533;
IncomingHeader.ROOM_MUTE_USER = 826;
IncomingHeader.ROOM_PAINT = 2454;
IncomingHeader.ROOM_PROMOTION = 2274;
IncomingHeader.ROOM_QUEUE_STATUS = 2208;
IncomingHeader.ROOM_RIGHTS = 780;
IncomingHeader.ROOM_RIGHTS_CLEAR = 2392;
IncomingHeader.ROOM_RIGHTS_LIST = 1284;
IncomingHeader.ROOM_RIGHTS_LIST_ADD = 2088;
IncomingHeader.ROOM_RIGHTS_LIST_REMOVE = 1327;
IncomingHeader.ROOM_RIGHTS_OWNER = 339;
IncomingHeader.ROOM_ROLLING = 3207;
IncomingHeader.ROOM_SCORE = 482;
IncomingHeader.ROOM_SETTINGS = 1498;
IncomingHeader.ROOM_SETTINGS_CHAT = 1191;
IncomingHeader.ROOM_SETTINGS_SAVE = 948;
IncomingHeader.ROOM_SETTINGS_SAVE_ERROR = 1555;
IncomingHeader.ROOM_SETTINGS_UPDATED = 3297;
IncomingHeader.ROOM_SPECTATOR = 1033;
IncomingHeader.ROOM_THICKNESS = 3547;
IncomingHeader.SECURITY_DEBUG = 3284;
IncomingHeader.SECURITY_MACHINE = 1488;
IncomingHeader.SECURITY_UNKNOWN2 = 2833;
IncomingHeader.TRADE = 2505;
IncomingHeader.TRADE_ACCEPTED = 2568;
IncomingHeader.TRADE_CLOSE = 1001;
IncomingHeader.TRADE_CLOSED = 1373;
IncomingHeader.TRADE_COMPLETE = 3128;
IncomingHeader.TRADE_CONFIRM = 2720;
IncomingHeader.TRADE_ERROR = 217;
IncomingHeader.TRADE_UPDATE = 2024;
IncomingHeader.UNIT = 374;
IncomingHeader.UNIT_CHANGE_NAME = 2182;
IncomingHeader.UNIT_CHAT = 1446;
IncomingHeader.UNIT_CHAT_SHOUT = 1036;
IncomingHeader.UNIT_CHAT_WHISPER = 2704;
IncomingHeader.UNIT_DANCE = 2233;
IncomingHeader.UNIT_EFFECT = 1167;
IncomingHeader.UNIT_EXPRESSION = 1631;
IncomingHeader.UNIT_HAND_ITEM = 1474;
IncomingHeader.UNIT_IDLE = 1797;
IncomingHeader.UNIT_INFO = 3920;
IncomingHeader.UNIT_REMOVE = 2661;
IncomingHeader.UNIT_STATUS = 1640;
IncomingHeader.UNIT_TYPING = 1717;
IncomingHeader.USER_ACHIEVEMENT_SCORE = 1968;
IncomingHeader.USER_BADGES = 717;
IncomingHeader.USER_BADGES_ADD = 2493;
IncomingHeader.USER_BADGES_CURRENT = 1087;
IncomingHeader.USER_BOT_ADD = 1352;
IncomingHeader.USER_BOT_REMOVE = 233;
IncomingHeader.USER_BOTS = 3086;
IncomingHeader.USER_CLOTHING = 1450;
IncomingHeader.USER_CREDITS = 3475;
IncomingHeader.USER_CURRENCY = 2018;
IncomingHeader.USER_EFFECTS = 340;
IncomingHeader.USER_FAVORITE_ROOM = 2524;
IncomingHeader.USER_FAVORITE_ROOM_COUNT = 151;
IncomingHeader.USER_FIGURE = 2429;
IncomingHeader.USER_FURNITURE = 994;
IncomingHeader.USER_FURNITURE_ADD = 104;
IncomingHeader.USER_FURNITURE_REFRESH = 3151;
IncomingHeader.USER_FURNITURE_REMOVE = 159;
IncomingHeader.USER_FURNITURE_POSTIT_PLACED = 1501;
IncomingHeader.USER_HOME_ROOM = 2875;
IncomingHeader.USER_IGNORED = 126;
IncomingHeader.USER_INFO = 2725;
IncomingHeader.USER_OUTFITS = 3315;
IncomingHeader.USER_PERKS = 2586;
IncomingHeader.USER_PERMISSIONS = 411;
IncomingHeader.USER_PET_ADD = 2101;
IncomingHeader.USER_PET_REMOVE = 3253;
IncomingHeader.USER_PETS = 3522;
IncomingHeader.USER_PROFILE = 3898;
IncomingHeader.USER_RESPECT = 2815;
IncomingHeader.USER_SANCTION_STATUS = 3679;
IncomingHeader.USER_SETTINGS = 513;
IncomingHeader.USER_SUBSCRIPTION = 954;
IncomingHeader.WIRED_ACTION = 1434;
IncomingHeader.WIRED_CONDITION = 1108;
IncomingHeader.WIRED_SAVE = 1155;
IncomingHeader.WIRED_TRIGGER = 383;
IncomingHeader.UNSEEN_ITEMS = 2103;
IncomingHeader.FURNITURE_ALIASES = 1723;


/***/ }),

/***/ "cakP":
/*!********************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/bot/component.ts ***!
  \********************************************************************/
/*! exports provided: RoomInfoStandBotComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoStandBotComponent", function() { return RoomInfoStandBotComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_components_badge_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../shared/components/badge/component */ "f/8j");




const _c0 = ["imageContainer"];
function RoomInfoStandBotComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "nitro-badge", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const badge_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("badge", badge_r3);
} }
function RoomInfoStandBotComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.motto);
} }
const _c1 = function (a0) { return { "active": a0 }; };
class RoomInfoStandBotComponent {
    constructor() {
        this.name = '';
        this.motto = '';
        this.badges = [];
        this.visible = false;
    }
    show() {
        if (!this.visible)
            this.visible = true;
    }
    hide() {
        if (this.visible)
            this.visible = false;
    }
    update(event) {
        this.name = event.name;
        this.motto = event.motto;
        this.badges = event.badges;
        this.setImage(event.figure);
    }
    setImage(figure) {
        if (!figure)
            return;
        const image = this.widget.handler.getUserImage(figure);
        this.imageElement.innerHTML = '';
        this.imageElement.appendChild(image);
    }
    resetBadges() {
        this.badges = this.widget.userData.badges;
    }
    get imageElement() {
        return ((this.imageContainer && this.imageContainer.nativeElement) || null);
    }
}
RoomInfoStandBotComponent.ɵfac = function RoomInfoStandBotComponent_Factory(t) { return new (t || RoomInfoStandBotComponent)(); };
RoomInfoStandBotComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomInfoStandBotComponent, selectors: [["nitro-room-infostand-bot-component"]], viewQuery: function RoomInfoStandBotComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.imageContainer = _t.first);
    } }, inputs: { widget: "widget" }, decls: 15, vars: 6, consts: [[1, "nitro-room-infostand-bot-component", 3, "ngClass"], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "card-body"], [1, "row", "flex-nowrap"], [1, "body-image"], ["imageContainer", ""], [1, "flex-grow-1"], [1, "badge-container"], ["class", "badge-item", 4, "ngFor", "ngForOf"], ["class", "row mt-2", 4, "ngIf"], [1, "badge-item"], [3, "badge"], [1, "row", "mt-2"], [1, "motto"]], template: function RoomInfoStandBotComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandBotComponent_Template_div_click_5_listener() { return ctx.hide(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "i", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "div", 8, 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, RoomInfoStandBotComponent_div_13_Template, 2, 1, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, RoomInfoStandBotComponent_div_14_Template, 3, 1, "div", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c1, ctx.visible));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.badges);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.motto !== "");
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _shared_components_badge_component__WEBPACK_IMPORTED_MODULE_2__["BadgeComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomInfoStandBotComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-infostand-bot-component',
                template: `
    <div class="nitro-room-infostand-bot-component" [ngClass]="{ 'active': visible }">
        <div class="card">
            <div class="card-header">
                <div class="header-title">{{ name }}</div>
                <div class="header-close" (click)="hide()"><i class="fas fa-times"></i></div>
            </div>
            <div class="card-body">
                <div class="row flex-nowrap">
                    <div #imageContainer class="body-image"></div>
                    <div class="flex-grow-1">
                        <div class="badge-container">
                            <div *ngFor="let badge of badges" class="badge-item">
                                <nitro-badge [badge]="badge"></nitro-badge>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-2" *ngIf="(motto !== '')">
                    <span class="motto">{{ motto }}</span>
                </div>
            </div>
        </div>
    </div>`
            }]
    }], null, { widget: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], imageContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['imageContainer']
        }] }); })();


/***/ }),

/***/ "ch59":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/WallPlane.ts ***!
  \***************************************************************************************/
/*! exports provided: WallPlane */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WallPlane", function() { return WallPlane; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _Plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Plane */ "kSg6");


class WallPlane extends _Plane__WEBPACK_IMPORTED_MODULE_1__["Plane"] {
    render(k, _arg_2, _arg_3, size, _arg_5, _arg_6) {
        const visualization = this._Str_6009(size);
        if (!visualization || !visualization.geometry)
            return null;
        const _local_8 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, 0));
        const _local_9 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, (_arg_3 / visualization.geometry.scale)));
        const _local_10 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, (_arg_2 / visualization.geometry.scale), 0));
        if (_local_8 && _local_9 && _local_10) {
            _arg_2 = Math.round(Math.abs((_local_8.x - _local_10.x)));
            _arg_3 = Math.round(Math.abs((_local_8.y - _local_9.y)));
        }
        return visualization.render(k, _arg_2, _arg_3, _arg_5, _arg_6);
    }
}
WallPlane._Str_2531 = 0xFFFFFF;
WallPlane._Str_5433 = 45;
WallPlane._Str_5509 = 30;


/***/ }),

/***/ "cmY7":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectWallMouseEvent.ts ***!
  \******************************************************************/
/*! exports provided: RoomObjectWallMouseEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectWallMouseEvent", function() { return RoomObjectWallMouseEvent; });
/* harmony import */ var _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectMouseEvent */ "iiZs");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");


class RoomObjectWallMouseEvent extends _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"] {
    constructor(type, object, eventId, wallLocation, wallWidth, wallHeight, x, y, direction, altKey = false, ctrlKey = false, shiftKey = false, buttonDown = false) {
        super(type, object, eventId, altKey, ctrlKey, shiftKey, buttonDown);
        this._wallLocation = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._wallWd = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._wallHt = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._wallLocation.assign(wallLocation);
        this._wallWd.assign(wallWidth);
        this._wallHt.assign(wallHeight);
        this._x = x;
        this._y = y;
        this._direction = direction;
    }
    get wallLocation() {
        return this._wallLocation;
    }
    get wallWidth() {
        return this._wallWd;
    }
    get wallHeight() {
        return this._wallHt;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get direction() {
        return this._direction;
    }
}


/***/ }),

/***/ "cq1A":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/trading/TradingNotOpenParser.ts ***!
  \**************************************************************************************************/
/*! exports provided: TradingNotOpenParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingNotOpenParser", function() { return TradingNotOpenParser; });
class TradingNotOpenParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "cq9i":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/avatar/cache/AvatarImageActionCache.ts ***!
  \*****************************************************************/
/*! exports provided: AvatarImageActionCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarImageActionCache", function() { return AvatarImageActionCache; });
class AvatarImageActionCache {
    constructor() {
        this._Str_586 = new Map();
    }
    _Str_1565(k, _arg_2) {
        if (!this._Str_1233)
            this._Str_1233 = k;
        const _local_3 = this._Str_1961(this._Str_1233);
        if (_local_3)
            _local_3._Str_1108(_arg_2);
        this._Str_1233 = k;
    }
    dispose() {
        if (!this._disposed) {
            if (!this._Str_586)
                return;
            this._Str_2089(0, 2147483647);
            this._Str_586.clear();
            this._Str_586 = null;
            this._disposed = true;
        }
    }
    _Str_2089(k, _arg_2) {
        if (!this._Str_586 || this._disposed)
            return;
        for (let [key, cache] of this._Str_586.entries()) {
            if (!cache)
                continue;
            const _local_3 = cache._Str_1815();
            if ((_arg_2 - _local_3) >= k) {
                cache.dispose();
                this._Str_586.delete(key);
            }
        }
    }
    _Str_2244() {
        return this._Str_1233;
    }
    setDirection(k) {
        this._Str_1188 = k;
    }
    getDirection() {
        return this._Str_1188;
    }
    _Str_1961(k = null) {
        if (!this._Str_1233)
            return null;
        if (!k)
            k = this._Str_1233;
        if (k._Str_707)
            return this._Str_586.get(k._Str_707);
        return this._Str_586.get(k.id);
    }
    _Str_1765(k, _arg_2) {
        if (k._Str_707)
            this._Str_586.set(k._Str_707, _arg_2);
        else
            this._Str_586.set(k.id, _arg_2);
    }
}


/***/ }),

/***/ "crOu":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/CrackableDataType.ts ***!
  \*********************************************************************/
/*! exports provided: CrackableDataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CrackableDataType", function() { return CrackableDataType; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectDataBase */ "MeCd");
/* harmony import */ var _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ObjectDataKey */ "KQk8");



class CrackableDataType extends _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__["ObjectDataBase"] {
    constructor() {
        super();
        this._state = '';
        this._hits = 0;
        this._target = 0;
    }
    parseWrapper(wrapper) {
        if (!wrapper)
            return;
        this._state = wrapper.readString();
        this._hits = wrapper.readInt();
        this._target = wrapper.readInt();
        super.parseWrapper(wrapper);
    }
    initializeFromRoomObjectModel(model) {
        super.initializeFromRoomObjectModel(model);
        this._state = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_CRACKABLE_STATE);
        this._hits = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_CRACKABLE_HITS);
        this._target = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_CRACKABLE_TARGET);
    }
    writeRoomObjectModel(model) {
        super.writeRoomObjectModel(model);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA_FORMAT, CrackableDataType.FORMAT_KEY);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_CRACKABLE_STATE, this._state);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_CRACKABLE_HITS, this._hits);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_CRACKABLE_TARGET, this._target);
    }
    getLegacyString() {
        return this._state;
    }
    compare(data) {
        return true;
    }
    get hits() {
        return this._hits;
    }
    get target() {
        return this._target;
    }
}
CrackableDataType.FORMAT_KEY = _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__["ObjectDataKey"].CRACKABLE_KEY;


/***/ }),

/***/ "cvrJ":
/*!****************************************************************!*\
  !*** ./src/app/components/toolbar/cameracontrols/component.ts ***!
  \****************************************************************/
/*! exports provided: CameraControlsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CameraControlsComponent", function() { return CameraControlsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/room/utils/Vector3D */ "LGmI");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");





const _c0 = ["nitro-toolbar-cameracontrols-component", ""];
function CameraControlsComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Camera");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "ul", 6, 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "li", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CameraControlsComponent_div_0_Template_li_click_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.rotateLeft(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Rotate Left");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "li", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CameraControlsComponent_div_0_Template_li_click_10_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.rotateRight(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Rotate Right");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "li", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CameraControlsComponent_div_0_Template_li_click_12_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.tiltUp(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Tilt Up");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "li", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CameraControlsComponent_div_0_Template_li_click_14_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.tiltDown(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15, "Tilt Down");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "li", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CameraControlsComponent_div_0_Template_li_click_16_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.zoomIn(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, "Zoom In");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "li", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CameraControlsComponent_div_0_Template_li_click_18_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.zoomOut(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](19, "Zoom Out");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class CameraControlsComponent {
    constructor(ngZone) {
        this.ngZone = ngZone;
        this.visible = false;
    }
    adjustDirection(x, y) {
        this.ngZone.runOutsideAngular(() => {
            const geometry = this.getGeometry();
            if (!geometry)
                return;
            const adjustment = new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"](x, y, 0);
            const adjustedDirection = _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"].sum(geometry.direction, adjustment);
            this.setDirection(adjustedDirection);
        });
    }
    setDirection(direction) {
        if (!direction)
            return;
        this.ngZone.runOutsideAngular(() => {
            const geometry = this.getGeometry();
            if (!geometry)
                return;
            geometry.direction = direction;
        });
    }
    rotateLeft() {
        this.adjustDirection(-1, 0);
    }
    rotateRight() {
        this.adjustDirection(1, 0);
    }
    tiltUp() {
        this.adjustDirection(0, -1);
    }
    tiltDown() {
        this.adjustDirection(0, 1);
    }
    zoomIn() {
    }
    zoomOut() {
    }
    topDown() {
    }
    getGeometry() {
        const geometry = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.getRoomInstanceGeometry(_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.activeRoomId);
        if (!geometry)
            return null;
        return geometry;
    }
}
CameraControlsComponent.ɵfac = function CameraControlsComponent_Factory(t) { return new (t || CameraControlsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
CameraControlsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CameraControlsComponent, selectors: [["", "nitro-toolbar-cameracontrols-component", ""]], attrs: _c0, decls: 1, vars: 1, consts: [["class", "nitro-toolbar-cameracontrols-component", 4, "ngIf"], [1, "nitro-toolbar-cameracontrols-component"], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "card-body"], [1, "list-group"], ["navigationList", ""], [1, "list-group-item", 3, "click"]], template: function CameraControlsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, CameraControlsComponent_div_0_Template, 20, 0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.visible);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CameraControlsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[nitro-toolbar-cameracontrols-component]',
                template: `
    <div *ngIf="visible" class="nitro-toolbar-cameracontrols-component">
        <div class="card">
            <div class="card-header">
                <div class="header-title">Camera</div>
            </div>
            <div class="card-body">
                <ul #navigationList class="list-group">
                    <li class="list-group-item" (click)="rotateLeft()">Rotate Left</li>
                    <li class="list-group-item" (click)="rotateRight()">Rotate Right</li>
                    <li class="list-group-item" (click)="tiltUp()">Tilt Up</li>
                    <li class="list-group-item" (click)="tiltDown()">Tilt Down</li>
                    <li class="list-group-item" (click)="zoomIn()">Zoom In</li>
                    <li class="list-group-item" (click)="zoomOut()">Zoom Out</li>
                </ul>
            </div>
        </div>
    </div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, null); })();


/***/ }),

/***/ "czWm":
/*!*******************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureStickieLogic.ts ***!
  \*******************************************************************************/
/*! exports provided: FurnitureStickieLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureStickieLogic", function() { return FurnitureStickieLogic; });
/* harmony import */ var _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../events/RoomObjectFurnitureActionEvent */ "UOsA");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");



class FurnitureStickieLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureLogic"] {
    getEventTypes() {
        const types = [_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectFurnitureActionEvent"].STICKIE];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    processUpdateMessage(message) {
        super.processUpdateMessage(message);
        this.updateColor();
    }
    updateColor() {
        if (!this.object)
            return;
        const furnitureData = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_DATA);
        let colorIndex = FurnitureStickieLogic.STICKIE_COLORS.indexOf(furnitureData);
        if (colorIndex < 0)
            colorIndex = 3;
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_COLOR, (colorIndex + 1));
    }
}
FurnitureStickieLogic.STICKIE_COLORS = ['9CCEFF', 'FF9CFF', '9CFF9C', 'FFFF33'];


/***/ }),

/***/ "d4m4":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureSoundBlockLogic.ts ***!
  \**********************************************************************************/
/*! exports provided: FurnitureSoundBlockLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureSoundBlockLogic", function() { return FurnitureSoundBlockLogic; });
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");

class FurnitureSoundBlockLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureMultiStateLogic"] {
}


/***/ }),

/***/ "dBGV":
/*!***********************************************************************!*\
  !*** ./src/client/nitro/communication/demo/NitroCommunicationDemo.ts ***!
  \***********************************************************************/
/*! exports provided: NitroCommunicationDemo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroCommunicationDemo", function() { return NitroCommunicationDemo; });
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/common/NitroManager */ "Fv14");
/* harmony import */ var _core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/communication/events/SocketConnectionEvent */ "+IGW");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../NitroConfiguration */ "8vq6");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");
/* harmony import */ var _messages_incoming_client_ClientPingEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../messages/incoming/client/ClientPingEvent */ "Vknh");
/* harmony import */ var _messages_incoming_security_AuthenticatedEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../messages/incoming/security/AuthenticatedEvent */ "CKlU");
/* harmony import */ var _messages_outgoing_client_ClientPongComposer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../messages/outgoing/client/ClientPongComposer */ "j5HY");
/* harmony import */ var _messages_outgoing_client_ClientReleaseVersionComposer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../messages/outgoing/client/ClientReleaseVersionComposer */ "79Tt");
/* harmony import */ var _messages_outgoing_security_SecurityTicketComposer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../messages/outgoing/security/SecurityTicketComposer */ "fnht");
/* harmony import */ var _messages_outgoing_user_data_UserInfoComposer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../messages/outgoing/user/data/UserInfoComposer */ "/Jcc");
/* harmony import */ var _NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./NitroCommunicationDemoEvent */ "z6mw");












class NitroCommunicationDemo extends _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_1__["NitroManager"] {
    constructor(communication) {
        super();
        this._communication = communication;
        this._sso = null;
        this._handShaking = false;
        this._didConnect = false;
        this._pongInterval = null;
    }
    onInit() {
        const connection = this._communication.connection;
        if (connection) {
            connection.addEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_2__["SocketConnectionEvent"].CONNECTION_OPENED, this.onConnectionOpenedEvent.bind(this));
            connection.addEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_2__["SocketConnectionEvent"].CONNECTION_CLOSED, this.onConnectionClosedEvent.bind(this));
            connection.addEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_2__["SocketConnectionEvent"].CONNECTION_ERROR, this.onConnectionErrorEvent.bind(this));
        }
        this._communication.registerMessageEvent(new _messages_incoming_client_ClientPingEvent__WEBPACK_IMPORTED_MODULE_5__["ClientPingEvent"](this.onClientPingEvent.bind(this)));
        this._communication.registerMessageEvent(new _messages_incoming_security_AuthenticatedEvent__WEBPACK_IMPORTED_MODULE_6__["AuthenticatedEvent"](this.onAuthenticatedEvent.bind(this)));
    }
    onDispose() {
        this.stopPonging();
        const connection = this._communication.connection;
        if (connection) {
            connection.removeEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_2__["SocketConnectionEvent"].CONNECTION_OPENED, this.onConnectionOpenedEvent.bind(this));
            connection.removeEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_2__["SocketConnectionEvent"].CONNECTION_CLOSED, this.onConnectionClosedEvent.bind(this));
            connection.removeEventListener(_core_communication_events_SocketConnectionEvent__WEBPACK_IMPORTED_MODULE_2__["SocketConnectionEvent"].CONNECTION_ERROR, this.onConnectionErrorEvent.bind(this));
        }
        this._sso = null;
        this._handShaking = false;
        super.onDispose();
    }
    onConnectionOpenedEvent(event) {
        const connection = this._communication.connection;
        if (!connection)
            return;
        this._didConnect = true;
        this.dispatchCommunicationDemoEvent(_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__["NitroCommunicationDemoEvent"].CONNECTION_ESTABLISHED, connection);
        if (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].CLIENT_KEEPS_ALIVE)
            this.startPonging();
        this.startHandshake(connection);
        connection.send(new _messages_outgoing_client_ClientReleaseVersionComposer__WEBPACK_IMPORTED_MODULE_8__["ClientReleaseVersionComposer"]());
        this.tryAuthentication(connection);
    }
    onConnectionClosedEvent(event) {
        const connection = this._communication.connection;
        if (!connection)
            return;
        if (this._didConnect)
            this.dispatchCommunicationDemoEvent(_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__["NitroCommunicationDemoEvent"].CONNECTION_CLOSED, connection);
    }
    onConnectionErrorEvent(event) {
        const connection = this._communication.connection;
        if (!connection)
            return;
        this.dispatchCommunicationDemoEvent(_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__["NitroCommunicationDemoEvent"].CONNECTION_ERROR, connection);
    }
    tryAuthentication(connection) {
        if (!connection || !this._sso) {
            if (!this._sso) {
                _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log(`Login without an SSO ticket is not supported`);
            }
            this.dispatchCommunicationDemoEvent(_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKE_FAILED, connection);
            return;
        }
        connection.send(new _messages_outgoing_security_SecurityTicketComposer__WEBPACK_IMPORTED_MODULE_9__["SecurityTicketComposer"](this._sso));
    }
    onClientPingEvent(event) {
        if (!(event instanceof _messages_incoming_client_ClientPingEvent__WEBPACK_IMPORTED_MODULE_5__["ClientPingEvent"]) || !event.connection)
            return;
        this.sendPong(event.connection);
    }
    onAuthenticatedEvent(event) {
        if (!(event instanceof _messages_incoming_security_AuthenticatedEvent__WEBPACK_IMPORTED_MODULE_6__["AuthenticatedEvent"]) || !event.connection)
            return;
        this.completeHandshake(event.connection);
        this.dispatchCommunicationDemoEvent(_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__["NitroCommunicationDemoEvent"].CONNECTION_AUTHENTICATED, event.connection);
        //event.connection.send(new UserHomeRoomComposer(18532));
        event.connection.send(new _messages_outgoing_user_data_UserInfoComposer__WEBPACK_IMPORTED_MODULE_10__["UserInfoComposer"]());
    }
    setSSO(sso) {
        if (!sso || (sso === '') || this._sso)
            return;
        this._sso = sso;
    }
    startHandshake(connection) {
        this.dispatchCommunicationDemoEvent(_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKING, connection);
        this._handShaking = true;
    }
    completeHandshake(connection) {
        this.dispatchCommunicationDemoEvent(_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKED, connection);
        this._handShaking = false;
    }
    startPonging() {
        this.stopPonging();
        this._pongInterval = setInterval(this.sendPong.bind(this), _NitroConfiguration__WEBPACK_IMPORTED_MODULE_3__["NitroConfiguration"].PONG_INTERVAL_MS);
    }
    stopPonging() {
        if (!this._pongInterval)
            return;
        clearInterval(this._pongInterval);
        this._pongInterval = null;
    }
    sendPong(connection = null) {
        connection = ((connection || this._communication.connection) || null);
        if (!connection)
            return;
        connection.send(new _messages_outgoing_client_ClientPongComposer__WEBPACK_IMPORTED_MODULE_7__["ClientPongComposer"]());
    }
    dispatchCommunicationDemoEvent(type, connection) {
        _Nitro__WEBPACK_IMPORTED_MODULE_4__["Nitro"].instance.events.dispatchEvent(new _NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_11__["NitroCommunicationDemoEvent"](type, connection));
    }
}


/***/ }),

/***/ "dEqu":
/*!********************************************************!*\
  !*** ./src/client/nitro/session/enum/SecurityLevel.ts ***!
  \********************************************************/
/*! exports provided: SecurityLevel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SecurityLevel", function() { return SecurityLevel; });
class SecurityLevel {
}
SecurityLevel._Str_22122 = 9;
SecurityLevel._Str_20542 = 8;
SecurityLevel._Str_8629 = 7;
SecurityLevel._Str_20587 = 6;
SecurityLevel._Str_3569 = 5;
SecurityLevel._Str_3751 = 4;
SecurityLevel._Str_20881 = 3;
SecurityLevel._Str_13617 = 2;
SecurityLevel._Str_18829 = 1;
SecurityLevel.NONE = 0;


/***/ }),

/***/ "dPj3":
/*!********************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomEngineDimmerStateEvent.ts ***!
  \********************************************************************/
/*! exports provided: RoomEngineDimmerStateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEngineDimmerStateEvent", function() { return RoomEngineDimmerStateEvent; });
/* harmony import */ var _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomEngineEvent */ "G0tw");

class RoomEngineDimmerStateEvent extends _RoomEngineEvent__WEBPACK_IMPORTED_MODULE_0__["RoomEngineEvent"] {
    constructor(k, state, presetId, effectId, color, brightness) {
        super(RoomEngineDimmerStateEvent.ROOM_COLOR, k);
        this._state = state;
        this._presetId = presetId;
        this._effectId = effectId;
        this._color = color;
        this._brightness = brightness;
    }
    get state() {
        return this._state;
    }
    get _Str_14686() {
        return this._presetId;
    }
    get _Str_6815() {
        return this._effectId;
    }
    get color() {
        return this._color;
    }
    get _Str_5123() {
        return this._brightness;
    }
}
RoomEngineDimmerStateEvent.ROOM_COLOR = "REDSE_ROOM_COLOR";


/***/ }),

/***/ "dTvR":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitHandItemParser.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomUnitHandItemParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitHandItemParser", function() { return RoomUnitHandItemParser; });
class RoomUnitHandItemParser {
    flush() {
        this._unitId = null;
        this._handId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = wrapper.readInt();
        this._handId = wrapper.readInt();
        return true;
    }
    get unitId() {
        return this._unitId;
    }
    get handId() {
        return this._handId;
    }
}


/***/ }),

/***/ "dZ2M":
/*!*************************************!*\
  !*** ./src/app/AppConfiguration.ts ***!
  \*************************************/
/*! exports provided: AppConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppConfiguration", function() { return AppConfiguration; });
class AppConfiguration {
}
AppConfiguration.DISABLED_CHAT_STYLES = [];
AppConfiguration.DISPLAYED_CURRENCY_TYPES = [50];
AppConfiguration.CATALOG_IMAGE_URL = 'https://swf.nextgenhabbo.com/c_images/catalogue/%name%.gif';
AppConfiguration.CATALOG_ICON_URL = 'https://swf.nextgenhabbo.com/c_images/catalogue/icon_%name%.png';
AppConfiguration.FURNITURE_ICON_URL = 'https://swf.nextgenhabbo.com/dcr/hof_furni/icons/%name%_icon.png';
AppConfiguration.CHAT_STYLES = [
    {
        styleId: 0,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 1,
        minRank: 5,
        isSystemStyle: true,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 2,
        minRank: 5,
        isSystemStyle: true,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 3,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 4,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 5,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 6,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 7,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 8,
        minRank: 5,
        isSystemStyle: true,
        isHcOnly: false,
        isAmbassadorOnly: false
    },
    {
        styleId: 9,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 10,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 11,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 12,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 13,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 14,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 15,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 16,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 17,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 19,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 20,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 21,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 22,
        minRank: 0,
        isSystemStyle: false,
        isHcOnly: true,
        isAmbassadorOnly: false
    },
    {
        styleId: 23,
        minRank: 4,
        isSystemStyle: false,
        isHcOnly: false,
        isAmbassadorOnly: false
    }
];


/***/ }),

/***/ "dfHp":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomInfoParser.ts ***!
  \************************************************************************************/
/*! exports provided: RoomInfoParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoParser", function() { return RoomInfoParser; });
/* harmony import */ var _RoomChatParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomChatParser */ "fFOI");
/* harmony import */ var _RoomDataParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomDataParser */ "o/0e");
/* harmony import */ var _RoomModerationParser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RoomModerationParser */ "/FfH");



class RoomInfoParser {
    flush() {
        this._roomEnter = false;
        this._roomForward = false;
        this._staffPick = false;
        this._data = null;
        this._isGroupMember = false;
        this._isMuted = false;
        this._moderation = null;
        this._allowMuteAll = false;
        this._chat = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomEnter = wrapper.readBoolean();
        this._data = new _RoomDataParser__WEBPACK_IMPORTED_MODULE_1__["RoomDataParser"](wrapper);
        this._roomForward = wrapper.readBoolean();
        this._staffPick = wrapper.readBoolean();
        this._isGroupMember = wrapper.readBoolean();
        this._isMuted = wrapper.readBoolean();
        this._moderation = new _RoomModerationParser__WEBPACK_IMPORTED_MODULE_2__["RoomModerationParser"](wrapper);
        this._allowMuteAll = wrapper.readBoolean();
        this._chat = new _RoomChatParser__WEBPACK_IMPORTED_MODULE_0__["RoomChatParser"](wrapper);
        return true;
    }
    get roomEnter() {
        return this._roomEnter;
    }
    get roomForward() {
        return this._roomForward;
    }
    get staffPick() {
        return this._staffPick;
    }
    get data() {
        return this._data;
    }
    get isGroupMember() {
        return this._isGroupMember;
    }
    get isMuted() {
        return this._isMuted;
    }
    get moderation() {
        return this._moderation;
    }
    get allowMuteAll() {
        return this._allowMuteAll;
    }
    get chat() {
        return this._chat;
    }
}


/***/ }),

/***/ "dkNN":
/*!***************************************************************!*\
  !*** ./src/client/nitro/room/utils/SelectedRoomObjectData.ts ***!
  \***************************************************************/
/*! exports provided: SelectedRoomObjectData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectedRoomObjectData", function() { return SelectedRoomObjectData; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");

class SelectedRoomObjectData {
    constructor(id, category, operation, location, direction, typeId = 0, instanceData = null, stuffData = null, state = -1, frameNumber = -1, posture = null) {
        this._id = 0;
        this._category = 0;
        this._operation = "";
        this._loc = null;
        this._dir = null;
        this._typeId = 0;
        this._instanceData = null;
        this._stuffData = null;
        this._state = -1;
        this._animFrame = -1;
        this._posture = null;
        this._id = id;
        this._category = category;
        this._operation = operation;
        this._loc = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._loc.assign(location);
        this._dir = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._dir.assign(direction);
        this._typeId = typeId;
        this._instanceData = instanceData;
        this._stuffData = stuffData;
        this._state = state;
        this._animFrame = frameNumber;
        this._posture = posture;
    }
    get id() {
        return this._id;
    }
    get category() {
        return this._category;
    }
    get operation() {
        return this._operation;
    }
    get loc() {
        return this._loc;
    }
    get dir() {
        return this._dir;
    }
    get typeId() {
        return this._typeId;
    }
    get _Str_4766() {
        return this._instanceData;
    }
    get stuffData() {
        return this._stuffData;
    }
    get state() {
        return this._state;
    }
    get _Str_15896() {
        return this._animFrame;
    }
    get posture() {
        return this._posture;
    }
    dispose() {
        this._loc = null;
        this._dir = null;
    }
}


/***/ }),

/***/ "dma9":
/*!***********************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureGuildisometricBadgeVisualization.ts ***!
  \***********************************************************************************************************/
/*! exports provided: FurnitureGuildIsometricBadgeVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureGuildIsometricBadgeVisualization", function() { return FurnitureGuildIsometricBadgeVisualization; });
/* harmony import */ var _FurnitureThumbnailVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureThumbnailVisualization */ "SBOa");

class FurnitureGuildIsometricBadgeVisualization extends _FurnitureThumbnailVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureThumbnailVisualization"] {
}


/***/ }),

/***/ "do8I":
/*!***************************************************!*\
  !*** ./src/client/nitro/window/motion/EaseOut.ts ***!
  \***************************************************/
/*! exports provided: EaseOut */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EaseOut", function() { return EaseOut; });
/* harmony import */ var _EaseRate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EaseRate */ "RomB");

class EaseOut extends _EaseRate__WEBPACK_IMPORTED_MODULE_0__["EaseRate"] {
    constructor(k, _arg_2) {
        super(k, _arg_2);
    }
    update(k) {
        this._interval.update(Math.pow(k, (1 / this._Str_21638)));
    }
}


/***/ }),

/***/ "dp49":
/*!*******************************************************************************!*\
  !*** ./src/client/room/object/visualization/RoomObjectSpriteVisualization.ts ***!
  \*******************************************************************************/
/*! exports provided: RoomObjectSpriteVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectSpriteVisualization", function() { return RoomObjectSpriteVisualization; });
/* harmony import */ var _utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/TextureUtils */ "IxQr");
/* harmony import */ var _RoomObjectSprite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomObjectSprite */ "87uH");


class RoomObjectSpriteVisualization {
    constructor() {
        this._id = RoomObjectSpriteVisualization.VISUALIZATION_COUNTER++;
        this._object = null;
        this._asset = null;
        this._sprites = [];
        this._scale = -1;
        this._updateObjectCounter = -1;
        this._updateModelCounter = -1;
        this._updateSpriteCounter = -1;
    }
    initialize(data) {
        return false;
    }
    update(geometry, time, update, skipUpdate) {
        return;
    }
    reset() {
        this._scale = -1;
    }
    dispose() {
    }
    getSprite(index) {
        if ((index >= 0) && (index < this._sprites.length))
            return this._sprites[index];
        return null;
    }
    getSpriteList() {
        return null;
    }
    createSprite() {
        return this.createSpriteAtIndex(this._sprites.length);
    }
    createSpriteAtIndex(index) {
        const sprite = new _RoomObjectSprite__WEBPACK_IMPORTED_MODULE_1__["RoomObjectSprite"]();
        if (index >= this._sprites.length) {
            this._sprites.push(sprite);
        }
        else {
            this._sprites.splice(index, 0, sprite);
        }
        return sprite;
    }
    setSpriteCount(count) {
        while (this._sprites.length > count) {
            const sprite = this._sprites[(this._sprites.length - 1)];
            if (sprite)
                sprite.dispose();
            this._sprites.pop();
        }
        while (this._sprites.length < count) {
            this._sprites.push(new _RoomObjectSprite__WEBPACK_IMPORTED_MODULE_1__["RoomObjectSprite"]());
        }
    }
    get image() {
        return this.getImage(0, -1);
    }
    getImage(bgColor, originalId) {
        const boundingRectangle = this.getBoundingRectangle();
        if ((boundingRectangle.width * boundingRectangle.height) === 0)
            return null;
        let spriteCount = this.totalSprites;
        let spriteList = [];
        let index = 0;
        while (index < spriteCount) {
            const objectSprite = this.getSprite(index);
            if (objectSprite && objectSprite.visible && objectSprite.texture)
                spriteList.push(objectSprite);
            index++;
        }
        spriteList.sort((a, b) => {
            return b.relativeDepth - a.relativeDepth;
        });
        const container = new PIXI.Container();
        index = 0;
        while (index < spriteList.length) {
            const objectSprite = spriteList[index];
            const texture = objectSprite.texture;
            if (texture) {
                const sprite = PIXI.Sprite.from(texture);
                sprite.alpha = (objectSprite.alpha / 255);
                sprite.tint = objectSprite.color;
                sprite.x = objectSprite.offsetX;
                sprite.y = objectSprite.offsetY;
                sprite.blendMode = objectSprite.blendMode;
                sprite.filters = objectSprite.filters;
                if (objectSprite.flipH)
                    sprite.scale.x = -1;
                if (objectSprite.flipV)
                    sprite.scale.y = -1;
                container.addChild(sprite);
            }
            index++;
        }
        const texture = _utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(container);
        if (!texture)
            return null;
        return texture;
    }
    getBoundingRectangle() {
        const totalSprites = this.totalSprites;
        const rectangle = new PIXI.Rectangle();
        let iterator = 0;
        while (iterator < totalSprites) {
            const sprite = this.getSprite(iterator);
            if (sprite && sprite.texture && sprite.visible) {
                let offsetX = ((sprite.flipH) ? (-(sprite.width) + sprite.offsetX) : sprite.offsetX);
                let offsetY = ((sprite.flipV) ? (-(sprite.height) + sprite.offsetY) : sprite.offsetY);
                const point = new PIXI.Point(offsetX, offsetY);
                if (iterator === 0) {
                    rectangle.x = point.x;
                    rectangle.y = point.y;
                    rectangle.width = sprite.width;
                    rectangle.height = sprite.height;
                }
                else {
                    if (point.x < rectangle.x)
                        rectangle.x = point.x;
                    if (point.y < rectangle.y)
                        rectangle.y = point.y;
                    if ((point.x + sprite.width) > rectangle.right)
                        rectangle.width = ((point.x + sprite.width) - rectangle.x);
                    if ((point.y + sprite.height) > rectangle.bottom)
                        rectangle.height = ((point.y + sprite.height) - rectangle.y);
                }
            }
            iterator++;
        }
        return rectangle;
    }
    get instanceId() {
        return this._id;
    }
    get object() {
        return this._object;
    }
    set object(object) {
        this._object = object;
    }
    get asset() {
        return this._asset;
    }
    set asset(asset) {
        if (this._asset)
            this._asset.removeReference();
        this._asset = asset;
        if (this._asset)
            this._asset.addReference();
    }
    get sprites() {
        return this._sprites;
    }
    get totalSprites() {
        return this._sprites.length;
    }
    get updateObjectCounter() {
        return this._updateObjectCounter;
    }
    set updateObjectCounter(count) {
        this._updateObjectCounter = count;
    }
    get updateModelCounter() {
        return this._updateModelCounter;
    }
    set updateModelCounter(count) {
        this._updateModelCounter = count;
    }
    get updateSpriteCounter() {
        return this._updateSpriteCounter;
    }
    set updateSpriteCounter(count) {
        this._updateSpriteCounter = count;
    }
}
RoomObjectSpriteVisualization.VISUALIZATION_COUNTER = 0;


/***/ }),

/***/ "dx49":
/*!***********************************************************!*\
  !*** ./src/client/nitro/avatar/structure/AvatarCanvas.ts ***!
  \***********************************************************/
/*! exports provided: AvatarCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarCanvas", function() { return AvatarCanvas; });
/* harmony import */ var _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enum/AvatarScaleType */ "uEox");

class AvatarCanvas {
    constructor(k, _arg_2) {
        this._id = k.id;
        this._width = k.width;
        this._height = k.height;
        this._offset = new PIXI.Point(k.dx, k.dy);
        if (_arg_2 == _enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_0__["AvatarScaleType"].LARGE)
            this._regPoint = new PIXI.Point(((this._width - 64) / 2), 0);
        else
            this._regPoint = new PIXI.Point(((this._width - 32) / 2), 0);
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
    get offset() {
        return this._offset;
    }
    get id() {
        return this._id;
    }
    get _Str_1076() {
        return this._regPoint;
    }
}


/***/ }),

/***/ "eAe2":
/*!**************************************************!*\
  !*** ./src/client/nitro/window/motion/JumpBy.ts ***!
  \**************************************************/
/*! exports provided: JumpBy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JumpBy", function() { return JumpBy; });
/* harmony import */ var _Interval__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Interval */ "9fVB");

class JumpBy extends _Interval__WEBPACK_IMPORTED_MODULE_0__["Interval"] {
    constructor(target, duration, deltaX, deltaY, height, numJumps) {
        super(target, duration);
        this._deltaX = deltaX;
        this._deltaY = deltaY;
        this._height = -(height);
        this._numJumps = numJumps;
    }
    start() {
        super.start();
        this._startX = this.target.offsetLeft;
        this._startY = this.target.offsetTop;
    }
    update(k) {
        super.update(k);
        this.target.style.left = ((this._startX + (this._deltaX * k)) + 'px');
        this.target.style.top = (((this._startY + (this._height * Math.abs(Math.sin(((k * Math.PI) * this._numJumps))))) + (this._deltaY * k)) + 'px');
    }
}


/***/ }),

/***/ "eGu0":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureExternalImageLogic.ts ***!
  \*************************************************************************************/
/*! exports provided: FurnitureExternalImageLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureExternalImageLogic", function() { return FurnitureExternalImageLogic; });
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../ui/widget/enums/RoomWidgetEnum */ "f6o4");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");




class FurnitureExternalImageLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_3__["FurnitureMultiStateLogic"] {
    initialize(asset) {
        super.initialize(asset);
        if (!asset)
            return;
        if (this.object && this.object.model) {
            const maskType = '';
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_USES_PLANE_MASK, 0);
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_PLANE_MASK_TYPE, maskType);
        }
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DOUBLE_CLICK:
                this.useObject();
                break;
        }
        super.mouseEvent(event, geometry);
    }
    get widget() {
        return _ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_1__["RoomWidgetEnum"].EXTERNAL_IMAGE;
    }
}


/***/ }),

/***/ "eOmg":
/*!*************************************************************!*\
  !*** ./src/client/nitro/avatar/AvatarImagePartContainer.ts ***!
  \*************************************************************/
/*! exports provided: AvatarImagePartContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarImagePartContainer", function() { return AvatarImagePartContainer; });
/* harmony import */ var _structure_animation_AnimationFrame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./structure/animation/AnimationFrame */ "IQ+l");

class AvatarImagePartContainer {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8, _arg_9 = '', _arg_10 = false, _arg_11 = 1) {
        this._bodyPartId = k;
        this._partType = _arg_2;
        this._partId = _arg_3;
        this._color = _arg_4;
        this._frames = _arg_5;
        this._action = _arg_6;
        this._isColorable = _arg_7;
        this._paletteMapId = _arg_8;
        this._flippedPartType = _arg_9;
        this._isBlendable = _arg_10;
        if (this._partType === "ey")
            this._isColorable = false;
    }
    _Str_1674(k) {
        if (!this._frames || !this._frames.length)
            return 0;
        const frameNumber = (k % this._frames.length);
        if (this._frames[frameNumber] instanceof _structure_animation_AnimationFrame__WEBPACK_IMPORTED_MODULE_0__["AnimationFrame"]) {
            return this._frames[frameNumber].number;
        }
        return frameNumber;
    }
    _Str_2258(k) {
        const frameNumber = (k % this._frames.length);
        if (this._frames && (this._frames.length > frameNumber)) {
            if (this._frames[frameNumber] instanceof _structure_animation_AnimationFrame__WEBPACK_IMPORTED_MODULE_0__["AnimationFrame"]) {
                return this._frames[frameNumber];
            }
        }
        return null;
    }
    _Str_1206(k) {
        const frameNumber = (k % this._frames.length);
        if (this._frames && (this._frames.length > frameNumber)) {
            if (this._frames[frameNumber] instanceof _structure_animation_AnimationFrame__WEBPACK_IMPORTED_MODULE_0__["AnimationFrame"]) {
                const frame = this._frames[frameNumber];
                return (this._Str_1502 + ':' + frame._Str_778 + ':' + frame.number);
            }
        }
        return (this._Str_1502 + ':' + frameNumber);
    }
    get _Str_1360() {
        return this._bodyPartId;
    }
    get _Str_1669() {
        return this._partType;
    }
    get _Str_1502() {
        return this._partId;
    }
    get color() {
        return this._color;
    }
    get action() {
        return this._action;
    }
    get isColorable() {
        return this._isColorable;
    }
    set isColorable(k) {
        this._isColorable = k;
    }
    get _Str_1406() {
        return this._paletteMapId;
    }
    get _Str_1666() {
        return this._flippedPartType;
    }
    get _Str_1184() {
        return this._isBlendable;
    }
    toString() {
        return [this._bodyPartId, this._partType, this._partId].join(':');
    }
}


/***/ }),

/***/ "eQvG":
/*!**************************************************************************!*\
  !*** ./src/client/nitro/avatar/events/AvatarRenderEffectLibraryEvent.ts ***!
  \**************************************************************************/
/*! exports provided: AvatarRenderEffectLibraryEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarRenderEffectLibraryEvent", function() { return AvatarRenderEffectLibraryEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/events/NitroEvent */ "3r1x");

class AvatarRenderEffectLibraryEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type, library) {
        super(type);
        this._library = library;
    }
    get library() {
        return this._library;
    }
}
AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE = 'ARELE_DOWNLOAD_COMPLETE';


/***/ }),

/***/ "eX4B":
/*!**********************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/AvatarStructureDownload.ts ***!
  \**********************************************************************/
/*! exports provided: AvatarStructureDownload */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarStructureDownload", function() { return AvatarStructureDownload; });
/* harmony import */ var xml2js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! xml2js */ "CDzl");
/* harmony import */ var xml2js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(xml2js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/events/NitroEvent */ "3r1x");




class AvatarStructureDownload extends _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_2__["EventDispatcher"] {
    constructor(downloadUrl, dataReceiver) {
        super();
        this._dataReceiver = dataReceiver;
        this.download(downloadUrl);
    }
    download(url) {
        const request = new XMLHttpRequest();
        try {
            request.open('GET', url);
            request.send();
            request.onloadend = e => {
                const parser = new xml2js__WEBPACK_IMPORTED_MODULE_0__["Parser"]();
                parser.parseString(request.responseText, (err, results) => {
                    if (err || !results || !results.figuredata)
                        throw new Error('invalid_figure_data');
                    if (this._dataReceiver)
                        this._dataReceiver._Str_1017(results.figuredata);
                    this.dispatchEvent(new _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_3__["NitroEvent"](AvatarStructureDownload.AVATAR_STRUCTURE_DONE));
                });
            };
            request.onerror = e => { throw new Error('invalid_avatar_figure_data'); };
        }
        catch (e) {
            _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__["NitroLogger"].log(e);
        }
    }
}
AvatarStructureDownload.AVATAR_STRUCTURE_DONE = 'AVATAR_STRUCTURE_DONE';


/***/ }),

/***/ "ebaN":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/mapping/RoomHeightMapEvent.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomHeightMapEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomHeightMapEvent", function() { return RoomHeightMapEvent; });
/* harmony import */ var _parser_room_mapping_RoomHeightMapParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../parser/room/mapping/RoomHeightMapParser */ "Wgf2");
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");


class RoomHeightMapEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_1__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_mapping_RoomHeightMapParser__WEBPACK_IMPORTED_MODULE_0__["RoomHeightMapParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "ekex":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/RoomUnitDanceComposer.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomUnitDanceComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitDanceComposer", function() { return RoomUnitDanceComposer; });
class RoomUnitDanceComposer {
    constructor(danceType) {
        this._data = [danceType];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "er/L":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/TileCursorVisualization.ts ***!
  \************************************************************************************/
/*! exports provided: TileCursorVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TileCursorVisualization", function() { return TileCursorVisualization; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _furniture_FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../furniture/FurnitureAnimatedVisualization */ "MS0h");


class TileCursorVisualization extends _furniture_FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._tileHeight = 0;
    }
    getLayerYOffset(scale, direction, layerId) {
        if (layerId === 1) {
            this._tileHeight = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].TILE_CURSOR_HEIGHT);
            return -(this._tileHeight) * 32; // 32 = scale / 2
        }
        return super.getLayerYOffset(scale, direction, layerId);
    }
}


/***/ }),

/***/ "etar":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/utils/NavigatorSearchResultList.ts ***!
  \*****************************************************************************************************/
/*! exports provided: NavigatorSearchResultList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchResultList", function() { return NavigatorSearchResultList; });
/* harmony import */ var _NavigatorSearchResultRoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavigatorSearchResultRoom */ "8oUj");

class NavigatorSearchResultList {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._code = null;
        this._data = null;
        this._action = -1;
        this._closed = false;
        this._mode = -1;
        this._rooms = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._code = wrapper.readString();
        this._data = wrapper.readString();
        this._action = wrapper.readInt();
        this._closed = wrapper.readBoolean();
        this._mode = wrapper.readInt();
        let totalRooms = wrapper.readInt();
        while (totalRooms > 0) {
            this._rooms.push(new _NavigatorSearchResultRoom__WEBPACK_IMPORTED_MODULE_0__["NavigatorSearchResultRoom"](wrapper));
            totalRooms--;
        }
        return true;
    }
    get code() {
        return this._code;
    }
    get data() {
        return this._data;
    }
    get action() {
        return this._action;
    }
    get closed() {
        return this._closed;
    }
    get mode() {
        return this._mode;
    }
    get rooms() {
        return this._rooms;
    }
}


/***/ }),

/***/ "ey9i":
/*!*******************************!*\
  !*** ./src/app/core/index.ts ***!
  \*******************************/
/*! exports provided: CoreModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreModule", function() { return CoreModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _settings_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings/service */ "WnqX");



class CoreModule {
}
CoreModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: CoreModule });
CoreModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function CoreModule_Factory(t) { return new (t || CoreModule)(); }, providers: [
        _settings_service__WEBPACK_IMPORTED_MODULE_1__["SettingsService"]
    ] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CoreModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                providers: [
                    _settings_service__WEBPACK_IMPORTED_MODULE_1__["SettingsService"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "f/8j":
/*!******************************************************!*\
  !*** ./src/app/shared/components/badge/component.ts ***!
  \******************************************************/
/*! exports provided: BadgeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BadgeComponent", function() { return BadgeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_NitroConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/NitroConfiguration */ "8vq6");



class BadgeComponent {
    constructor() {
        this.badge = '';
        this.hover = true;
    }
    get badgeUrl() {
        return (_client_NitroConfiguration__WEBPACK_IMPORTED_MODULE_1__["NitroConfiguration"].BADGE_URL.replace('%badgename%', this.badge));
    }
}
BadgeComponent.ɵfac = function BadgeComponent_Factory(t) { return new (t || BadgeComponent)(); };
BadgeComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BadgeComponent, selectors: [["nitro-badge"]], inputs: { badge: "badge", hover: "hover" }, decls: 1, vars: 1, consts: [[3, "src"]], template: function BadgeComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx.badgeUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BadgeComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-badge',
                template: `
	<img [src]="badgeUrl" />`
            }]
    }], null, { badge: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], hover: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "f1eJ":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/pet/PetFigureUpdateEvent.ts ***!
  \*******************************************************************************************/
/*! exports provided: PetFigureUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetFigureUpdateEvent", function() { return PetFigureUpdateEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_pet_PetFigureUpdateParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/pet/PetFigureUpdateParser */ "Zylo");


class PetFigureUpdateEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_pet_PetFigureUpdateParser__WEBPACK_IMPORTED_MODULE_1__["PetFigureUpdateParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "f6o4":
/*!************************************************************!*\
  !*** ./src/client/nitro/ui/widget/enums/RoomWidgetEnum.ts ***!
  \************************************************************/
/*! exports provided: RoomWidgetEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetEnum", function() { return RoomWidgetEnum; });
class RoomWidgetEnum {
}
RoomWidgetEnum.CHAT_WIDGET = 'RWE_CHAT_WIDGET';
RoomWidgetEnum.INFOSTAND = 'RWE_INFOSTAND';
RoomWidgetEnum.ME_MENU = 'RWE_ME_MENU';
RoomWidgetEnum.CHAT_INPUT_WIDGET = 'RWE_CHAT_INPUT_WIDGET';
RoomWidgetEnum.FURNI_PLACEHOLDER = 'RWE_FURNI_PLACEHOLDER';
RoomWidgetEnum.FURNI_CREDIT_WIDGET = 'RWE_FURNI_CREDIT_WIDGET';
RoomWidgetEnum.FURNI_STICKIE_WIDGET = 'RWE_FURNI_STICKIE_WIDGET';
RoomWidgetEnum.FURNI_TROPHY_WIDGET = 'RWE_FURNI_TROPHY_WIDGET';
RoomWidgetEnum.FURNI_PRESENT_WIDGET = 'RWE_FURNI_PRESENT_WIDGET';
RoomWidgetEnum.FURNI_ECOTRONBOX_WIDGET = 'RWE_FURNI_ECOTRONBOX_WIDGET';
RoomWidgetEnum.FURNI_PET_PACKAGE_WIDGET = 'RWE_FURNI_PET_PACKAGE_WIDGET';
RoomWidgetEnum.PLAYLIST_EDITOR_WIDGET = 'RWE_PLAYLIST_EDITOR_WIDGET';
RoomWidgetEnum.DOORBELL = 'RWE_DOORBELL';
RoomWidgetEnum.LOADINGBAR = 'RWE_LOADINGBAR';
RoomWidgetEnum.ROOM_QUEUE = 'RWE_ROOM_QUEUE';
RoomWidgetEnum.ROOM_POLL = 'RWE_ROOM_POLL';
RoomWidgetEnum.ROOM_VOTE = 'RWE_ROOM_VOTE';
RoomWidgetEnum.USER_CHOOSER = 'RWE_USER_CHOOSER';
RoomWidgetEnum.FURNI_CHOOSER = 'RWE_FURNI_CHOOSER';
RoomWidgetEnum.ROOM_DIMMER = 'RWE_ROOM_DIMMER';
RoomWidgetEnum.FRIEND_REQUEST = 'RWE_FRIEND_REQUEST';
RoomWidgetEnum.CLOTHING_CHANGE = 'RWE_CLOTHING_CHANGE';
RoomWidgetEnum.CONVERSION_TRACKING = 'RWE_CONVERSION_TRACKING';
RoomWidgetEnum.USER_NOTIFICATION = 'RWE_USER_NOTIFICATION';
RoomWidgetEnum.FRIENDS_BAR = 'RWE_FRIENDS_BAR';
RoomWidgetEnum.PURSE_WIDGET = 'RWE_PURSE_WIDGET';
RoomWidgetEnum.AVATAR_INFO = 'RWE_AVATAR_INFO';
RoomWidgetEnum.WELCOME_GIFT = 'RWE_WELCOME_GIFT';
RoomWidgetEnum.SPAMWALL_POSTIT_WIDGET = 'RWE_SPAMWALL_POSTIT_WIDGET';
RoomWidgetEnum.EFFECTS = 'RWE_EFFECTS';
RoomWidgetEnum.MANNEQUIN = 'RWE_MANNEQUIN';
RoomWidgetEnum.FURNITURE_CONTEXT_MENU = 'RWE_FURNITURE_CONTEXT_MENU';
RoomWidgetEnum.LOCATION_WIDGET = 'RWE_LOCATION_WIDGET';
RoomWidgetEnum.CAMERA = 'RWE_CAMERA';
RoomWidgetEnum.ROOM_THUMBNAIL_CAMERA = 'RWE_ROOM_THUMBNAIL_CAMERA';
RoomWidgetEnum.ROOM_BACKGROUND_COLOR = 'RWE_ROOM_BACKGROUND_COLOR';
RoomWidgetEnum.CUSTOM_USER_NOTIFICATION = 'RWE_CUSTOM_USER_NOTIFICATION';
RoomWidgetEnum.FURNI_ACHIEVEMENT_RESOLUTION_ENGRAVING = 'RWE_FURNI_ACHIEVEMENT_RESOLUTION_ENGRAVING';
RoomWidgetEnum.FRIEND_FURNI_CONFIRM = 'RWE_FRIEND_FURNI_CONFIRM';
RoomWidgetEnum.FRIEND_FURNI_ENGRAVING = 'RWE_FRIEND_FURNI_ENGRAVING';
RoomWidgetEnum.HIGH_SCORE_DISPLAY = 'RWE_HIGH_SCORE_DISPLAY';
RoomWidgetEnum.INTERNAL_LINK = 'RWE_INTERNAL_LINK';
RoomWidgetEnum.CUSTOM_STACK_HEIGHT = 'RWE_CUSTOM_STACK_HEIGHT';
RoomWidgetEnum.YOUTUBE = 'RWE_YOUTUBE';
RoomWidgetEnum.RENTABLESPACE = 'RWE_RENTABLESPACE';
RoomWidgetEnum.VIMEO = 'RWE_VIMEO';
RoomWidgetEnum.ROOM_TOOLS = 'RWE_ROOM_TOOLS';
RoomWidgetEnum.EXTERNAL_IMAGE = 'RWE_EXTERNAL_IMAGE';
RoomWidgetEnum.WORD_QUIZZ = 'RWE_WORD_QUIZZ';
RoomWidgetEnum.UI_HELP_BUBBLE = 'RWE_UI_HELP_BUBBLE';
RoomWidgetEnum.ROOM_LINK = 'RWE_ROOM_LINK';
RoomWidgetEnum.CRAFTING = 'RWE_CRAFTING';
RoomWidgetEnum.ROOMGAME_CHECKERS = 'RWE_GAME_CHECKERS';


/***/ }),

/***/ "fBF8":
/*!************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureLogic.ts ***!
  \************************************************************************/
/*! exports provided: FurnitureLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureLogic", function() { return FurnitureLogic; });
/* harmony import */ var _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/events/RoomObjectMouseEvent */ "iiZs");
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/messages/RoomObjectUpdateMessage */ "yF7E");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../events/RoomObjectStateChangedEvent */ "9LM3");
/* harmony import */ var _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../events/RoomObjectWidgetRequestEvent */ "6u0Z");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _messages_ObjectHeightUpdateMessage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../messages/ObjectHeightUpdateMessage */ "/Dul");
/* harmony import */ var _messages_ObjectItemDataUpdateMessage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../messages/ObjectItemDataUpdateMessage */ "ppsz");
/* harmony import */ var _messages_ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../messages/ObjectMoveUpdateMessage */ "jNIr");
/* harmony import */ var _messages_ObjectSelectedMessage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../messages/ObjectSelectedMessage */ "k+O9");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _MovingObjectLogic__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../MovingObjectLogic */ "PlVe");













class FurnitureLogic extends _MovingObjectLogic__WEBPACK_IMPORTED_MODULE_12__["MovingObjectLogic"] {
    constructor() {
        super();
        this._sizeX = 0;
        this._sizeY = 0;
        this._sizeZ = 0;
        this._centerX = 0;
        this._centerY = 0;
        this._centerZ = 0;
        this._directions = [];
        this._mouseOver = false;
        this._locationOffset = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_2__["Vector3D"]();
        this._bouncingStep = 0;
        this._storedRotateMessage = null;
        this._directionInitialized = false;
    }
    getEventTypes() {
        const types = [_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_4__["RoomObjectStateChangedEvent"].STATE_CHANGE, _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].CLICK, _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_DOWN];
        if (this.widget)
            types.push(_events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"].OPEN_WIDGET, _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"].CLOSE_WIDGET);
        if (this.contextMenu)
            types.push(_events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"].OPEN_FURNI_CONTEXT_MENU, _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"].CLOSE_FURNI_CONTEXT_MENU);
        return this.mergeTypes(super.getEventTypes(), types);
    }
    initialize(asset) {
        if (!asset)
            return;
        const model = this.object && this.object.model;
        if (!model)
            return;
        const dimensions = asset.dimensions;
        if (!dimensions)
            return;
        this._sizeX = dimensions.x;
        this._sizeY = dimensions.y;
        this._sizeZ = dimensions.z;
        this._centerX = (this._sizeX / 2);
        this._centerY = (this._sizeY / 2);
        this._centerZ = (this._sizeZ / 2);
        const directions = asset.directions;
        if (directions && directions.length) {
            for (let direction of directions)
                this._directions.push(direction);
            this._directions.sort((a, b) => { return a - b; });
        }
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_SIZE_X, this._sizeX);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_SIZE_Y, this._sizeY);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_SIZE_Z, this._sizeZ);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_CENTER_X, this._centerX);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_CENTER_Y, this._centerY);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_CENTER_Z, this._centerZ);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_ALLOWED_DIRECTIONS, this._directions);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_ALPHA_MULTIPLIER, 1);
    }
    dispose() {
        super.dispose();
        this._storedRotateMessage = null;
        this._directions = null;
    }
    setObject(object) {
        super.setObject(object);
        if (object && object.getLocation().length)
            this._directionInitialized = true;
    }
    getAdClickUrl(model) {
        return model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_AD_URL);
    }
    update(time) {
        super.update(time);
        if (this._bouncingStep > 0) {
            this._bouncingStep++;
            if (this._bouncingStep > FurnitureLogic.BOUNCING_STEPS)
                this._bouncingStep = 0;
        }
    }
    processUpdateMessage(message) {
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_6__["ObjectDataUpdateMessage"]) {
            this.processDataUpdateMessage(message);
            return;
        }
        if (message instanceof _messages_ObjectHeightUpdateMessage__WEBPACK_IMPORTED_MODULE_7__["ObjectHeightUpdateMessage"]) {
            this.processObjectHeightUpdateMessage(message);
            return;
        }
        if (message instanceof _messages_ObjectItemDataUpdateMessage__WEBPACK_IMPORTED_MODULE_8__["ObjectItemDataUpdateMessage"]) {
            this.processItemDataUpdateMessage(message);
            return;
        }
        this._mouseOver = false;
        if (message.location && message.direction) {
            if (!(message instanceof _messages_ObjectMoveUpdateMessage__WEBPACK_IMPORTED_MODULE_9__["ObjectMoveUpdateMessage"])) {
                const direction = this.object.getDirection();
                const location = this.object.getLocation();
                if ((direction.x !== message.direction.x) && this._directionInitialized) {
                    if ((location.x === message.location.x) && (location.y === message.location.y) && (location.z === message.location.z)) {
                        this._bouncingStep = 1;
                        this._storedRotateMessage = new _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_1__["RoomObjectUpdateMessage"](message.location, message.direction);
                        message = null;
                    }
                }
            }
            this._directionInitialized = true;
        }
        if (message instanceof _messages_ObjectSelectedMessage__WEBPACK_IMPORTED_MODULE_10__["ObjectSelectedMessage"]) {
            if (this.contextMenu && this.eventDispatcher && this.object) {
                const eventType = (message.selected) ? _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"].OPEN_FURNI_CONTEXT_MENU : _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"].CLOSE_FURNI_CONTEXT_MENU;
                this.eventDispatcher.dispatchEvent(new _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"](eventType, this.object));
            }
        }
        super.processUpdateMessage(message);
    }
    processDataUpdateMessage(message) {
        if (!message)
            return;
        this.object.setState(message.state, 0);
        if (message.data)
            message.data.writeRoomObjectModel(this.object.model);
        if (!isNaN(message.extra))
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_EXTRAS, message.extra);
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_STATE_UPDATE_TIME, this.lastUpdateTime);
    }
    processObjectHeightUpdateMessage(message) {
        if (!message)
            return;
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_SIZE_Z, message.height);
    }
    processItemDataUpdateMessage(message) {
        if (!message)
            return;
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_11__["RoomObjectVariable"].FURNITURE_ITEMDATA, message.data);
    }
    mouseEvent(event, geometry) {
        const adUrl = this.getAdClickUrl(this.object.model);
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_3__["MouseEventType"].MOUSE_MOVE:
                if (this.eventDispatcher) {
                    const mouseEvent = new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"](_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_MOVE, this.object, event._Str_3463, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown);
                    mouseEvent.localX = event.localX;
                    mouseEvent.localY = event.localY;
                    mouseEvent.spriteOffsetX = event.spriteOffsetX;
                    mouseEvent.spriteOffsetY = event.spriteOffsetY;
                    this.eventDispatcher.dispatchEvent(mouseEvent);
                }
                return;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_3__["MouseEventType"].ROLL_OVER:
                if (!this._mouseOver) {
                    if (this.eventDispatcher) {
                        const mouseEvent = new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"](_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_ENTER, this.object, event._Str_3463, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown);
                        mouseEvent.localX = event.localX;
                        mouseEvent.localY = event.localY;
                        mouseEvent.spriteOffsetX = event.spriteOffsetX;
                        mouseEvent.spriteOffsetY = event.spriteOffsetY;
                        this.eventDispatcher.dispatchEvent(mouseEvent);
                    }
                    this._mouseOver = true;
                }
                return;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_3__["MouseEventType"].ROLL_OUT:
                if (this._mouseOver) {
                    if (this.eventDispatcher) {
                        const mouseEvent = new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"](_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_LEAVE, this.object, event._Str_3463, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown);
                        mouseEvent.localX = event.localX;
                        mouseEvent.localY = event.localY;
                        mouseEvent.spriteOffsetX = event.spriteOffsetX;
                        mouseEvent.spriteOffsetY = event.spriteOffsetY;
                        this.eventDispatcher.dispatchEvent(mouseEvent);
                    }
                    this._mouseOver = false;
                }
                return;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_3__["MouseEventType"].DOUBLE_CLICK:
                this.useObject();
                return;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_3__["MouseEventType"].MOUSE_CLICK:
                if (this.eventDispatcher) {
                    const mouseEvent = new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"](_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].CLICK, this.object, event._Str_3463, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown);
                    mouseEvent.localX = event.localX;
                    mouseEvent.localY = event.localY;
                    mouseEvent.spriteOffsetX = event.spriteOffsetX;
                    mouseEvent.spriteOffsetY = event.spriteOffsetY;
                    this.eventDispatcher.dispatchEvent(mouseEvent);
                }
                if (this.eventDispatcher && this.object && this.contextMenu) {
                    this.eventDispatcher.dispatchEvent(new _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"](_events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"].OPEN_FURNI_CONTEXT_MENU, this.object));
                }
                return;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_3__["MouseEventType"].MOUSE_DOWN:
                if (this.eventDispatcher) {
                    const mouseEvent = new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"](_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_DOWN, this.object, event._Str_3463, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown);
                    this.eventDispatcher.dispatchEvent(mouseEvent);
                }
                return;
        }
    }
    getLocationOffset() {
        if (this._bouncingStep <= 0)
            return null;
        this._locationOffset.x = 0;
        this._locationOffset.y = 0;
        if (this._bouncingStep <= (FurnitureLogic.BOUNCING_STEPS / 2)) {
            this._locationOffset.z = FurnitureLogic.BOUNCING_Z * this._bouncingStep;
        }
        else {
            if (this._bouncingStep <= FurnitureLogic.BOUNCING_STEPS) {
                if (this._storedRotateMessage) {
                    super.processUpdateMessage(this._storedRotateMessage);
                    this._storedRotateMessage = null;
                }
                this._locationOffset.z = FurnitureLogic.BOUNCING_Z * (FurnitureLogic.BOUNCING_STEPS - this._bouncingStep);
            }
        }
        return this._locationOffset;
    }
    useObject() {
        if (!this.object)
            return;
        const adUrl = this.getAdClickUrl(this.object.model);
        if (this.eventDispatcher) {
            if (this.widget)
                this.eventDispatcher.dispatchEvent(new _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"](_events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectWidgetRequestEvent"].OPEN_WIDGET, this.object));
            this.eventDispatcher.dispatchEvent(new _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_4__["RoomObjectStateChangedEvent"](_events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_4__["RoomObjectStateChangedEvent"].STATE_CHANGE, this.object));
        }
    }
}
FurnitureLogic.BOUNCING_STEPS = 8;
FurnitureLogic.BOUNCING_Z = 0.0625;


/***/ }),

/***/ "fFOI":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomChatParser.ts ***!
  \************************************************************************************/
/*! exports provided: RoomChatParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomChatParser", function() { return RoomChatParser; });
class RoomChatParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._mode = 0;
        this._weight = 0;
        this._speed = 0;
        this._distance = 0;
        this._protection = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._mode = wrapper.readInt();
        this._weight = wrapper.readInt();
        this._speed = wrapper.readInt();
        this._distance = wrapper.readInt();
        this._protection = wrapper.readInt();
        return true;
    }
    get mode() {
        return this._mode;
    }
    get weight() {
        return this._weight;
    }
    get speed() {
        return this._speed;
    }
    get distance() {
        return this._distance;
    }
    get protection() {
        return this._protection;
    }
}
RoomChatParser._Str_19408 = 0;
RoomChatParser._Str_12787 = 1;
RoomChatParser._Str_16907 = 0;
RoomChatParser._Str_12581 = 1;
RoomChatParser._Str_16484 = 2;
RoomChatParser._Str_18404 = 0;
RoomChatParser._Str_17874 = 1;
RoomChatParser._Str_16469 = 2;
RoomChatParser._Str_21099 = 0;
RoomChatParser._Str_20763 = 1;
RoomChatParser._Str_22060 = 2;


/***/ }),

/***/ "fNcR":
/*!*************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectVisibilityUpdateMessage.ts ***!
  \*************************************************************************/
/*! exports provided: ObjectVisibilityUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectVisibilityUpdateMessage", function() { return ObjectVisibilityUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectVisibilityUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(type) {
        super(null, null);
        this._type = type;
    }
    get type() {
        return this._type;
    }
}
ObjectVisibilityUpdateMessage.ENABLED = 'ROVUM_ENABLED';
ObjectVisibilityUpdateMessage.DISABLED = 'ROVUM_DISABLED';


/***/ }),

/***/ "fVO9":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitEvent.ts ***!
  \*************************************************************************************/
/*! exports provided: RoomUnitEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitEvent", function() { return RoomUnitEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitParser */ "HX3l");


class RoomUnitEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "fYwz":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/chat/RoomUnitTypingParser.ts ***!
  \***********************************************************************************************/
/*! exports provided: RoomUnitTypingParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitTypingParser", function() { return RoomUnitTypingParser; });
class RoomUnitTypingParser {
    flush() {
        this._unitId = null;
        this._isTyping = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = wrapper.readInt();
        this._isTyping = wrapper.readInt() === 1 ? true : false;
        return true;
    }
    get unitId() {
        return this._unitId;
    }
    get isTyping() {
        return this._isTyping;
    }
}


/***/ }),

/***/ "faf2":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogPageParser.ts ***!
  \*************************************************************************************/
/*! exports provided: CatalogPageParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPageParser", function() { return CatalogPageParser; });
/* harmony import */ var _utils_CatalogFrontPageItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/CatalogFrontPageItem */ "XAr4");
/* harmony import */ var _utils_CatalogLocalizationData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/CatalogLocalizationData */ "Fg/i");
/* harmony import */ var _utils_CatalogPageOfferData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/CatalogPageOfferData */ "0wjC");



class CatalogPageParser {
    flush() {
        this._pageId = -1;
        this._catalogType = null;
        this._layoutCode = null;
        this._localization = null;
        this._offers = [];
        this._offerId = -1;
        this._acceptSeasonCurrencyAsCredits = false;
        this._frontPageItems = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._pageId = wrapper.readInt();
        this._catalogType = wrapper.readString();
        this._layoutCode = wrapper.readString();
        this._localization = new _utils_CatalogLocalizationData__WEBPACK_IMPORTED_MODULE_1__["CatalogLocalizationData"](wrapper);
        let totalOffers = wrapper.readInt();
        while (totalOffers > 0) {
            this._offers.push(new _utils_CatalogPageOfferData__WEBPACK_IMPORTED_MODULE_2__["CatalogPageOfferData"](wrapper));
            totalOffers--;
        }
        this._offerId = wrapper.readInt();
        this._acceptSeasonCurrencyAsCredits = wrapper.readBoolean();
        if (wrapper.bytesAvailable) {
            let totalFrontPageItems = wrapper.readInt();
            while (totalFrontPageItems > 0) {
                this._frontPageItems.push(new _utils_CatalogFrontPageItem__WEBPACK_IMPORTED_MODULE_0__["CatalogFrontPageItem"](wrapper));
                totalFrontPageItems--;
            }
        }
        return true;
    }
    get pageId() {
        return this._pageId;
    }
    get catalogType() {
        return this._catalogType;
    }
    get layoutCode() {
        return this._layoutCode;
    }
    get localization() {
        return this._localization;
    }
    get offers() {
        return this._offers;
    }
    get offerId() {
        return this._offerId;
    }
    get acceptSeasonCurrencyAsCredits() {
        return this._acceptSeasonCurrencyAsCredits;
    }
    get frontPageItems() {
        return this._frontPageItems;
    }
}


/***/ }),

/***/ "fnht":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/security/SecurityTicketComposer.ts ***!
  \*********************************************************************************************/
/*! exports provided: SecurityTicketComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SecurityTicketComposer", function() { return SecurityTicketComposer; });
class SecurityTicketComposer {
    constructor(ticket) {
        this._data = [ticket];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "fuks":
/*!****************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureDiceActivateComposer.ts ***!
  \****************************************************************************************************************/
/*! exports provided: FurnitureDiceActivateComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureDiceActivateComposer", function() { return FurnitureDiceActivateComposer; });
class FurnitureDiceActivateComposer {
    constructor(itemId) {
        this._data = [itemId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "g4Z0":
/*!**********************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/furni/component.ts ***!
  \**********************************************************************/
/*! exports provided: RoomInfoStandFurniComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoStandFurniComponent", function() { return RoomInfoStandFurniComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../client/nitro/session/enum/RoomControllerLevel */ "9vQN");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetEnumItemExtradataParameter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../client/nitro/ui/widget/enums/RoomWidgetEnumItemExtradataParameter */ "6j78");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetFurniInfoUsagePolicyEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../client/nitro/ui/widget/enums/RoomWidgetFurniInfoUsagePolicyEnum */ "tuHO");
/* harmony import */ var _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../messages/RoomWidgetFurniActionMessage */ "zFyg");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");







const _c0 = ["imageContainer"];
function RoomInfoStandFurniComponent_button_14_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandFurniComponent_button_14_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.processButtonAction("move"); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "move");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function RoomInfoStandFurniComponent_button_15_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandFurniComponent_button_15_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.processButtonAction("rotate"); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "rotate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function RoomInfoStandFurniComponent_button_16_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandFurniComponent_button_16_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.processButtonAction("pickup"); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("pickup (", ctx_r3.pickupMode, ")");
} }
function RoomInfoStandFurniComponent_button_17_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandFurniComponent_button_17_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.processButtonAction("use"); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "use");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c1 = function (a0) { return { "active": a0 }; };
class RoomInfoStandFurniComponent {
    constructor() {
        this.name = '';
        this.description = '';
        this.ownerName = '';
        this.ownerId = -1;
        this.pickupMode = 0;
        this.canMove = false;
        this.canRotate = false;
        this.canUse = false;
        this.visible = false;
    }
    show() {
        if (!this.visible)
            this.visible = true;
    }
    hide() {
        if (this.visible)
            this.visible = false;
    }
    update(event) {
        this.name = event.name;
        this.description = event.description;
        this.ownerId = event.ownerId;
        this.ownerName = event.ownerName;
        if (event.image) {
            this.imageElement.innerHTML = '';
            this.imageElement.appendChild(event.image);
        }
        let canMove = false;
        let canRotate = false;
        let canUse = false;
        if ((event.roomControllerLevel >= _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_1__["RoomControllerLevel"].GUEST) || event.isOwner || event.isRoomOwner || event.isAnyRoomOwner) {
            canMove = true;
            canRotate = (!event.isWallItem);
        }
        let _local_6 = (event.roomControllerLevel >= _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_1__["RoomControllerLevel"].GUEST);
        if ((((event.usagePolicy === _client_nitro_ui_widget_enums_RoomWidgetFurniInfoUsagePolicyEnum__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetFurniInfoUsagePolicyEnum"]._Str_18353) || ((event.usagePolicy === _client_nitro_ui_widget_enums_RoomWidgetFurniInfoUsagePolicyEnum__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetFurniInfoUsagePolicyEnum"]._Str_18194) && _local_6)) || ((event.extraParam === _client_nitro_ui_widget_enums_RoomWidgetEnumItemExtradataParameter__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetEnumItemExtradataParameter"].JUKEBOX) && _local_6)) || ((event.extraParam == _client_nitro_ui_widget_enums_RoomWidgetEnumItemExtradataParameter__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetEnumItemExtradataParameter"].USABLE_PRODUCT) && _local_6)) {
            canUse = true;
        }
        this.canMove = canMove;
        this.canRotate = canRotate;
        this.canUse = canUse;
        this.togglePickupButton(event);
    }
    togglePickupButton(event) {
        if (!event)
            return;
        this.pickupMode = RoomInfoStandFurniComponent.PICKUP_MODE_NONE;
        if (event.isOwner || event.isAnyRoomOwner) {
            this.pickupMode = RoomInfoStandFurniComponent.PICKUP_MODE_FULL;
        }
        else if (event.isRoomOwner || (event.roomControllerLevel >= _client_nitro_session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_1__["RoomControllerLevel"].GUILD_ADMIN)) {
            this.pickupMode = RoomInfoStandFurniComponent.PICKUP_MODE_EJECT;
        }
        if (event.isStickie)
            this.pickupMode = RoomInfoStandFurniComponent.PICKUP_MODE_NONE;
    }
    processButtonAction(action) {
        if (!action || (action === ''))
            return;
        let messageType = null;
        switch (action) {
            case 'move':
                messageType = _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetFurniActionMessage"].RWFAM_MOVE;
                break;
            case 'rotate':
                messageType = _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetFurniActionMessage"].RWFUAM_ROTATE;
                break;
            case 'pickup':
                if (this.pickupMode === RoomInfoStandFurniComponent.PICKUP_MODE_FULL) {
                    messageType = _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetFurniActionMessage"].RWFAM_PICKUP;
                }
                else {
                    messageType = _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetFurniActionMessage"].RWFAM_EJECT;
                }
                break;
            case 'use':
                messageType = _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetFurniActionMessage"].RWFAM_USE;
                break;
        }
        if (!messageType)
            return;
        this.widget.messageListener.processWidgetMessage(new _messages_RoomWidgetFurniActionMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetFurniActionMessage"](messageType, this.widget.furniData.id, this.widget.furniData.category, this.widget.furniData.purchaseOfferId, null));
    }
    get imageElement() {
        return ((this.imageContainer && this.imageContainer.nativeElement) || null);
    }
}
RoomInfoStandFurniComponent.PICKUP_MODE_NONE = 0;
RoomInfoStandFurniComponent.PICKUP_MODE_EJECT = 1;
RoomInfoStandFurniComponent.PICKUP_MODE_FULL = 2;
RoomInfoStandFurniComponent.ɵfac = function RoomInfoStandFurniComponent_Factory(t) { return new (t || RoomInfoStandFurniComponent)(); };
RoomInfoStandFurniComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomInfoStandFurniComponent, selectors: [["nitro-room-infostand-furni-component"]], viewQuery: function RoomInfoStandFurniComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.imageContainer = _t.first);
    } }, inputs: { widget: "widget" }, decls: 18, vars: 10, consts: [[1, "nitro-room-infostand-furni-component", 3, "ngClass"], [1, "card"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "card-body"], [1, "body-image"], ["imageContainer", ""], [1, "furni-description"], [1, "button-container", "btn-group"], ["type", "button", "class", "btn btn-primary", 3, "click", 4, "ngIf"], ["type", "button", 1, "btn", "btn-primary", 3, "click"]], template: function RoomInfoStandFurniComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoomInfoStandFurniComponent_Template_div_click_5_listener() { return ctx.hide(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "i", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "div", 7, 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, RoomInfoStandFurniComponent_button_14_Template, 2, 0, "button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, RoomInfoStandFurniComponent_button_15_Template, 2, 0, "button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, RoomInfoStandFurniComponent_button_16_Template, 2, 1, "button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, RoomInfoStandFurniComponent_button_17_Template, 2, 0, "button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c1, ctx.visible));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.description);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.ownerName, " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.canMove);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.canRotate);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.pickupMode !== 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.canUse);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomInfoStandFurniComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-infostand-furni-component',
                template: `
    <div class="nitro-room-infostand-furni-component" [ngClass]="{ 'active': visible }">
        <div class="card">
            <div class="card-header">
                <div class="header-title">{{ name }}</div>
                <div class="header-close" (click)="hide()"><i class="fas fa-times"></i></div>
            </div>
            <div class="card-body">
                <div #imageContainer class="body-image"></div>
                <div class="furni-description">{{ description }}</div>
                {{ ownerName }}
            </div>
        </div>
        <div class="button-container btn-group">
            <button *ngIf="canMove" type="button" class="btn btn-primary" (click)="processButtonAction('move')">move</button>
            <button *ngIf="canRotate" type="button" class="btn btn-primary" (click)="processButtonAction('rotate')">rotate</button>
            <button *ngIf="(pickupMode !== 0)" type="button" class="btn btn-primary" (click)="processButtonAction('pickup')">pickup ({{ pickupMode }})</button>
            <button *ngIf="canUse" type="button" class="btn btn-primary" (click)="processButtonAction('use')">use</button>
        </div>
    </div>`
            }]
    }], null, { widget: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], imageContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['imageContainer']
        }] }); })();


/***/ }),

/***/ "gHKk":
/*!***************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureRandomStateComposer.ts ***!
  \***************************************************************************************************************/
/*! exports provided: FurnitureRandomStateComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureRandomStateComposer", function() { return FurnitureRandomStateComposer; });
class FurnitureRandomStateComposer {
    constructor(itemId, state) {
        this._data = [itemId, state];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "gLCd":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/ui/widget/enums/SystemChatStyleEnum.ts ***!
  \*****************************************************************/
/*! exports provided: SystemChatStyleEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SystemChatStyleEnum", function() { return SystemChatStyleEnum; });
class SystemChatStyleEnum {
}
SystemChatStyleEnum.NORMAL = 0;
SystemChatStyleEnum.GENERIC = 1;
SystemChatStyleEnum.BOT = 2;


/***/ }),

/***/ "gXhT":
/*!***************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetChatMessage.ts ***!
  \***************************************************************************/
/*! exports provided: RoomWidgetChatMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetChatMessage", function() { return RoomWidgetChatMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetChatMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(type, text, chatType, recipientName, styleId) {
        super(type);
        this._text = text;
        this._chatType = chatType;
        this._recipientName = recipientName;
        this._styleId = styleId;
    }
    get text() {
        return this._text;
    }
    get chatType() {
        return this._chatType;
    }
    get recipientName() {
        return this._recipientName;
    }
    get styleId() {
        return this._styleId;
    }
}
RoomWidgetChatMessage.MESSAGE_CHAT = 'RWCM_MESSAGE_CHAT';
RoomWidgetChatMessage.CHAT_DEFAULT = 0;
RoomWidgetChatMessage.CHAT_WHISPER = 1;
RoomWidgetChatMessage.CHAT_SHOUT = 2;


/***/ }),

/***/ "gYzS":
/*!***************************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/pet/InfoStandPetData.ts ***!
  \***************************************************************************/
/*! exports provided: InfoStandPetData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoStandPetData", function() { return InfoStandPetData; });
class InfoStandPetData {
    constructor() {
        this._name = "";
        this._petId = -1;
    }
    get name() {
        return this._name;
    }
    get id() {
        return this._petId;
    }
    get type() {
        return this._type;
    }
    get race() {
        return this._race;
    }
    get image() {
        return this._image;
    }
    get _Str_5175() {
        return this._isOwnPet;
    }
    get _Str_2481() {
        return this._ownerId;
    }
    get ownerName() {
        return this._ownerName;
    }
    get _Str_5114() {
        return this._canRemovePet;
    }
    get age() {
        return this._age;
    }
    get unknownRarityLevel() {
        return this._breedId;
    }
    get _Str_3307() {
        return this._skillTresholds;
    }
    get publiclyRideable() {
        return this._accessRights;
    }
    get level() {
        return this._level;
    }
    get _Str_4276() {
        return this._levelMax;
    }
    get experience() {
        return this._experience;
    }
    get _Str_4095() {
        return this._experienceMax;
    }
    get energy() {
        return this._energy;
    }
    get _Str_3966() {
        return this._energyMax;
    }
    get happyness() {
        return this._nutrition;
    }
    get _Str_4448() {
        return this._nutritionMax;
    }
    get _Str_6943() {
        return this._petRespect;
    }
    get _Str_2707() {
        return this._roomIndex;
    }
    get rarityLevel() {
        return this._rarityLevel;
    }
    get maximumTimeToLive() {
        return this._maxWellBeingSeconds;
    }
    get remainingTimeToLive() {
        return this._remainingWellBeingSeconds;
    }
    get remainingGrowTime() {
        return this._remainingGrowingSeconds;
    }
    get publiclyBreedable() {
        return this._hasBreedingPermission;
    }
    populate(k) {
        this._name = k.name;
        this._petId = k.id;
        this._type = k._Str_4355;
        this._race = k._Str_14767;
        this._image = k.image;
        this._isOwnPet = k._Str_5175;
        this._ownerId = k.ownerId;
        this._ownerName = k.ownerName;
        this._canRemovePet = k._Str_5114;
        this._level = k.level;
        this._levelMax = k.maximumLevel;
        this._experience = k.experience;
        this._experienceMax = k.levelExperienceGoal;
        this._energy = k.energy;
        this._energyMax = k.maximumEnergy;
        this._nutrition = k.happyness;
        this._nutritionMax = k.maximumHappyness;
        this._petRespect = k.respect;
        this._roomIndex = k._Str_2707;
        this._age = k.age;
        this._breedId = k.unknownRarityLevel;
        this._skillTresholds = k._Str_3307;
        this._accessRights = k.publiclyRideable;
        this._maxWellBeingSeconds = k.maximumTimeToLive;
        this._remainingWellBeingSeconds = k.remainingTimeToLive;
        this._remainingGrowingSeconds = k.remainingGrowTime;
        this._rarityLevel = k.rarityLevel;
        this._hasBreedingPermission = k.publiclyBreedable;
    }
}


/***/ }),

/***/ "glfn":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogPurchaseUnavailableParser.ts ***!
  \****************************************************************************************************/
/*! exports provided: CatalogPurchaseUnavailableParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseUnavailableParser", function() { return CatalogPurchaseUnavailableParser; });
class CatalogPurchaseUnavailableParser {
    flush() {
        this._code = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._code = wrapper.readInt();
        return true;
    }
    get code() {
        return this._code;
    }
}


/***/ }),

/***/ "gnow":
/*!********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitChatWhisperComposer.ts ***!
  \********************************************************************************************************/
/*! exports provided: RoomUnitChatWhisperComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitChatWhisperComposer", function() { return RoomUnitChatWhisperComposer; });
class RoomUnitChatWhisperComposer {
    constructor(recipientName, message, styleId) {
        this._data = [(recipientName + ' ' + message), styleId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "gow0":
/*!*********************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/SizeData.ts ***!
  \*********************************************************************/
/*! exports provided: SizeData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SizeData", function() { return SizeData; });
/* harmony import */ var _room_utils_SpriteUtilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/utils/SpriteUtilities */ "q5x/");
/* harmony import */ var _ColorData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ColorData */ "DZd4");
/* harmony import */ var _DirectionData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DirectionData */ "OsEh");
/* harmony import */ var _LayerData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LayerData */ "QIMa");




class SizeData {
    constructor(layerCount, angle) {
        this._layerCount = ((layerCount < 0) ? 0 : ((layerCount > SizeData.MAX_LAYERS) ? SizeData.MAX_LAYERS : layerCount));
        this._angle = angle < 1 ? 1 : angle > 360 ? 360 : angle;
        this._defaultDirection = new _DirectionData__WEBPACK_IMPORTED_MODULE_2__["DirectionData"](this._layerCount);
        this._directions = new Map();
        this._colors = [];
        this._lastDirectionData = null;
        this._lastDirection = -1;
    }
    dispose() {
        if (this._defaultDirection)
            this._defaultDirection.dispose();
        for (let direction of this._directions.values()) {
            if (!direction)
                continue;
            direction.dispose();
        }
        for (let color of this._colors) {
            if (!color)
                continue;
            color.dispose();
        }
        this.reset();
    }
    reset() {
        this._defaultDirection = null;
        this._colors = [];
        this._lastDirectionData = null;
        this._lastDirection = -1;
        this._directions.clear();
    }
    processLayers(layers) {
        if (!layers)
            return false;
        return this.setDirectionLayers(this._defaultDirection, layers);
    }
    processDirections(directions) {
        if (!directions)
            return false;
        for (let key in directions) {
            const direction = directions[key];
            if (!direction)
                continue;
            const directionNumber = parseInt(key);
            if (this._directions.get(directionNumber))
                return false;
            const directionData = new _DirectionData__WEBPACK_IMPORTED_MODULE_2__["DirectionData"](this._layerCount);
            directionData.setFromDirection(this._defaultDirection);
            this.setDirectionLayers(directionData, direction.layers);
            this._directions.set(directionNumber, directionData);
            this._lastDirectionData = null;
            this._lastDirection = -1;
        }
        return true;
    }
    processColors(colors) {
        if (!colors)
            return false;
        for (let key in colors) {
            const color = colors[key];
            if (!color)
                continue;
            const colorNumber = parseInt(key);
            if (this._colors[colorNumber])
                return false;
            const colorData = new _ColorData__WEBPACK_IMPORTED_MODULE_1__["ColorData"](this._layerCount);
            for (let layer in color.layers) {
                const colorLayer = color.layers[layer];
                if (!colorLayer)
                    continue;
                const layerId = parseInt(layer);
                const colorId = colorLayer.color;
                colorData.setColorLayer(layerId, colorId);
            }
            this._colors[colorNumber] = colorData;
        }
        return true;
    }
    setDirectionLayers(directionData, layers) {
        if (!directionData || !layers)
            return false;
        for (let key in layers) {
            const layer = layers[key];
            if (!layer)
                continue;
            const layerId = parseInt(key);
            if (layerId < 0 || (layerId >= this._layerCount))
                return false;
            if (layer.ink !== undefined)
                directionData.setLayerInk(layerId, _room_utils_SpriteUtilities__WEBPACK_IMPORTED_MODULE_0__["SpriteUtilities"].inkToBlendMode(layer.ink));
            if (layer.tag !== undefined)
                directionData.setLayerTag(layerId, layer.tag);
            if (layer.alpha !== undefined)
                directionData.setLayerAlpha(layerId, layer.alpha);
            if (layer.ignoreMouse !== undefined)
                directionData.setLayerIgnoreMouse(layerId, layer.ignoreMouse);
            if (layer.x !== undefined)
                directionData.setLayerXOffset(layerId, layer.x);
            if (layer.y !== undefined)
                directionData.setLayerYOffset(layerId, layer.y);
            if (layer.z !== undefined)
                directionData.setLayerZOffset(layerId, (layer.z / -1000));
        }
        return true;
    }
    getValidDirection(direction) {
        const existing = this._directions.get(direction);
        if (existing)
            return direction;
        direction = (((direction % 360) + 360) % 360);
        let currentAngle = -1;
        let validDirection = -1;
        for (let key of this._directions.keys()) {
            let angle = ((((key * this._angle) - direction) + 360) % 360);
            if (angle > 180)
                angle = (360 - angle);
            if ((angle < currentAngle) || (currentAngle < 0)) {
                currentAngle = angle;
                validDirection = key;
            }
        }
        if (validDirection >= 0)
            return Math.trunc(validDirection);
        return 0;
    }
    getDirectionData(direction) {
        if (direction === this._lastDirection && this._lastDirectionData)
            return this._lastDirectionData;
        let directionData = this._directions.get(direction);
        if (!directionData)
            directionData = this._defaultDirection;
        this._lastDirection = direction;
        this._lastDirectionData = directionData;
        return this._lastDirectionData;
    }
    getLayerTag(direction, layerId) {
        const directionData = this.getDirectionData(direction);
        if (!directionData)
            return _LayerData__WEBPACK_IMPORTED_MODULE_3__["LayerData"].DEFAULT_TAG;
        return directionData.getLayerTag(layerId);
    }
    getLayerInk(direction, layerId) {
        const directionData = this.getDirectionData(direction);
        if (!directionData)
            return _LayerData__WEBPACK_IMPORTED_MODULE_3__["LayerData"].DEFAULT_INK;
        return directionData.getLayerInk(layerId);
    }
    getLayerAlpha(direction, layerId) {
        const directionData = this.getDirectionData(direction);
        if (!directionData)
            return _LayerData__WEBPACK_IMPORTED_MODULE_3__["LayerData"].DEFAULT_ALPHA;
        return directionData.getLayerAlpha(layerId);
    }
    getLayerColor(layerId, colorId) {
        const existing = this._colors[colorId];
        if (!existing)
            return _ColorData__WEBPACK_IMPORTED_MODULE_1__["ColorData"].DEFAULT_COLOR;
        return existing.getLayerColor(layerId);
    }
    getLayerIgnoreMouse(direction, layerId) {
        const directionData = this.getDirectionData(direction);
        if (!directionData)
            return _LayerData__WEBPACK_IMPORTED_MODULE_3__["LayerData"].DEFAULT_IGNORE_MOUSE;
        return directionData.getLayerIgnoreMouse(layerId);
    }
    getLayerXOffset(direction, layerId) {
        const directionData = this.getDirectionData(direction);
        if (!directionData)
            return _LayerData__WEBPACK_IMPORTED_MODULE_3__["LayerData"].DEFAULT_XOFFSET;
        return directionData.getLayerXOffset(layerId);
    }
    getLayerYOffset(direction, layerId) {
        const directionData = this.getDirectionData(direction);
        if (!directionData)
            return _LayerData__WEBPACK_IMPORTED_MODULE_3__["LayerData"].DEFAULT_YOFFSET;
        return directionData.getLayerYOffset(layerId);
    }
    getLayerZOffset(direction, layerId) {
        const directionData = this.getDirectionData(direction);
        if (!directionData)
            return _LayerData__WEBPACK_IMPORTED_MODULE_3__["LayerData"].DEFAULT_ZOFFSET;
        return directionData.getLayerZOffset(layerId);
    }
    get layerCount() {
        return this._layerCount;
    }
}
SizeData.MAX_LAYERS = 26;


/***/ }),

/***/ "gs23":
/*!******************************************!*\
  !*** ./src/app/components/room/index.ts ***!
  \******************************************/
/*! exports provided: RoomModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomModule", function() { return RoomModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "M0ag");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component */ "5Cr6");
/* harmony import */ var _widgets_avatarinfo_avatar_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./widgets/avatarinfo/avatar/component */ "X1P1");
/* harmony import */ var _widgets_avatarinfo_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./widgets/avatarinfo/component */ "xmcY");
/* harmony import */ var _widgets_avatarinfo_name_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./widgets/avatarinfo/name/component */ "bQu+");
/* harmony import */ var _widgets_avatarinfo_ownavatar_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./widgets/avatarinfo/ownavatar/component */ "S50T");
/* harmony import */ var _widgets_chatinput_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./widgets/chatinput/component */ "aniU");
/* harmony import */ var _widgets_chatinput_styleselector_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./widgets/chatinput/styleselector/component */ "+fn7");
/* harmony import */ var _widgets_infostand_bot_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./widgets/infostand/bot/component */ "cakP");
/* harmony import */ var _widgets_infostand_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./widgets/infostand/component */ "TRVI");
/* harmony import */ var _widgets_infostand_furni_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./widgets/infostand/furni/component */ "g4Z0");
/* harmony import */ var _widgets_infostand_pet_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./widgets/infostand/pet/component */ "87jD");
/* harmony import */ var _widgets_infostand_rentablebot_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./widgets/infostand/rentablebot/component */ "6x6l");
/* harmony import */ var _widgets_infostand_user_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./widgets/infostand/user/component */ "DaQz");
/* harmony import */ var _widgets_roomchat_chatitem_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./widgets/roomchat/chatitem/component */ "k5Z/");
/* harmony import */ var _widgets_roomchat_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./widgets/roomchat/component */ "zQ5P");


















class RoomModule {
}
RoomModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: RoomModule });
RoomModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function RoomModule_Factory(t) { return new (t || RoomModule)(); }, providers: [], imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](RoomModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_2__["RoomComponent"],
        _widgets_chatinput_component__WEBPACK_IMPORTED_MODULE_7__["RoomChatInputComponent"],
        _widgets_roomchat_component__WEBPACK_IMPORTED_MODULE_16__["RoomChatComponent"],
        _widgets_roomchat_chatitem_component__WEBPACK_IMPORTED_MODULE_15__["RoomChatItemComponent"],
        _widgets_chatinput_styleselector_component__WEBPACK_IMPORTED_MODULE_8__["RoomChatInputStyleSelectorComponent"],
        _widgets_infostand_component__WEBPACK_IMPORTED_MODULE_10__["RoomInfoStandComponent"],
        _widgets_infostand_bot_component__WEBPACK_IMPORTED_MODULE_9__["RoomInfoStandBotComponent"],
        _widgets_infostand_furni_component__WEBPACK_IMPORTED_MODULE_11__["RoomInfoStandFurniComponent"],
        _widgets_infostand_pet_component__WEBPACK_IMPORTED_MODULE_12__["RoomInfoStandPetComponent"],
        _widgets_infostand_rentablebot_component__WEBPACK_IMPORTED_MODULE_13__["RoomInfoStandRentableBotComponent"],
        _widgets_infostand_user_component__WEBPACK_IMPORTED_MODULE_14__["RoomInfoStandUserComponent"],
        _widgets_avatarinfo_component__WEBPACK_IMPORTED_MODULE_4__["RoomAvatarInfoComponent"],
        _widgets_avatarinfo_avatar_component__WEBPACK_IMPORTED_MODULE_3__["RoomAvatarInfoAvatarComponent"],
        _widgets_avatarinfo_name_component__WEBPACK_IMPORTED_MODULE_5__["RoomAvatarInfoNameComponent"],
        _widgets_avatarinfo_ownavatar_component__WEBPACK_IMPORTED_MODULE_6__["RoomAvatarInfoOwnAvatarComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]], exports: [_component__WEBPACK_IMPORTED_MODULE_2__["RoomComponent"],
        _widgets_chatinput_component__WEBPACK_IMPORTED_MODULE_7__["RoomChatInputComponent"],
        _widgets_roomchat_component__WEBPACK_IMPORTED_MODULE_16__["RoomChatComponent"],
        _widgets_roomchat_chatitem_component__WEBPACK_IMPORTED_MODULE_15__["RoomChatItemComponent"],
        _widgets_chatinput_styleselector_component__WEBPACK_IMPORTED_MODULE_8__["RoomChatInputStyleSelectorComponent"],
        _widgets_infostand_component__WEBPACK_IMPORTED_MODULE_10__["RoomInfoStandComponent"],
        _widgets_infostand_bot_component__WEBPACK_IMPORTED_MODULE_9__["RoomInfoStandBotComponent"],
        _widgets_infostand_furni_component__WEBPACK_IMPORTED_MODULE_11__["RoomInfoStandFurniComponent"],
        _widgets_infostand_pet_component__WEBPACK_IMPORTED_MODULE_12__["RoomInfoStandPetComponent"],
        _widgets_infostand_rentablebot_component__WEBPACK_IMPORTED_MODULE_13__["RoomInfoStandRentableBotComponent"],
        _widgets_infostand_user_component__WEBPACK_IMPORTED_MODULE_14__["RoomInfoStandUserComponent"],
        _widgets_avatarinfo_component__WEBPACK_IMPORTED_MODULE_4__["RoomAvatarInfoComponent"],
        _widgets_avatarinfo_avatar_component__WEBPACK_IMPORTED_MODULE_3__["RoomAvatarInfoAvatarComponent"],
        _widgets_avatarinfo_name_component__WEBPACK_IMPORTED_MODULE_5__["RoomAvatarInfoNameComponent"],
        _widgets_avatarinfo_ownavatar_component__WEBPACK_IMPORTED_MODULE_6__["RoomAvatarInfoOwnAvatarComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
                ],
                exports: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["RoomComponent"],
                    _widgets_chatinput_component__WEBPACK_IMPORTED_MODULE_7__["RoomChatInputComponent"],
                    _widgets_roomchat_component__WEBPACK_IMPORTED_MODULE_16__["RoomChatComponent"],
                    _widgets_roomchat_chatitem_component__WEBPACK_IMPORTED_MODULE_15__["RoomChatItemComponent"],
                    _widgets_chatinput_styleselector_component__WEBPACK_IMPORTED_MODULE_8__["RoomChatInputStyleSelectorComponent"],
                    _widgets_infostand_component__WEBPACK_IMPORTED_MODULE_10__["RoomInfoStandComponent"],
                    _widgets_infostand_bot_component__WEBPACK_IMPORTED_MODULE_9__["RoomInfoStandBotComponent"],
                    _widgets_infostand_furni_component__WEBPACK_IMPORTED_MODULE_11__["RoomInfoStandFurniComponent"],
                    _widgets_infostand_pet_component__WEBPACK_IMPORTED_MODULE_12__["RoomInfoStandPetComponent"],
                    _widgets_infostand_rentablebot_component__WEBPACK_IMPORTED_MODULE_13__["RoomInfoStandRentableBotComponent"],
                    _widgets_infostand_user_component__WEBPACK_IMPORTED_MODULE_14__["RoomInfoStandUserComponent"],
                    _widgets_avatarinfo_component__WEBPACK_IMPORTED_MODULE_4__["RoomAvatarInfoComponent"],
                    _widgets_avatarinfo_avatar_component__WEBPACK_IMPORTED_MODULE_3__["RoomAvatarInfoAvatarComponent"],
                    _widgets_avatarinfo_name_component__WEBPACK_IMPORTED_MODULE_5__["RoomAvatarInfoNameComponent"],
                    _widgets_avatarinfo_ownavatar_component__WEBPACK_IMPORTED_MODULE_6__["RoomAvatarInfoOwnAvatarComponent"]
                ],
                providers: [],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["RoomComponent"],
                    _widgets_chatinput_component__WEBPACK_IMPORTED_MODULE_7__["RoomChatInputComponent"],
                    _widgets_roomchat_component__WEBPACK_IMPORTED_MODULE_16__["RoomChatComponent"],
                    _widgets_roomchat_chatitem_component__WEBPACK_IMPORTED_MODULE_15__["RoomChatItemComponent"],
                    _widgets_chatinput_styleselector_component__WEBPACK_IMPORTED_MODULE_8__["RoomChatInputStyleSelectorComponent"],
                    _widgets_infostand_component__WEBPACK_IMPORTED_MODULE_10__["RoomInfoStandComponent"],
                    _widgets_infostand_bot_component__WEBPACK_IMPORTED_MODULE_9__["RoomInfoStandBotComponent"],
                    _widgets_infostand_furni_component__WEBPACK_IMPORTED_MODULE_11__["RoomInfoStandFurniComponent"],
                    _widgets_infostand_pet_component__WEBPACK_IMPORTED_MODULE_12__["RoomInfoStandPetComponent"],
                    _widgets_infostand_rentablebot_component__WEBPACK_IMPORTED_MODULE_13__["RoomInfoStandRentableBotComponent"],
                    _widgets_infostand_user_component__WEBPACK_IMPORTED_MODULE_14__["RoomInfoStandUserComponent"],
                    _widgets_avatarinfo_component__WEBPACK_IMPORTED_MODULE_4__["RoomAvatarInfoComponent"],
                    _widgets_avatarinfo_avatar_component__WEBPACK_IMPORTED_MODULE_3__["RoomAvatarInfoAvatarComponent"],
                    _widgets_avatarinfo_name_component__WEBPACK_IMPORTED_MODULE_5__["RoomAvatarInfoNameComponent"],
                    _widgets_avatarinfo_ownavatar_component__WEBPACK_IMPORTED_MODULE_6__["RoomAvatarInfoOwnAvatarComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "gywX":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorCategoryDataParser.ts ***!
  \*************************************************************************************************/
/*! exports provided: NavigatorCategoryDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorCategoryDataParser", function() { return NavigatorCategoryDataParser; });
class NavigatorCategoryDataParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._id = -1;
        this._name = null;
        this._visible = false;
        this._automatic = false;
        this._automaticCategoryKey = null;
        this._globalCategoryKey = null;
        this._staffOnly = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._id = wrapper.readInt();
        this._name = wrapper.readString();
        this._visible = wrapper.readBoolean();
        this._automatic = wrapper.readBoolean();
        this._automaticCategoryKey = wrapper.readString();
        this._globalCategoryKey = wrapper.readString();
        this._staffOnly = wrapper.readBoolean();
        return true;
    }
    get id() {
        return this._id;
    }
    get name() {
        return this._name;
    }
    get visible() {
        return this._visible;
    }
    get automatic() {
        return this._automatic;
    }
    get automaticCategoryKey() {
        return this._automaticCategoryKey;
    }
    get globalCategoryKey() {
        return this._globalCategoryKey;
    }
    get staffOnly() {
        return this._staffOnly;
    }
}


/***/ }),

/***/ "h3kw":
/*!*************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/furniture/FurnitureListInvalidateParser.ts ***!
  \*************************************************************************************************************/
/*! exports provided: FurnitureListInvalidateParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListInvalidateParser", function() { return FurnitureListInvalidateParser; });
class FurnitureListInvalidateParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "hFyr":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/RoomUnitLookComposer.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomUnitLookComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitLookComposer", function() { return RoomUnitLookComposer; });
class RoomUnitLookComposer {
    constructor(x, y) {
        this._data = [x, y];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "hNsg":
/*!************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/AnimationData.ts ***!
  \************************************************************/
/*! exports provided: AnimationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationData", function() { return AnimationData; });
/* harmony import */ var _animation_AnimationAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation/AnimationAction */ "Chl+");

class AnimationData {
    constructor() {
        this._actions = new Map();
    }
    parse(data) {
        if (data && (data.length > 0)) {
            for (let animation of data) {
                if (!animation)
                    continue;
                const newAnimation = new _animation_AnimationAction__WEBPACK_IMPORTED_MODULE_0__["AnimationAction"](animation);
                this._actions.set(newAnimation.id, newAnimation);
            }
        }
        return true;
    }
    _Str_1017(k) {
        for (let _local_2 of k.action) {
            this._actions.set(_local_2.id, new _animation_AnimationAction__WEBPACK_IMPORTED_MODULE_0__["AnimationAction"](_local_2));
        }
        return true;
    }
    _Str_2244(action) {
        const existing = this._actions.get(action.id);
        if (!existing)
            return null;
        return existing;
    }
    _Str_1408(k) {
        const animationAction = this._Str_2244(k);
        if (!animationAction)
            return 0;
        return animationAction._Str_2185;
    }
}


/***/ }),

/***/ "hP0c":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomInfoOwnerParser.ts ***!
  \*****************************************************************************************/
/*! exports provided: RoomInfoOwnerParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomInfoOwnerParser", function() { return RoomInfoOwnerParser; });
class RoomInfoOwnerParser {
    flush() {
        this._roomId = 0;
        this._isOwner = false;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomId = wrapper.readInt();
        this._isOwner = wrapper.readBoolean();
        return true;
    }
    get roomId() {
        return this._roomId;
    }
    get isOwner() {
        return this._isOwner;
    }
}


/***/ }),

/***/ "hTzv":
/*!**********************************************!*\
  !*** ./src/client/core/utils/AdvancedMap.ts ***!
  \**********************************************/
/*! exports provided: AdvancedMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdvancedMap", function() { return AdvancedMap; });
class AdvancedMap {
    constructor() {
        this._length = 0;
        this._dictionary = new Map();
        this._array = [];
        this._keys = [];
    }
    get length() {
        return this._length;
    }
    get disposed() {
        return (!!!this._dictionary);
    }
    dispose() {
        if (!this._dictionary) {
            for (let key of this._dictionary.keys())
                this._dictionary.delete(key);
            this._dictionary = null;
        }
        this._length = 0;
        this._array = null;
        this._keys = null;
    }
    reset() {
        for (let key of this._dictionary.keys())
            this._dictionary.delete(key);
        this._length = 0;
        this._array = [];
        this._keys = [];
    }
    unshift(key, value) {
        if (this._dictionary.get(key) !== null)
            return false;
        this._dictionary.set(key, value);
        this._array.unshift(value);
        this._keys.unshift(key);
        this._length++;
        return true;
    }
    add(key, value) {
        if (this._dictionary.get(key) !== undefined)
            return false;
        this._dictionary.set(key, value);
        this._array[this._length] = value;
        this._keys[this._length] = key;
        this._length++;
        return true;
    }
    remove(key) {
        const value = this._dictionary.get(key);
        if (!value)
            return null;
        const index = this._array.indexOf(value);
        if (index >= 0) {
            this._array.splice(index, 1);
            this._keys.splice(index, 1);
            this._length--;
        }
        this._dictionary.delete(key);
        return value;
    }
    getWithIndex(index) {
        if ((index < 0) || (index >= this._length))
            return null;
        return this._array[index];
    }
    getKey(index) {
        if ((index < 0) || (index >= this._length))
            return null;
        return this._keys[index];
    }
    getKeys() {
        return this._keys.slice();
    }
    hasKey(key) {
        return (this._keys.indexOf(key) > -1);
    }
    getValue(key) {
        return this._dictionary.get(key);
    }
    getValues() {
        return this._array.slice();
    }
    hasValue(value) {
        return (this._array.indexOf(value) > -1);
    }
    indexOf(value) {
        return this._array.indexOf(value);
    }
    concatenate(newValues) {
        for (let k of newValues._keys)
            this.add(k, newValues.getValue(k));
    }
    clone() {
        const map = new AdvancedMap();
        map.concatenate(this);
        return map;
    }
}


/***/ }),

/***/ "hXx8":
/*!***********************************************************************!*\
  !*** ./src/client/nitro/session/events/RoomSessionUserBadgesEvent.ts ***!
  \***********************************************************************/
/*! exports provided: RoomSessionUserBadgesEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSessionUserBadgesEvent", function() { return RoomSessionUserBadgesEvent; });
/* harmony import */ var _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomSessionEvent */ "Ns5P");

class RoomSessionUserBadgesEvent extends _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__["RoomSessionEvent"] {
    constructor(k, _arg_2, _arg_3) {
        super(RoomSessionUserBadgesEvent.RSUBE_BADGES, k);
        this._userId = 0;
        this._badges = [];
        this._userId = _arg_2;
        this._badges = _arg_3;
    }
    get userId() {
        return this._userId;
    }
    get badges() {
        return this._badges;
    }
}
RoomSessionUserBadgesEvent.RSUBE_BADGES = 'RSUBE_BADGES';


/***/ }),

/***/ "hYlx":
/*!***************************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetAvatarExpressionMessage.ts ***!
  \***************************************************************************************/
/*! exports provided: RoomWidgetAvatarExpressionMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetAvatarExpressionMessage", function() { return RoomWidgetAvatarExpressionMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetAvatarExpressionMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(k) {
        super(RoomWidgetAvatarExpressionMessage.RWCM_MESSAGE_AVATAR_EXPRESSION);
        this._animation = k;
    }
    get animation() {
        return this._animation;
    }
}
RoomWidgetAvatarExpressionMessage.RWCM_MESSAGE_AVATAR_EXPRESSION = 'RWCM_MESSAGE_AVATAR_EXPRESSION';


/***/ }),

/***/ "heUq":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/data/RoomChatSettingsEvent.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomChatSettingsEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomChatSettingsEvent", function() { return RoomChatSettingsEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_data_RoomChatSettingsParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/data/RoomChatSettingsParser */ "kXgc");


class RoomChatSettingsEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_data_RoomChatSettingsParser__WEBPACK_IMPORTED_MODULE_1__["RoomChatSettingsParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "ho33":
/*!*******************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurniturePresentLogic.ts ***!
  \*******************************************************************************/
/*! exports provided: FurniturePresentLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePresentLogic", function() { return FurniturePresentLogic; });
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");

class FurniturePresentLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureLogic"] {
}


/***/ }),

/***/ "hupP":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/mapping/RoomHeightMapUpdateParser.ts ***!
  \**************************************************************************************************/
/*! exports provided: RoomHeightMapUpdateParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomHeightMapUpdateParser", function() { return RoomHeightMapUpdateParser; });
/* harmony import */ var _RoomHeightMapParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomHeightMapParser */ "Wgf2");

class RoomHeightMapUpdateParser {
    flush() {
        this._wrapper = null;
        this._count = 0;
        this._x = 0;
        this._y = 0;
        this._value = 0;
        return true;
    }
    tileHeight() {
        return _RoomHeightMapParser__WEBPACK_IMPORTED_MODULE_0__["RoomHeightMapParser"].decodeTileHeight(this._value);
    }
    isStackingBlocked() {
        return _RoomHeightMapParser__WEBPACK_IMPORTED_MODULE_0__["RoomHeightMapParser"].decodeIsStackingBlocked(this._value);
    }
    isRoomTile() {
        return _RoomHeightMapParser__WEBPACK_IMPORTED_MODULE_0__["RoomHeightMapParser"].decodeIsRoomTile(this._value);
    }
    next() {
        if (!this._count)
            return false;
        this._count--;
        this._x = this._wrapper.readByte();
        this._y = this._wrapper.readByte();
        this._value = this._wrapper.readShort();
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._wrapper = wrapper;
        this._count = wrapper.readByte();
        return true;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get height() {
        return this._value;
    }
}


/***/ }),

/***/ "i7vr":
/*!********************************************************!*\
  !*** ./src/client/nitro/session/SessionDataManager.ts ***!
  \********************************************************/
/*! exports provided: SessionDataManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionDataManager", function() { return SessionDataManager; });
/* harmony import */ var _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/NitroManager */ "Fv14");
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _communication_messages_incoming_availability_AvailabilityStatusMessageEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../communication/messages/incoming/availability/AvailabilityStatusMessageEvent */ "3xex");
/* harmony import */ var _communication_messages_incoming_user_access_UserPermissionsEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../communication/messages/incoming/user/access/UserPermissionsEvent */ "8Dbs");
/* harmony import */ var _communication_messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../communication/messages/incoming/user/data/UserFigureEvent */ "3md2");
/* harmony import */ var _communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../communication/messages/incoming/user/data/UserInfoEvent */ "uMJ2");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Nitro */ "P7Cj");
/* harmony import */ var _BadgeImageManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BadgeImageManager */ "tGXn");
/* harmony import */ var _enum_SecurityLevel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./enum/SecurityLevel */ "dEqu");
/* harmony import */ var _furniture_FurnitureDataParser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./furniture/FurnitureDataParser */ "/nDU");










class SessionDataManager extends _core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__["NitroManager"] {
    constructor(communication) {
        super();
        this._communication = communication;
        this.resetUserInfo();
        this._clubLevel = 0;
        this._securityLevel = 0;
        this._isAmbassador = false;
        this._systemOpen = false;
        this._systemShutdown = false;
        this._isAuthenticHabbo = false;
        this._floorItems = new Map();
        this._wallItems = new Map();
        this._furnitureData = null;
        this._furnitureReady = false;
        this._furnitureListenersNotified = false;
        this._pendingFurnitureListeners = [];
        this._badgeImageManager = null;
    }
    onInit() {
        this.loadFurnitureData();
        this.loadBadgeImageManager();
        this._communication.registerMessageEvent(new _communication_messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_4__["UserFigureEvent"](this.onUserFigureEvent.bind(this)));
        this._communication.registerMessageEvent(new _communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_5__["UserInfoEvent"](this.onUserInfoEvent.bind(this)));
        this._communication.registerMessageEvent(new _communication_messages_incoming_user_access_UserPermissionsEvent__WEBPACK_IMPORTED_MODULE_3__["UserPermissionsEvent"](this.onUserPermissionsEvent.bind(this)));
        this._communication.registerMessageEvent(new _communication_messages_incoming_availability_AvailabilityStatusMessageEvent__WEBPACK_IMPORTED_MODULE_2__["AvailabilityStatusMessageEvent"](this.onAvailabilityStatusMessageEvent.bind(this)));
    }
    onDispose() {
        this._communication.removeMessageEvent(new _communication_messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_4__["UserFigureEvent"](this.onUserFigureEvent.bind(this)));
        this._communication.removeMessageEvent(new _communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_5__["UserInfoEvent"](this.onUserInfoEvent.bind(this)));
        this._communication.removeMessageEvent(new _communication_messages_incoming_user_access_UserPermissionsEvent__WEBPACK_IMPORTED_MODULE_3__["UserPermissionsEvent"](this.onUserPermissionsEvent.bind(this)));
        this._communication.removeMessageEvent(new _communication_messages_incoming_availability_AvailabilityStatusMessageEvent__WEBPACK_IMPORTED_MODULE_2__["AvailabilityStatusMessageEvent"](this.onAvailabilityStatusMessageEvent.bind(this)));
        this.destroyFurnitureData();
        super.onDispose();
    }
    resetUserInfo() {
        this._userId = 0;
        this._name = null;
        this._figure = null;
        this._gender = null;
        this._realName = null;
    }
    loadFurnitureData() {
        this.destroyFurnitureData();
        this._furnitureData = new _furniture_FurnitureDataParser__WEBPACK_IMPORTED_MODULE_9__["FurnitureDataParser"](this._floorItems, this._wallItems);
        this._furnitureData.addEventListener(_furniture_FurnitureDataParser__WEBPACK_IMPORTED_MODULE_9__["FurnitureDataParser"].FURNITURE_DATA_READY, this.onFurnitureDataReadyEvent.bind(this));
        this._furnitureData.loadFurnitureData(_NitroConfiguration__WEBPACK_IMPORTED_MODULE_1__["NitroConfiguration"].FURNIDATA_URL);
    }
    loadBadgeImageManager() {
        if (this._badgeImageManager)
            return;
        this._badgeImageManager = new _BadgeImageManager__WEBPACK_IMPORTED_MODULE_7__["BadgeImageManager"](_Nitro__WEBPACK_IMPORTED_MODULE_6__["Nitro"].instance.core.asset, this.events);
    }
    getAllFurnitureData(listener) {
        if (!this._floorItems || !this._floorItems.size) {
            if (this._pendingFurnitureListeners.indexOf(listener) === -1)
                this._pendingFurnitureListeners.push(listener);
            return;
        }
        const furnitureData = [];
        for (let data of this._floorItems.values()) {
            if (!data)
                continue;
            furnitureData.push(data);
        }
        for (let data of this._wallItems.values()) {
            if (!data)
                continue;
            furnitureData.push(data);
        }
        if (!furnitureData || !furnitureData.length)
            return null;
        return furnitureData;
    }
    removePendingFurniDataListener(listener) {
        if (!this._pendingFurnitureListeners)
            return;
        const index = this._pendingFurnitureListeners.indexOf(listener);
        if (index === -1)
            return;
        this._pendingFurnitureListeners.splice(index, 1);
    }
    onUserFigureEvent(event) {
        if (!(event instanceof _communication_messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_4__["UserFigureEvent"]) || !event.connection)
            return;
        this._figure = event.getParser().figure;
        this._gender = event.getParser().gender;
    }
    onUserInfoEvent(event) {
        if (!(event instanceof _communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_5__["UserInfoEvent"]) || !event.connection)
            return;
        this.resetUserInfo();
        const userInfo = event.getParser().userInfo;
        if (!userInfo)
            return;
        this._userId = userInfo.userId;
        this._name = userInfo.username;
        this._figure = userInfo.figure;
        this._gender = userInfo.gender;
        this._realName = userInfo.realName;
    }
    onUserPermissionsEvent(event) {
        if (!(event instanceof _communication_messages_incoming_user_access_UserPermissionsEvent__WEBPACK_IMPORTED_MODULE_3__["UserPermissionsEvent"]) || !event.connection)
            return;
        this._clubLevel = event.getParser().clubLevel;
        this._securityLevel = event.getParser().securityLevel;
        this._isAmbassador = event.getParser().isAmbassador;
    }
    onAvailabilityStatusMessageEvent(event) {
        if (!(event instanceof _communication_messages_incoming_availability_AvailabilityStatusMessageEvent__WEBPACK_IMPORTED_MODULE_2__["AvailabilityStatusMessageEvent"]) || !event.connection)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this._systemOpen = parser.isOpen;
        this._systemShutdown = parser.onShutdown;
        this._isAuthenticHabbo = parser.isAuthenticUser;
        if (this._isAuthenticHabbo && this._furnitureReady && !this._furnitureListenersNotified) {
            this._furnitureListenersNotified = true;
            if (this._pendingFurnitureListeners && this._pendingFurnitureListeners.length) {
                for (let listener of this._pendingFurnitureListeners)
                    listener && listener.loadFurnitureData();
            }
        }
    }
    onFurnitureDataReadyEvent(event) {
        this._furnitureData.removeEventListener(_furniture_FurnitureDataParser__WEBPACK_IMPORTED_MODULE_9__["FurnitureDataParser"].FURNITURE_DATA_READY, this.onFurnitureDataReadyEvent.bind(this));
        this._furnitureReady = true;
        if (this._isAuthenticHabbo && !this._furnitureListenersNotified) {
            this._furnitureListenersNotified = true;
            if (this._pendingFurnitureListeners && this._pendingFurnitureListeners.length) {
                for (let listener of this._pendingFurnitureListeners)
                    listener && listener.loadFurnitureData();
            }
        }
    }
    destroyFurnitureData() {
        if (!this._furnitureData)
            return;
        this._furnitureData.dispose();
        this._furnitureData = null;
    }
    getFloorItemData(id) {
        const existing = this._floorItems.get(id);
        if (!existing)
            return null;
        return existing;
    }
    getFloorItemDataByName(name) {
        if (!name || !this._floorItems || !this._floorItems.size)
            return null;
        for (let item of this._floorItems.values()) {
            if (!item || (item.className !== name))
                continue;
            return item;
        }
    }
    getWallItemData(id) {
        const existing = this._wallItems.get(id);
        if (!existing)
            return null;
        return existing;
    }
    getWallItemDataByName(name) {
        if (!name || !this._wallItems || !this._wallItems.size)
            return null;
        for (let item of this._wallItems.values()) {
            if (!item || (item.className !== name))
                continue;
            return item;
        }
    }
    getBadgeImage(name) {
        return this._badgeImageManager.getBadgeImage(name);
    }
    getGroupBadgeImage(name) {
        return this._badgeImageManager.getBadgeImage(name, _BadgeImageManager__WEBPACK_IMPORTED_MODULE_7__["BadgeImageManager"].GROUP_BADGE);
    }
    loadBadgeImage(name) {
        return this._badgeImageManager._Str_5831(name);
    }
    loadGroupBadgeImage(name) {
        return this._badgeImageManager._Str_5831(name, _BadgeImageManager__WEBPACK_IMPORTED_MODULE_7__["BadgeImageManager"].GROUP_BADGE);
    }
    isUserIgnored(userName) {
        return false;
    }
    hasSecurity(level) {
        return this._securityLevel >= level;
    }
    giveRespect(userId) {
        // if (((k >= 0) && (this._Str_3437 > 0)))
        // {
        //     this.send(new _Str_10714(k));
        //     this._Str_3437 = (this._Str_3437 - 1);
        // }
    }
    givePetRespect(petId) {
        // if (((k >= 0) && (this._Str_3973 > 0)))
        // {
        //     this.send(new _Str_8184(k));
        //     this._Str_3973 = (this._Str_3973 - 1);
        // }
    }
    get communication() {
        return this._communication;
    }
    get userId() {
        return this._userId;
    }
    get userName() {
        return this._name;
    }
    get figure() {
        return this._figure;
    }
    get gender() {
        return this._gender;
    }
    get realName() {
        return this._realName;
    }
    get clubLevel() {
        return this._clubLevel;
    }
    get securityLevel() {
        return this._securityLevel;
    }
    get isAmbassador() {
        return this._isAmbassador;
    }
    get isSystemOpen() {
        return this._systemOpen;
    }
    get isSystemShutdown() {
        return this._systemShutdown;
    }
    get isAuthenticHabbo() {
        return this._isAuthenticHabbo;
    }
    get isModerator() {
        return (this._securityLevel >= _enum_SecurityLevel__WEBPACK_IMPORTED_MODULE_8__["SecurityLevel"]._Str_3569);
    }
}


/***/ }),

/***/ "iAsj":
/*!*********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorDataParser.ts ***!
  \*********************************************************************************************************/
/*! exports provided: FurnitureFloorDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorDataParser", function() { return FurnitureFloorDataParser; });
/* harmony import */ var _FurnitureDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FurnitureDataParser */ "jBuC");

class FurnitureFloorDataParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._itemId = 0;
        this._spriteId = 0;
        this._spriteName = null;
        this._x = 0;
        this._y = 0;
        this._direction = 0;
        this._z = 0;
        this._stackHeight = 0;
        this._type = 0;
        this._data = null;
        this._state = 0;
        this._expires = 0;
        this._usagePolicy = 0;
        this._userId = 0;
        this._username = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = wrapper.readInt();
        this._spriteId = wrapper.readInt();
        this._x = wrapper.readInt();
        this._y = wrapper.readInt();
        this._direction = ((wrapper.readInt() % 8) * 45);
        this._z = parseFloat(wrapper.readString());
        this._stackHeight = parseFloat(wrapper.readString());
        this._type = wrapper.readInt();
        this._data = _FurnitureDataParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureDataParser"].parseObjectData(wrapper);
        this._state = parseFloat(this._data && this._data.getLegacyString()) || 0;
        this._expires = wrapper.readInt();
        this._usagePolicy = wrapper.readInt();
        this._userId = wrapper.readInt();
        this._username = null;
        if (this._spriteId < 0)
            this._spriteName = wrapper.readString();
        return true;
    }
    get itemId() {
        return this._itemId;
    }
    get spriteId() {
        return this._spriteId;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get direction() {
        return this._direction;
    }
    get z() {
        return this._z;
    }
    get stackHeight() {
        return this._stackHeight;
    }
    get type() {
        return this._type;
    }
    get data() {
        return this._data;
    }
    get state() {
        return this._state;
    }
    get expires() {
        return this._expires;
    }
    get usagePolicy() {
        return this._usagePolicy;
    }
    get userId() {
        return this._userId;
    }
    get username() {
        return this._username;
    }
    set username(username) {
        this._username = username;
    }
    get spriteName() {
        return this._spriteName;
    }
    set spriteName(type) {
        this._spriteName = type;
    }
}


/***/ }),

/***/ "iIgn":
/*!******************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/RoomVisualization.ts ***!
  \******************************************************************************/
/*! exports provided: RoomVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomVisualization", function() { return RoomVisualization; });
/* harmony import */ var _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/object/enum/AlphaTolerance */ "7UKb");
/* harmony import */ var _room_object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/object/enum/RoomObjectSpriteType */ "9ewd");
/* harmony import */ var _room_object_visualization_RoomObjectSpriteVisualization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../room/object/visualization/RoomObjectSpriteVisualization */ "dp49");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _RoomPlaneBitmapMaskData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../RoomPlaneBitmapMaskData */ "HYQG");
/* harmony import */ var _RoomPlaneBitmapMaskParser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../RoomPlaneBitmapMaskParser */ "K9Xd");
/* harmony import */ var _RoomPlaneData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../RoomPlaneData */ "mkz/");
/* harmony import */ var _RoomPlaneParser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../RoomPlaneParser */ "BFtu");
/* harmony import */ var _RoomPlane__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./RoomPlane */ "KoFg");
/* harmony import */ var _RoomVisualizationData__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./RoomVisualizationData */ "+4VZ");











class RoomVisualization extends _room_object_visualization_RoomObjectSpriteVisualization__WEBPACK_IMPORTED_MODULE_2__["RoomObjectSpriteVisualization"] {
    constructor() {
        super();
        this._data = null;
        this._roomPlaneParser = new _RoomPlaneParser__WEBPACK_IMPORTED_MODULE_8__["RoomPlaneParser"]();
        this._roomPlaneBitmapMaskParser = new _RoomPlaneBitmapMaskParser__WEBPACK_IMPORTED_MODULE_6__["RoomPlaneBitmapMaskParser"]();
        this._geometryUpdateId = -1;
        this._directionX = 0;
        this._directionY = 0;
        this._directionZ = 0;
        this._floorThickness = 1;
        this._wallThickness = 1;
        this._holeUpdateTime = NaN;
        this._Str_2540 = [];
        this._Str_4864 = [];
        this._Str_6648 = [];
        this._roomScale = 0;
        this._lastUpdateTime = -1000;
        this._updateIntervalTime = 250;
        this._wallType = null;
        this._floorType = null;
        this._landscapeType = null;
        this._colorBackgroundOnly = true;
        this._color = 0xFFFFFF;
        this._redColor = 0xFF;
        this._greenColor = 0xFF;
        this._blueColor = 0xFF;
        this._typeVisibility = [];
        this._Str_5928 = 0;
        this._maskData = null;
        this._isPlaneSet = false;
        this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_UNDEFINED] = false;
        this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_FLOOR] = true;
        this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL] = true;
        this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE] = true;
    }
    initialize(data) {
        if (!(data instanceof _RoomVisualizationData__WEBPACK_IMPORTED_MODULE_10__["RoomVisualizationData"]))
            return false;
        this._data = data;
        super.initialize(data);
        this._data.setGraphicAssetCollection(this.asset);
        return true;
    }
    dispose() {
        super.dispose();
        this.clearPlanes();
        this._Str_2540 = null;
        this._Str_4864 = null;
        this._Str_6648 = null;
        if (this._roomPlaneParser) {
            this._roomPlaneParser.dispose();
            this._roomPlaneParser = null;
        }
        if (this._roomPlaneBitmapMaskParser) {
            this._roomPlaneBitmapMaskParser.dispose();
            this._roomPlaneBitmapMaskParser = null;
        }
        if (this._data) {
            this._data._Str_3355();
            this._data = null;
        }
    }
    reset() {
        super.reset();
        this._floorType = null;
        this._wallType = null;
        this._landscapeType = null;
        this._maskData = null;
        this._geometryUpdateId = -1;
        this._roomScale = 0;
    }
    update(geometry, time, update, skipUpdate) {
        if (!this.object || !geometry)
            return;
        const geometryUpdate = this.updateGeometry(geometry);
        const objectModel = this.object.model;
        let needsUpdate = false;
        if (this.updateThickness(objectModel))
            needsUpdate = true;
        if (this.updateHole(objectModel))
            needsUpdate = true;
        this._Str_25732();
        needsUpdate = this.updateMasks(objectModel);
        if (((time < (this._lastUpdateTime + this._updateIntervalTime)) && (!geometryUpdate)) && (!needsUpdate))
            return;
        if (this.updatePlanes(objectModel))
            needsUpdate = true;
        if (this._Str_16913(geometry, geometryUpdate, time))
            needsUpdate = true;
        if (needsUpdate) {
            let index = 0;
            while (index < this._Str_4864.length) {
                const spriteIndex = this._Str_6648[index];
                const sprite = this.getSprite(spriteIndex);
                const plane = this._Str_4864[index];
                if (sprite && plane && (plane.type !== _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE)) {
                    if (this._colorBackgroundOnly) {
                        let _local_14 = plane.color;
                        const _local_15 = (((_local_14 & 0xFF) * this._redColor) / 0xFF);
                        const _local_16 = ((((_local_14 >> 8) & 0xFF) * this._greenColor) / 0xFF);
                        const _local_17 = ((((_local_14 >> 16) & 0xFF) * this._blueColor) / 0xFF);
                        const _local_18 = (_local_14 >> 24);
                        _local_14 = ((((_local_18 << 24) + (_local_17 << 16)) + (_local_16 << 8)) + _local_15);
                        sprite.color = _local_14;
                    }
                    else {
                        sprite.color = plane.color;
                    }
                }
                index++;
            }
            this.updateSpriteCounter++;
        }
        this.updateModelCounter = objectModel.updateCounter;
        this._lastUpdateTime = time;
    }
    updateGeometry(k) {
        if (!k)
            return false;
        if (this._geometryUpdateId === k.updateId)
            return false;
        this._geometryUpdateId = k.updateId;
        const direction = k.direction;
        if (direction && ((direction.x !== this._directionX) || (direction.y !== this._directionY) || (direction.z !== this._directionZ) || (k.scale !== this._roomScale))) {
            this._directionX = direction.x;
            this._directionY = direction.y;
            this._directionZ = direction.z;
            this._roomScale = k.scale;
            return true;
        }
        return false;
    }
    updateThickness(k) {
        if (this.updateModelCounter === k.updateCounter)
            return false;
        const floorThickness = k.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_FLOOR_THICKNESS);
        const wallThickness = k.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_WALL_THICKNESS);
        if (((floorThickness !== null) && (wallThickness !== null)) && ((floorThickness !== this._floorThickness) || (wallThickness !== this._wallThickness))) {
            this._floorThickness = floorThickness;
            this._wallThickness = wallThickness;
            this.clearPlanes();
            return true;
        }
        return false;
    }
    updateHole(k) {
        if (this.updateModelCounter === k.updateCounter)
            return false;
        const holeUpdate = k.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_FLOOR_HOLE_UPDATE_TIME);
        if ((holeUpdate !== null) && (holeUpdate !== this._holeUpdateTime)) {
            this._holeUpdateTime = holeUpdate;
            this.clearPlanes();
            return true;
        }
        return false;
    }
    updateMasks(k) {
        if (this.updateModelCounter === k.updateCounter)
            return false;
        let didUpdate = false;
        const planeMask = k.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_PLANE_MASK_XML);
        if (planeMask !== this._maskData) {
            this._Str_15935(planeMask);
            this._maskData = planeMask;
            didUpdate = true;
        }
        const backgroundColor = k.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_BACKGROUND_COLOR);
        if (backgroundColor !== this._color) {
            this._color = backgroundColor;
            this._redColor = (this._color & 0xFF);
            this._greenColor = ((this._color >> 8) & 0xFF);
            this._blueColor = ((this._color >> 16) & 0xFF);
            didUpdate = true;
        }
        const backgroundOnly = (k.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_COLORIZE_BG_ONLY) || false);
        if (backgroundOnly !== this._colorBackgroundOnly) {
            this._colorBackgroundOnly = backgroundOnly;
            didUpdate = true;
        }
        return didUpdate;
    }
    updatePlanes(model) {
        if (this.updateModelCounter === model.updateCounter)
            return false;
        const floorType = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_FLOOR_TYPE);
        const wallType = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_WALL_TYPE);
        const landscapeType = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_LANDSCAPE_TYPE);
        this.updatePlaneTypes(floorType, wallType, landscapeType);
        const floorVisibility = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_FLOOR_VISIBILITY) === 1);
        const wallVisibility = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_WALL_VISIBILITY) === 1);
        const landscapeVisibility = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_LANDSCAPE_VISIBILITY) === 1);
        this.updatePlaneVisibility(floorVisibility, wallVisibility, landscapeVisibility);
        return true;
    }
    clearPlanes() {
        if (this._Str_2540) {
            let index = 0;
            while (index < this._Str_2540.length) {
                const plane = this._Str_2540[index];
                if (plane)
                    plane.dispose();
                index++;
            }
            this._Str_2540 = [];
        }
        this._isPlaneSet = false;
        this._Str_5928 = (this._Str_5928 + 1);
        this.reset();
    }
    _Str_25732() {
        if (!this.object || this._isPlaneSet)
            return;
        if (!isNaN(this._floorThickness))
            this._roomPlaneParser.floorThicknessMultiplier = this._floorThickness;
        if (!isNaN(this._wallThickness))
            this._roomPlaneParser.wallThicknessMultiplier = this._wallThickness;
        const mapData = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_MAP_DATA);
        if (!this._roomPlaneParser.initializeFromMapData(mapData))
            return;
        const _local_3 = this._Str_23949();
        const _local_4 = this._Str_23063();
        let _local_5 = 0;
        let _local_6 = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].ROOM_RANDOM_SEED);
        let index = 0;
        while (index < this._roomPlaneParser.planeCount) {
            const location = this._roomPlaneParser.getPlaneLocation(index);
            const leftSide = this._roomPlaneParser.getPlaneLeftSide(index);
            const rightSide = this._roomPlaneParser.getPlaneRightSide(index);
            const secondaryNormals = this._roomPlaneParser.getPlaneSecondaryNormals(index);
            const planeType = this._roomPlaneParser.getPlaneType(index);
            let plane = null;
            if (location && leftSide && rightSide) {
                const _local_14 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"].crossProduct(leftSide, rightSide);
                _local_6 = ((_local_6 * 7613) + 517);
                plane = null;
                if (planeType === _RoomPlaneData__WEBPACK_IMPORTED_MODULE_7__["RoomPlaneData"].PLANE_FLOOR) {
                    const _local_15 = ((location.x + leftSide.x) + 0.5);
                    const _local_16 = ((location.y + rightSide.y) + 0.5);
                    const _local_17 = (Math.trunc(_local_15) - _local_15);
                    const _local_18 = (Math.trunc(_local_16) - _local_16);
                    plane = new _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"](this.object.getLocation(), location, leftSide, rightSide, _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_FLOOR, true, secondaryNormals, _local_6, -(_local_17), -(_local_18));
                    if (_local_14.z !== 0) {
                        plane.color = RoomVisualization._Str_18544;
                    }
                    else {
                        plane.color = ((_local_14.x !== 0) ? RoomVisualization._Str_16664 : RoomVisualization._Str_18640);
                    }
                    if (this._data)
                        plane.rasterizer = this._data.floorRasterizer;
                }
                else if (planeType === _RoomPlaneData__WEBPACK_IMPORTED_MODULE_7__["RoomPlaneData"].PLANE_WALL) {
                    plane = new _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"](this.object.getLocation(), location, leftSide, rightSide, _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL, true, secondaryNormals, _local_6);
                    if ((leftSide.length < 1) || (rightSide.length < 1)) {
                        plane._Str_18448 = false;
                    }
                    if ((_local_14.x === 0) && (_local_14.y === 0)) {
                        plane.color = RoomVisualization._Str_14868;
                    }
                    else {
                        if (_local_14.y > 0) {
                            plane.color = RoomVisualization._Str_14503;
                        }
                        else {
                            if (_local_14.y === 0) {
                                plane.color = RoomVisualization._Str_15851;
                            }
                            else {
                                plane.color = RoomVisualization._Str_13715;
                            }
                        }
                    }
                    if (this._data)
                        plane.rasterizer = this._data.wallRasterizer;
                }
                else if (planeType === _RoomPlaneData__WEBPACK_IMPORTED_MODULE_7__["RoomPlaneData"].PLANE_LANDSCAPE) {
                    plane = new _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"](this.object.getLocation(), location, leftSide, rightSide, _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE, true, secondaryNormals, _local_6, _local_5, 0, _local_3, _local_4);
                    if (_local_14.y > 0) {
                        plane.color = RoomVisualization._Str_17403;
                    }
                    else {
                        if (_local_14.y == 0) {
                            plane.color = RoomVisualization._Str_16113;
                        }
                        else {
                            plane.color = RoomVisualization._Str_18370;
                        }
                    }
                    if (this._data)
                        plane.rasterizer = this._data.landscapeRasterizer;
                    _local_5 = (_local_5 + leftSide.length);
                }
                else if (planeType == _RoomPlaneData__WEBPACK_IMPORTED_MODULE_7__["RoomPlaneData"].PLANE_BILLBOARD) {
                    plane = new _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"](this.object.getLocation(), location, leftSide, rightSide, _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL, true, secondaryNormals, _local_6);
                    if (((leftSide.length < 1) || (rightSide.length < 1))) {
                        plane._Str_18448 = false;
                    }
                    if (((_local_14.x == 0) && (_local_14.y == 0))) {
                        plane.color = RoomVisualization._Str_14868;
                    }
                    else {
                        if (_local_14.y > 0) {
                            plane.color = RoomVisualization._Str_14503;
                        }
                        else {
                            if (_local_14.y == 0) {
                                plane.color = RoomVisualization._Str_15851;
                            }
                            else {
                                plane.color = RoomVisualization._Str_13715;
                            }
                        }
                    }
                    // if (this._Str_594 != null)
                    // {
                    //     _local_13.rasterizer = this._Str_594._Str_23913;
                    // }
                }
                if (plane) {
                    plane._Str_16279 = this._data.maskManager;
                    let _local_19 = 0;
                    while (_local_19 < this._roomPlaneParser.getPlaneMaskCount(index)) {
                        const _local_20 = this._roomPlaneParser.getPlaneMaskLeftSideLoc(index, _local_19);
                        const _local_21 = this._roomPlaneParser.getPlaneMaskRightSideLoc(index, _local_19);
                        const _local_22 = this._roomPlaneParser.getPlaneMaskLeftSideLength(index, _local_19);
                        const _local_23 = this._roomPlaneParser.getPlaneMaskRightSideLength(index, _local_19);
                        plane._Str_24758(_local_20, _local_21, _local_22, _local_23);
                        _local_19++;
                    }
                    this._Str_2540.push(plane);
                }
            }
            else {
                return;
            }
            index++;
        }
        this._isPlaneSet = true;
        this._Str_18024();
    }
    _Str_18024() {
        this.setSpriteCount(this._Str_2540.length);
        let planeIndex = 0;
        while (planeIndex < this._Str_2540.length) {
            const plane = this._Str_2540[planeIndex];
            const sprite = this.getSprite(planeIndex);
            if (plane && sprite && plane._Str_5424 && plane._Str_4968) {
                if ((plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL) && ((plane._Str_5424.length < 1) || (plane._Str_4968.length < 1))) {
                    sprite.alphaTolerance = _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__["AlphaTolerance"]._Str_9268;
                }
                else {
                    sprite.alphaTolerance = _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__["AlphaTolerance"]._Str_9735;
                }
                if (plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL) {
                    sprite.tag = 'plane.wall@' + (planeIndex + 1);
                }
                else if (plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_FLOOR) {
                    sprite.tag = 'plane.floor@' + (planeIndex + 1);
                }
                else {
                    sprite.tag = 'plane@' + (planeIndex + 1);
                }
                sprite.spriteType = _room_object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_1__["RoomObjectSpriteType"]._Str_8616;
            }
            planeIndex++;
        }
    }
    _Str_23949() {
        let length = 0;
        let index = 0;
        while (index < this._roomPlaneParser.planeCount) {
            const type = this._roomPlaneParser.getPlaneType(index);
            if (type === _RoomPlaneData__WEBPACK_IMPORTED_MODULE_7__["RoomPlaneData"].PLANE_LANDSCAPE) {
                const vector = this._roomPlaneParser.getPlaneLeftSide(index);
                length += vector.length;
            }
            index++;
        }
        return length;
    }
    _Str_23063() {
        let length = 0;
        let index = 0;
        while (index < this._roomPlaneParser.planeCount) {
            const type = this._roomPlaneParser.getPlaneType(index);
            if (type === _RoomPlaneData__WEBPACK_IMPORTED_MODULE_7__["RoomPlaneData"].PLANE_LANDSCAPE) {
                const vector = this._roomPlaneParser.getPlaneRightSide(index);
                if (vector.length > length)
                    length = vector.length;
            }
            index++;
        }
        if (length > 5)
            length = 5;
        return length;
    }
    updatePlaneTypes(floorType, wallType, landscapeType) {
        if (floorType !== this._floorType)
            this._floorType = floorType;
        else
            floorType = null;
        if (wallType !== this._wallType)
            this._wallType = wallType;
        else
            wallType = null;
        if (landscapeType !== this._landscapeType)
            this._landscapeType = landscapeType;
        else
            landscapeType = null;
        if (!floorType && !wallType && !landscapeType)
            return false;
        let index = 0;
        while (index < this._Str_2540.length) {
            const plane = this._Str_2540[index];
            if (plane) {
                if ((plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_FLOOR) && floorType) {
                    plane.id = floorType;
                }
                else if ((plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL) && wallType) {
                    plane.id = wallType;
                }
                else if ((plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE) && landscapeType) {
                    plane.id = landscapeType;
                }
            }
            index++;
        }
        return true;
    }
    updatePlaneVisibility(k, _arg_2, _arg_3) {
        if ((k === this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_FLOOR]) && (_arg_2 === this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL]) && (_arg_3 === this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE]))
            return;
        this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_FLOOR] = k;
        this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL] = _arg_2;
        this._typeVisibility[_RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE] = _arg_3;
        this._Str_4864 = [];
        this._Str_6648 = [];
    }
    _Str_16913(k, _arg_2, _arg_3) {
        if (!k || !this.object)
            return;
        this._Str_5928++;
        if (_arg_2) {
            this._Str_4864 = [];
            this._Str_6648 = [];
        }
        const _local_8 = (this._Str_4864.length > 0);
        let _local_6 = this._Str_4864;
        if (!this._Str_4864.length)
            _local_6 = this._Str_2540;
        let depth = 0;
        let updated = false;
        let index = 0;
        while (index < _local_6.length) {
            let _local_10 = index;
            if (_local_8)
                _local_10 = this._Str_6648[index];
            const _local_11 = this.getSprite(_local_10);
            if (_local_11) {
                const _local_12 = _local_6[index];
                if (_local_12) {
                    _local_11.id = _local_12.uniqueId;
                    if (_local_12.update(k, _arg_3)) {
                        if (_local_12.visible) {
                            depth = ((_local_12.relativeDepth + this._Str_24891) + (_local_10 / 1000));
                            if (_local_12.type !== _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_FLOOR) {
                                depth = ((_local_12.relativeDepth + this._Str_25403) + (_local_10 / 1000));
                                if ((_local_12._Str_5424.length < 1) || (_local_12._Str_4968.length < 1)) {
                                    depth = (depth + (RoomVisualization._Str_8621 * 0.5));
                                }
                            }
                            const _local_14 = ((("plane " + _local_10) + " ") + k.scale);
                            this._Str_7421(_local_11, _local_12, _local_14, depth);
                        }
                        updated = true;
                    }
                    if (_local_11.visible != ((_local_12.visible) && (this._typeVisibility[_local_12.type]))) {
                        _local_11.visible = (!(_local_11.visible));
                        updated = true;
                    }
                    if (_local_11.visible) {
                        if (!_local_8) {
                            this._Str_4864.push(_local_12);
                            this._Str_6648.push(index);
                        }
                    }
                }
                else {
                    _local_11.id = 0;
                    if (_local_11.visible) {
                        _local_11.visible = false;
                        updated = true;
                    }
                }
            }
            index++;
        }
        return updated;
    }
    _Str_15935(k) {
        if (!k)
            return;
        this._roomPlaneBitmapMaskParser.initialize(k);
        const _local_4 = [];
        const _local_5 = [];
        let _local_6 = false;
        let index = 0;
        while (index < this._Str_2540.length) {
            const plane = this._Str_2540[index];
            if (plane) {
                plane._Str_25213();
                if (plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE)
                    _local_4.push(index);
            }
            index++;
        }
        for (let mask of this._roomPlaneBitmapMaskParser.masks.values()) {
            const maskType = this._roomPlaneBitmapMaskParser._Str_21678(mask);
            const maskLocation = this._roomPlaneBitmapMaskParser._Str_19038(mask);
            const maskCategory = this._roomPlaneBitmapMaskParser._Str_21644(mask);
            if (maskLocation) {
                let i = 0;
                while (i < this._Str_2540.length) {
                    const plane = this._Str_2540[i];
                    if ((plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL) || (plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE)) {
                        if (plane && plane.location && plane.normal) {
                            const _local_14 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"].dif(maskLocation, plane.location);
                            const _local_15 = Math.abs(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"].scalarProjection(_local_14, plane.normal));
                            if (_local_15 < 0.01) {
                                if (plane._Str_5424 && plane._Str_4968) {
                                    const _local_16 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"].scalarProjection(_local_14, plane._Str_5424);
                                    const _local_17 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"].scalarProjection(_local_14, plane._Str_4968);
                                    if ((plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_WALL) || ((plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE) && (maskCategory === _RoomPlaneBitmapMaskData__WEBPACK_IMPORTED_MODULE_5__["RoomPlaneBitmapMaskData"].HOLE))) {
                                        plane._Str_24569(maskType, _local_16, _local_17);
                                    }
                                    else {
                                        if (plane.type === _RoomPlane__WEBPACK_IMPORTED_MODULE_9__["RoomPlane"].TYPE_LANDSCAPE) {
                                            if (!plane._Str_14801)
                                                _local_6 = true;
                                            plane._Str_14801 = true;
                                            _local_5.push(i);
                                        }
                                    }
                                }
                            }
                        }
                    }
                    i++;
                }
            }
        }
        index = 0;
        while (index < _local_4.length) {
            const planeIndex = _local_4[index];
            if (_local_5.indexOf(planeIndex) < 0) {
                const plane = this._Str_2540[planeIndex];
                plane._Str_14801 = false;
                _local_6 = true;
            }
            index++;
        }
        if (_local_6) {
            this._Str_4864 = [];
            this._Str_6648 = [];
        }
    }
    _Str_7421(k, _arg_2, _arg_3, _arg_4) {
        const offset = _arg_2.offset;
        k.offsetX = -(offset.x);
        k.offsetY = -(offset.y);
        k.relativeDepth = _arg_4;
        k.color = _arg_2.color;
        k.texture = this._Str_22446(_arg_2, _arg_3);
        k.name = ((_arg_3 + "_") + this._Str_5928);
    }
    _Str_22446(k, _arg_2) {
        return k.bitmapData;
    }
    get _Str_19113() {
        const planes = [];
        for (let plane of this._Str_4864)
            planes.push(plane);
        return planes;
    }
    get _Str_24891() {
        return RoomVisualization._Str_8621 + 0.1;
    }
    get _Str_25403() {
        return RoomVisualization._Str_8621 + 0.5;
    }
}
RoomVisualization._Str_18544 = 0xFFFFFF;
RoomVisualization._Str_18640 = 0xDDDDDD;
RoomVisualization._Str_16664 = 0xBBBBBB;
RoomVisualization._Str_14503 = 0xFFFFFF;
RoomVisualization._Str_15851 = 0xCCCCCC;
RoomVisualization._Str_13715 = 0x999999;
RoomVisualization._Str_14868 = 0x999999;
RoomVisualization._Str_17403 = 0xFFFFFF;
RoomVisualization._Str_16113 = 0xCCCCCC;
RoomVisualization._Str_18370 = 0x999999;
RoomVisualization._Str_8621 = 1000;


/***/ }),

/***/ "iNp5":
/*!**********************************************************!*\
  !*** ./src/app/components/inventory/IncomingMessages.ts ***!
  \**********************************************************/
/*! exports provided: IncomingMessages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IncomingMessages", function() { return IncomingMessages; });
/* harmony import */ var _client_nitro_communication_messages_incoming_desktop_DesktopViewEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/desktop/DesktopViewEvent */ "q4z0");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_furni_FurnitureListAddOrUpdateEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/furni/FurnitureListAddOrUpdateEvent */ "5RE+");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_furni_FurnitureListEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/furni/FurnitureListEvent */ "ulbO");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_furni_FurnitureListInvalidateEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/furni/FurnitureListInvalidateEvent */ "9loD");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_furni_FurnitureListRemovedEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/furni/FurnitureListRemovedEvent */ "5Cat");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_furni_FurniturePostItPlacedEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/furni/FurniturePostItPlacedEvent */ "Bbk2");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_trading_TradingAcceptEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/trading/TradingAcceptEvent */ "IVZI");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_trading_TradingCloseEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/trading/TradingCloseEvent */ "4hT9");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_trading_TradingCompletedEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/trading/TradingCompletedEvent */ "4gvq");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_trading_TradingConfirmationEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/trading/TradingConfirmationEvent */ "uHXo");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_trading_TradingNotOpenEvent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/trading/TradingNotOpenEvent */ "iv6j");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_trading_TradingOpenFailedEvent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/trading/TradingOpenFailedEvent */ "lN2i");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_trading_TradingOtherNotAllowedEvent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/trading/TradingOtherNotAllowedEvent */ "lrbo");
/* harmony import */ var _client_nitro_communication_messages_incoming_inventory_trading_TradingYouAreNotAllowedEvent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/inventory/trading/TradingYouAreNotAllowedEvent */ "sM2B");
/* harmony import */ var _client_nitro_communication_messages_incoming_room_access_RoomEnterEvent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/room/access/RoomEnterEvent */ "AFd5");
/* harmony import */ var _client_nitro_communication_messages_incoming_room_data_RoomInfoOwnerEvent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/room/data/RoomInfoOwnerEvent */ "8lyl");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./enum/InventoryCategory */ "0nxZ");


















class IncomingMessages {
    constructor(inventory) {
        this._inventory = inventory;
        this._communication = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_16__["Nitro"].instance.communication;
        this._messages = [];
        this._furniMsgFragments = [];
        this.registerMessages();
    }
    dispose() {
        this.unregisterMessages();
    }
    registerMessages() {
        if (!this._communication)
            return;
        this.unregisterMessages();
        //     this._com.addHabboConnectionMessageEvent(new _Str_6742(this._Str_25320, _Str_9219));
        //     this._com.addHabboConnectionMessageEvent(new _Str_8269(this._Str_24595));
        //     this._com.addHabboConnectionMessageEvent(new _Str_6821(this._Str_18656));
        //     this._com.addHabboConnectionMessageEvent(new _Str_9041(this._Str_25862));
        //     this._com.addHabboConnectionMessageEvent(new _Str_4187(this._Str_15910));
        //     this._com.addHabboConnectionMessageEvent(new _Str_9129(this._Str_23613));
        //     this._com.addHabboConnectionMessageEvent(new _Str_5147(this._Str_18002));
        //     this._com.addHabboConnectionMessageEvent(new UserBadgesEvent(this._Str_12065));
        //     this._com.addHabboConnectionMessageEvent(new _Str_5727(this._Str_16010));
        //     this._com.addHabboConnectionMessageEvent(new _Str_5714(this._Str_15910));
        //     this._com.addHabboConnectionMessageEvent(new _Str_9517(this._Str_25747));
        //     this._com.addHabboConnectionMessageEvent(new _Str_5581(this._Str_25001));
        //     this._com.addHabboConnectionMessageEvent(new AchievementsScoreEvent(this._Str_18065));
        //     this._com.addHabboConnectionMessageEvent(new _Str_9550(this._Str_23427));
        //     this._com.addHabboConnectionMessageEvent(new _Str_3492(this._Str_23143));
        //     this._com.addHabboConnectionMessageEvent(new _Str_6908(this._Str_25700));
        //     this._com.addHabboConnectionMessageEvent(new _Str_5720(this._Str_17365));
        //     this._com.addHabboConnectionMessageEvent(new _Str_5514(this._Str_16520));
        //     this._com.addHabboConnectionMessageEvent(new _Str_8892(this._Str_23929));
        //     this._com.addHabboConnectionMessageEvent(new _Str_9359(this._Str_23887));
        //     this._com.addHabboConnectionMessageEvent(new _Str_3352(this._Str_15910));
        //     this._com.addHabboConnectionMessageEvent(new _Str_7375(this._Str_22556, _Str_9589));
        //     this._com.addHabboConnectionMessageEvent(new UserRightsMessageEvent(this._Str_4297));
        //     this._com.addHabboConnectionMessageEvent(new _Str_8120(this._Str_23620));
        //     this._com.addHabboConnectionMessageEvent(new _Str_5946(this._Str_16617));
        //     this._com.addHabboConnectionMessageEvent(new _Str_6450(this._Str_21372));
        //     this._com.addHabboConnectionMessageEvent(new _Str_9259(this._Str_24135));
        //     this._com.addHabboConnectionMessageEvent(new FurniListAddOrUpdateEvent(this._Str_23121));
        //     this._com.addHabboConnectionMessageEvent(new _Str_6022(this._Str_16181));
        //     this._com.addHabboConnectionMessageEvent(new _Str_3660(this._Str_25294));
        //     this._com.addHabboConnectionMessageEvent(new _Str_8524(this._Str_25173));
        //     this._com.addHabboConnectionMessageEvent(new _Str_5345(this._Str_17996));
        //     this._com.addHabboConnectionMessageEvent(new _Str_2752(this._Str_3012));
        //     this._com.addHabboConnectionMessageEvent(new _Str_6944(this._Str_18461));
        //     this._com.addHabboConnectionMessageEvent(new _Str_9047(this._Str_22306));
        //     this._com.addHabboConnectionMessageEvent(new _Str_8980(this._Str_25648));
        this._messages = [
            new _client_nitro_communication_messages_incoming_room_data_RoomInfoOwnerEvent__WEBPACK_IMPORTED_MODULE_15__["RoomInfoOwnerEvent"](this.onRoomInfoOwnerEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_desktop_DesktopViewEvent__WEBPACK_IMPORTED_MODULE_0__["DesktopViewEvent"](this.triggerLeaveRoom.bind(this)),
            new _client_nitro_communication_messages_incoming_room_access_RoomEnterEvent__WEBPACK_IMPORTED_MODULE_14__["RoomEnterEvent"](this.triggerLeaveRoom.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_furni_FurnitureListAddOrUpdateEvent__WEBPACK_IMPORTED_MODULE_1__["FurnitureListAddOrUpdateEvent"](this.onFurnitureListAddOrUpdateEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_furni_FurnitureListEvent__WEBPACK_IMPORTED_MODULE_2__["FurnitureListEvent"](this.onFurnitureListEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_furni_FurnitureListInvalidateEvent__WEBPACK_IMPORTED_MODULE_3__["FurnitureListInvalidateEvent"](this.onFurnitureListInvalidateEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_furni_FurnitureListRemovedEvent__WEBPACK_IMPORTED_MODULE_4__["FurnitureListRemovedEvent"](this.onFurnitureListRemovedEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_furni_FurniturePostItPlacedEvent__WEBPACK_IMPORTED_MODULE_5__["FurniturePostItPlacedEvent"](this.onFurniturePostItPlacedEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_trading_TradingAcceptEvent__WEBPACK_IMPORTED_MODULE_6__["TradingAcceptEvent"](this.onTradingAcceptEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_trading_TradingCloseEvent__WEBPACK_IMPORTED_MODULE_7__["TradingCloseEvent"](this.onTradingCloseEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_trading_TradingCompletedEvent__WEBPACK_IMPORTED_MODULE_8__["TradingCompletedEvent"](this.onTradingCompletedEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_trading_TradingConfirmationEvent__WEBPACK_IMPORTED_MODULE_9__["TradingConfirmationEvent"](this.onTradingConfirmationEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_trading_TradingNotOpenEvent__WEBPACK_IMPORTED_MODULE_10__["TradingNotOpenEvent"](this.onTradingNotOpenEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_trading_TradingOpenFailedEvent__WEBPACK_IMPORTED_MODULE_11__["TradingOpenFailedEvent"](this.onTradingOpenFailedEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_trading_TradingOtherNotAllowedEvent__WEBPACK_IMPORTED_MODULE_12__["TradingOtherNotAllowedEvent"](this.onTradingOtherNotAllowedEvent.bind(this)),
            new _client_nitro_communication_messages_incoming_inventory_trading_TradingYouAreNotAllowedEvent__WEBPACK_IMPORTED_MODULE_13__["TradingYouAreNotAllowedEvent"](this.onTradingYouAreNotAllowedEvent.bind(this)),
        ];
        for (let message of this._messages)
            this._communication.registerMessageEvent(message);
    }
    unregisterMessages() {
        if (!this._communication)
            return;
        for (let message of this._messages)
            this._communication.removeMessageEvent(message);
    }
    onRoomInfoOwnerEvent(event) {
        if (!event)
            return;
        this._inventory.isInRoom = true;
    }
    triggerLeaveRoom(event) {
        if (!event)
            return;
        this._inventory.isInRoom = false;
    }
    onFurnitureListAddOrUpdateEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        console.log(parser);
    }
    onFurnitureListEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        if (!this._furniMsgFragments)
            this._furniMsgFragments = new Array(parser.totalFragments);
        const map = new Map([...parser.fragment]);
        const merged = this.mergeFragments(map, parser.totalFragments, parser.fragmentNumber, this._furniMsgFragments);
        if (!merged)
            return;
        const model = this._inventory.furniModel;
        if (model)
            model._Str_24428(merged);
        this._furniMsgFragments = null;
    }
    onFurnitureListInvalidateEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this._inventory._Str_5943(_enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_17__["InventoryCategory"].FURNI, false);
    }
    onFurnitureListRemovedEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const itemId = parser.itemId;
        const model = this._inventory.furniModel;
        if (model) {
            const groupItem = model.removeItemById(itemId);
            if (groupItem) {
                //model._Str_4409();
            }
        }
    }
    onFurniturePostItPlacedEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        console.log(parser);
    }
    onTradingAcceptEvent(event) {
    }
    onTradingCloseEvent(evenet) {
    }
    onTradingCompletedEvent(event) {
    }
    onTradingConfirmationEvent(event) {
    }
    onTradingNotOpenEvent(event) {
    }
    onTradingOpenFailedEvent(event) {
    }
    onTradingOtherNotAllowedEvent(event) {
    }
    onTradingYouAreNotAllowedEvent(event) {
    }
    mergeFragments(fragment, totalFragments, fragmentNumber, fragments) {
        if (totalFragments === 1)
            return fragment;
        fragments[fragmentNumber] = fragment;
        for (let frag of fragments) {
            if (!frag)
                return null;
        }
        const mergedFragment = new Map();
        for (let frag of fragments) {
            for (let [key, value] of frag)
                mergedFragment.set(key, value);
            frag.clear();
        }
        fragments = null;
        return mergedFragment;
    }
}


/***/ }),

/***/ "iiZs":
/*!********************************************************!*\
  !*** ./src/client/room/events/RoomObjectMouseEvent.ts ***!
  \********************************************************/
/*! exports provided: RoomObjectMouseEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectMouseEvent", function() { return RoomObjectMouseEvent; });
/* harmony import */ var _RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomObjectEvent */ "y81I");

class RoomObjectMouseEvent extends _RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
    constructor(type, object, eventId, altKey = false, ctrlKey = false, shiftKey = false, buttonDown = false) {
        super(type, object);
        this._eventId = "";
        this._eventId = eventId;
        this._altKey = altKey;
        this._ctrlKey = ctrlKey;
        this._shiftKey = shiftKey;
        this._buttonDown = buttonDown;
    }
    get eventId() {
        return this._eventId;
    }
    get altKey() {
        return this._altKey;
    }
    get ctrlKey() {
        return this._ctrlKey;
    }
    get shiftKey() {
        return this._shiftKey;
    }
    get buttonDown() {
        return this._buttonDown;
    }
    get localX() {
        return this._localX;
    }
    set localX(k) {
        this._localX = k;
    }
    get localY() {
        return this._localY;
    }
    set localY(k) {
        this._localY = k;
    }
    get spriteOffsetX() {
        return this._spriteOffsetX;
    }
    set spriteOffsetX(k) {
        this._spriteOffsetX = k;
    }
    get spriteOffsetY() {
        return this._spriteOffsetY;
    }
    set spriteOffsetY(k) {
        this._spriteOffsetY = k;
    }
}
RoomObjectMouseEvent.CLICK = 'ROE_MOUSE_CLICK';
RoomObjectMouseEvent.DOUBLE_CLICK = 'ROE_MOUSE_DOUBLE_CLICK';
RoomObjectMouseEvent.MOUSE_MOVE = 'ROE_MOUSE_MOVE';
RoomObjectMouseEvent.MOUSE_DOWN = 'ROE_MOUSE_DOWN';
RoomObjectMouseEvent.MOUSE_UP = 'ROE_MOUSE_UP';
RoomObjectMouseEvent.MOUSE_ENTER = 'ROE_MOUSE_ENTER';
RoomObjectMouseEvent.MOUSE_LEAVE = 'ROE_MOUSE_LEAVE';


/***/ }),

/***/ "in8K":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/animation/AnimationActionPart.ts ***!
  \****************************************************************************/
/*! exports provided: AnimationActionPart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationActionPart", function() { return AnimationActionPart; });
/* harmony import */ var _AnimationFrame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationFrame */ "IQ+l");

class AnimationActionPart {
    constructor(data) {
        this._frames = [];
        if (data.frames && (data.frames.length > 0)) {
            for (let frame of data.frames) {
                if (!frame)
                    continue;
                this._frames.push(new _AnimationFrame__WEBPACK_IMPORTED_MODULE_0__["AnimationFrame"](frame));
                let repeats = frame.repeats || 0;
                if (repeats > 1)
                    while (--repeats > 0)
                        this._frames.push(this._frames[(this._frames.length - 1)]);
            }
        }
    }
    get frames() {
        return this._frames;
    }
}


/***/ }),

/***/ "iooz":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/notifications/UnseenItemsParser.ts ***!
  \*******************************************************************************************/
/*! exports provided: UnseenItemsParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnseenItemsParser", function() { return UnseenItemsParser; });
/* harmony import */ var _core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/utils/AdvancedMap */ "hTzv");

class UnseenItemsParser {
    flush() {
        this._items = new _core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_0__["AdvancedMap"]();
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalUnseen = wrapper.readInt();
        while (totalUnseen > 0) {
            const category = wrapper.readInt();
            let totalItems = wrapper.readInt();
            let itemIds = [];
            while (totalItems > 0) {
                itemIds.push(wrapper.readInt());
                totalItems--;
            }
            this._items.add(category, itemIds);
            totalUnseen--;
        }
        return true;
    }
    getItemsByCategory(category) {
        return this._items.getValue(category);
    }
    get categories() {
        return this._items.getKeys();
    }
}


/***/ }),

/***/ "iua6":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorLiftedDataParser.ts ***!
  \***********************************************************************************************/
/*! exports provided: NavigatorLiftedDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorLiftedDataParser", function() { return NavigatorLiftedDataParser; });
class NavigatorLiftedDataParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._roomId = -1;
        this._areaId = -1;
        this._image = null;
        this._caption = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomId = wrapper.readInt();
        this._areaId = wrapper.readInt();
        this._image = wrapper.readString();
        this._caption = wrapper.readString();
        return true;
    }
    get roomId() {
        return this._roomId;
    }
    get areaId() {
        return this._areaId;
    }
    get image() {
        return this._image;
    }
    get caption() {
        return this._caption;
    }
}


/***/ }),

/***/ "iuqI":
/*!******************************************************!*\
  !*** ./src/client/nitro/window/motion/DropBounce.ts ***!
  \******************************************************/
/*! exports provided: DropBounce */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropBounce", function() { return DropBounce; });
/* harmony import */ var _Interval__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Interval */ "9fVB");

class DropBounce extends _Interval__WEBPACK_IMPORTED_MODULE_0__["Interval"] {
    constructor(target, duration, height) {
        super(target, duration);
        this._height = height;
    }
    start() {
        super.start();
        this._offset = 0;
        this.target.style.top = ((this._offset - this._height) + 'px');
    }
    update(time) {
        super.update(time);
        this.target.style.top = (((this._offset - this._height) + (this.getBounceOffset(time) * this._height)) + 'px');
    }
    getBounceOffset(k) {
        if (k < 0.364)
            return (7.5625 * k) * k;
        if (k < 0.727) {
            k = (k - 0.545);
            return ((7.5625 * k) * k) + 0.75;
        }
        if (k < 0.909) {
            k = (k - 0.9091);
            return ((7.5625 * k) * k) + 0.9375;
        }
        k = (k - 0.955);
        return ((7.5625 * k) * k) + 0.984375;
    }
    stop() {
        this.target.style.top = (this._offset + 'px');
        super.stop();
    }
}


/***/ }),

/***/ "iv6j":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/trading/TradingNotOpenEvent.ts ***!
  \***************************************************************************************************/
/*! exports provided: TradingNotOpenEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingNotOpenEvent", function() { return TradingNotOpenEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_trading_TradingNotOpenParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/trading/TradingNotOpenParser */ "cq1A");


class TradingNotOpenEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_trading_TradingNotOpenParser__WEBPACK_IMPORTED_MODULE_1__["TradingNotOpenParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "iw1w":
/*!**********************************************!*\
  !*** ./src/client/room/object/RoomObject.ts ***!
  \**********************************************/
/*! exports provided: RoomObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObject", function() { return RoomObject; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Vector3D */ "LGmI");
/* harmony import */ var _RoomObjectModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RoomObjectModel */ "JDu+");



class RoomObject extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor(id, stateCount, type) {
        super();
        this._id = id;
        this._instanceId = RoomObject.OBJECT_COUNTER++;
        this._type = type;
        this._model = new _RoomObjectModel__WEBPACK_IMPORTED_MODULE_2__["RoomObjectModel"]();
        this._location = new _utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._direction = new _utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        this._states = [];
        this._visualization = null;
        this._logic = null;
        this._pendingLogicMessages = [];
        this._updateCounter = 0;
        this._isReady = false;
        let i = (stateCount - 1);
        while (i >= 0) {
            this._states[i] = 0;
            i--;
        }
    }
    onDispose() {
        this._pendingLogicMessages = [];
        this.setVisualization(null);
        this.setLogic(null);
        if (this._model)
            this._model.dispose();
        super.onDispose();
    }
    getLocation() {
        return this._location;
    }
    setLocation(vector) {
        if (!vector)
            return;
        if ((vector.x === this._location.x) && (vector.y === this._location.y) && (vector.z === this._location.z))
            return;
        this._location.x = vector.x;
        this._location.y = vector.y;
        this._location.z = vector.z;
        this._updateCounter++;
    }
    getDirection() {
        return this._direction;
    }
    setDirection(vector) {
        if (!vector)
            return;
        if ((vector.x === this._direction.x) && (vector.y === this._direction.y) && (vector.z === this._direction.z))
            return;
        this._direction.x = (((vector.x % 360) + 360) % 360);
        this._direction.y = (((vector.y % 360) + 360) % 360);
        this._direction.z = (((vector.z % 360) + 360) % 360);
        this._updateCounter++;
    }
    getState(index = 0) {
        if ((index >= 0) && (index < this._states.length)) {
            return this._states[index];
        }
        return -1;
    }
    setState(state, index = 0) {
        if ((index >= 0) && (index < this._states.length)) {
            if (this._states[index] !== state) {
                this._states[index] = state;
                this._updateCounter++;
            }
            return true;
        }
        return false;
    }
    setVisualization(visualization) {
        if (this._visualization === visualization)
            return;
        if (this._visualization)
            this._visualization.dispose();
        this._visualization = visualization;
        if (this._visualization)
            this._visualization.object = this;
    }
    setLogic(logic) {
        if (this._logic === logic)
            return;
        const eventHandler = this._logic;
        if (eventHandler) {
            this._logic = null;
            eventHandler.setObject(null);
        }
        this._logic = logic;
        if (this._logic) {
            this._logic.setObject(this);
            while (this._pendingLogicMessages.length) {
                const message = this._pendingLogicMessages.shift();
                this._logic.processUpdateMessage(message);
            }
        }
    }
    processUpdateMessage(message) {
        if (this._logic)
            return this._logic.processUpdateMessage(message);
        this._pendingLogicMessages.push(message);
    }
    get id() {
        return this._id;
    }
    get instanceId() {
        return this._instanceId;
    }
    get type() {
        return this._type;
    }
    get model() {
        return this._model;
    }
    get visualization() {
        return this._visualization;
    }
    get mouseHandler() {
        return this._logic;
    }
    get logic() {
        return this._logic;
    }
    get location() {
        return this._location;
    }
    get direction() {
        return this._direction;
    }
    get updateCounter() {
        return this._updateCounter;
    }
    set updateCounter(count) {
        this._updateCounter = count;
    }
    get isReady() {
        return this._isReady;
    }
    set isReady(flag) {
        this._isReady = flag;
    }
}
RoomObject.OBJECT_COUNTER = 0;


/***/ }),

/***/ "izm6":
/*!*******************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/AnimationFrameData.ts ***!
  \*******************************************************************************/
/*! exports provided: AnimationFrameData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrameData", function() { return AnimationFrameData; });
class AnimationFrameData {
    constructor(id, x, y, randomX, randomY, repeats) {
        this._id = 0;
        this._x = 0;
        this._y = 0;
        this._randomX = 0;
        this._randomY = 0;
        this._repeats = 1;
        this._id = id;
        this._x = x;
        this._y = y;
        this._randomX = randomX;
        this._randomY = randomY;
        this._repeats = repeats;
    }
    get id() {
        return this._id;
    }
    hasDirectionalOffsets() {
        return false;
    }
    getX(k) {
        return this._x;
    }
    getY(k) {
        return this._y;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._x;
    }
    get randomX() {
        return this._randomX;
    }
    get randomY() {
        return this._randomY;
    }
    get repeats() {
        return this._repeats;
    }
}


/***/ }),

/***/ "j2zY":
/*!******************************************************!*\
  !*** ./src/app/security/services/session.service.ts ***!
  \******************************************************/
/*! exports provided: SessionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionService", function() { return SessionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_communication_messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/user/data/UserFigureEvent */ "3md2");
/* harmony import */ var _client_nitro_communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../client/nitro/communication/messages/incoming/user/data/UserInfoEvent */ "uMJ2");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../client/nitro/Nitro */ "P7Cj");





class SessionService {
    constructor() {
        this._userId = -1;
        this._userName = null;
        this._figure = null;
        this._gender = null;
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_2__["UserInfoEvent"](this.onUserInfoEvent.bind(this)));
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.communication.registerMessageEvent(new _client_nitro_communication_messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_1__["UserFigureEvent"](this.onUserFigureEvent.bind(this)));
    }
    ngOnDestroy() {
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.communication.removeMessageEvent(new _client_nitro_communication_messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_2__["UserInfoEvent"](this.onUserInfoEvent.bind(this)));
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.communication.removeMessageEvent(new _client_nitro_communication_messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_1__["UserFigureEvent"](this.onUserFigureEvent.bind(this)));
    }
    onUserInfoEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        const userInfo = parser.userInfo;
        this._userId = userInfo.userId;
        this._userName = userInfo.username;
        this._figure = userInfo.figure;
        this._gender = userInfo.gender;
    }
    onUserFigureEvent(event) {
        if (!event)
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        this._figure = parser.figure;
        this._gender = parser.gender;
    }
    get userId() {
        return this._userId;
    }
    get userName() {
        return this._userName;
    }
    get figure() {
        return this._figure;
    }
    get gender() {
        return this._gender;
    }
}
SessionService.ɵfac = function SessionService_Factory(t) { return new (t || SessionService)(); };
SessionService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SessionService, factory: SessionService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SessionService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "j5HY":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/client/ClientPongComposer.ts ***!
  \***************************************************************************************/
/*! exports provided: ClientPongComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientPongComposer", function() { return ClientPongComposer; });
class ClientPongComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "j7GY":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/RoomUnitActionComposer.ts ***!
  \**********************************************************************************************/
/*! exports provided: RoomUnitActionComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitActionComposer", function() { return RoomUnitActionComposer; });
class RoomUnitActionComposer {
    constructor(actionType) {
        this._data = [actionType];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "j7b1":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarPlayerValueUpdateMessage.ts ***!
  \********************************************************************************/
/*! exports provided: ObjectAvatarPlayerValueUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarPlayerValueUpdateMessage", function() { return ObjectAvatarPlayerValueUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarPlayerValueUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(value) {
        super();
        this._value = value;
    }
    get value() {
        return this._value;
    }
}


/***/ }),

/***/ "jBuC":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/FurnitureDataParser.ts ***!
  \**********************************************************************************************/
/*! exports provided: FurnitureDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureDataParser", function() { return FurnitureDataParser; });
/* harmony import */ var _room_object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/object/data/ObjectDataFactory */ "2L69");
/* harmony import */ var _room_object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/object/data/type/LegacyDataType */ "v12S");


class FurnitureDataParser {
    flush() {
        this._itemId = 0;
        this._data = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = parseInt(wrapper.readString());
        this._data = FurnitureDataParser.parseObjectData(wrapper);
        return true;
    }
    static parseObjectData(wrapper) {
        if (!wrapper)
            return null;
        const data = _room_object_data_ObjectDataFactory__WEBPACK_IMPORTED_MODULE_0__["ObjectDataFactory"].getData(wrapper.readInt());
        if (!data)
            return null;
        data.parseWrapper(wrapper);
        return data;
    }
    static parseWallStuffData(wrapper) {
        if (!wrapper)
            return null;
        const objectData = new _room_object_data_type_LegacyDataType__WEBPACK_IMPORTED_MODULE_1__["LegacyDataType"]();
        objectData.setString(wrapper.readString());
        return objectData;
    }
    get furnitureId() {
        return this._itemId;
    }
    get objectData() {
        return this._data;
    }
}


/***/ }),

/***/ "jDzL":
/*!********************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/room/TileCursorLogic.ts ***!
  \********************************************************************/
/*! exports provided: TileCursorLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TileCursorLogic", function() { return TileCursorLogic; });
/* harmony import */ var _room_object_logic_RoomObjectLogicBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/object/logic/RoomObjectLogicBase */ "K5R6");
/* harmony import */ var _messages_ObjectTileCursorUpdateMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../messages/ObjectTileCursorUpdateMessage */ "jLnw");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");



class TileCursorLogic extends _room_object_logic_RoomObjectLogicBase__WEBPACK_IMPORTED_MODULE_0__["RoomObjectLogicBase"] {
    constructor() {
        super();
        this._lastEventId = null;
        this._isHidden = false;
    }
    initialize(data) {
        if (!this.object)
            return;
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_ALPHA_MULTIPLIER, 1);
        this.object.setState(TileCursorLogic.CURSOR_HIDDEN_STATE, 0);
    }
    processUpdateMessage(message) {
        if (!(message instanceof _messages_ObjectTileCursorUpdateMessage__WEBPACK_IMPORTED_MODULE_1__["ObjectTileCursorUpdateMessage"]))
            return;
        if (!this._lastEventId && (this._lastEventId === message._Str_20637))
            return;
        if (message.toggleVisibility)
            this._isHidden = !this._isHidden;
        super.processUpdateMessage(message);
        if (this.object) {
            if (this._isHidden) {
                this.object.setState(TileCursorLogic.CURSOR_HIDDEN_STATE, 0);
            }
            else {
                if (!message.visible) {
                    this.object.setState(TileCursorLogic.CURSOR_HIDDEN_STATE, 0);
                }
                else {
                    this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].TILE_CURSOR_HEIGHT, message.height);
                    this.object.setState((message.height > 0.8) ? TileCursorLogic.CURSOR_HEIGHT_STATE : TileCursorLogic.CURSOR_VISIBLE_STATE);
                }
            }
        }
        this._lastEventId = message._Str_20637;
    }
}
TileCursorLogic.CURSOR_VISIBLE_STATE = 0;
TileCursorLogic.CURSOR_HIDDEN_STATE = 1;
TileCursorLogic.CURSOR_HEIGHT_STATE = 6;


/***/ }),

/***/ "jFxZ":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/chat/RoomUnitChatWhisperEvent.ts ***!
  \*****************************************************************************************************/
/*! exports provided: RoomUnitChatWhisperEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitChatWhisperEvent", function() { return RoomUnitChatWhisperEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_chat_RoomUnitChatParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/unit/chat/RoomUnitChatParser */ "c746");


class RoomUnitChatWhisperEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_chat_RoomUnitChatParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitChatParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "jLnw":
/*!*************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectTileCursorUpdateMessage.ts ***!
  \*************************************************************************/
/*! exports provided: ObjectTileCursorUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectTileCursorUpdateMessage", function() { return ObjectTileCursorUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectTileCursorUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(k, height, visible, sourceEventId, toggleVisibility = false) {
        super(k, null);
        this._height = height;
        this._visible = visible;
        this._sourceEventId = sourceEventId;
        this._toggleVisibility = toggleVisibility;
    }
    get height() {
        return this._height;
    }
    get visible() {
        return this._visible;
    }
    get _Str_20637() {
        return this._sourceEventId;
    }
    get toggleVisibility() {
        return this._toggleVisibility;
    }
}


/***/ }),

/***/ "jNIr":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectMoveUpdateMessage.ts ***!
  \*******************************************************************/
/*! exports provided: ObjectMoveUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectMoveUpdateMessage", function() { return ObjectMoveUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectMoveUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(location, targetLocation, direction, isSlide = false) {
        super(location, direction);
        this._targetLocation = targetLocation;
        this._isSlide = isSlide;
    }
    get targetLocation() {
        if (!this._targetLocation)
            return this.location;
        return this._targetLocation;
    }
    get isSlide() {
        return this._isSlide;
    }
}


/***/ }),

/***/ "jRgO":
/*!******************************!*\
  !*** ./src/app/component.ts ***!
  \******************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_avatar_events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../client/nitro/avatar/events/AvatarRenderEvent */ "qEDl");
/* harmony import */ var _client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../client/nitro/communication/demo/NitroCommunicationDemoEvent */ "z6mw");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../client/nitro/room/events/RoomEngineEvent */ "G0tw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_components_loading_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shared/components/loading/component */ "aJmH");
/* harmony import */ var _components_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/component */ "7vj/");









function AppComponent_nitro_loading_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "nitro-loading", 3);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("message", ctx_r0.message)("percentage", ctx_r0.percentage)("hideProgress", ctx_r0.hideProgress);
} }
function AppComponent_nitro_main_component_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "nitro-main-component");
} }
class AppComponent {
    constructor(ngZone) {
        this.ngZone = ngZone;
        this.message = 'Starting';
        this.percentage = 0;
        this.hideProgress = false;
        this.isRoomEngineReady = false;
        this.isAvatarRenderReady = false;
        this.isError = false;
    }
    ngAfterViewChecked() {
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
            if (!_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance) {
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].bootstrap({
                    configurationUrl: '',
                    sso: (new URLSearchParams(window.location.search).get('sso') || null)
                });
            }
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.addEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_ESTABLISHED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.addEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKING, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.addEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKE_FAILED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.addEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_AUTHENTICATED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.addEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_ERROR, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.addEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_CLOSED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.roomEngine.events.addEventListener(_client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_4__["RoomEngineEvent"].ENGINE_INITIALIZED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.avatar.events.addEventListener(_client_nitro_avatar_events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderEvent"].AVATAR_RENDER_READY, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.core.asset.downloadAssets(_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].CONFIGURATION.PRELOAD_ASSETS, (status) => {
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.communication.init();
            });
        });
    }
    ngOnDestroy() {
        this.ngZone.runOutsideAngular(() => {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.removeEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_ESTABLISHED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.removeEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKING, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.removeEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKE_FAILED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.removeEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_AUTHENTICATED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.removeEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_ERROR, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.events.removeEventListener(_client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_CLOSED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.roomEngine.events.removeEventListener(_client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_4__["RoomEngineEvent"].ENGINE_INITIALIZED, this.onNitroEvent.bind(this));
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.avatar.events.removeEventListener(_client_nitro_avatar_events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderEvent"].AVATAR_RENDER_READY, this.onNitroEvent.bind(this));
        });
    }
    onNitroEvent(event) {
        if (!event)
            return;
        switch (event.type) {
            case _client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKING:
                this.ngZone.run(() => {
                    this.message = 'Handshaking';
                    this.percentage = 25;
                    this.hideProgress = false;
                });
                break;
            case _client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_HANDSHAKE_FAILED:
                this.ngZone.run(() => {
                    this.isError = true;
                    this.message = 'Handshake Failed';
                    this.percentage = 0;
                    this.hideProgress = true;
                });
                break;
            case _client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_AUTHENTICATED:
                this.ngZone.run(() => {
                    this.message = 'Preparing Nitro';
                    this.percentage = 50;
                    this.hideProgress = false;
                });
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.init();
                break;
            case _client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_ERROR:
                this.ngZone.run(() => {
                    this.isError = true;
                    this.message = 'Connection Error';
                    this.percentage = 0;
                    this.hideProgress = true;
                });
                break;
            case _client_nitro_communication_demo_NitroCommunicationDemoEvent__WEBPACK_IMPORTED_MODULE_2__["NitroCommunicationDemoEvent"].CONNECTION_CLOSED:
                this.ngZone.run(() => {
                    this.isError = true;
                    this.message = 'Connection Closed';
                    this.percentage = 0;
                    this.hideProgress = true;
                });
                break;
            case _client_nitro_room_events_RoomEngineEvent__WEBPACK_IMPORTED_MODULE_4__["RoomEngineEvent"].ENGINE_INITIALIZED:
                this.ngZone.run(() => {
                    this.isRoomEngineReady = true;
                    this.message = (!this.isAvatarRenderReady) ? 'Waiting for AvatarRender' : 'Ready';
                    this.percentage = (!this.isAvatarRenderReady) ? 75 : 100;
                    this.hideProgress = false;
                });
                _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.communication.connection.onReady();
                break;
            case _client_nitro_avatar_events_AvatarRenderEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderEvent"].AVATAR_RENDER_READY:
                this.ngZone.run(() => {
                    this.isAvatarRenderReady = true;
                    this.message = (!this.isRoomEngineReady) ? 'Waiting for RoomEngine' : 'Ready';
                    this.percentage = (!this.isRoomEngineReady) ? 75 : 100;
                    this.hideProgress = false;
                });
                break;
        }
    }
    get isReady() {
        return ((this.isRoomEngineReady && this.isAvatarRenderReady) || false);
    }
}
AppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
AppComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AppComponent, selectors: [["app-root"]], decls: 3, vars: 2, consts: [["id", "nitro"], [3, "message", "percentage", "hideProgress", 4, "ngIf"], [4, "ngIf"], [3, "message", "percentage", "hideProgress"]], template: function AppComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AppComponent_nitro_loading_1_Template, 1, 3, "nitro-loading", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AppComponent_nitro_main_component_2_Template, 1, 0, "nitro-main-component", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isReady);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isReady);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _shared_components_loading_component__WEBPACK_IMPORTED_MODULE_6__["LoadingComponent"], _components_component__WEBPACK_IMPORTED_MODULE_7__["MainComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-root',
                template: `
    <div id="nitro">
        <nitro-loading *ngIf="!isReady" [message]="message" [percentage]="percentage" [hideProgress]="hideProgress"></nitro-loading>
        <nitro-main-component *ngIf="isReady"></nitro-main-component>
    </div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, null); })();


/***/ }),

/***/ "jX/W":
/*!*************************************************************!*\
  !*** ./src/client/nitro/session/handler/RoomDataHandler.ts ***!
  \*************************************************************/
/*! exports provided: RoomDataHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomDataHandler", function() { return RoomDataHandler; });
/* harmony import */ var _communication_messages_incoming_room_data_RoomInfoEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../communication/messages/incoming/room/data/RoomInfoEvent */ "10wl");
/* harmony import */ var _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events/RoomSessionEvent */ "Ns5P");
/* harmony import */ var _events_RoomSessionPropertyUpdateEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events/RoomSessionPropertyUpdateEvent */ "yMWR");
/* harmony import */ var _BaseHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseHandler */ "8mH1");




class RoomDataHandler extends _BaseHandler__WEBPACK_IMPORTED_MODULE_3__["BaseHandler"] {
    constructor(connection, listener) {
        super(connection, listener);
        connection.addMessageEvent(new _communication_messages_incoming_room_data_RoomInfoEvent__WEBPACK_IMPORTED_MODULE_0__["RoomInfoEvent"](this.onRoomInfoEvent.bind(this)));
    }
    onRoomInfoEvent(event) {
        if (!(event instanceof _communication_messages_incoming_room_data_RoomInfoEvent__WEBPACK_IMPORTED_MODULE_0__["RoomInfoEvent"]))
            return;
        const parser = event.getParser();
        if (!parser)
            return;
        if (parser.roomForward)
            return;
        const roomSession = this.listener.getSession(this.roomId);
        if (!roomSession)
            return;
        const roomData = parser.data;
        roomSession.tradeMode = roomData.tradeMode;
        roomSession.isGuildRoom = (roomData.guildId !== 0);
        roomSession.doorMode = roomData.doorMode;
        roomSession.allowPets = roomData.allowPets;
        roomSession.moderationSettings = parser.moderation;
        this.listener.events.dispatchEvent(new _events_RoomSessionPropertyUpdateEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionPropertyUpdateEvent"](_events_RoomSessionPropertyUpdateEvent__WEBPACK_IMPORTED_MODULE_2__["RoomSessionPropertyUpdateEvent"].RSDUE_ALLOW_PETS, roomSession));
        this.listener.events.dispatchEvent(new _events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomSessionEvent"](_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomSessionEvent"].ROOM_DATA, roomSession));
    }
}


/***/ }),

/***/ "jdh6":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitStatusEvent.ts ***!
  \*******************************************************************************************/
/*! exports provided: RoomUnitStatusEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitStatusEvent", function() { return RoomUnitStatusEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitStatusParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitStatusParser */ "9SFl");


class RoomUnitStatusEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitStatusParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitStatusParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "jedS":
/*!*******************************************************************************!*\
  !*** ./src/client/core/communication/connections/enums/ClientPlatformEnum.ts ***!
  \*******************************************************************************/
/*! exports provided: ClientPlatformEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientPlatformEnum", function() { return ClientPlatformEnum; });
class ClientPlatformEnum {
}
ClientPlatformEnum.UNKNOWN = 0;
ClientPlatformEnum.FLASH = 1;
ClientPlatformEnum.HTML5 = 2;


/***/ }),

/***/ "jgc/":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/FurniturePickupComposer.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurniturePickupComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePickupComposer", function() { return FurniturePickupComposer; });
class FurniturePickupComposer {
    constructor(category, objectId) {
        this._data = [category, objectId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "jn+Z":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureRoomBillboardLogic.ts ***!
  \*************************************************************************************/
/*! exports provided: FurnitureRoomBillboardLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureRoomBillboardLogic", function() { return FurnitureRoomBillboardLogic; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureRoomBrandingLogic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureRoomBrandingLogic */ "6qh2");


class FurnitureRoomBillboardLogic extends _FurnitureRoomBrandingLogic__WEBPACK_IMPORTED_MODULE_1__["FurnitureRoomBrandingLogic"] {
    getAdClickUrl(model) {
        return model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_BRANDING_URL);
    }
}


/***/ }),

/***/ "jwcc":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomSettingsErrorParser.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomSettingsErrorParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSettingsErrorParser", function() { return RoomSettingsErrorParser; });
class RoomSettingsErrorParser {
    flush() {
        this._roomId = 0;
        this._code = 0;
        this._message = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomId = wrapper.readInt();
        this._code = wrapper.readInt();
        this._message = wrapper.readString();
        return true;
    }
    get roomId() {
        return this._roomId;
    }
    get code() {
        return this._code;
    }
    get message() {
        return this._message;
    }
}


/***/ }),

/***/ "jzpY":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitInfoEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: RoomUnitInfoEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitInfoEvent", function() { return RoomUnitInfoEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitInfoParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitInfoParser */ "be3F");


class RoomUnitInfoEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitInfoParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitInfoParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "k+O9":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectSelectedMessage.ts ***!
  \*****************************************************************/
/*! exports provided: ObjectSelectedMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectSelectedMessage", function() { return ObjectSelectedMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectSelectedMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(selected) {
        super();
        this._selected = selected;
    }
    get selected() {
        return this._selected;
    }
}


/***/ }),

/***/ "k+ip":
/*!*****************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureScoreLogic.ts ***!
  \*****************************************************************************/
/*! exports provided: FurnitureScoreLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureScoreLogic", function() { return FurnitureScoreLogic; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Nitro */ "P7Cj");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");



class FurnitureScoreLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureMultiStateLogic"] {
    constructor() {
        super();
        this._score = 0;
        this._scoreIncreaser = 50;
        this._scoreTimer = 0;
    }
    update(totalTimeRunning) {
        super.update(totalTimeRunning);
        const currentScore = this.object.getState(0);
        if (currentScore !== this._score)
            this.object.setState(this._score, 0);
        // if((currentScore !== this._score) && (this.totalTimeRunning >= (this._scoreTimer + this._scoreIncreaser)))
        // {
        //     let difference    = delta - this._scoreTimer;
        //     let total         = difference / this._scoreIncreaser;
        //     let stepper       = 1;
        //     if(this._score < currentScore) stepper = -1;
        //     if(total > (stepper * (this._score - currentScore)))
        //     {
        //         total = (stepper * (this._score - currentScore));
        //     }
        //     this.object.setState(currentScore + (stepper * total));
        //     this._scoreTimer = (delta - (difference - (total * this._scoreIncreaser)));
        // }
    }
    processUpdateMessage(message) {
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_1__["ObjectDataUpdateMessage"])
            return this.updateScore(message.state);
        super.processUpdateMessage(message);
    }
    updateScore(count) {
        this._score = count;
        const currentScore = this.object.getState(0);
        if (this._score !== currentScore) {
            let difference = this._score - currentScore;
            if (difference < 0)
                difference = -Math.abs(difference);
            if ((difference * 50) > 3000)
                this._scoreIncreaser = 3000 / difference;
            else
                this._scoreIncreaser = 50;
            this._scoreTimer = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time + 0;
        }
    }
}


/***/ }),

/***/ "k0R1":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/enums/RoomObjectPlacementSource.ts ***!
  \******************************************************************/
/*! exports provided: RoomObjectPlacementSource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectPlacementSource", function() { return RoomObjectPlacementSource; });
class RoomObjectPlacementSource {
}
RoomObjectPlacementSource.CATALOG = 'catalog';
RoomObjectPlacementSource.INVENTORY = 'inventory';


/***/ }),

/***/ "k5Z/":
/*!************************************************************************!*\
  !*** ./src/app/components/room/widgets/roomchat/chatitem/component.ts ***!
  \************************************************************************/
/*! exports provided: RoomChatItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomChatItemComponent", function() { return RoomChatItemComponent; });
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/animations */ "R0Ic");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var ng_animate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng-animate */ "5Rqa");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");





const _c0 = ["chatContainer"];
const _c1 = ["chatItemUserImage"];
const _c2 = function (a0) { return { "background-color": a0 }; };
class RoomChatItemComponent {
    update(k) {
        this.chatType = k.chatType;
        this.chatStyle = k.styleId;
        this.senderId = k.userId;
        this.senderName = k.userName;
        this.senderCategory = k.userCategory;
        this.message = k.text;
        this.messageLinks = k.links;
        this.senderX = k.userX;
        this.senderImage = k.userImage;
        this.senderColor = k.userColor;
        this.senderColorString = (this.senderColor && ('#' + (this.senderColor.toString(16).padStart(6, '0'))) || null);
        this.roomId = k.roomId;
        this.userType = k.userType;
        this.petType = k.petType;
    }
    ready() {
        this.insertSenderImage();
        this.makeVisible();
    }
    makeVisible() {
        (this.chatContainerElement && (this.chatContainerElement.style.visibility = 'visible'));
    }
    insertSenderImage() {
        if (!this.senderImage)
            return;
        const imageElement = document.createElement('img');
        const scale = 0.5;
        imageElement.src = this.senderImage.src;
        imageElement.onload = (() => {
            imageElement.height = (imageElement.height * scale);
        });
        this.chatItemUserImageReference.nativeElement.appendChild(imageElement);
    }
    getX() {
        return this.x;
    }
    setX(x) {
        if (!this.chatContainerElement)
            return;
        this.x = x;
        this.chatContainerElement.style.left = (x + 'px');
    }
    getY() {
        return this.y;
    }
    setY(y) {
        if (!this.chatContainerElement)
            return;
        y = y - 1;
        this.y = y;
        this.chatContainerElement.style.top = (y + 'px');
    }
    get width() {
        return ((this.chatContainerElement && this.chatContainerElement.offsetWidth) || 0);
    }
    get height() {
        return ((this.chatContainerElement && this.chatContainerElement.offsetHeight) || 0);
    }
    get chatContainerElement() {
        return ((this.chatContainer && this.chatContainer.nativeElement) || null);
    }
    get chatUserImageElement() {
        return ((this.chatItemUserImageReference && this.chatItemUserImageReference.nativeElement) || null);
    }
}
RoomChatItemComponent.ɵfac = function RoomChatItemComponent_Factory(t) { return new (t || RoomChatItemComponent)(); };
RoomChatItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: RoomChatItemComponent, selectors: [["ng-component"]], viewQuery: function RoomChatItemComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c1, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.chatContainer = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.chatItemUserImageReference = _t.first);
    } }, inputs: { id: "id" }, decls: 11, vars: 10, consts: [["chatContainer", ""], [1, "chat-left", 3, "ngStyle"], [1, "user-image"], ["chatItemUserImage", ""], [1, "user-pointer"], [1, "chat-right"], [1, "chat-pointer"]], template: function RoomChatItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", null, 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "div", 2, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](10, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassMapInterpolate2"]("nitro-room-chat-item-component chat-style-", ctx.chatStyle, " chat-type-", ctx.chatType, "");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("@animation", ctx.animation);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](8, _c2, ctx.senderColorString));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", ctx.senderName, ":");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.message, " ");
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgStyle"]], encapsulation: 2, data: { animation: [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('animation', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["bounceIn"], {
                    params: { timing: 0.8, delay: 0 }
                }))
            ])
        ] } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RoomChatItemComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                template: `
    <div [@animation]="animation" #chatContainer class="nitro-room-chat-item-component chat-style-{{ chatStyle }} chat-type-{{ chatType }}">
        <div class="chat-left" [ngStyle]="{ 'background-color': senderColorString }">
            <div #chatItemUserImage class="user-image"></div>
            <div class="user-pointer"></div>
        </div>
        <div class="chat-right">
            <b>{{ senderName }}:</b> {{ message }}
        </div>
        <div class="chat-pointer"></div>
    </div>`,
                animations: [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('animation', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('* => *', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["useAnimation"])(ng_animate__WEBPACK_IMPORTED_MODULE_2__["bounceIn"], {
                            params: { timing: 0.8, delay: 0 }
                        }))
                    ])
                ]
            }]
    }], null, { id: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], chatContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['chatContainer']
        }], chatItemUserImageReference: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ['chatItemUserImage']
        }] }); })();


/***/ }),

/***/ "kHf0":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/animated/LandscapeRasterizer.ts ***!
  \****************************************************************************************************/
/*! exports provided: LandscapeRasterizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LandscapeRasterizer", function() { return LandscapeRasterizer; });
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../NitroConfiguration */ "8vq6");
/* harmony import */ var _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/PlaneBitmapData */ "I7q/");
/* harmony import */ var _utils_Randomizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/Randomizer */ "CH4U");
/* harmony import */ var _basic_PlaneRasterizer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../basic/PlaneRasterizer */ "3fb7");
/* harmony import */ var _basic_PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../basic/PlaneVisualizationLayer */ "8i/q");
/* harmony import */ var _LandscapePlane__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LandscapePlane */ "Zxrk");






class LandscapeRasterizer extends _basic_PlaneRasterizer__WEBPACK_IMPORTED_MODULE_3__["PlaneRasterizer"] {
    constructor() {
        super(...arguments);
        this._landscapeWidth = 0;
        this._landscapeHeight = 0;
    }
    initializeDimensions(k, _arg_2) {
        if (k < 0)
            k = 0;
        if (_arg_2 < 0)
            _arg_2 = 0;
        this._landscapeWidth = k;
        this._landscapeHeight = _arg_2;
        return true;
    }
    initializePlanes() {
        if (!this.data)
            return;
        const landscapes = this.data.landscapes;
        if (landscapes && landscapes.length)
            this._Str_25478(landscapes);
    }
    _Str_25478(k) {
        if (!k)
            return;
        const randomNumber = Math.trunc((Math.random() * 654321));
        for (let landscapeIndex in k) {
            const landscape = k[landscapeIndex];
            if (!landscape)
                continue;
            const id = landscape.id;
            const visualizations = landscape.animatedVisualizations;
            const plane = new _LandscapePlane__WEBPACK_IMPORTED_MODULE_5__["LandscapePlane"]();
            for (let visualization of visualizations) {
                if (!visualization)
                    continue;
                const size = visualization.size;
                let horizontalAngle = _LandscapePlane__WEBPACK_IMPORTED_MODULE_5__["LandscapePlane"]._Str_5433;
                let verticalAngle = _LandscapePlane__WEBPACK_IMPORTED_MODULE_5__["LandscapePlane"]._Str_5509;
                if (visualization.horizontalAngle)
                    horizontalAngle = visualization.horizontalAngle;
                if (visualization.verticalAngle)
                    verticalAngle = visualization.verticalAngle;
                const basicLayers = visualization.layers;
                const animatedLayers = visualization.animationLayers;
                const totalBasicLayers = ((basicLayers && basicLayers.length) || 0);
                const totalAnimatedLayers = ((animatedLayers && animatedLayers.length) || 0);
                const totalLayers = (totalBasicLayers + totalAnimatedLayers);
                const planeVisualization = plane._Str_20305(size, (totalLayers || 0), this._Str_17204(size, horizontalAngle, verticalAngle));
                if (planeVisualization) {
                    _utils_Randomizer__WEBPACK_IMPORTED_MODULE_2__["Randomizer"]._Str_17384(randomNumber);
                    let layerId = 0;
                    if (totalBasicLayers) {
                        while (layerId < basicLayers.length) {
                            const layer = basicLayers[layerId];
                            if (layer) {
                                let material = null;
                                let align = _basic_PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_4__["PlaneVisualizationLayer"]._Str_6914;
                                let color = _LandscapePlane__WEBPACK_IMPORTED_MODULE_5__["LandscapePlane"]._Str_2531;
                                let offset = _basic_PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_4__["PlaneVisualizationLayer"]._Str_1934;
                                if (layer.materialId)
                                    material = this._Str_8547(layer.materialId);
                                if (layer.color)
                                    color = layer.color;
                                if (layer.offset)
                                    offset = layer.offset;
                                if (layer.align) {
                                    if (layer.align === 'bottom') {
                                        align = _basic_PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_4__["PlaneVisualizationLayer"]._Str_3606;
                                    }
                                    else if (layer.align === 'top')
                                        align = _basic_PlaneVisualizationLayer__WEBPACK_IMPORTED_MODULE_4__["PlaneVisualizationLayer"].ALIGN_TOP;
                                }
                                planeVisualization._Str_21464(layerId, material, color, align, offset);
                            }
                            layerId++;
                        }
                    }
                    layerId = 0;
                    if (totalAnimatedLayers) {
                        const animationItems = [];
                        while (layerId < animatedLayers.length) {
                            const layer = animatedLayers[layerId];
                            if (layer) {
                                const items = layer.animationItems;
                                if (items && items.length) {
                                    for (let item of items) {
                                        if (item) {
                                            const id = item.id;
                                            const assetId = item.assetId;
                                            const x = this._Str_21504(item.x || '', item.randomX || '');
                                            const y = this._Str_21504(item.y || '', item.randomY || '');
                                            const speedX = item.speedX ? item.speedX / _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].FPS : 0;
                                            const speedY = item.speedY ? item.speedY / _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].FPS : 0;
                                            animationItems.push({
                                                asset: assetId,
                                                x,
                                                y,
                                                speedX,
                                                speedY
                                            });
                                        }
                                    }
                                }
                            }
                            layerId++;
                        }
                        planeVisualization._Str_23489(layerId, animationItems, this._Str_2697);
                    }
                }
            }
            if (!this._Str_3453(id, plane))
                plane.dispose();
        }
    }
    _Str_21504(k, _arg_2) {
        let _local_3 = 0;
        if ((k.length > 0)) {
            if (k.charAt((k.length - 1)) === '%') {
                k = k.substr(0, (k.length - 1));
                _local_3 = (parseFloat(k) / 100);
            }
        }
        if ((_arg_2.length > 0)) {
            const _local_4 = 10000;
            const _local_5 = _utils_Randomizer__WEBPACK_IMPORTED_MODULE_2__["Randomizer"]._Str_1612(1, 0, _local_4);
            const _local_6 = (_local_5[0] / _local_4);
            if (_arg_2.charAt((_arg_2.length - 1)) === '%') {
                _arg_2 = _arg_2.substr(0, (_arg_2.length - 1));
                _local_3 = (_local_3 + ((_local_6 * parseFloat(_arg_2)) / 100));
            }
        }
        return _local_3;
    }
    render(canvas, id, width, height, scale, normal, useTexture, offsetX = 0, offsetY = 0, maxX = 0, maxY = 0, timeSinceStartMs = 0) {
        let plane = this._Str_3491(id);
        if (!plane)
            plane = this._Str_3491(LandscapeRasterizer.DEFAULT);
        if (!plane)
            return null;
        if (canvas) {
            canvas.clear();
        }
        let graphic = plane.render(canvas, width, height, scale, normal, useTexture, offsetX, offsetY, maxX, maxY, timeSinceStartMs);
        if (graphic && (graphic !== canvas)) {
            graphic = graphic.clone();
            if (!graphic)
                return null;
        }
        let planeBitmapData = null;
        if (!plane.isStatic(scale) && (LandscapeRasterizer._Str_3536 > 0)) {
            planeBitmapData = new _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_1__["PlaneBitmapData"](graphic, ((Math.round((timeSinceStartMs / LandscapeRasterizer._Str_3536)) * LandscapeRasterizer._Str_3536) + LandscapeRasterizer._Str_3536));
        }
        else {
            planeBitmapData = new _utils_PlaneBitmapData__WEBPACK_IMPORTED_MODULE_1__["PlaneBitmapData"](graphic, -1);
        }
        return planeBitmapData;
    }
    getTextureIdentifier(k, _arg_2) {
        if (_arg_2) {
            if (_arg_2.x < 0)
                return (k + '_0');
            return (k + '_1');
        }
        return super.getTextureIdentifier(k, _arg_2);
    }
}
LandscapeRasterizer._Str_3536 = 500;


/***/ }),

/***/ "kOUW":
/*!***************************************************************************!*\
  !*** ./src/client/room/object/visualization/utils/GraphicAssetPalette.ts ***!
  \***************************************************************************/
/*! exports provided: GraphicAssetPalette */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicAssetPalette", function() { return GraphicAssetPalette; });
/* harmony import */ var _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../nitro/Nitro */ "P7Cj");

class GraphicAssetPalette {
    constructor(palette, primaryColor, secondaryColor) {
        this._palette = palette;
        while (this._palette.length < 256)
            this._palette.push([0, 0, 0]);
        this._primaryColor = primaryColor;
        this._secondaryColor = secondaryColor;
    }
    dispose() {
    }
    applyPalette(texture) {
        const sprite = PIXI.Sprite.from(texture);
        const textureCanvas = _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.renderer.extract.canvas(sprite);
        const textureCtx = textureCanvas.getContext('2d');
        const textureImageData = textureCtx.getImageData(0, 0, textureCanvas.width, textureCanvas.height);
        const data = textureImageData.data;
        for (let i = 0; i < data.length; i += 4) {
            let paletteColor = this._palette[data[i + 1]];
            if (paletteColor === undefined)
                paletteColor = [0, 0, 0];
            data[i] = paletteColor[0];
            data[i + 1] = paletteColor[1];
            data[i + 2] = paletteColor[2];
        }
        textureCtx.putImageData(textureImageData, 0, 0);
        return PIXI.Texture.from(textureCanvas);
    }
    get primaryColor() {
        return this._primaryColor;
    }
    get secondaryColor() {
        return this._secondaryColor;
    }
}


/***/ }),

/***/ "kSKJ":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureAnimatedVisualizationData.ts ***!
  \****************************************************************************************************/
/*! exports provided: FurnitureAnimatedVisualizationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureAnimatedVisualizationData", function() { return FurnitureAnimatedVisualizationData; });
/* harmony import */ var _data_AnimationSizeData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/AnimationSizeData */ "sZiI");
/* harmony import */ var _FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureVisualizationData */ "NyXN");


class FurnitureAnimatedVisualizationData extends _FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_1__["FurnitureVisualizationData"] {
    createSizeData(scale, layerCount, angle) {
        return new _data_AnimationSizeData__WEBPACK_IMPORTED_MODULE_0__["AnimationSizeData"](layerCount, angle);
    }
    processVisualElement(sizeData, key, data) {
        if (!sizeData || !key || !data)
            return false;
        switch (key) {
            case 'animations':
                if (!(sizeData instanceof _data_AnimationSizeData__WEBPACK_IMPORTED_MODULE_0__["AnimationSizeData"]) || !sizeData.defineAnimations(data))
                    return false;
                break;
            default:
                if (!super.processVisualElement(sizeData, key, data))
                    return false;
                break;
        }
        return true;
    }
    hasAnimation(scale, animationId) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size.hasAnimation(animationId);
    }
    getAnimationCount(scale) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size.getAnimationCount();
    }
    getAnimationId(scale, animationId) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size.getAnimationId(animationId);
    }
    isImmediateChange(scale, animationId, _arg_3) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size.isImmediateChange(animationId, _arg_3);
    }
    getStartFrame(scale, animationId, direction) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size.getStartFrame(animationId, direction);
    }
    getFrame(scale, animationId, direction, layerId, frameCount) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size.getFrame(animationId, direction, layerId, frameCount);
    }
    getFrameFromSequence(scale, animationId, direction, layerId, sequenceId, offset, frameCount) {
        const size = this.getSizeData(scale);
        if (!size)
            return null;
        return size.getFrameFromSequence(animationId, direction, layerId, sequenceId, offset, frameCount);
    }
}


/***/ }),

/***/ "kSg6":
/*!***********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/Plane.ts ***!
  \***********************************************************************************/
/*! exports provided: Plane */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Plane", function() { return Plane; });
/* harmony import */ var _PlaneVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PlaneVisualization */ "GFY8");

class Plane {
    constructor() {
        this._planeVisualizations = new Map();
        this._sizes = [];
        this._lastPlaneVisualization = null;
        this._lastSize = -1;
    }
    isStatic(k) {
        return true;
    }
    dispose() {
        for (let visualization of this._planeVisualizations.values()) {
            if (!visualization)
                continue;
            visualization.dispose();
        }
        this._planeVisualizations = null;
        this._lastPlaneVisualization = null;
        this._sizes = null;
        this._lastSize = -1;
    }
    _Str_3355() {
        for (let visualization of this._planeVisualizations.values()) {
            if (!visualization)
                continue;
            visualization._Str_3355();
        }
    }
    _Str_20305(k, _arg_2, _arg_3) {
        const existing = this._planeVisualizations.get(k.toString());
        if (existing)
            return null;
        const plane = new _PlaneVisualization__WEBPACK_IMPORTED_MODULE_0__["PlaneVisualization"](k, _arg_2, _arg_3);
        this._planeVisualizations.set(k.toString(), plane);
        this._sizes.push(k);
        this._sizes.sort();
        return plane;
    }
    _Str_8560(k) {
        let size = 0;
        let index = 1;
        while (index < this._sizes.length) {
            if (this._sizes[index] > k) {
                if ((this._sizes[index] - k) < (k - this._sizes[(index - 1)]))
                    size = index;
                break;
            }
            size = index;
            index++;
        }
        return size;
    }
    _Str_6009(k) {
        if (k === this._lastSize)
            return this._lastPlaneVisualization;
        const sizeIndex = this._Str_8560(k);
        if (sizeIndex < this._sizes.length) {
            this._lastPlaneVisualization = this._planeVisualizations.get(this._sizes[sizeIndex].toString());
        }
        else {
            this._lastPlaneVisualization = null;
        }
        this._lastSize = k;
        return this._lastPlaneVisualization;
    }
    _Str_8988() {
        return this._Str_6009(this._lastSize)._Str_8988();
    }
}


/***/ }),

/***/ "kTS4":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/desktop/DesktopViewParser.ts ***!
  \*************************************************************************************/
/*! exports provided: DesktopViewParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DesktopViewParser", function() { return DesktopViewParser; });
class DesktopViewParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "kXXe":
/*!******************************************************!*\
  !*** ./src/client/room/data/RoomObjectSpriteData.ts ***!
  \******************************************************/
/*! exports provided: RoomObjectSpriteData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectSpriteData", function() { return RoomObjectSpriteData; });
class RoomObjectSpriteData {
}


/***/ }),

/***/ "kXgc":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomChatSettingsParser.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomChatSettingsParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomChatSettingsParser", function() { return RoomChatSettingsParser; });
/* harmony import */ var _RoomChatParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomChatParser */ "fFOI");

class RoomChatSettingsParser {
    flush() {
        this._chat = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._chat = new _RoomChatParser__WEBPACK_IMPORTED_MODULE_0__["RoomChatParser"](wrapper);
        return true;
    }
    get chat() {
        return this._chat;
    }
}


/***/ }),

/***/ "kbLa":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogPurchaseFailedParser.ts ***!
  \***********************************************************************************************/
/*! exports provided: CatalogPurchaseFailedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseFailedParser", function() { return CatalogPurchaseFailedParser; });
class CatalogPurchaseFailedParser {
    flush() {
        this._code = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._code = wrapper.readInt();
        return true;
    }
    get code() {
        return this._code;
    }
}


/***/ }),

/***/ "kiCC":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/RoomUnitSignComposer.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomUnitSignComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitSignComposer", function() { return RoomUnitSignComposer; });
class RoomUnitSignComposer {
    constructor(signType) {
        this._data = [signType];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "kiYJ":
/*!***********************************************!*\
  !*** ./src/client/core/asset/AssetManager.ts ***!
  \***********************************************/
/*! exports provided: AssetManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetManager", function() { return AssetManager; });
/* harmony import */ var _room_object_visualization_utils_GraphicAssetCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../room/object/visualization/utils/GraphicAssetCollection */ "auym");
/* harmony import */ var _common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/disposable/Disposable */ "Xr/m");


class AssetManager extends _common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_1__["Disposable"] {
    constructor() {
        super();
        this._textures = new Map();
        this._collections = new Map();
        this._pendingUrls = new Map();
    }
    static removeFileExtension(name) {
        return (name.substring(0, name.lastIndexOf('.')) || name);
    }
    getTexture(name) {
        if (!name)
            return null;
        const existing = this._textures.get(AssetManager.removeFileExtension(name));
        if (!existing)
            return null;
        return existing;
    }
    setTexture(name, texture) {
        if (!name || !texture)
            return;
        name = AssetManager.removeFileExtension(name);
        this._textures.set(name, texture);
    }
    getAsset(name) {
        if (!name)
            return null;
        for (let collection of this._collections.values()) {
            if (!collection)
                continue;
            const existing = collection.getAsset(name);
            if (!existing)
                continue;
            return existing;
        }
        return null;
    }
    getCollection(name) {
        if (!name)
            return null;
        const existing = this._collections.get(name);
        if (!existing)
            return null;
        return existing;
    }
    createCollection(data, spritesheet) {
        if (!data)
            return null;
        const collection = new _room_object_visualization_utils_GraphicAssetCollection__WEBPACK_IMPORTED_MODULE_0__["GraphicAssetCollection"](data, spritesheet);
        if (collection) {
            for (let [name, texture] of collection.textures.entries())
                this.setTexture(name, texture);
            this._collections.set(collection.name, collection);
        }
    }
    downloadAsset(assetUrl, cb) {
        return this.downloadAssets([assetUrl], cb);
    }
    downloadAssets(assetUrls, cb) {
        if (!assetUrls || !assetUrls.length) {
            cb(true);
            return true;
        }
        let totalToDownload = assetUrls.length;
        let totalDownloaded = 0;
        const onDownloaded = (loader) => {
            totalDownloaded++;
            if (loader)
                loader.destroy();
            if (totalDownloaded === totalToDownload)
                cb(true);
        };
        for (let url of assetUrls) {
            if (!url)
                continue;
            const loader = new PIXI.Loader();
            const options = {
                crossOrigin: false
            };
            loader
                .use((resource, next) => this.assetLoader(loader, resource, next, onDownloaded))
                .add(url, options)
                .load();
        }
        return true;
    }
    assetLoader(loader, resource, next, onDownloaded) {
        if (!resource || resource.error)
            return next();
        if (resource.type === PIXI.LoaderResource.TYPE.JSON) {
            const assetData = resource.data;
            if (!assetData.type)
                return;
            if (assetData.spritesheet && Object.keys(assetData.spritesheet).length) {
                const imageUrl = (resource.url.substring(0, (resource.url.lastIndexOf('/') + 1)) + assetData.spritesheet.meta.image);
                if (!imageUrl)
                    return;
                const baseTexture = PIXI.BaseTexture.from(imageUrl);
                if (baseTexture.valid) {
                    const spritesheet = new PIXI.Spritesheet(baseTexture, assetData.spritesheet);
                    spritesheet.parse(textures => {
                        this.createCollection(assetData, spritesheet);
                        onDownloaded(loader);
                    });
                }
                else {
                    baseTexture.once('loaded', () => {
                        const spritesheet = new PIXI.Spritesheet(baseTexture, assetData.spritesheet);
                        spritesheet.parse(textures => {
                            this.createCollection(assetData, spritesheet);
                            onDownloaded(loader);
                        });
                    });
                }
                return;
            }
            this.createCollection(assetData, null);
            onDownloaded(loader);
            return;
        }
        if (resource.type === PIXI.LoaderResource.TYPE.IMAGE) {
            const split = resource.name.split('/');
            const name = split[(split.length - 1)];
            this.setTexture(name, resource.texture);
            onDownloaded(loader);
            return;
        }
    }
    get collections() {
        return this._collections;
    }
}


/***/ }),

/***/ "ksTa":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneMaterialCellColumn.ts ***!
  \*****************************************************************************************************/
/*! exports provided: PlaneMaterialCellColumn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneMaterialCellColumn", function() { return PlaneMaterialCellColumn; });
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/TextureUtils */ "IxQr");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../room/utils/Vector3D */ "LGmI");


class PlaneMaterialCellColumn {
    constructor(k, _arg_2, _arg_3 = 1) {
        this._cells = [];
        this._repeatMode = _arg_3;
        this._width = (k < 1) ? 1 : k;
        this._cachedBitmapData = null;
        this._cachedBitmapNormal = null;
        this._cachedBitmapDataOffsetX = 0;
        this._cachedBitmapDataOffsetY = 0;
        this._isCached = false;
        this._isStatic = true;
        if (_arg_2 && _arg_2.length) {
            let cellIndex = 0;
            while (cellIndex < _arg_2.length) {
                const cell = _arg_2[cellIndex];
                if (cell) {
                    this._cells.push(cell);
                    if (!cell.isStatic)
                        this._isStatic = false;
                }
                cellIndex++;
            }
        }
    }
    get isStatic() {
        return this._isStatic;
    }
    _Str_24523() {
        return !(this._repeatMode === PlaneMaterialCellColumn._Str_9685);
    }
    get width() {
        return this._width;
    }
    dispose() {
        if (this._cells && this._cells.length) {
            for (let cell of this._cells) {
                if (!cell)
                    continue;
                cell.dispose();
            }
            this._cells = null;
        }
        if (this._cachedBitmapData) {
            this._cachedBitmapData.destroy();
            this._cachedBitmapData = null;
        }
        if (this._cachedBitmapNormal)
            this._cachedBitmapNormal = null;
    }
    _Str_3355() {
        if (!this._isCached)
            return;
        if (this._cachedBitmapData) {
            this._cachedBitmapData.destroy();
            this._cachedBitmapData = null;
        }
        if (this._cachedBitmapNormal) {
            this._cachedBitmapNormal.x = 0;
            this._cachedBitmapNormal.y = 0;
            this._cachedBitmapNormal.z = 0;
        }
        if (this._cells && this._cells.length) {
            for (let cell of this._cells) {
                if (!cell)
                    continue;
                cell._Str_3355();
            }
        }
        this._isCached = false;
    }
    render(height, normal, offsetX, offsetY) {
        let ht = 0;
        if (this._repeatMode == PlaneMaterialCellColumn._Str_9685) {
            ht = this._Str_19857(this._cells, normal);
            height = ht;
        }
        if (!this._cachedBitmapNormal)
            this._cachedBitmapNormal = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
        if (this.isStatic) {
            if (this._cachedBitmapData) {
                if ((this._cachedBitmapData.height === height) && _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"].isEqual(this._cachedBitmapNormal, normal) && (this._cachedBitmapDataOffsetX === offsetX) && (this._cachedBitmapDataOffsetY === offsetY)) {
                    return this._cachedBitmapData;
                }
                this._cachedBitmapData.destroy();
                this._cachedBitmapData = null;
            }
        }
        else {
            if (this._cachedBitmapData) {
                if (this._cachedBitmapData.height === height) {
                    this._cachedBitmapData
                        .beginFill(0xFFFFFF)
                        .drawRect(0, 0, this._cachedBitmapData.width, height)
                        .endFill();
                }
                else {
                    this._cachedBitmapData.destroy();
                    this._cachedBitmapData = null;
                }
            }
        }
        this._isCached = true;
        if (!this._cachedBitmapData) {
            this._cachedBitmapData = new PIXI.Graphics()
                .beginFill(0xFFFFFF)
                .drawRect(0, 0, this._width, height)
                .endFill();
        }
        this._cachedBitmapNormal.assign(normal);
        this._cachedBitmapDataOffsetX = offsetX;
        this._cachedBitmapDataOffsetY = offsetY;
        if (!this._cells.length)
            return this._cachedBitmapData;
        switch (this._repeatMode) {
            case PlaneMaterialCellColumn._Str_9685:
                this._Str_25839(normal);
                break;
            case PlaneMaterialCellColumn._Str_6087:
                console.log('tru2');
                //     this._Str_18476(normal);
                break;
            case PlaneMaterialCellColumn._Str_6114:
                console.log('tru3');
                //     this._Str_17295(normal);
                break;
            case PlaneMaterialCellColumn._Str_6187:
                console.log('tru4');
                //     this._Str_18019(normal);
                break;
            case PlaneMaterialCellColumn._Str_6063:
                console.log('tru5');
                //     this._Str_16099(normal);
                break;
            default:
                this._Str_18711(normal, offsetX, offsetY);
                break;
        }
        return this._cachedBitmapData;
    }
    _Str_19857(k, _arg_2) {
        if (!k || !k.length)
            return 0;
        let height = 0;
        let cellIterator = 0;
        while (cellIterator < k.length) {
            const cell = k[cellIterator];
            if (cell)
                height += cell._Str_9599(_arg_2);
            cellIterator++;
        }
        return height;
    }
    _Str_4757(k, _arg_2, _arg_3, _arg_4, _arg_5 = 0, _arg_6 = 0) {
        if (((!k || !k.length) || !this._cachedBitmapData))
            return _arg_2;
        let cellIndex = 0;
        while (cellIndex < k.length) {
            let cell = null;
            if (_arg_3) {
                cell = k[cellIndex];
            }
            else {
                cell = k[((k.length - 1) - cellIndex)];
            }
            if (cell) {
                const graphic = cell.render(_arg_4, _arg_5, _arg_6);
                if (graphic) {
                    if (!_arg_3)
                        _arg_2 -= graphic.height;
                    const texture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(graphic, new PIXI.Rectangle(0, 0, graphic.width, graphic.height));
                    if (texture) {
                        this._cachedBitmapData
                            .beginTextureFill({ texture })
                            .drawRect(0, _arg_2, texture.width, texture.height)
                            .endFill();
                    }
                    if (_arg_3)
                        _arg_2 = (_arg_2 + texture.height);
                    if (((_arg_3) && (_arg_2 >= this._cachedBitmapData.height)) || ((!(_arg_3)) && (_arg_2 <= 0)))
                        return _arg_2;
                }
            }
            cellIndex++;
        }
        return _arg_2;
    }
    _Str_25839(k) {
        if (!this._cells.length || !this._cachedBitmapData)
            return;
        this._Str_4757(this._cells, 0, true, k);
    }
    _Str_18711(k, _arg_2, _arg_3) {
        if (!this._cells.length || !this._cachedBitmapData)
            return;
        let index = 0;
        while (index < this._cachedBitmapData.height) {
            index = this._Str_4757(this._cells, index, true, k, _arg_2, _arg_3);
            if (!index)
                return;
        }
    }
    // private _Str_18476(k:IVector3D): void
    // {
    //     if (((this._cells.length == 0) || (this._cachedBitmapData == null)))
    //     {
    //         return;
    //     }
    //     var _local_2:PlaneMaterialCell;
    //     var _local_3:BitmapData;
    //     var _local_4:Array = [];
    //     var _local_5: number;
    //     var _local_6: number;
    //     var _local_7: number;
    //     _local_7 = 1;
    //     while (_local_7 < (this._cells.length - 1))
    //     {
    //         _local_2 = (this._cells[_local_7] as PlaneMaterialCell);
    //         if (_local_2 != null)
    //         {
    //             _local_6 = _local_2._Str_9599(k);
    //             if (_local_6 > 0)
    //             {
    //                 _local_5 = (_local_5 + _local_6);
    //                 _local_4.push(_local_2);
    //             }
    //         }
    //         _local_7++;
    //     }
    //     if (this._cells.length == 1)
    //     {
    //         _local_2 = (this._cells[0] as PlaneMaterialCell);
    //         if (_local_2 != null)
    //         {
    //             _local_6 = _local_2._Str_9599(k);
    //             if (_local_6 > 0)
    //             {
    //                 _local_5 = (_local_5 + _local_6);
    //                 _local_4.push(_local_2);
    //             }
    //         }
    //     }
    //     var _local_8:* = ((this._cachedBitmapData.height - _local_5) >> 1);
    //     var _local_9: number = this._Str_4757(_local_4, _local_8, true, k);
    //     _local_2 = (this._cells[0] as PlaneMaterialCell);
    //     if (_local_2 != null)
    //     {
    //         _local_4 = [_local_2];
    //         while (_local_8 >= 0)
    //         {
    //             _local_8 = this._Str_4757(_local_4, _local_8, false, k);
    //         }
    //     }
    //     _local_2 = (this._cells[(this._cells.length - 1)] as PlaneMaterialCell);
    //     if (_local_2 != null)
    //     {
    //         _local_4 = [_local_2];
    //         while (_local_9 < this._cachedBitmapData.height)
    //         {
    //             _local_9 = this._Str_4757(_local_4, _local_9, true, k);
    //         }
    //     }
    // }
    // private _Str_17295(k:IVector3D): void
    // {
    //     var _local_13: number;
    //     var _local_14: number;
    //     var _local_15: number;
    //     var _local_16:Array;
    //     if (((this._cells.length == 0) || (this._cachedBitmapData == null)))
    //     {
    //         return;
    //     }
    //     var _local_2:PlaneMaterialCell;
    //     var _local_3:BitmapData;
    //     var _local_4:Array = [];
    //     var _local_5:Array = [];
    //     var _local_6: number;
    //     var _local_7: number;
    //     var _local_8: number;
    //     var _local_9: number;
    //     _local_9 = 0;
    //     while (_local_9 < (this._cells.length >> 1))
    //     {
    //         _local_2 = (this._cells[_local_9] as PlaneMaterialCell);
    //         if (_local_2 != null)
    //         {
    //             _local_8 = _local_2._Str_9599(k);
    //             if (_local_8 > 0)
    //             {
    //                 _local_6 = (_local_6 + _local_8);
    //                 _local_4.push(_local_2);
    //             }
    //         }
    //         _local_9++;
    //     }
    //     _local_9 = ((this._cells.length >> 1) + 1);
    //     while (_local_9 < this._cells.length)
    //     {
    //         _local_2 = (this._cells[_local_9] as PlaneMaterialCell);
    //         if (_local_2 != null)
    //         {
    //             _local_8 = _local_2._Str_9599(k);
    //             if (_local_8 > 0)
    //             {
    //                 _local_7 = (_local_7 + _local_8);
    //                 _local_5.push(_local_2);
    //             }
    //         }
    //         _local_9++;
    //     }
    //     var _local_10: number;
    //     var _local_11: number;
    //     var _local_12: number = this._cachedBitmapData.height;
    //     if ((_local_6 + _local_7) > this._cachedBitmapData.height)
    //     {
    //         _local_10 = ((_local_6 + _local_7) - this._cachedBitmapData.height);
    //         _local_11 = (_local_11 - (_local_10 >> 1));
    //         _local_12 = (_local_12 + (_local_10 - (_local_10 >> 1)));
    //     }
    //     if (_local_10 == 0)
    //     {
    //         _local_2 = (this._cells[(this._cells.length >> 1)] as PlaneMaterialCell);
    //         if (_local_2 != null)
    //         {
    //             _local_8 = _local_2._Str_9599(k);
    //             if (_local_8 > 0)
    //             {
    //                 _local_13 = (this._cachedBitmapData.height - (_local_6 + _local_7));
    //                 _local_14 = (Math.ceil((_local_13 / _local_8)) * _local_8);
    //                 _local_11 = (_local_6 - ((_local_14 - _local_13) >> 1));
    //                 _local_15 = (_local_11 + _local_14);
    //                 _local_16 = [_local_2];
    //                 while (_local_11 < _local_15)
    //                 {
    //                     _local_11 = this._Str_4757(_local_16, _local_11, true, k);
    //                 }
    //             }
    //         }
    //     }
    //     _local_11 = 0;
    //     this._Str_4757(_local_4, _local_11, true, k);
    //     this._Str_4757(_local_5, _local_12, false, k);
    // }
    // private _Str_18019(k:IVector3D): void
    // {
    //     var _local_4:Array;
    //     if (((this._cells.length == 0) || (this._cachedBitmapData == null)))
    //     {
    //         return;
    //     }
    //     var _local_2:PlaneMaterialCell;
    //     var _local_3: number = this._cachedBitmapData.height;
    //     _local_3 = this._Str_4757(this._cells, _local_3, false, k);
    //     _local_2 = (this._cells[0] as PlaneMaterialCell);
    //     if (_local_2 != null)
    //     {
    //         _local_4 = [_local_2];
    //         while (_local_3 >= 0)
    //         {
    //             _local_3 = this._Str_4757(_local_4, _local_3, false, k);
    //         }
    //     }
    // }
    // private _Str_16099(k: IVector3D): void
    // {
    //     if(!this._cells.length || !this._cachedBitmapData) return;
    //     var _local_4:Array;
    //     var _local_2:PlaneMaterialCell;
    //     var _local_3: number;
    //     _local_3 = this._Str_4757(this._cells, _local_3, true, k);
    //     _local_2 = (this._cells[(this._cells.length - 1)] as PlaneMaterialCell);
    //     if (_local_2 != null)
    //     {
    //         _local_4 = [_local_2];
    //         while (_local_3 < this._cachedBitmapData.height)
    //         {
    //             _local_3 = this._Str_4757(_local_4, _local_3, true, k);
    //         }
    //     }
    // }
    _Str_22299() {
        return this._cells;
    }
}
PlaneMaterialCellColumn._Str_9685 = 0;
PlaneMaterialCellColumn._Str_7916 = 1;
PlaneMaterialCellColumn._Str_6087 = 2;
PlaneMaterialCellColumn._Str_6114 = 3;
PlaneMaterialCellColumn._Str_6187 = 4;
PlaneMaterialCellColumn._Str_6063 = 5;


/***/ }),

/***/ "l58M":
/*!**************************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectDimmerStateUpdateEvent.ts ***!
  \**************************************************************************/
/*! exports provided: RoomObjectDimmerStateUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectDimmerStateUpdateEvent", function() { return RoomObjectDimmerStateUpdateEvent; });
/* harmony import */ var _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectEvent */ "y81I");

class RoomObjectDimmerStateUpdateEvent extends _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
    constructor(object, state, presetId, effectId, color, brightness) {
        super(RoomObjectDimmerStateUpdateEvent.DIMMER_STATE, object);
        this._state = state;
        this._presetId = presetId;
        this._effectId = effectId;
        this._color = color;
        this._brightness = brightness;
    }
    get state() {
        return this._state;
    }
    get _Str_14686() {
        return this._presetId;
    }
    get _Str_6815() {
        return this._effectId;
    }
    get color() {
        return this._color;
    }
    get _Str_5123() {
        return this._brightness;
    }
}
RoomObjectDimmerStateUpdateEvent.DIMMER_STATE = "RODSUE_DIMMER_STATE";


/***/ }),

/***/ "l7mE":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurniturePushableLogic.ts ***!
  \********************************************************************************/
/*! exports provided: FurniturePushableLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePushableLogic", function() { return FurniturePushableLogic; });
/* harmony import */ var _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureMultiStateLogic */ "5sbG");

class FurniturePushableLogic extends _FurnitureMultiStateLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureMultiStateLogic"] {
}


/***/ }),

/***/ "lCBb":
/*!*******************************************************************************!*\
  !*** ./src/app/components/room/widgets/infostand/furni/InfoStandFurniData.ts ***!
  \*******************************************************************************/
/*! exports provided: InfoStandFurniData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoStandFurniData", function() { return InfoStandFurniData; });
class InfoStandFurniData {
    constructor() {
        this._id = 0;
        this._category = 0;
        this._name = "";
        this._description = "";
        this._purchaseOfferId = -1;
        this._extraParam = "";
        this._stuffData = null;
        this._ownerId = 0;
        this._ownerName = "";
        this._rentOfferId = -1;
        this._availableForBuildersClub = false;
    }
    set id(k) {
        this._id = k;
    }
    set category(k) {
        this._category = k;
    }
    set name(k) {
        this._name = k;
    }
    set description(k) {
        this._description = k;
    }
    set image(k) {
        this._image = k;
    }
    set purchaseOfferId(k) {
        this._purchaseOfferId = k;
    }
    set extraParam(k) {
        this._extraParam = k;
    }
    set stuffData(k) {
        this._stuffData = k;
    }
    set groupId(k) {
        this._groupId = k;
    }
    set ownerId(k) {
        this._ownerId = k;
    }
    set ownerName(k) {
        this._ownerName = k;
    }
    get id() {
        return this._id;
    }
    get category() {
        return this._category;
    }
    get name() {
        return this._name;
    }
    get description() {
        return this._description;
    }
    get image() {
        return this._image;
    }
    get purchaseOfferId() {
        return this._purchaseOfferId;
    }
    get extraParam() {
        return this._extraParam;
    }
    get stuffData() {
        return this._stuffData;
    }
    get groupId() {
        return this._groupId;
    }
    get ownerId() {
        return this._ownerId;
    }
    get ownerName() {
        return this._ownerName;
    }
    get rentOfferId() {
        return this._rentOfferId;
    }
    set rentOfferId(k) {
        this._rentOfferId = k;
    }
    get _Str_6098() {
        return this._availableForBuildersClub;
    }
    populate(k) {
        this.id = k.id;
        this.category = k.category;
        this.name = k.name;
        this.description = k.description;
        this.image = k.image;
        this.purchaseOfferId = k.purchaseOfferId;
        this.extraParam = k.extraParam;
        this.stuffData = k.stuffData;
        this.groupId = k.groupId;
        this.ownerName = k.ownerName;
        this.ownerId = k.ownerId;
        this.rentOfferId = k.rentOfferId;
        this._availableForBuildersClub = k.availableForBuildersClub;
    }
}


/***/ }),

/***/ "lGIG":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/avatar/additions/ExpressionAdditionFactory.ts ***!
  \**************************************************************************************************/
/*! exports provided: ExpressionAdditionFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExpressionAdditionFactory", function() { return ExpressionAdditionFactory; });
/* harmony import */ var _ExpressionAddition__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ExpressionAddition */ "DG3E");
/* harmony import */ var _FloatingHeartAddition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FloatingHeartAddition */ "XHj7");


class ExpressionAdditionFactory {
    static getExpressionAddition(id, type, visualization) {
        switch (type) {
            case this.BLOW: return new _FloatingHeartAddition__WEBPACK_IMPORTED_MODULE_1__["FloatingHeartAddition"](id, this.BLOW, visualization);
            default: return new _ExpressionAddition__WEBPACK_IMPORTED_MODULE_0__["ExpressionAddition"](id, type, visualization);
        }
    }
}
ExpressionAdditionFactory.WAVE = 1;
ExpressionAdditionFactory.BLOW = 2;
ExpressionAdditionFactory.LAUGH = 3;
ExpressionAdditionFactory.CRY = 4;
ExpressionAdditionFactory.IDLE = 5;


/***/ }),

/***/ "lMbP":
/*!*******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/chat/RoomUnitTypingStopComposer.ts ***!
  \*******************************************************************************************************/
/*! exports provided: RoomUnitTypingStopComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitTypingStopComposer", function() { return RoomUnitTypingStopComposer; });
class RoomUnitTypingStopComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "lN2i":
/*!******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/trading/TradingOpenFailedEvent.ts ***!
  \******************************************************************************************************/
/*! exports provided: TradingOpenFailedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingOpenFailedEvent", function() { return TradingOpenFailedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_trading_TradingOpenFailedEventParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/trading/TradingOpenFailedEventParser */ "Um4B");


class TradingOpenFailedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_trading_TradingOpenFailedEventParser__WEBPACK_IMPORTED_MODULE_1__["TradingOpenFailedEventParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "lQzo":
/*!******************************************************!*\
  !*** ./src/client/nitro/avatar/geometry/Vector3D.ts ***!
  \******************************************************/
/*! exports provided: Vector3D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Vector3D", function() { return Vector3D; });
class Vector3D {
    constructor(k = 0, _arg_2 = 0, _arg_3 = 0) {
        this._x = k;
        this._y = _arg_2;
        this._z = _arg_3;
    }
    static _Str_2224(k, _arg_2) {
        return ((k.x * _arg_2.x) + (k.y * _arg_2.y)) + (k.z * _arg_2.z);
    }
    static _Str_1645(k, _arg_2) {
        const _local_3 = new Vector3D();
        _local_3.x = ((k.y * _arg_2.z) - (k.z * _arg_2.y));
        _local_3.y = ((k.z * _arg_2.x) - (k.x * _arg_2.z));
        _local_3.z = ((k.x * _arg_2.y) - (k.y * _arg_2.x));
        return _local_3;
    }
    static subtract(k, _arg_2) {
        return new Vector3D((k.x - _arg_2.x), (k.y - _arg_2.y), (k.z - _arg_2.z));
    }
    _Str_2224(k) {
        return ((this._x * k.x) + (this._y * k.y)) + (this._z * k.z);
    }
    _Str_1645(k) {
        const _local_2 = new Vector3D();
        _local_2.x = ((this._y * k.z) - (this._z * k.y));
        _local_2.y = ((this._z * k.x) - (this._x * k.z));
        _local_2.z = ((this._x * k.y) - (this._y * k.x));
        return _local_2;
    }
    subtract(k) {
        this._x = (this._x - k.x);
        this._y = (this._y - k.y);
        this._z = (this._z - k.z);
    }
    add(k) {
        this._x = (this._x + k.x);
        this._y = (this._y + k.y);
        this._z = (this._z + k.z);
    }
    normalize() {
        const k = (1 / this.length());
        this._x = (this._x * k);
        this._y = (this._y * k);
        this._z = (this._z * k);
    }
    length() {
        return Math.sqrt((((this._x * this._x) + (this._y * this._y)) + (this._z * this._z)));
    }
    toString() {
        return (((((("Vector3D: (" + this._x) + ",") + this._y) + ",") + this._z) + ")");
    }
    get x() {
        return this._x;
    }
    set x(k) {
        this._x = k;
    }
    get y() {
        return this._y;
    }
    set y(k) {
        this._y = k;
    }
    get z() {
        return this._z;
    }
    set z(k) {
        this._z = k;
    }
}


/***/ }),

/***/ "lWZK":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneTextureBitmap.ts ***!
  \************************************************************************************************/
/*! exports provided: PlaneTextureBitmap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneTextureBitmap", function() { return PlaneTextureBitmap; });
class PlaneTextureBitmap {
    constructor(k, _arg_2 = -1, _arg_3 = 1, _arg_4 = -1, _arg_5 = 1, _arg_6 = null) {
        this._normalMinX = _arg_2;
        this._normalMaxX = _arg_3;
        this._normalMinY = _arg_4;
        this._normalMaxY = _arg_5;
        this._assetName = _arg_6;
        this._bitmap = k;
    }
    get bitmap() {
        return this._bitmap;
    }
    get normalMinX() {
        return this._normalMinX;
    }
    get normalMaxX() {
        return this._normalMaxX;
    }
    get normalMinY() {
        return this._normalMinY;
    }
    get normalMaxY() {
        return this._normalMaxY;
    }
    get assetName() {
        return this._assetName;
    }
    dispose() {
        this._bitmap = null;
    }
}
PlaneTextureBitmap._Str_3268 = -1;
PlaneTextureBitmap._Str_3271 = 1;


/***/ }),

/***/ "la+Q":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/pet/PetVisualization.ts ***!
  \****************************************************************************/
/*! exports provided: PetVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetVisualization", function() { return PetVisualization; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../RoomObjectVisualizationType */ "IqYK");
/* harmony import */ var _data_AnimationData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/AnimationData */ "tr5V");
/* harmony import */ var _data_AnimationStateData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/AnimationStateData */ "ZMEG");
/* harmony import */ var _data_DirectionData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/DirectionData */ "OsEh");
/* harmony import */ var _data_LayerData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/LayerData */ "QIMa");
/* harmony import */ var _furniture_FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../furniture/FurnitureAnimatedVisualization */ "MS0h");
/* harmony import */ var _furniture_FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../furniture/FurnitureVisualizationData */ "NyXN");
/* harmony import */ var _PetVisualizationData__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PetVisualizationData */ "XSqo");









class PetVisualization extends _furniture_FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_6__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._data = null;
        this._posture = '';
        this._gesture = '';
        this._isSleeping = false;
        this._headDirection = -1;
        this._headOnly = false;
        this._nonHeadSprites = [];
        this._headSprites = [];
        this._saddleSprites = [];
        this._animationOver = false;
        this._paletteIndex = -1;
        this._paletteName = '';
        this._customLayerIds = [];
        this._customPartIds = [];
        this._customPaletteIds = [];
        this._isRiding = false;
        this._color = 0xFFFFFF;
        this._previousAnimationDirection = -1;
        this._animationStates = [];
        while (this._animationStates.length < PetVisualization._Str_16677)
            this._animationStates.push(new _data_AnimationStateData__WEBPACK_IMPORTED_MODULE_3__["AnimationStateData"]());
    }
    initialize(data) {
        if (!(data instanceof _PetVisualizationData__WEBPACK_IMPORTED_MODULE_8__["PetVisualizationData"]))
            return false;
        return super.initialize(data);
    }
    dispose() {
        super.dispose();
        if (this._animationStates) {
            for (let animationState of this._animationStates)
                animationState && animationState.dispose();
            this._animationStates = null;
        }
    }
    getAnimationId(animationData) {
        return animationData.animationId;
    }
    update(geometry, time, update, skipUpdate) {
        super.update(geometry, time, update, skipUpdate);
        // update experience
    }
    updateModel(scale) {
        const model = this.object && this.object.model;
        if (!model)
            return false;
        if (this.updateModelCounter === model.updateCounter)
            return false;
        let posture = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FIGURE_POSTURE);
        let gesture = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FIGURE_GESTURE);
        this.setPostureAndGesture(posture, gesture);
        let alphaMultiplier = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_ALPHA_MULTIPLIER) || null);
        if (alphaMultiplier === null || isNaN(alphaMultiplier))
            alphaMultiplier = 1;
        if (this._alphaMultiplier !== alphaMultiplier) {
            this._alphaMultiplier = alphaMultiplier;
            this._alphaChanged = true;
        }
        this._isSleeping = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FIGURE_SLEEP) > 0);
        const headDirection = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].HEAD_DIRECTION);
        if (!isNaN(headDirection) && this._data.isAllowedToTurnHead) {
            this._headDirection = headDirection;
        }
        else {
            this._headDirection = this.object.getDirection().x;
        }
        const customPaletteIndex = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].PET_PALETTE_INDEX);
        const customLayerIds = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].PET_CUSTOM_LAYER_IDS);
        const customPartIds = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].PET_CUSTOM_PARTS_IDS);
        const customPaletteIds = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].PET_CUSTOM_PALETTE_IDS);
        const isRiding = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].PET_IS_RIDING);
        const headOnly = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].PET_HEAD_ONLY);
        const color = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].PET_COLOR);
        if (customPaletteIndex !== this._paletteIndex) {
            this._paletteIndex = customPaletteIndex;
            this._paletteName = this._paletteIndex.toString();
        }
        this._customLayerIds = (customLayerIds) ? customLayerIds : [];
        this._customPartIds = (customPartIds) ? customPartIds : [];
        this._customPaletteIds = (customPaletteIds) ? customPaletteIds : [];
        this._isRiding = (!isNaN(isRiding) && (isRiding > 0));
        this._headOnly = (!isNaN(headOnly) && (headOnly > 0));
        if (!isNaN(color) && this._color !== color)
            this._color = color;
        this.updateModelCounter = model.updateCounter;
        return true;
    }
    updateAnimation(scale) {
        if (this.object) {
            const direction = this.object.getDirection().x;
            if (direction !== this._previousAnimationDirection) {
                this._previousAnimationDirection = direction;
                this.resetAllAnimationFrames();
            }
        }
        return super.updateAnimation(scale);
    }
    setPostureAndGesture(posture, gesture) {
        if (posture !== this._posture) {
            this._posture = posture;
            this._Str_16058(PetVisualization._Str_16082, this._data.postureToAnimation(this._scale, posture));
        }
        if (this._data._Str_18284(this._scale, posture))
            gesture = null;
        if (gesture !== this._gesture) {
            this._gesture = gesture;
            this._Str_16058(PetVisualization._Str_17658, this._data.gestureToAnimation(this._scale, gesture));
        }
    }
    _Str_22634(k) {
        if ((k >= 0) && (k < this._animationStates.length))
            return this._animationStates[k];
        return null;
    }
    _Str_16058(k, _arg_2) {
        const animationStateData = this._Str_22634(k);
        if (animationStateData) {
            if (this.setSubAnimation(animationStateData, _arg_2))
                this._animationOver = false;
        }
    }
    resetAllAnimationFrames() {
        this._animationOver = false;
        let index = (this._animationStates.length - 1);
        while (index >= 0) {
            const stateData = this._animationStates[index];
            if (stateData)
                stateData.setLayerCount(this.animatedLayerCount);
            index--;
        }
    }
    updateAnimations(scale) {
        if (this._animationOver)
            return 0;
        let animationOver = true;
        let _local_3 = 0;
        let index = 0;
        while (index < this._animationStates.length) {
            const stateData = this._animationStates[index];
            if (stateData) {
                if (!stateData.animationOver) {
                    const _local_6 = this.updateFramesForAnimation(stateData, scale);
                    _local_3 = (_local_3 | _local_6);
                    if (!stateData.animationOver) {
                        animationOver = false;
                    }
                    else {
                        if (_data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionFromAnimation(stateData.animationId) || _data_AnimationData__WEBPACK_IMPORTED_MODULE_2__["AnimationData"].isTransitionToAnimation(stateData.animationId)) {
                            this._Str_16058(index, stateData.animationAfterTransitionId);
                            animationOver = false;
                        }
                    }
                }
            }
            index++;
        }
        this._animationOver = animationOver;
        return _local_3;
    }
    getSpriteAssetName(scale, layerId) {
        if (this._headOnly && this._Str_24824(layerId))
            return null;
        if (this._isRiding && this._parser3(layerId))
            return null;
        const totalSprites = this.totalSprites;
        if (layerId < (totalSprites - PetVisualization._Str_7490)) {
            const validScale = this.getValidSize(scale);
            if (layerId < (totalSprites - (1 + PetVisualization._Str_7490))) {
                if (layerId >= _furniture_FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_7__["FurnitureVisualizationData"].LAYER_LETTERS.length)
                    return null;
                const layerLetter = _furniture_FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_7__["FurnitureVisualizationData"].LAYER_LETTERS[layerId];
                if (validScale === 1)
                    return (this._type + '_icon_' + layerLetter);
                return (this._type + '_' + validScale + '_' + layerLetter + '_' + this.getDirection(scale, layerId) + '_' + this.getFrameNumber(validScale, layerId));
            }
            return (this._type + '_' + validScale + '_sd_' + this.getDirection(scale, layerId) + '_0');
        }
        return null;
    }
    getLayerColor(scale, layerId, colorId) {
        if (layerId < (this.totalSprites - PetVisualization._Str_7490))
            return this._color;
        return 0xFFFFFF;
    }
    getLayerXOffset(scale, direction, layerId) {
        let offset = super.getLayerXOffset(scale, direction, layerId);
        let index = (this._animationStates.length - 1);
        while (index >= 0) {
            const stateData = this._animationStates[index];
            if (stateData) {
                const frame = stateData.getFrame(layerId);
                if (frame)
                    offset += frame.x;
            }
            index--;
        }
        return offset;
    }
    getLayerYOffset(scale, direction, layerId) {
        let offset = super.getLayerYOffset(scale, direction, layerId);
        let index = (this._animationStates.length - 1);
        while (index >= 0) {
            const stateData = this._animationStates[index];
            if (stateData) {
                const frame = stateData.getFrame(layerId);
                if (frame)
                    offset += frame.y;
            }
            index--;
        }
        return offset;
    }
    getLayerZOffset(scale, direction, layerId) {
        if (!this._data)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_5__["LayerData"].DEFAULT_ZOFFSET;
        return this._data.getLayerZOffset(scale, this.getDirection(scale, layerId), layerId);
    }
    getDirection(scale, layerId) {
        if (!this._Str_23973(layerId))
            return this._direction;
        return this._data.getValidDirection(scale, this._headDirection);
    }
    getFrameNumber(scale, layerId) {
        let index = (this._animationStates.length - 1);
        while (index >= 0) {
            const stateData = this._animationStates[index];
            if (stateData) {
                const frame = stateData.getFrame(layerId);
                if (frame)
                    return frame.id;
            }
            index--;
        }
        return super.getFrameNumber(scale, layerId);
    }
    _Str_23973(layerId) {
        if (this._headSprites[layerId] === undefined) {
            const isHead = (this._data.getLayerTag(this._scale, _data_DirectionData__WEBPACK_IMPORTED_MODULE_4__["DirectionData"]._Str_9471, layerId) === PetVisualization.HEAD);
            const isHair = (this._data.getLayerTag(this._scale, _data_DirectionData__WEBPACK_IMPORTED_MODULE_4__["DirectionData"]._Str_9471, layerId) === PetVisualization.HAIR);
            if (isHead || isHair)
                this._headSprites[layerId] = true;
            else
                this._headSprites[layerId] = false;
        }
        return this._headSprites[layerId];
    }
    _Str_24824(layerId) {
        if (this._nonHeadSprites[layerId] === undefined) {
            if (layerId < (this.totalSprites - (1 + PetVisualization._Str_7490))) {
                const tag = this._data.getLayerTag(this._scale, _data_DirectionData__WEBPACK_IMPORTED_MODULE_4__["DirectionData"]._Str_9471, layerId);
                if (((tag && (tag.length > 0)) && (tag !== PetVisualization.HEAD)) && (tag !== PetVisualization.HAIR)) {
                    this._nonHeadSprites[layerId] = true;
                }
                else {
                    this._nonHeadSprites[layerId] = false;
                }
            }
            else {
                this._nonHeadSprites[layerId] = true;
            }
        }
        return this._nonHeadSprites[layerId];
    }
    _parser3(layerId) {
        if (this._saddleSprites[layerId] === undefined) {
            if (this._data.getLayerTag(this._scale, _data_DirectionData__WEBPACK_IMPORTED_MODULE_4__["DirectionData"]._Str_9471, layerId) === PetVisualization.SADDLE) {
                this._saddleSprites[layerId] = true;
            }
            else {
                this._saddleSprites[layerId] = false;
            }
        }
        return this._saddleSprites[layerId];
    }
    getAsset(name, layerId = -1) {
        if (!this.asset)
            return null;
        let layerIndex = this._customLayerIds.indexOf(layerId);
        let paletteName = this._paletteName;
        let partId = -1;
        let paletteId = -1;
        if (layerIndex > -1) {
            partId = this._customPartIds[layerIndex];
            paletteId = this._customPaletteIds[layerIndex];
            paletteName = ((paletteId > -1) ? paletteId.toString() : this._paletteName);
        }
        if (!(isNaN(partId)) && (partId > -1)) {
            name = (name + '_' + partId);
        }
        return this.asset.getAssetWithPalette(name, paletteName);
    }
    getAdditionalLayerCount() {
        return super.getAdditionalLayerCount() + PetVisualization._Str_7490;
    }
    setLayerCount(count) {
        super.setLayerCount(count);
        this._headSprites = [];
    }
    getPostureForAsset(scale, name) {
        let parts = name.split('_');
        let length = parts.length;
        let i = 0;
        while (i < parts.length) {
            if ((parts[i] === '64') || (parts[i] === '32')) {
                length = (i + 3);
                break;
            }
            i++;
        }
        let posture = null;
        if (length < parts.length) {
            let part = parts[length];
            part = part.split('@')[0];
            posture = this._data._Str_14207(scale, (parseInt(part) / 100), false);
            if (!posture)
                posture = this._data._Str_17976(scale, (parseInt(part) / 100));
        }
        return posture;
    }
}
PetVisualization.TYPE = _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVisualizationType"].PET_ANIMATED;
PetVisualization.HEAD = 'head';
PetVisualization.SADDLE = 'saddle';
PetVisualization.HAIR = 'hair';
PetVisualization._Str_7490 = 1;
PetVisualization._Str_13277 = 1000;
PetVisualization.PET_EXPERIENCE_BUBBLE_PNG = 'pet_experience_bubble_png';
PetVisualization._Str_16082 = 0;
PetVisualization._Str_17658 = 1;
PetVisualization._Str_16677 = 2;


/***/ }),

/***/ "lbEV":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/mapping/RoomPaintEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: RoomPaintEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPaintEvent", function() { return RoomPaintEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_mapping_RoomPaintParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/mapping/RoomPaintParser */ "Zc44");


class RoomPaintEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_mapping_RoomPaintParser__WEBPACK_IMPORTED_MODULE_1__["RoomPaintParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "lbq7":
/*!*************************************!*\
  !*** ./src/app/components/index.ts ***!
  \*************************************/
/*! exports provided: ComponentsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentsModule", function() { return ComponentsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared */ "M0ag");
/* harmony import */ var _catalog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./catalog */ "BrIf");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component */ "7vj/");
/* harmony import */ var _hotelview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hotelview */ "vM+w");
/* harmony import */ var _inventory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./inventory */ "vHnn");
/* harmony import */ var _navigator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./navigator */ "sAYZ");
/* harmony import */ var _purse__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./purse */ "tBOh");
/* harmony import */ var _room__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./room */ "gs23");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./toolbar */ "5rrG");











class ComponentsModule {
}
ComponentsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ComponentsModule });
ComponentsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ComponentsModule_Factory(t) { return new (t || ComponentsModule)(); }, imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"],
            _catalog__WEBPACK_IMPORTED_MODULE_2__["CatalogModule"],
            _hotelview__WEBPACK_IMPORTED_MODULE_4__["HotelViewModule"],
            _inventory__WEBPACK_IMPORTED_MODULE_5__["InventoryModule"],
            _navigator__WEBPACK_IMPORTED_MODULE_6__["NavigatorModule"],
            _purse__WEBPACK_IMPORTED_MODULE_7__["PurseModule"],
            _room__WEBPACK_IMPORTED_MODULE_8__["RoomModule"],
            _toolbar__WEBPACK_IMPORTED_MODULE_9__["ToolbarModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ComponentsModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_3__["MainComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"],
        _catalog__WEBPACK_IMPORTED_MODULE_2__["CatalogModule"],
        _hotelview__WEBPACK_IMPORTED_MODULE_4__["HotelViewModule"],
        _inventory__WEBPACK_IMPORTED_MODULE_5__["InventoryModule"],
        _navigator__WEBPACK_IMPORTED_MODULE_6__["NavigatorModule"],
        _purse__WEBPACK_IMPORTED_MODULE_7__["PurseModule"],
        _room__WEBPACK_IMPORTED_MODULE_8__["RoomModule"],
        _toolbar__WEBPACK_IMPORTED_MODULE_9__["ToolbarModule"]], exports: [_component__WEBPACK_IMPORTED_MODULE_3__["MainComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ComponentsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"],
                    _catalog__WEBPACK_IMPORTED_MODULE_2__["CatalogModule"],
                    _hotelview__WEBPACK_IMPORTED_MODULE_4__["HotelViewModule"],
                    _inventory__WEBPACK_IMPORTED_MODULE_5__["InventoryModule"],
                    _navigator__WEBPACK_IMPORTED_MODULE_6__["NavigatorModule"],
                    _purse__WEBPACK_IMPORTED_MODULE_7__["PurseModule"],
                    _room__WEBPACK_IMPORTED_MODULE_8__["RoomModule"],
                    _toolbar__WEBPACK_IMPORTED_MODULE_9__["ToolbarModule"]
                ],
                exports: [
                    _component__WEBPACK_IMPORTED_MODULE_3__["MainComponent"]
                ],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_3__["MainComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "liWC":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogUpdatedEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: CatalogUpdatedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogUpdatedEvent", function() { return CatalogUpdatedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogUpdatedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogUpdatedParser */ "TKt8");


class CatalogUpdatedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogUpdatedParser__WEBPACK_IMPORTED_MODULE_1__["CatalogUpdatedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "lnHu":
/*!*******************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/AnimationLayerData.ts ***!
  \*******************************************************************************/
/*! exports provided: AnimationLayerData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationLayerData", function() { return AnimationLayerData; });
/* harmony import */ var _AnimationFrame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationFrame */ "YWyz");
/* harmony import */ var _AnimationFrameSequenceData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnimationFrameSequenceData */ "wr6u");


class AnimationLayerData {
    constructor(loopCount, frameRepeat, isRandom) {
        this._frameSequences = [];
        this._frameCount = -1;
        this._loopCount = (loopCount < 0) ? 0 : loopCount;
        this._frameRepeat = (frameRepeat < 1) ? 1 : frameRepeat;
        this._isRandom = isRandom;
    }
    get frameCount() {
        if (this._frameCount < 0)
            this.calculateLength();
        return this._frameCount;
    }
    dispose() {
        if (!this._frameSequences || !this._frameSequences.length)
            return;
        for (let sequence of this._frameSequences) {
            if (!sequence)
                continue;
            sequence.dispose();
        }
        this._frameSequences = [];
    }
    addFrameSequence(loopCount, isRandom) {
        const sequence = new _AnimationFrameSequenceData__WEBPACK_IMPORTED_MODULE_1__["AnimationFrameSequenceData"](loopCount, isRandom);
        this._frameSequences.push(sequence);
        return sequence;
    }
    calculateLength() {
        this._frameCount = 0;
        for (let sequence of this._frameSequences) {
            if (!sequence)
                continue;
            this._frameCount += sequence.frameCount;
        }
    }
    getFrame(direction, frameCount) {
        if (this._frameCount < 1)
            return null;
        frameCount = (frameCount / this._frameRepeat);
        if (!this._isRandom) {
            const count = Math.floor(frameCount / this._frameCount);
            frameCount = Math.floor(frameCount % this._frameCount);
            let doesRepeat = false;
            let sequence = null;
            if (((this._loopCount > 0) && (count >= this._loopCount)) || ((this._loopCount <= 0) && (this._frameCount === 1))) {
                frameCount = (this._frameCount - 1);
                doesRepeat = true;
            }
            let sequenceFrameCount = 0;
            let sequenceId = 0;
            while (sequenceId < this._frameSequences.length) {
                sequence = this._frameSequences[sequenceId];
                if (sequence) {
                    if (frameCount < (sequenceFrameCount + sequence.frameCount))
                        break;
                    sequenceFrameCount += sequence.frameCount;
                }
                sequenceId++;
            }
            return this.getFrameFromSpecificSequence(direction, sequence, sequenceId, (frameCount - sequenceFrameCount), doesRepeat);
        }
        const sequenceId = Math.trunc(this._frameSequences.length * Math.random());
        const sequence = this._frameSequences[sequenceId];
        if (sequence.frameCount < 1)
            return null;
        return this.getFrameFromSpecificSequence(direction, sequence, sequenceId, 0, false);
    }
    getFrameFromSequence(direction, sequenceId, offset, frameCount) {
        if ((sequenceId < 0) || (sequenceId >= this._frameSequences.length))
            return null;
        const sequence = this._frameSequences[sequenceId];
        if (!sequence)
            return null;
        if (offset >= sequence.frameCount)
            return this.getFrame(direction, frameCount);
        return this.getFrameFromSpecificSequence(direction, sequence, sequenceId, offset, false);
    }
    getFrameFromSpecificSequence(direction, sequence, sequenceId, offset, doesRepeat) {
        if (!sequence)
            return null;
        const frameIndex = sequence.getFrameIndex(offset);
        const frame = sequence.getFrame(frameIndex);
        if (!frame)
            return null;
        let x = frame.getX(direction);
        let y = frame.getY(direction);
        let randomX = frame.randomX;
        let randomY = frame.randomY;
        let repeats = frame.repeats;
        let isLastFrame = false;
        if (randomX)
            x = Math.trunc(x + randomX * Math.random());
        if (randomY)
            y = Math.trunc(y + randomY * Math.random());
        if (repeats > 1)
            repeats = sequence.getRepeats(frameIndex);
        let frameRepeats = (this._frameRepeat * repeats);
        if (doesRepeat)
            frameRepeats = _AnimationFrame__WEBPACK_IMPORTED_MODULE_0__["AnimationFrame"].FRAME_REPEAT_FOREVER;
        if (!this._isRandom && !sequence.isRandom) {
            if ((sequenceId === (this._frameSequences.length - 1)) && (offset === (sequence.frameCount - 1)))
                isLastFrame = true;
        }
        return _AnimationFrame__WEBPACK_IMPORTED_MODULE_0__["AnimationFrame"].allocate(frame.id, x, y, repeats, frameRepeats, isLastFrame, sequenceId, offset);
    }
}


/***/ }),

/***/ "lrbo":
/*!***********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/trading/TradingOtherNotAllowedEvent.ts ***!
  \***********************************************************************************************************/
/*! exports provided: TradingOtherNotAllowedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingOtherNotAllowedEvent", function() { return TradingOtherNotAllowedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_trading_TradingOtherNotAllowedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/trading/TradingOtherNotAllowedParser */ "LoQk");


class TradingOtherNotAllowedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_trading_TradingOtherNotAllowedParser__WEBPACK_IMPORTED_MODULE_1__["TradingOtherNotAllowedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "lulp":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/navigator/NavigatorSettingsComposer.ts ***!
  \*************************************************************************************************/
/*! exports provided: NavigatorSettingsComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSettingsComposer", function() { return NavigatorSettingsComposer; });
class NavigatorSettingsComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "m5rR":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurniturePartyBeamerVisualization.ts ***!
  \***************************************************************************************************/
/*! exports provided: FurniturePartyBeamerVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePartyBeamerVisualization", function() { return FurniturePartyBeamerVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurniturePartyBeamerVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
}


/***/ }),

/***/ "m653":
/*!******************************************************!*\
  !*** ./src/client/nitro/room/utils/TileObjectMap.ts ***!
  \******************************************************/
/*! exports provided: TileObjectMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TileObjectMap", function() { return TileObjectMap; });
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../object/RoomObjectVariable */ "XMGm");


class TileObjectMap {
    constructor(k, _arg_2) {
        this._tileObjectMap = new Map();
        let index = 0;
        while (index < _arg_2) {
            this._tileObjectMap.set(index, new Map());
            index++;
        }
        this._width = k;
        this._height = _arg_2;
    }
    clear() {
        for (let k of this._tileObjectMap.values()) {
            if (!k)
                continue;
            k.clear();
        }
        this._tileObjectMap.clear();
    }
    populate(k) {
        this.clear();
        for (let _local_2 of k)
            this._Str_21192(_local_2);
    }
    dispose() {
        this._tileObjectMap = null;
        this._width = 0;
        this._height = 0;
    }
    _Str_19056(k, _arg_2) {
        if ((((k >= 0) && (k < this._width)) && (_arg_2 >= 0)) && (_arg_2 < this._height)) {
            const existing = this._tileObjectMap.get(_arg_2);
            if (existing)
                return existing.get(k);
        }
        return null;
    }
    _Str_23932(k, _arg_2, _arg_3) {
        if (!_arg_3.isReady) {
            _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_0__["NitroLogger"].log("Assigning non initialized object to tile object map!");
            return;
        }
        if ((((k >= 0) && (k < this._width)) && (_arg_2 >= 0)) && (_arg_2 < this._height)) {
            const existing = this._tileObjectMap.get(_arg_2);
            if (existing)
                existing.set(k, _arg_3);
        }
    }
    _Str_21192(k) {
        if (!k || !k.model || !k.isReady)
            return;
        const location = k.getLocation();
        const direction = k.getDirection();
        if (!location || !direction)
            return;
        let sizeX = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_SIZE_X);
        let sizeY = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_SIZE_Y);
        if (sizeX < 1)
            sizeX = 1;
        if (sizeY < 1)
            sizeY = 1;
        const directionNumber = ((Math.trunc((direction.x + 45)) % 360) / 90);
        if ((directionNumber === 1) || (directionNumber === 3))
            [sizeX, sizeY] = [sizeY, sizeX];
        let y = location.y;
        while (y < (location.y + sizeY)) {
            let x = location.x;
            while (x < (location.x + sizeX)) {
                const roomObject = this._Str_19056(x, y);
                if ((!(roomObject)) || ((!(roomObject === k)) && (roomObject.getLocation().z <= location.z))) {
                    this._Str_23932(x, y, k);
                }
                x++;
            }
            y++;
        }
    }
}


/***/ }),

/***/ "mGgu":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitDanceEvent.ts ***!
  \******************************************************************************************/
/*! exports provided: RoomUnitDanceEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitDanceEvent", function() { return RoomUnitDanceEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitDanceParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitDanceParser */ "z50k");


class RoomUnitDanceEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitDanceParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitDanceParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "mJ6T":
/*!***************************************************************************!*\
  !*** ./src/app/components/catalog/navigation/navigationitem/component.ts ***!
  \***************************************************************************/
/*! exports provided: CatalogNavigationItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogNavigationItemComponent", function() { return CatalogNavigationItemComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _AppConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../AppConfiguration */ "dZ2M");
/* harmony import */ var _services_catalog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/catalog.service */ "ywHV");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _navigationset_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../navigationset/component */ "WVQs");






const _c0 = function (a0, a1) { return { "fa-sort-down": a0, "fa-sort-up": a1 }; };
function CatalogNavigationItemComponent_i_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "i", 5);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](1, _c0, !ctx_r0.isToggled, ctx_r0.isToggled));
} }
function CatalogNavigationItemComponent_nitro_catalog_navigation_set_component_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "nitro-catalog-navigation-set-component", 6);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("catalogPage", ctx_r1.catalogPage)("activePage", ctx_r1.activePage);
} }
const _c1 = function (a0) { return { "active": a0 }; };
class CatalogNavigationItemComponent {
    constructor(catalogService) {
        this.catalogService = catalogService;
        this.catalogPage = null;
        this.activePage = null;
        this.subscription = null;
        this.isToggled = false;
    }
    ngOnInit() {
        if (this.catalogPage.children.length) {
            this.subscription = this.catalogService.pageEmitter.subscribe((page) => {
                if (page === this.catalogPage) {
                    this.isToggled = !this.isToggled;
                }
                else {
                    const descendant = this.catalogService.isDescendant(this.catalogPage, page);
                    this.isToggled = descendant;
                }
            });
        }
    }
    ngOnDestroy() {
        if (this.subscription)
            this.subscription.unsubscribe();
    }
    selectPage() {
        if (this.catalogPage)
            this.catalogService.selectPage(this.catalogPage);
    }
    get iconUrl() {
        return (_AppConfiguration__WEBPACK_IMPORTED_MODULE_1__["AppConfiguration"].CATALOG_ICON_URL.replace('%name%', (this.catalogPage.icon || 0).toString()));
    }
    get isActive() {
        return (this.activePage === this.catalogPage);
    }
}
CatalogNavigationItemComponent.ɵfac = function CatalogNavigationItemComponent_Factory(t) { return new (t || CatalogNavigationItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_catalog_service__WEBPACK_IMPORTED_MODULE_2__["CatalogService"])); };
CatalogNavigationItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CatalogNavigationItemComponent, selectors: [["nitro-catalog-navigation-item-component"]], inputs: { catalogPage: "catalogPage", activePage: "activePage" }, decls: 7, vars: 7, consts: [[1, "nav-item"], [1, "nav-link", 3, "ngClass", "click"], [1, "icon", 3, "src"], ["class", "fas", 3, "ngClass", 4, "ngIf"], [3, "catalogPage", "activePage", 4, "ngIf"], [1, "fas", 3, "ngClass"], [3, "catalogPage", "activePage"]], template: function CatalogNavigationItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CatalogNavigationItemComponent_Template_div_click_1_listener() { return ctx.selectPage(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "img", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, CatalogNavigationItemComponent_i_5_Template, 1, 4, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, CatalogNavigationItemComponent_nitro_catalog_navigation_set_component_6_Template, 1, 2, "nitro-catalog-navigation-set-component", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c1, ctx.isActive));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx.iconUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.catalogPage.localization, "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.catalogPage.children && ctx.catalogPage.children.length);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isToggled && ctx.catalogPage.children && ctx.catalogPage.children.length > 0);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _navigationset_component__WEBPACK_IMPORTED_MODULE_4__["CatalogNavigationSetComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogNavigationItemComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-catalog-navigation-item-component',
                template: `
    <div class="nav-item">
        <div class="nav-link" [ngClass]="{ 'active': isActive }" (click)="selectPage()">
            <span><img class="icon" [src]="iconUrl" /> {{ catalogPage.localization }}</span>
            <i *ngIf="catalogPage.children && catalogPage.children.length" class="fas" [ngClass]="{ 'fa-sort-down': !isToggled, 'fa-sort-up': isToggled }"></i>
        </div>
        <nitro-catalog-navigation-set-component *ngIf="isToggled && catalogPage.children && (catalogPage.children.length > 0)" [catalogPage]="catalogPage" [activePage]="activePage"></nitro-catalog-navigation-set-component>
    </div>`
            }]
    }], function () { return [{ type: _services_catalog_service__WEBPACK_IMPORTED_MODULE_2__["CatalogService"] }]; }, { catalogPage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], activePage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "mQ1q":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/mapping/RoomDoorEvent.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomDoorEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomDoorEvent", function() { return RoomDoorEvent; });
/* harmony import */ var _parser_room_mapping_RoomDoorParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../parser/room/mapping/RoomDoorParser */ "0XIW");
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");


class RoomDoorEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_1__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_mapping_RoomDoorParser__WEBPACK_IMPORTED_MODULE_0__["RoomDoorParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "mVL6":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/avatar/AvatarLogic.ts ***!
  \******************************************************************/
/*! exports provided: AvatarLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarLogic", function() { return AvatarLogic; });
/* harmony import */ var _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/events/RoomObjectMouseEvent */ "iiZs");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../avatar/enum/AvatarAction */ "/PsI");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../Nitro */ "P7Cj");
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../events/RoomObjectFurnitureActionEvent */ "UOsA");
/* harmony import */ var _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../events/RoomObjectMoveEvent */ "9Vq3");
/* harmony import */ var _messages_ObjectAvatarCarryObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../messages/ObjectAvatarCarryObjectUpdateMessage */ "vSOp");
/* harmony import */ var _messages_ObjectAvatarChatUpdateMessage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../messages/ObjectAvatarChatUpdateMessage */ "X0Jn");
/* harmony import */ var _messages_ObjectAvatarDanceUpdateMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../messages/ObjectAvatarDanceUpdateMessage */ "7sXg");
/* harmony import */ var _messages_ObjectAvatarEffectUpdateMessage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../messages/ObjectAvatarEffectUpdateMessage */ "7sqD");
/* harmony import */ var _messages_ObjectAvatarExpressionUpdateMessage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../messages/ObjectAvatarExpressionUpdateMessage */ "r1X3");
/* harmony import */ var _messages_ObjectAvatarFigureUpdateMessage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../messages/ObjectAvatarFigureUpdateMessage */ "vkKv");
/* harmony import */ var _messages_ObjectAvatarFlatControlUpdateMessage__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../messages/ObjectAvatarFlatControlUpdateMessage */ "pA/C");
/* harmony import */ var _messages_ObjectAvatarGestureUpdateMessage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../messages/ObjectAvatarGestureUpdateMessage */ "p1UX");
/* harmony import */ var _messages_ObjectAvatarOwnMessage__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../messages/ObjectAvatarOwnMessage */ "DWaW");
/* harmony import */ var _messages_ObjectAvatarPostureUpdateMessage__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../messages/ObjectAvatarPostureUpdateMessage */ "9scY");
/* harmony import */ var _messages_ObjectAvatarSelectedMessage__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../messages/ObjectAvatarSelectedMessage */ "Kr/V");
/* harmony import */ var _messages_ObjectAvatarSignUpdateMessage__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../messages/ObjectAvatarSignUpdateMessage */ "bG1/");
/* harmony import */ var _messages_ObjectAvatarSleepUpdateMessage__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../messages/ObjectAvatarSleepUpdateMessage */ "u+VA");
/* harmony import */ var _messages_ObjectAvatarTypingUpdateMessage__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../messages/ObjectAvatarTypingUpdateMessage */ "rR6/");
/* harmony import */ var _messages_ObjectAvatarUpdateMessage__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../messages/ObjectAvatarUpdateMessage */ "GEOe");
/* harmony import */ var _messages_ObjectAvatarUseObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../messages/ObjectAvatarUseObjectUpdateMessage */ "y08e");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _MovingObjectLogic__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../MovingObjectLogic */ "PlVe");

























class AvatarLogic extends _MovingObjectLogic__WEBPACK_IMPORTED_MODULE_24__["MovingObjectLogic"] {
    constructor() {
        super();
        this._selected = false;
        this._reportedLocation = null;
        this._effectChangeTimeStamp = 0;
        this._newEffect = 0;
        this._blinkingStartTimestamp = _Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.time + this.randomBlinkStartTimestamp();
        this._blinkingEndTimestamp = 0;
        this._talkingEndTimestamp = 0;
        this._talkingPauseStartTimestamp = 0;
        this._talkingPauseEndTimestamp = 0;
        this._carryObjectStartTimestamp = 0;
        this._carryObjectEndTimestamp = 0;
        this._allowUseCarryObject = false;
        this._animationEndTimestamp = 0;
        this._signEndTimestamp = 0;
        this._gestureEndTimestamp = 0;
    }
    getEventTypes() {
        const types = [_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].CLICK, _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_6__["RoomObjectMoveEvent"].POSITION_CHANGED, _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_ENTER, _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_LEAVE, _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectFurnitureActionEvent"].MOUSE_BUTTON, _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectFurnitureActionEvent"].MOUSE_ARROW];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    dispose() {
        if (this._selected && this.object) {
            if (this.eventDispatcher)
                this.eventDispatcher.dispatchEvent(new _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_6__["RoomObjectMoveEvent"](_events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_6__["RoomObjectMoveEvent"].OBJECT_REMOVED, this.object));
        }
        super.dispose();
        this._reportedLocation = null;
    }
    update(time) {
        super.update(time);
        if (this._selected && this.object) {
            if (this.eventDispatcher) {
                const location = this.object.getLocation();
                if (((!this._reportedLocation || (this._reportedLocation.x !== location.x)) || (this._reportedLocation.y !== location.y)) || (this._reportedLocation.z !== location.z)) {
                    if (!this._reportedLocation)
                        this._reportedLocation = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_1__["Vector3D"]();
                    this._reportedLocation.assign(location);
                    this.eventDispatcher.dispatchEvent(new _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_6__["RoomObjectMoveEvent"](_events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_6__["RoomObjectMoveEvent"].POSITION_CHANGED, this.object));
                }
            }
        }
        const model = this.object && this.object.model;
        if (model)
            this.updateModel(this.time, model);
    }
    updateModel(time, model) {
        if (this._talkingEndTimestamp > 0) {
            if (time > this._talkingEndTimestamp) {
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_TALK, 0);
                this._talkingEndTimestamp = 0;
                this._talkingPauseStartTimestamp = 0;
                this._talkingPauseEndTimestamp = 0;
            }
            else {
                if (!this._talkingPauseEndTimestamp && !this._talkingPauseStartTimestamp) {
                    this._talkingPauseStartTimestamp = time + this.randomTalkingPauseStartTimestamp();
                    this._talkingPauseEndTimestamp = this._talkingPauseStartTimestamp + this.randomTalkingPauseEndTimestamp();
                }
                else {
                    if ((this._talkingPauseStartTimestamp > 0) && (time > this._talkingPauseStartTimestamp)) {
                        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_TALK, 0);
                        this._talkingPauseStartTimestamp = 0;
                    }
                    else {
                        if ((this._talkingPauseEndTimestamp > 0) && (time > this._talkingPauseEndTimestamp)) {
                            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_TALK, 1);
                            this._talkingPauseEndTimestamp = 0;
                        }
                    }
                }
            }
        }
        if ((this._animationEndTimestamp > 0) && (time > this._animationEndTimestamp)) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_EXPRESSION, 0);
            this._animationEndTimestamp = 0;
        }
        if ((this._gestureEndTimestamp > 0) && (time > this._gestureEndTimestamp)) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_GESTURE, 0);
            this._gestureEndTimestamp = 0;
        }
        if ((this._signEndTimestamp > 0) && (time > this._signEndTimestamp)) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_SIGN, -1);
            this._signEndTimestamp = 0;
        }
        if (this._carryObjectEndTimestamp > 0) {
            if (time > this._carryObjectEndTimestamp) {
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_CARRY_OBJECT, 0);
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_USE_OBJECT, 0);
                this._carryObjectStartTimestamp = 0;
                this._carryObjectEndTimestamp = 0;
                this._allowUseCarryObject = false;
            }
        }
        if (this._allowUseCarryObject) {
            if ((time - this._carryObjectStartTimestamp) > 5000) {
                if (((time - this._carryObjectStartTimestamp) % 10000) < 1000) {
                    model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_USE_OBJECT, 1);
                }
                else {
                    model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_USE_OBJECT, 0);
                }
            }
        }
        if ((this._blinkingStartTimestamp > -1) && (time > this._blinkingStartTimestamp)) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_BLINK, 1);
            this._blinkingStartTimestamp = time + this.randomBlinkStartTimestamp();
            this._blinkingEndTimestamp = time + this.randomBlinkEndTimestamp();
        }
        if ((this._blinkingEndTimestamp > 0) && (time > this._blinkingEndTimestamp)) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_BLINK, 0);
            this._blinkingEndTimestamp = 0;
        }
        if ((this._effectChangeTimeStamp > 0) && (time > this._effectChangeTimeStamp)) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_EFFECT, this._newEffect);
            this._effectChangeTimeStamp = 0;
        }
    }
    processUpdateMessage(message) {
        if (!message || !this.object)
            return;
        super.processUpdateMessage(message);
        const model = this.object && this.object.model;
        if (!model)
            return;
        if (message instanceof _messages_ObjectAvatarPostureUpdateMessage__WEBPACK_IMPORTED_MODULE_16__["ObjectAvatarPostureUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_POSTURE, message.postureType);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_POSTURE_PARAMETER, message.parameter);
            return;
        }
        if (message instanceof _messages_ObjectAvatarChatUpdateMessage__WEBPACK_IMPORTED_MODULE_8__["ObjectAvatarChatUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_TALK, 1);
            this._talkingEndTimestamp = this.time + (message.numberOfWords * 1000);
            return;
        }
        if (message instanceof _messages_ObjectAvatarTypingUpdateMessage__WEBPACK_IMPORTED_MODULE_20__["ObjectAvatarTypingUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_IS_TYPING, message.isTyping ? 1 : 0);
            return;
        }
        if (message instanceof _messages_ObjectAvatarUpdateMessage__WEBPACK_IMPORTED_MODULE_21__["ObjectAvatarUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].HEAD_DIRECTION, message.headDirection);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_CAN_STAND_UP, message.canStandUp);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_VERTICAL_OFFSET, message.baseY);
            return;
        }
        if (message instanceof _messages_ObjectAvatarGestureUpdateMessage__WEBPACK_IMPORTED_MODULE_14__["ObjectAvatarGestureUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_GESTURE, message.gesture);
            this._gestureEndTimestamp = this.time + 3000;
            return;
        }
        if (message instanceof _messages_ObjectAvatarExpressionUpdateMessage__WEBPACK_IMPORTED_MODULE_11__["ObjectAvatarExpressionUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_EXPRESSION, message.expressionType);
            this._animationEndTimestamp = _avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_2__["AvatarAction"].getExpressionTimeout(model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_EXPRESSION));
            if (this._animationEndTimestamp > -1)
                this._animationEndTimestamp += this.time;
            return;
        }
        if (message instanceof _messages_ObjectAvatarDanceUpdateMessage__WEBPACK_IMPORTED_MODULE_9__["ObjectAvatarDanceUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_DANCE, message.danceStyle);
            return;
        }
        if (message instanceof _messages_ObjectAvatarSleepUpdateMessage__WEBPACK_IMPORTED_MODULE_19__["ObjectAvatarSleepUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_SLEEP, message.isSleeping ? 1 : 0);
            if (message.isSleeping)
                this._blinkingStartTimestamp = -1;
            else
                this._blinkingStartTimestamp = this.time + this.randomBlinkStartTimestamp();
            return;
        }
        if (message instanceof _messages_ObjectAvatarEffectUpdateMessage__WEBPACK_IMPORTED_MODULE_10__["ObjectAvatarEffectUpdateMessage"]) {
            this.updateAvatarEffect(message.effect, message.delayMilliseconds, model);
            return;
        }
        if (message instanceof _messages_ObjectAvatarCarryObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_7__["ObjectAvatarCarryObjectUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_CARRY_OBJECT, message.itemType);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_USE_OBJECT, 0);
            this._carryObjectStartTimestamp = this.time;
            if (message.itemType < AvatarLogic.MAX_HAND_ID) {
                this._carryObjectEndTimestamp = 0;
                this._allowUseCarryObject = message.itemType <= AvatarLogic.MAX_HAND_USE_ID;
            }
            else {
                this._carryObjectEndTimestamp = this._carryObjectStartTimestamp + 1500;
                this._allowUseCarryObject = false;
            }
            return;
        }
        if (message instanceof _messages_ObjectAvatarUseObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_22__["ObjectAvatarUseObjectUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_USE_OBJECT, message.itemType);
            return;
        }
        if (message instanceof _messages_ObjectAvatarSignUpdateMessage__WEBPACK_IMPORTED_MODULE_18__["ObjectAvatarSignUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_SIGN, message.signType);
            this._signEndTimestamp = this.time + 5000;
            return;
        }
        if (message instanceof _messages_ObjectAvatarFlatControlUpdateMessage__WEBPACK_IMPORTED_MODULE_13__["ObjectAvatarFlatControlUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_FLAT_CONTROL, message.level);
            return;
        }
        if (message instanceof _messages_ObjectAvatarFigureUpdateMessage__WEBPACK_IMPORTED_MODULE_12__["ObjectAvatarFigureUpdateMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE, message.figure);
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].GENDER, message.gender);
            return;
        }
        if (message instanceof _messages_ObjectAvatarSelectedMessage__WEBPACK_IMPORTED_MODULE_17__["ObjectAvatarSelectedMessage"]) {
            this._selected = message.selected;
            this._reportedLocation = null;
            return;
        }
        if (message instanceof _messages_ObjectAvatarOwnMessage__WEBPACK_IMPORTED_MODULE_15__["ObjectAvatarOwnMessage"]) {
            model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].OWN_USER, 1);
            return;
        }
    }
    updateAvatarEffect(effect, delay, model) {
        if (effect === AvatarLogic._Str_13364) {
            this._effectChangeTimeStamp = (_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.time + AvatarLogic._Str_8860);
            this._newEffect = AvatarLogic._Str_15351;
        }
        else if (effect === AvatarLogic._Str_13733) {
            this._effectChangeTimeStamp = (_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.time + AvatarLogic._Str_8860);
            this._newEffect = AvatarLogic._Str_13094;
        }
        else if (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_EFFECT) === AvatarLogic._Str_15351) {
            this._effectChangeTimeStamp = (_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.time + AvatarLogic._Str_8860);
            this._newEffect = effect;
            effect = AvatarLogic._Str_13364;
        }
        else if (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_EFFECT) === AvatarLogic._Str_13094) {
            this._effectChangeTimeStamp = (_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.time + AvatarLogic._Str_8860);
            this._newEffect = effect;
            effect = AvatarLogic._Str_13733;
        }
        else if (delay === 0) {
            this._effectChangeTimeStamp = 0;
        }
        else {
            this._effectChangeTimeStamp = (_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.time + delay);
            this._newEffect = effect;
            return;
        }
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_EFFECT, effect);
    }
    mouseEvent(event, geometry) {
        let eventType = null;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].MOUSE_CLICK:
                eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].CLICK;
                break;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].ROLL_OVER:
                eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_ENTER;
                if (this.object.model)
                    this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_HIGHLIGHT, 1);
                if (this.eventDispatcher)
                    this.eventDispatcher.dispatchEvent(new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectFurnitureActionEvent"].MOUSE_BUTTON, this.object));
                break;
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].ROLL_OUT:
                eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_LEAVE;
                if (this.object.model)
                    this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_23__["RoomObjectVariable"].FIGURE_HIGHLIGHT, 0);
                if (this.eventDispatcher)
                    this.eventDispatcher.dispatchEvent(new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectFurnitureActionEvent"].MOUSE_ARROW, this.object));
                break;
        }
        if (eventType && this.eventDispatcher)
            this.eventDispatcher.dispatchEvent(new _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"](eventType, this.object, event._Str_3463, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown));
    }
    randomTalkingPauseStartTimestamp() {
        return 100 + (Math.random() * 200);
    }
    randomTalkingPauseEndTimestamp() {
        return 75 + (Math.random() * 75);
    }
    randomBlinkStartTimestamp() {
        return 4500 + (Math.random() * 1000);
    }
    randomBlinkEndTimestamp() {
        return 50 + (Math.random() * 200);
    }
}
AvatarLogic.MAX_HAND_ID = 999999999;
AvatarLogic.MAX_HAND_USE_ID = 999;
AvatarLogic._Str_13364 = 28;
AvatarLogic._Str_8860 = 500;
AvatarLogic._Str_15351 = 29;
AvatarLogic._Str_13733 = 184;
AvatarLogic._Str_13094 = 185;


/***/ }),

/***/ "maL4":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/utils/NavigatorTopLevelContext.ts ***!
  \****************************************************************************************************/
/*! exports provided: NavigatorTopLevelContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorTopLevelContext", function() { return NavigatorTopLevelContext; });
/* harmony import */ var _NavigatorSavedSearch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavigatorSavedSearch */ "5F4d");

class NavigatorTopLevelContext {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._code = null;
        this._savedSearches = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._code = wrapper.readString();
        let totalSavedSearches = wrapper.readInt();
        while (totalSavedSearches > 0) {
            this._savedSearches.push(new _NavigatorSavedSearch__WEBPACK_IMPORTED_MODULE_0__["NavigatorSavedSearch"](wrapper));
            totalSavedSearches--;
        }
        return true;
    }
    get code() {
        return this._code;
    }
    get savedSearches() {
        return this._savedSearches;
    }
}


/***/ }),

/***/ "mjBu":
/*!************************************************************!*\
  !*** ./src/app/shared/components/avatarimage/component.ts ***!
  \************************************************************/
/*! exports provided: AvatarImageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarImageComponent", function() { return AvatarImageComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/avatar/enum/AvatarScaleType */ "uEox");
/* harmony import */ var _client_nitro_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/nitro/avatar/enum/AvatarSetType */ "Kx+W");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");






function AvatarImageComponent_img_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 1);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r0.avatarUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
class AvatarImageComponent {
    constructor(ngZone) {
        this.ngZone = ngZone;
        this.figure = '';
        this.gender = 'M';
        this.headOnly = false;
        this.direction = 0;
        this.scale = 1;
        this.avatarUrl = null;
        this.disposed = false;
        this.needsUpdate = true;
    }
    ngOnInit() {
        if (this.needsUpdate)
            this.buildAvatar();
    }
    ngOnDestroy() {
        this.dispose();
    }
    ngOnChanges(changes) {
        const figureChange = changes.figure;
        if (figureChange) {
            if (figureChange.previousValue !== figureChange.currentValue)
                this.needsUpdate = true;
        }
        const genderChange = changes.gender;
        if (genderChange) {
            if (genderChange.previousValue !== genderChange.currentValue)
                this.needsUpdate = true;
        }
        const headOnlyChange = changes.headOnly;
        if (headOnlyChange) {
            if (headOnlyChange.previousValue !== headOnlyChange.currentValue)
                this.needsUpdate = true;
        }
        const directionChange = changes.direction;
        if (directionChange) {
            if (directionChange.previousValue !== directionChange.currentValue)
                this.needsUpdate = true;
        }
        const scaleChange = changes.scale;
        if (scaleChange) {
            if (scaleChange.previousValue !== scaleChange.currentValue)
                this.needsUpdate = true;
        }
        if (this.needsUpdate)
            this.buildAvatar();
    }
    dispose() {
        if (this.disposed)
            return;
    }
    resetFigure(figure) {
        this.buildAvatar();
    }
    buildAvatar() {
        let avatarUrl = null;
        this.ngZone.runOutsideAngular(() => {
            this.needsUpdate = false;
            const avatarImage = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.avatar.createAvatarImage(this.figure, _client_nitro_avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_1__["AvatarScaleType"].LARGE, this.gender, this, null);
            if (avatarImage) {
                let setType = _client_nitro_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_2__["AvatarSetType"].FULL;
                if (this.headOnly)
                    setType = _client_nitro_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_2__["AvatarSetType"].HEAD;
                avatarImage.setDirection(setType, this.direction);
                const texture = avatarImage.getImage(setType, false, 1);
                const image = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_3__["Nitro"].instance.renderer.extract.image(texture);
                avatarUrl = image.src;
                avatarImage.dispose();
            }
        });
        if (avatarUrl)
            this.ngZone.run(() => (this.avatarUrl = avatarUrl));
    }
}
AvatarImageComponent.ɵfac = function AvatarImageComponent_Factory(t) { return new (t || AvatarImageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
AvatarImageComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AvatarImageComponent, selectors: [["nitro-avatar-image"]], inputs: { figure: "figure", gender: "gender", headOnly: "headOnly", direction: "direction", scale: "scale" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[3, "src", 4, "ngIf"], [3, "src"]], template: function AvatarImageComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, AvatarImageComponent_img_0_Template, 1, 1, "img", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.avatarUrl);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AvatarImageComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-avatar-image',
                template: `
	<img *ngIf="avatarUrl" [src]="avatarUrl" />`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { figure: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], gender: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], headOnly: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], direction: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], scale: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "mkC7":
/*!**********************************************************************************!*\
  !*** ./src/app/components/room/widgets/handlers/ObjectLocationRequestHandler.ts ***!
  \**********************************************************************************/
/*! exports provided: ObjectLocationRequestHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectLocationRequestHandler", function() { return ObjectLocationRequestHandler; });
/* harmony import */ var _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _events_RoomWidgetUserLocationUpdateEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events/RoomWidgetUserLocationUpdateEvent */ "zaDV");
/* harmony import */ var _messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/RoomWidgetGetObjectLocationMessage */ "HuBo");



class ObjectLocationRequestHandler {
    constructor() {
        this._disposed = false;
        this._container = null;
    }
    dispose() {
        this._disposed = true;
        this._container = null;
    }
    get disposed() {
        return this._disposed;
    }
    get type() {
        return null;
    }
    set container(k) {
        this._container = k;
    }
    get messageTypes() {
        return [_messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetGetObjectLocationMessage"].RWGOI_MESSAGE_GET_OBJECT_LOCATION, _messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetGetObjectLocationMessage"].RWGOI_MESSAGE_GET_GAME_OBJECT_LOCATION];
    }
    processWidgetMessage(k) {
        if (!k || !this._container || !(k instanceof _messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetGetObjectLocationMessage"]))
            return null;
        const session = this._container.roomSession;
        switch (k.type) {
            case _messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetGetObjectLocationMessage"].RWGOI_MESSAGE_GET_OBJECT_LOCATION: {
                if (!session || !session.userDataManager)
                    return null;
                const userData = session.userDataManager.getDataByType(k._Str_1577, k._Str_1723);
                let objectBounds = null;
                let objectLocation = null;
                if (userData) {
                    objectBounds = this._container.roomEngine.getRoomObjectBoundingRectangle(session.roomId, userData.roomIndex, _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__["RoomObjectCategory"].UNIT, this._container.getFirstCanvasId());
                    objectLocation = this._container.roomEngine.getRoomObjectScreenLocation(session.roomId, userData.roomIndex, _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_0__["RoomObjectCategory"].UNIT, this._container.getFirstCanvasId());
                    const rectangle = this._container.getRoomViewRect();
                    if (objectBounds && objectLocation && rectangle) {
                        objectBounds.x += rectangle.x;
                        objectBounds.y += rectangle.y;
                        objectLocation.x += rectangle.x;
                        objectLocation.y += rectangle.y;
                    }
                }
                return new _events_RoomWidgetUserLocationUpdateEvent__WEBPACK_IMPORTED_MODULE_1__["RoomWidgetUserLocationUpdateEvent"](k._Str_1577, objectBounds, objectLocation);
            }
        }
        return null;
    }
    get eventTypes() {
        return [];
    }
    processEvent(k) {
    }
    update() {
    }
}


/***/ }),

/***/ "mkz/":
/*!*******************************************************!*\
  !*** ./src/client/nitro/room/object/RoomPlaneData.ts ***!
  \*******************************************************/
/*! exports provided: RoomPlaneData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPlaneData", function() { return RoomPlaneData; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _RoomPlaneMaskData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RoomPlaneMaskData */ "ylRD");


class RoomPlaneData {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        this._type = 0;
        this._loc = null;
        this._leftSide = null;
        this._rightSide = null;
        this._normal = null;
        this._normalDirection = null;
        var _local_6;
        var _local_7;
        var _local_8;
        var _local_9;
        var _local_10;
        var _local_11;
        var _local_12;
        var _local_13;
        this._secondaryNormals = [];
        this._masks = [];
        this._loc = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._loc.assign(_arg_2);
        this._leftSide = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._leftSide.assign(_arg_3);
        this._rightSide = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        this._rightSide.assign(_arg_4);
        this._type = k;
        if (((!(_arg_3 == null)) && (!(_arg_4 == null)))) {
            this._normal = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].crossProduct(_arg_3, _arg_4);
            _local_6 = 0;
            _local_7 = 0;
            _local_8 = 0;
            _local_9 = 0;
            _local_10 = 0;
            if (((!(this.normal.x == 0)) || (!(this.normal.y == 0)))) {
                _local_9 = this.normal.x;
                _local_10 = this.normal.y;
                _local_6 = (360 + ((Math.atan2(_local_10, _local_9) / Math.PI) * 180));
                if (_local_6 >= 360) {
                    _local_6 = (_local_6 - 360);
                }
                _local_9 = Math.sqrt(((this.normal.x * this.normal.x) + (this.normal.y * this.normal.y)));
                _local_10 = this.normal.z;
                _local_7 = (360 + ((Math.atan2(_local_10, _local_9) / Math.PI) * 180));
                if (_local_7 >= 360) {
                    _local_7 = (_local_7 - 360);
                }
            }
            else {
                if (this.normal.z < 0) {
                    _local_7 = 90;
                }
                else {
                    _local_7 = 270;
                }
            }
            this._normalDirection = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](_local_6, _local_7, _local_8);
        }
        if (((!(_arg_5 == null)) && (_arg_5.length > 0))) {
            _local_11 = 0;
            while (_local_11 < _arg_5.length) {
                _local_12 = _arg_5[_local_11];
                if (((!(_local_12 == null)) && (_local_12.length > 0))) {
                    _local_13 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
                    _local_13.assign(_local_12);
                    _local_13.multiply((1 / _local_13.length));
                    this._secondaryNormals.push(_local_13);
                }
                _local_11++;
            }
        }
    }
    get type() {
        return this._type;
    }
    get loc() {
        return this._loc;
    }
    get _Str_5424() {
        return this._leftSide;
    }
    get _Str_4968() {
        return this._rightSide;
    }
    get normal() {
        return this._normal;
    }
    get _Str_25207() {
        return this._normalDirection;
    }
    get _Str_20277() {
        return this._secondaryNormals.length;
    }
    get _Str_6845() {
        return this._masks.length;
    }
    _Str_22585(k) {
        if (((k < 0) || (k >= this._Str_20277))) {
            return null;
        }
        var _local_2 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]();
        _local_2.assign(this._secondaryNormals[k]);
        return _local_2;
    }
    addMask(k, _arg_2, _arg_3, _arg_4) {
        var _local_5 = new _RoomPlaneMaskData__WEBPACK_IMPORTED_MODULE_1__["RoomPlaneMaskData"](k, _arg_2, _arg_3, _arg_4);
        this._masks.push(_local_5);
    }
    _Str_8361(k) {
        if (((k < 0) || (k >= this._Str_6845))) {
            return null;
        }
        return this._masks[k];
    }
    _Str_25133(k) {
        var _local_2 = this._Str_8361(k);
        if (_local_2 != null) {
            return _local_2._Str_5120;
        }
        return -1;
    }
    _Str_23609(k) {
        var _local_2 = this._Str_8361(k);
        if (_local_2 != null) {
            return _local_2._Str_4659;
        }
        return -1;
    }
    _Str_25097(k) {
        var _local_2 = this._Str_8361(k);
        if (_local_2 != null) {
            return _local_2._Str_9124;
        }
        return -1;
    }
    _Str_25617(k) {
        var _local_2 = this._Str_8361(k);
        if (_local_2 != null) {
            return _local_2._Str_12156;
        }
        return -1;
    }
}
RoomPlaneData.PLANE_UNDEFINED = 0;
RoomPlaneData.PLANE_FLOOR = 1;
RoomPlaneData.PLANE_WALL = 2;
RoomPlaneData.PLANE_LANDSCAPE = 3;
RoomPlaneData.PLANE_BILLBOARD = 4;


/***/ }),

/***/ "mzk4":
/*!**************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/room/RoomLogic.ts ***!
  \**************************************************************/
/*! exports provided: RoomLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomLogic", function() { return RoomLogic; });
/* harmony import */ var _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/events/RoomObjectMouseEvent */ "iiZs");
/* harmony import */ var _room_object_logic_RoomObjectLogicBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/object/logic/RoomObjectLogicBase */ "K5R6");
/* harmony import */ var _room_utils_ColorConverter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../room/utils/ColorConverter */ "z3Rz");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../events/RoomObjectTileMouseEvent */ "Fjo1");
/* harmony import */ var _events_RoomObjectWallMouseEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../events/RoomObjectWallMouseEvent */ "cmY7");
/* harmony import */ var _messages_ObjectRoomColorUpdateMessage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../messages/ObjectRoomColorUpdateMessage */ "UPCw");
/* harmony import */ var _messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../messages/ObjectRoomFloorHoleUpdateMessage */ "XPka");
/* harmony import */ var _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../messages/ObjectRoomMaskUpdateMessage */ "30vN");
/* harmony import */ var _messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../messages/ObjectRoomPlanePropertyUpdateMessage */ "8wzi");
/* harmony import */ var _messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../messages/ObjectRoomPlaneVisibilityUpdateMessage */ "2qqk");
/* harmony import */ var _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../messages/ObjectRoomUpdateMessage */ "LO56");
/* harmony import */ var _RoomMapData__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../RoomMapData */ "QzjD");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _RoomPlaneBitmapMaskData__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../RoomPlaneBitmapMaskData */ "HYQG");
/* harmony import */ var _RoomPlaneBitmapMaskParser__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../RoomPlaneBitmapMaskParser */ "K9Xd");
/* harmony import */ var _RoomPlaneData__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../RoomPlaneData */ "mkz/");
/* harmony import */ var _RoomPlaneParser__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../RoomPlaneParser */ "BFtu");



















class RoomLogic extends _room_object_logic_RoomObjectLogicBase__WEBPACK_IMPORTED_MODULE_1__["RoomObjectLogicBase"] {
    constructor() {
        super();
        this._planeParser = new _RoomPlaneParser__WEBPACK_IMPORTED_MODULE_18__["RoomPlaneParser"]();
        this._planeBitmapMaskParser = new _RoomPlaneBitmapMaskParser__WEBPACK_IMPORTED_MODULE_16__["RoomPlaneBitmapMaskParser"]();
        this._color = 0xFFFFFF;
        this._Str_3576 = 0xFF;
        this._Str_14932 = 0xFFFFFF;
        this._Str_17003 = 0xFF;
        this._Str_11287 = 0xFFFFFF;
        this._Str_16460 = 0xFF;
        this._Str_9785 = 0;
        this._Str_17191 = 1500;
        this._needsMapUpdate = false;
    }
    getEventTypes() {
        const types = [_room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_MOVE, _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].CLICK];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    dispose() {
        super.dispose();
        if (this._planeParser) {
            this._planeParser.dispose();
            this._planeParser = null;
        }
        if (this._planeBitmapMaskParser) {
            this._planeBitmapMaskParser.dispose();
            this._planeBitmapMaskParser = null;
        }
    }
    initialize(roomMap) {
        if (!roomMap || !this.object)
            return;
        if (!(roomMap instanceof _RoomMapData__WEBPACK_IMPORTED_MODULE_13__["RoomMapData"]))
            return;
        if (!this._planeParser.initializeFromMapData(roomMap))
            return;
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_MAP_DATA, roomMap);
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_BACKGROUND_COLOR, 0xFFFFFF);
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_FLOOR_VISIBILITY, 1);
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_WALL_VISIBILITY, 1);
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_LANDSCAPE_VISIBILITY, 1);
    }
    update(time) {
        super.update(time);
        this._Str_24703(time);
        if (this._needsMapUpdate) {
            const model = this.object && this.object.model;
            if (model) {
                const mapData = this._planeParser.getMapData();
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_MAP_DATA, mapData);
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_FLOOR_HOLE_UPDATE_TIME, time);
                this._planeParser.initializeFromMapData(mapData);
            }
            this._needsMapUpdate = false;
        }
    }
    _Str_24703(k) {
        if (!this.object || !this._Str_9785)
            return;
        let color = this._color;
        let newColor = this._Str_3576;
        if ((k - this._Str_9785) >= this._Str_17191) {
            color = this._Str_11287;
            newColor = this._Str_16460;
            this._Str_9785 = 0;
        }
        else {
            let _local_7 = ((this._Str_14932 >> 16) & 0xFF);
            let _local_8 = ((this._Str_14932 >> 8) & 0xFF);
            let _local_9 = (this._Str_14932 & 0xFF);
            const _local_10 = ((this._Str_11287 >> 16) & 0xFF);
            const _local_11 = ((this._Str_11287 >> 8) & 0xFF);
            const _local_12 = (this._Str_11287 & 0xFF);
            const _local_13 = ((k - this._Str_9785) / this._Str_17191);
            _local_7 = (_local_7 + ((_local_10 - _local_7) * _local_13));
            _local_8 = (_local_8 + ((_local_11 - _local_8) * _local_13));
            _local_9 = (_local_9 + ((_local_12 - _local_9) * _local_13));
            color = (((_local_7 << 16) + (_local_8 << 8)) + _local_9);
            newColor = (this._Str_17003 + ((this._Str_16460 - this._Str_17003) * _local_13));
            this._color = color;
            this._Str_3576 = newColor;
        }
        let _local_5 = _room_utils_ColorConverter__WEBPACK_IMPORTED_MODULE_2__["ColorConverter"]._Str_22130(color);
        _local_5 = ((_local_5 & 0xFFFF00) + newColor);
        color = _room_utils_ColorConverter__WEBPACK_IMPORTED_MODULE_2__["ColorConverter"]._Str_13949(_local_5);
        if (this.object.model)
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_BACKGROUND_COLOR, color);
    }
    processUpdateMessage(message) {
        if (!message || !this.object)
            return;
        const model = this.object.model;
        if (!model)
            return;
        if (message instanceof _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_12__["ObjectRoomUpdateMessage"]) {
            this.onObjectRoomUpdateMessage(message, model);
            return;
        }
        if (message instanceof _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_9__["ObjectRoomMaskUpdateMessage"]) {
            this.onObjectRoomMaskUpdateMessage(message, model);
            return;
        }
        if (message instanceof _messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_11__["ObjectRoomPlaneVisibilityUpdateMessage"]) {
            this.onObjectRoomPlaneVisibilityUpdateMessage(message, model);
            return;
        }
        if (message instanceof _messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_10__["ObjectRoomPlanePropertyUpdateMessage"]) {
            this.onObjectRoomPlanePropertyUpdateMessage(message, model);
            return;
        }
        if (message instanceof _messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_8__["ObjectRoomFloorHoleUpdateMessage"]) {
            this.onObjectRoomFloorHoleUpdateMessage(message, model);
            return;
        }
        if (message instanceof _messages_ObjectRoomColorUpdateMessage__WEBPACK_IMPORTED_MODULE_7__["ObjectRoomColorUpdateMessage"]) {
            this.onObjectRoomColorUpdateMessage(message, model);
            return;
        }
    }
    onObjectRoomUpdateMessage(message, model) {
        switch (message.type) {
            case _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_12__["ObjectRoomUpdateMessage"].ROOM_FLOOR_UPDATE:
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_FLOOR_TYPE, message.value);
                return;
            case _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_12__["ObjectRoomUpdateMessage"].ROOM_WALL_UPDATE:
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_WALL_TYPE, message.value);
                return;
            case _messages_ObjectRoomUpdateMessage__WEBPACK_IMPORTED_MODULE_12__["ObjectRoomUpdateMessage"].ROOM_LANDSCAPE_UPDATE:
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_LANDSCAPE_TYPE, message.value);
                return;
        }
    }
    onObjectRoomMaskUpdateMessage(message, _arg_2) {
        let maskType = null;
        let update = false;
        switch (message.type) {
            case _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_9__["ObjectRoomMaskUpdateMessage"].ADD_MASK:
                maskType = _RoomPlaneBitmapMaskData__WEBPACK_IMPORTED_MODULE_15__["RoomPlaneBitmapMaskData"].WINDOW;
                if (message.maskCategory === _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_9__["ObjectRoomMaskUpdateMessage"].HOLE)
                    maskType = _RoomPlaneBitmapMaskData__WEBPACK_IMPORTED_MODULE_15__["RoomPlaneBitmapMaskData"].HOLE;
                this._planeBitmapMaskParser.addMask(message.maskId, message.maskType, message.maskLocation, maskType);
                update = true;
                break;
            case _messages_ObjectRoomMaskUpdateMessage__WEBPACK_IMPORTED_MODULE_9__["ObjectRoomMaskUpdateMessage"]._Str_10260:
                update = this._planeBitmapMaskParser._Str_23574(message.maskId);
                break;
        }
        if (update)
            _arg_2.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_PLANE_MASK_XML, this._planeBitmapMaskParser._Str_5598());
    }
    onObjectRoomPlaneVisibilityUpdateMessage(message, model) {
        let visible = 0;
        if (message.visible)
            visible = 1;
        switch (message.type) {
            case _messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_11__["ObjectRoomPlaneVisibilityUpdateMessage"].FLOOR_VISIBILITY:
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_FLOOR_VISIBILITY, visible);
                return;
            case _messages_ObjectRoomPlaneVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_11__["ObjectRoomPlaneVisibilityUpdateMessage"].WALL_VISIBILITY:
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_WALL_VISIBILITY, visible);
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_LANDSCAPE_VISIBILITY, visible);
                return;
        }
    }
    onObjectRoomPlanePropertyUpdateMessage(message, model) {
        switch (message.type) {
            case _messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_10__["ObjectRoomPlanePropertyUpdateMessage"].FLOOR_THICKNESS:
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_FLOOR_THICKNESS, message.value);
                return;
            case _messages_ObjectRoomPlanePropertyUpdateMessage__WEBPACK_IMPORTED_MODULE_10__["ObjectRoomPlanePropertyUpdateMessage"].WALL_THICKNESS:
                model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_WALL_THICKNESS, message.value);
                return;
        }
    }
    onObjectRoomFloorHoleUpdateMessage(message, model) {
        switch (message.type) {
            case _messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_8__["ObjectRoomFloorHoleUpdateMessage"].ADD:
                this._planeParser.addFloorHole(message.id, message.x, message.y, message.width, message.height);
                this._needsMapUpdate = true;
                return;
            case _messages_ObjectRoomFloorHoleUpdateMessage__WEBPACK_IMPORTED_MODULE_8__["ObjectRoomFloorHoleUpdateMessage"].REMOVE:
                this._planeParser.removeFloorHole(message.id);
                this._needsMapUpdate = true;
                return;
        }
    }
    onObjectRoomColorUpdateMessage(message, model) {
        if (!message || !model)
            return;
        this._Str_14932 = this._color;
        this._Str_17003 = this._Str_3576;
        this._Str_11287 = message.color;
        this._Str_16460 = message.light;
        this._Str_9785 = this.time;
        this._Str_17191 = 1500;
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_COLORIZE_BG_ONLY, message.backgroundOnly);
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object || !this.object.model)
            return;
        const tag = event._Str_4216;
        let planeId = 0;
        if (tag && (tag.indexOf('@') >= 0)) {
            planeId = parseInt(tag.substr(tag.indexOf('@') + 1));
        }
        if ((planeId < 1) || (planeId > this._planeParser.planeCount)) {
            if (event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].ROLL_OUT) {
                this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_SELECTED_PLANE, 0);
            }
            return;
        }
        planeId--;
        let _local_7 = null;
        const _local_8 = this._planeParser.getPlaneLocation(planeId);
        const _local_9 = this._planeParser.getPlaneLeftSide(planeId);
        const _local_10 = this._planeParser.getPlaneRightSide(planeId);
        const _local_11 = this._planeParser.getPlaneNormalDirection(planeId);
        const _local_12 = this._planeParser.getPlaneType(planeId);
        if (((((_local_8 == null) || (_local_9 == null)) || (_local_10 == null)) || (_local_11 == null)))
            return;
        const _local_13 = _local_9.length;
        const _local_14 = _local_10.length;
        if (((_local_13 == 0) || (_local_14 == 0)))
            return;
        const _local_15 = event._Str_24406;
        const _local_16 = event._Str_25684;
        const _local_17 = new PIXI.Point(_local_15, _local_16);
        _local_7 = geometry.getPlanePosition(_local_17, _local_8, _local_9, _local_10);
        if (!_local_7) {
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_SELECTED_PLANE, 0);
            return;
        }
        const _local_18 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"].product(_local_9, (_local_7.x / _local_13));
        _local_18.add(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"].product(_local_10, (_local_7.y / _local_14)));
        _local_18.add(_local_8);
        const _local_19 = _local_18.x;
        const _local_20 = _local_18.y;
        const _local_21 = _local_18.z;
        if (((((_local_7.x >= 0) && (_local_7.x < _local_13)) && (_local_7.y >= 0)) && (_local_7.y < _local_14))) {
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_SELECTED_X, _local_19);
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_SELECTED_Y, _local_20);
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_SELECTED_Z, _local_21);
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_SELECTED_PLANE, (planeId + 1));
        }
        else {
            this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_14__["RoomObjectVariable"].ROOM_SELECTED_PLANE, 0);
            return;
        }
        let eventType = null;
        if ((event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].MOUSE_MOVE) || (event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].ROLL_OVER))
            eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].MOUSE_MOVE;
        else if ((event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].MOUSE_CLICK))
            eventType = _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectMouseEvent"].CLICK;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].MOUSE_MOVE:
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].ROLL_OVER:
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_4__["MouseEventType"].MOUSE_CLICK:
                let newEvent = null;
                if (_local_12 === _RoomPlaneData__WEBPACK_IMPORTED_MODULE_17__["RoomPlaneData"].PLANE_FLOOR) {
                    newEvent = new _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_5__["RoomObjectTileMouseEvent"](eventType, this.object, event._Str_3463, _local_19, _local_20, _local_21, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown);
                }
                else if ((_local_12 === _RoomPlaneData__WEBPACK_IMPORTED_MODULE_17__["RoomPlaneData"].PLANE_WALL) || (_local_12 === _RoomPlaneData__WEBPACK_IMPORTED_MODULE_17__["RoomPlaneData"].PLANE_LANDSCAPE)) {
                    let direction = 90;
                    if (_local_11) {
                        direction = (_local_11.x + 90);
                        if (direction > 360)
                            direction -= 360;
                    }
                    const _local_27 = ((_local_9.length * _local_7.x) / _local_13);
                    const _local_28 = ((_local_10.length * _local_7.y) / _local_14);
                    newEvent = new _events_RoomObjectWallMouseEvent__WEBPACK_IMPORTED_MODULE_6__["RoomObjectWallMouseEvent"](eventType, this.object, event._Str_3463, _local_8, _local_9, _local_10, _local_27, _local_28, direction, event.altKey, event.ctrlKey, event.shiftKey, event.buttonDown);
                }
                if (this.eventDispatcher)
                    this.eventDispatcher.dispatchEvent(newEvent);
                return;
        }
    }
}


/***/ }),

/***/ "n0S8":
/*!************************************************************!*\
  !*** ./src/client/nitro/room/utils/SpriteDataCollector.ts ***!
  \************************************************************/
/*! exports provided: SpriteDataCollector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpriteDataCollector", function() { return SpriteDataCollector; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");
/* harmony import */ var _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _object_visualization_room_PlaneDrawingData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../object/visualization/room/PlaneDrawingData */ "8aMC");
/* harmony import */ var _RoomEngine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../RoomEngine */ "3h45");





class SpriteDataCollector {
    constructor() {
        this._Str_3008 = 0;
        this._Str_18433 = 0;
    }
    static _Str_22230(k, _arg_2) {
        const datas = [];
        for (let data of k) {
            if (!data)
                continue;
            if ((data.type === 'boutique_mannequin1') && (data.name.indexOf('mannequin_') === 0)) {
                const roomObject = _arg_2.getRoomObject(_arg_2.activeRoomId, data.objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_2__["RoomObjectCategory"].FLOOR);
                if (roomObject) {
                    const spriteList = roomObject.visualization.getSpriteList();
                    if (spriteList) {
                        for (let sprite of spriteList) {
                            sprite.x = (sprite.x + ((data.x + (data.width / 2)) + SpriteDataCollector._Str_16967));
                            sprite.y = (sprite.y + ((data.y + data.height) + SpriteDataCollector._Str_18197));
                            sprite.z = (sprite.z + data.z);
                            datas.push(sprite);
                        }
                    }
                }
            }
            else {
                datas.push(data);
            }
        }
        return datas;
    }
    static _Str_22564(k, _arg_2) {
        if (k.z < _arg_2.z)
            return 1;
        if (k.z > _arg_2.z)
            return -1;
        return -1;
    }
    static _Str_20789(k, _arg_2, _arg_3) {
        return true;
        // var _local_4 = new PIXI.Rectangle((k.x + _arg_3.screenOffsetX), (k.y + _arg_3.screenOffsetY), k.width, k.height);
        // // intersects
        // return _local_4.contains(_arg_2.x, _arg_2.y);
    }
    static _Str_14110(k, _arg_2, _arg_3, _arg_4) {
        const points = [];
        if (k.x == _arg_2.x) {
            points.push(k, _arg_3, _arg_2, _arg_4);
        }
        else {
            if (k.x == _arg_3.x) {
                points.push(k, _arg_2, _arg_3, _arg_4);
            }
            else {
                if ((((_arg_2.x < k.x) && (_arg_2.y > k.y)) || ((_arg_2.x > k.x) && (_arg_2.y < k.y)))) {
                    points.push(k, _arg_3, _arg_2, _arg_4);
                }
                else {
                    points.push(k, _arg_2, _arg_3, _arg_4);
                }
            }
        }
        if (points[0].x < points[1].x) {
            let _local_6 = points[0];
            points[0] = points[1];
            points[1] = _local_6;
            _local_6 = points[2];
            points[2] = points[3];
            points[3] = _local_6;
        }
        if (points[0].y < points[2].y) {
            let _local_6 = points[0];
            points[0] = points[2];
            points[2] = _local_6;
            _local_6 = points[1];
            points[1] = points[3];
            points[3] = _local_6;
        }
        return points;
    }
    _Str_4536(k, _arg_2, _arg_3, _arg_4) {
        let _local_5 = [];
        let _local_6 = _arg_2.getSortableSpriteList();
        const _local_7 = _arg_3._Str_21072(_arg_3.activeRoomId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_2__["RoomObjectCategory"].UNIT);
        for (let _local_8 of _local_7) {
            if (_local_8.id !== _arg_4) {
                const _local_11 = _local_8.visualization.getSpriteList();
                if (_local_11) {
                    let _local_12 = 0;
                    let _local_13 = 0;
                    for (let _local_14 of _local_6) {
                        if (_local_14.name === ('avatar_' + _local_8.id)) {
                            _local_12 = _local_14.z;
                            _local_13 = ((_local_14.y + _local_14.height) - (_arg_2.geometry.scale / 4));
                            break;
                        }
                    }
                    const _local_15 = _arg_3.getRoomObjectScreenLocation(_arg_3.activeRoomId, _local_8.id, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_2__["RoomObjectCategory"].UNIT, _arg_2.id);
                    if (_local_15) {
                        if (_local_13 === 0)
                            _local_13 = _local_15.y;
                        for (let _local_16 of _local_11) {
                            _local_16.x = (_local_16.x + (_local_15.x - _arg_2.screenOffsetX));
                            _local_16.y = (_local_16.y + _local_13);
                            _local_16.z = (_local_16.z + _local_12);
                            if (((_local_16.name.indexOf('h_std_fx29_') === 0) || (_local_16.name.indexOf('h_std_fx185_') === 0))) {
                                _local_16.y = (_local_16.y + SpriteDataCollector._Str_18565);
                            }
                            _local_6.push(_local_16);
                        }
                    }
                }
            }
        }
        _local_6 = SpriteDataCollector._Str_22230(_local_6, _arg_3);
        _local_6.sort(SpriteDataCollector._Str_22564);
        for (let _local_9 of _local_6) {
            if ((((((!(_local_9.name === null)) && (_local_9.name.length > 0)) && (!(_local_9.name.indexOf('tile_cursor_') === 0))) && (SpriteDataCollector._Str_20789(_local_9, k, _arg_2))) && ((_arg_4 < 0) || (!(_local_9.objectId == _arg_4))))) {
                _local_5.push(this._Str_25132(_local_9, k, _arg_2, _arg_3));
                if (!this._Str_6409)
                    this._Str_6409 = _local_9.z;
                this._Str_3008++;
            }
        }
        return JSON.stringify(_local_5);
    }
    _Str_24177(k) {
        return JSON.stringify(new Object());
    }
    _Str_25132(k, _arg_2, _arg_3, _arg_4) {
        var _local_7 = null;
        var _local_9 = [];
        var _local_5 = new Object();
        var _local_6 = k.name;
        if (k.name.indexOf('@') !== -1) {
            _local_9 = k.name.split('@');
            _local_6 = _local_9[0];
            _local_7 = _local_9[1];
        }
        // if(((_local_7) && (k.type)))
        // {
        //     const _local_10 = _arg_4.roomContentLoader.getCollection(k.type);
        //     if(_local_10)
        //     {
        //         const _local_11 = _local_10.getPalette(_local_7);
        //         if (((!(_local_11 == null)) && (!(_local_11.@source == null))))
        //         {
        //             _local_5.paletteSourceName = (_local_11.@source + '');
        //         }
        //     }
        // }
        // var _local_8:String = _arg_4.configuration.getProperty('image.library.url');
        // _local_6 = _local_6.replace('%image.library.url%', _local_8);
        // if (_local_6.indexOf('%group.badge.url%') != -1)
        // {
        //     _local_12 = _arg_4.configuration.getProperty('group.badge.url');
        //     _local_6 = _local_6.replace('%group.badge.url%', '');
        //     _local_13 = _local_12.replace('%imagerdata%', _local_6);
        //     _local_6 = _local_13;
        // }
        _local_5.name = _local_6;
        _local_5.x = (k.x - _arg_2.x);
        _local_5.y = (k.y - _arg_2.y);
        _local_5.x = (_local_5.x + _arg_3.screenOffsetX);
        _local_5.y = (_local_5.y + _arg_3.screenOffsetY);
        _local_5.z = k.z;
        if (k.alpha && (k.alpha.toString() !== '255'))
            _local_5.alpha = k.alpha;
        if (k.flipH)
            _local_5.flipH = k.flipH;
        if (k.skew)
            _local_5.skew = k.skew;
        if (k.frame)
            _local_5.frame = k.frame;
        if (k.color && (k.color.length > 0))
            _local_5.color = parseInt(k.color);
        if (k.blendMode && (k.blendMode !== 'normal'))
            _local_5.blendMode = k.blendMode;
        if (_local_6.indexOf('http') === 0) {
            _local_5.width = k.width;
            _local_5.height = k.height;
            this._Str_18433++;
            if (this._Str_18433 > SpriteDataCollector._Str_17558)
                _local_5.name = 'box';
        }
        if (k.posture)
            _local_5.posture = k.posture;
        return _local_5;
    }
    _Str_25196(k, _arg_2, _arg_3) {
        const _local_4 = new PIXI.Point(0, 0);
        const _local_5 = new PIXI.Point(k.width, 0);
        const _local_6 = new PIXI.Point(0, k.height);
        const _local_7 = new PIXI.Point(k.width, k.height);
        const _local_8 = SpriteDataCollector._Str_14110(_local_4, _local_5, _local_6, _local_7);
        let _local_9 = 0;
        if (_arg_3.length > 0) {
            _local_9 = _arg_3[0].z;
            if (this._Str_6409)
                _local_9 = Math.max(this._Str_6409, _local_9);
        }
        else {
            _local_9 = ((this._Str_6409) ? this._Str_6409 : 0);
        }
        _local_9 = (_local_9 + ((this._Str_3008 * 1.776104) + (_arg_3.length * 2.31743)));
        const _local_10 = new _object_visualization_room_PlaneDrawingData__WEBPACK_IMPORTED_MODULE_3__["PlaneDrawingData"](null, _arg_2);
        _local_10.cornerPoints = _local_8;
        _local_10.z = _local_9;
        return _local_10;
    }
    _Str_25623(k, _arg_2, _arg_3) {
        const _local_4 = new Map();
        let _local_5 = 1;
        if (this._Str_6409) {
            _local_5 = (_local_5 + this._Str_6409);
        }
        for (let _local_6 of k) {
            const _local_10 = {
                plane: _local_6,
                z: _local_5
            };
            _local_4.set(_local_6.uniqueId, _local_10);
        }
        const sprites = _arg_2._Str_14588();
        sprites.sort((a, b) => {
            return (b.z - a.z);
        });
        sprites.reverse();
        let _local_8 = [];
        for (let sprite of sprites) {
            const objectSprite = sprite.sprite;
            if (objectSprite) {
                const _local_10 = _local_4.get(objectSprite.id);
                if (_local_10) {
                    _local_4.delete(objectSprite.id);
                    _local_10.z = sprite.z;
                    _local_8.push(_local_10);
                }
            }
        }
        _local_8 = _local_8.concat(Array.from(_local_4.values()));
        return _local_8;
    }
    _Str_22985(k, _arg_2, _arg_3, _arg_4) {
        var _local_5 = [];
        const roomObject = _arg_3.getRoomObject(_arg_3.activeRoomId, _RoomEngine__WEBPACK_IMPORTED_MODULE_4__["RoomEngine"].ROOM_OBJECT_ID, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_2__["RoomObjectCategory"].ROOM);
        const visualization = roomObject.visualization;
        if (visualization) {
            const _local_8 = _arg_2.geometry;
            const _local_9 = this._Str_25623(visualization._Str_19113, _arg_2, _arg_3);
            const _local_10 = _Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.stage;
            for (let _local_11 of _local_9) {
                const _local_12 = _local_11.plane;
                const _local_13 = [];
                const _local_14 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_local_12.location, _local_12._Str_5424);
                const _local_15 = _local_8.getScreenPoint(_local_12.location);
                const _local_16 = _local_8.getScreenPoint(_local_14);
                const _local_17 = _local_8.getScreenPoint(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_local_12.location, _local_12._Str_4968));
                const _local_18 = _local_8.getScreenPoint(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"].sum(_local_14, _local_12._Str_4968));
                _local_13.push(_local_15, _local_16, _local_17, _local_18);
                let _local_19 = 0;
                let _local_20 = 0;
                for (let _local_21 of _local_13) {
                    _local_21.x += (_local_10.width / 2);
                    _local_21.y += (_local_10.height / 2);
                    _local_21.x += _arg_2.screenOffsetX;
                    _local_21.y += _arg_2.screenOffsetY;
                    _local_21.x += -(k.x);
                    _local_21.y += -(k.y);
                    if (_local_21.x < 0)
                        _local_19--;
                    else if (_local_21.x >= k.width)
                        _local_19++;
                    if (_local_21.y < 0)
                        _local_20--;
                    else if (_local_21.y >= k.height)
                        _local_20++;
                }
                if (((Math.abs(_local_19) === 4) || (Math.abs(_local_20) === 4))) {
                }
                else {
                    const _local_22 = SpriteDataCollector._Str_14110(_local_15, _local_16, _local_17, _local_18);
                    for (let _local_23 of _local_12._Str_22136(_local_8)) {
                        _local_23.cornerPoints = _local_22;
                        _local_23.z = _local_11.z;
                        _local_5.push(_local_23);
                    }
                }
            }
            _local_5.unshift(this._Str_25196(k, _arg_4, _local_5));
        }
        return _local_5;
    }
}
SpriteDataCollector._Str_16967 = 1;
SpriteDataCollector._Str_18197 = -16;
SpriteDataCollector._Str_18565 = -52;
SpriteDataCollector._Str_17558 = 30;


/***/ }),

/***/ "n7CB":
/*!*******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/RoomUnitRemoveEvent.ts ***!
  \*******************************************************************************************/
/*! exports provided: RoomUnitRemoveEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitRemoveEvent", function() { return RoomUnitRemoveEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_RoomUnitRemoveParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/unit/RoomUnitRemoveParser */ "nC7S");


class RoomUnitRemoveEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_RoomUnitRemoveParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitRemoveParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "nC7S":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitRemoveParser.ts ***!
  \******************************************************************************************/
/*! exports provided: RoomUnitRemoveParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitRemoveParser", function() { return RoomUnitRemoveParser; });
class RoomUnitRemoveParser {
    flush() {
        this._unitId = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = parseInt(wrapper.readString());
        return true;
    }
    get unitId() {
        return this._unitId;
    }
}


/***/ }),

/***/ "nJ5u":
/*!*************************************************************!*\
  !*** ./src/app/components/inventory/items/FurnitureItem.ts ***!
  \*************************************************************/
/*! exports provided: FurnitureItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureItem", function() { return FurnitureItem; });
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");

class FurnitureItem {
    constructor(parser) {
        this._id = parser.itemId;
        this._type = parser.spriteId;
        this._ref = parser.ref;
        this._category = parser.category;
        this._groupable = ((parser.isGroupable) && (!(parser.rentable)));
        this._tradeable = parser.tradable;
        this._recyclable = parser.isRecycleable;
        this._sellable = parser.sellable;
        this._stuffData = parser.stuffData;
        this._extra = parser._Str_2794;
        this._secondsToExpiration = parser.secondsToExpiration;
        this._expirationTimeStamp = parser._Str_10616;
        this._hasRentPeriodStarted = parser.hasRentPeriodStarted;
        this._creationDay = parser._Str_8932;
        this._creationMonth = parser._Str_9050;
        this._creationYear = parser._Str_9408;
        this._slotId = parser.slotId;
        this._songId = parser._Str_3951;
        this._flatId = parser.flatId;
        this._isRented = parser.rentable;
        this._isWallItem = parser.isWallItem;
        this._unlocked = true;
    }
    get rentable() {
        return this._isRented;
    }
    get id() {
        return this._id;
    }
    get ref() {
        return this._ref;
    }
    get category() {
        return this._category;
    }
    get type() {
        return this._type;
    }
    get stuffData() {
        return this._stuffData;
    }
    set stuffData(k) {
        this._stuffData = k;
    }
    get _Str_2794() {
        return this._extra;
    }
    get _Str_16260() {
        return this._recyclable;
    }
    get isTradable() {
        return this._tradeable;
    }
    get isGroupable() {
        return this._groupable;
    }
    get sellable() {
        return this._sellable;
    }
    get secondsToExpiration() {
        if (this._secondsToExpiration === -1)
            return -1;
        let time = -1;
        if (this._hasRentPeriodStarted) {
            time = (this._secondsToExpiration - ((_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time - this._expirationTimeStamp) / 1000));
            if (time < 0)
                time = 0;
        }
        else {
            time = this._secondsToExpiration;
        }
        return time;
    }
    get _Str_8932() {
        return this._creationDay;
    }
    get _Str_9050() {
        return this._creationMonth;
    }
    get _Str_9408() {
        return this._creationYear;
    }
    get slotId() {
        return this._slotId;
    }
    get _Str_3951() {
        return this._songId;
    }
    get locked() {
        return this._locked;
    }
    set locked(k) {
        this._locked = k;
    }
    get flatId() {
        return this._flatId;
    }
    get isWallItem() {
        return this._isWallItem;
    }
    get hasRentPeriodStarted() {
        return this._hasRentPeriodStarted;
    }
    get _Str_10616() {
        return this._expirationTimeStamp;
    }
    get unlocked() {
        return this._unlocked;
    }
    set unlocked(flag) {
        this._unlocked = flag;
    }
    update(parser) {
        this._type = parser.spriteId;
        this._ref = parser.ref;
        this._category = parser.category;
        this._groupable = (parser.isGroupable && !parser.rentable);
        this._tradeable = parser.tradable;
        this._recyclable = parser.isRecycleable;
        this._sellable = parser.sellable;
        this._stuffData = parser.stuffData;
        this._extra = parser._Str_2794;
        this._secondsToExpiration = parser.secondsToExpiration;
        this._expirationTimeStamp = parser._Str_10616;
        this._hasRentPeriodStarted = parser.hasRentPeriodStarted;
        this._creationDay = parser._Str_8932;
        this._creationMonth = parser._Str_9050;
        this._creationYear = parser._Str_9408;
        this._slotId = parser.slotId;
        this._songId = parser._Str_3951;
        this._flatId = parser.flatId;
        this._isRented = parser.rentable;
        this._isWallItem = parser.isWallItem;
    }
}


/***/ }),

/***/ "nMRu":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/user/data/UserCurrentBadgesComposer.ts ***!
  \*************************************************************************************************/
/*! exports provided: UserCurrentBadgesComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCurrentBadgesComposer", function() { return UserCurrentBadgesComposer; });
class UserCurrentBadgesComposer {
    constructor(userId) {
        this._data = [userId];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "nNAM":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureExternalImageVisualization.ts ***!
  \*****************************************************************************************************/
/*! exports provided: FurnitureExternalImageVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureExternalImageVisualization", function() { return FurnitureExternalImageVisualization; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureDynamicThumbnailVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureDynamicThumbnailVisualization */ "SjBA");


class FurnitureExternalImageVisualization extends _FurnitureDynamicThumbnailVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureDynamicThumbnailVisualization"] {
    constructor() {
        super();
        this._url = null;
        this._typePrefix = null;
    }
    getThumbnailURL() {
        if (!this.object)
            return null;
        if (this._url)
            return this._url;
        const jsonString = this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA);
        if (!jsonString || jsonString === '')
            return null;
        if (this.object.type.indexOf('') >= 0)
            this._typePrefix = (this.object.type.indexOf('') >= 0) ? '' : 'postcards/selfie/';
        const json = JSON.parse(jsonString);
        let url = json.w;
        url = this._Str_18056(url);
        this._url = url;
        return this._url;
    }
    _Str_18056(url) {
        url = url.replace('.png', '_small.png');
        if (url.indexOf('.png') === -1)
            url = (url + '_small.png');
        return url;
    }
}


/***/ }),

/***/ "ngmT":
/*!*******************************************************!*\
  !*** ./src/client/nitro/avatar/pets/PetCustomPart.ts ***!
  \*******************************************************/
/*! exports provided: PetCustomPart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetCustomPart", function() { return PetCustomPart; });
class PetCustomPart {
    constructor(layerId, partId, paletteId) {
        this._layerId = layerId;
        this._partId = partId;
        this._paletteId = paletteId;
    }
    get layerId() {
        return this._layerId;
    }
    set layerId(layerId) {
        this._layerId = layerId;
    }
    get partId() {
        return this._partId;
    }
    set partId(partId) {
        this._partId = partId;
    }
    get paletteId() {
        return this._paletteId;
    }
    set paletteId(paletteId) {
        this._paletteId = paletteId;
    }
}


/***/ }),

/***/ "ngr+":
/*!*******************************************************************************!*\
  !*** ./src/client/core/communication/connections/enums/WebSocketEventEnum.ts ***!
  \*******************************************************************************/
/*! exports provided: WebSocketEventEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebSocketEventEnum", function() { return WebSocketEventEnum; });
class WebSocketEventEnum {
}
WebSocketEventEnum.CONNECTION_OPENED = 'open';
WebSocketEventEnum.CONNECTION_CLOSED = 'close';
WebSocketEventEnum.CONNECTION_ERROR = 'error';
WebSocketEventEnum.CONNECTION_MESSAGE = 'message';


/***/ }),

/***/ "nn0b":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/navigator/NavigatorSearchOpenComposer.ts ***!
  \***************************************************************************************************/
/*! exports provided: NavigatorSearchOpenComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchOpenComposer", function() { return NavigatorSearchOpenComposer; });
class NavigatorSearchOpenComposer {
    constructor(code) {
        this._data = [code];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "nohf":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureValRandomizerVisualization.ts ***!
  \*****************************************************************************************************/
/*! exports provided: FurnitureValRandomizerVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureValRandomizerVisualization", function() { return FurnitureValRandomizerVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureValRandomizerVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
    constructor() {
        super();
        this._stateQueue = [];
        this._running = false;
        super.setAnimation(FurnitureValRandomizerVisualization._Str_11236);
    }
    setAnimation(animationId) {
        if (animationId === 0) {
            if (!this._running) {
                this._running = true;
                this._stateQueue = [];
                this._stateQueue.push(FurnitureValRandomizerVisualization._Str_7627);
                this._stateQueue.push(FurnitureValRandomizerVisualization._Str_4186);
                return;
            }
        }
        if ((animationId > 0) && (animationId <= FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW2)) {
            if (this._running) {
                this._running = false;
                this._stateQueue = [];
                if (this.direction === 2) {
                    this._stateQueue.push(FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW1 + 5);
                    this._stateQueue.push(FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW2 + 5);
                }
                else {
                    this._stateQueue.push(FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW1 + animationId);
                    this._stateQueue.push(FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW2 + animationId);
                }
                this._stateQueue.push(FurnitureValRandomizerVisualization._Str_11236);
                return;
            }
            super.setAnimation(FurnitureValRandomizerVisualization._Str_11236);
        }
    }
    updateAnimation(scale) {
        if (this.getLastFramePlayed(11)) {
            if (this._stateQueue.length)
                super.setAnimation(this._stateQueue.shift());
        }
        return super.updateAnimation(scale);
    }
}
FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW1 = 20;
FurnitureValRandomizerVisualization.ANIMATION_ID_OFFSET_SLOW2 = 10;
FurnitureValRandomizerVisualization._Str_7627 = 31;
FurnitureValRandomizerVisualization._Str_4186 = 32;
FurnitureValRandomizerVisualization._Str_11236 = 30;


/***/ }),

/***/ "o/0e":
/*!************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/data/RoomDataParser.ts ***!
  \************************************************************************************/
/*! exports provided: RoomDataParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomDataParser", function() { return RoomDataParser; });
class RoomDataParser {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._roomId = 0;
        this._roomName = null;
        this._ownerId = 0;
        this._ownerName = null;
        this._doorMode = 0;
        this._userCount = 0;
        this._maxUserCount = 0;
        this._description = null;
        this._tradeMode = 2;
        this._score = 0;
        this._ranking = 0;
        this._categoryId = 0;
        this._tags = [];
        this._bitMask = 0;
        this._showOwner = true;
        this._allowPets = false;
        this._displayAd = false;
        this._adName = null;
        this._adDescription = null;
        this._adExpiresIn = 0;
        this._allMuted = false;
        this._canMute = false;
        this._officialRoomPicRef = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomId = wrapper.readInt();
        this._roomName = wrapper.readString();
        this._ownerId = wrapper.readInt();
        this._ownerName = wrapper.readString();
        this._doorMode = wrapper.readInt();
        this._userCount = wrapper.readInt();
        this._maxUserCount = wrapper.readInt();
        this._description = wrapper.readString();
        this._tradeMode = wrapper.readInt();
        this._score = wrapper.readInt();
        this._ranking = wrapper.readInt();
        this._categoryId = wrapper.readInt();
        this.parseTags(wrapper);
        this.parseBitMask(wrapper);
        return true;
    }
    parseTags(wrapper) {
        if (!wrapper)
            return false;
        this._tags = [];
        let totalTags = wrapper.readInt();
        while (totalTags > 0) {
            this._tags.push(wrapper.readString());
            totalTags--;
        }
        return true;
    }
    parseBitMask(wrapper) {
        if (!wrapper)
            return false;
        this._bitMask = wrapper.readInt();
        if (this._bitMask & RoomDataParser.THUMBNAIL_BITMASK)
            this._officialRoomPicRef = wrapper.readString();
        if (this._bitMask & RoomDataParser.GROUPDATA_BITMASK) {
            this._groupId = wrapper.readInt();
            this._groupName = wrapper.readString();
            this._groupBadge = wrapper.readString();
        }
        if (this._bitMask & RoomDataParser.ROOMAD_BITMASK) {
            this._adName = wrapper.readString();
            this._adDescription = wrapper.readString();
            this._adExpiresIn = wrapper.readInt();
        }
        this._showOwner = (this._bitMask & RoomDataParser.SHOWOWNER_BITMASK) > 0;
        this._allowPets = (this._bitMask & RoomDataParser.ALLOW_PETS_BITMASK) > 0;
        this._displayAd = (this._bitMask & RoomDataParser.DISPLAY_ROOMAD_BITMASK) > 0;
        this._thumbnail = null;
        return true;
    }
    get id() {
        return this._roomId;
    }
    get name() {
        return this._roomName;
    }
    get description() {
        return this._description;
    }
    get showOwner() {
        return this._showOwner;
    }
    get ownerId() {
        return this._ownerId;
    }
    get ownerName() {
        return this._ownerName;
    }
    get doorMode() {
        return this._doorMode;
    }
    get userCount() {
        return this._userCount;
    }
    get maxUserCount() {
        return this._maxUserCount;
    }
    get tradeMode() {
        return this._tradeMode;
    }
    get score() {
        return this._score;
    }
    get ranking() {
        return this._ranking;
    }
    get categoryId() {
        return this._categoryId;
    }
    get totalStarts() {
        return this._totalStars;
    }
    get guildId() {
        return this._groupId;
    }
    get guildName() {
        return this._groupName;
    }
    get groupBadge() {
        return this._groupBadge;
    }
    get allowPets() {
        return this._allowPets;
    }
}
RoomDataParser.THUMBNAIL_BITMASK = 1;
RoomDataParser.GROUPDATA_BITMASK = 2;
RoomDataParser.ROOMAD_BITMASK = 4;
RoomDataParser.SHOWOWNER_BITMASK = 8;
RoomDataParser.ALLOW_PETS_BITMASK = 16;
RoomDataParser.DISPLAY_ROOMAD_BITMASK = 32;
RoomDataParser.OPEN_STATE = 0;
RoomDataParser.DOORBELL_STATE = 1;
RoomDataParser.PASSWORD_STATE = 2;


/***/ }),

/***/ "o4p4":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/user/data/UserMottoComposer.ts ***!
  \*****************************************************************************************/
/*! exports provided: UserMottoComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserMottoComposer", function() { return UserMottoComposer; });
class UserMottoComposer {
    constructor(motto) {
        this._data = [motto];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "o52k":
/*!************************************************************************!*\
  !*** ./src/app/components/room/widgets/contextmenu/ContextInfoView.ts ***!
  \************************************************************************/
/*! exports provided: ContextInfoView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextInfoView", function() { return ContextInfoView; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_utils_FixedSizeStack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/utils/FixedSizeStack */ "/Cgo");



class ContextInfoView {
    constructor() {
        this.parent = null;
        this.componentRef = null;
        this.activeView = null;
        this.stack = new _client_utils_FixedSizeStack__WEBPACK_IMPORTED_MODULE_1__["FixedSizeStack"](ContextInfoView.LOCATION_STACK_SIZE);
        this.opacity = 0;
        this.currentDeltaY = -1000000;
        this.willFade = false;
        this.firstFadeStarted = false;
        this.fadeAfterDelay = true;
        this.fadeLength = 500;
        this.fadeTime = 0;
        this.fadeStartDelay = 3000;
        this.fadingOut = false;
        this.fadeStartTimer = null;
    }
    completeSetup() {
        this.firstFadeStarted = false;
        this.fadeLength = 75;
        this.fadingOut = false;
        this.opacity = 1;
        if (this.fadeAfterDelay && this.willFade) {
            if (this.fadeStartTimer) {
                clearTimeout(this.fadeStartTimer);
                this.fadeStartTimer = null;
            }
            this.fadeStartTimer = setTimeout(this.onTimerComplete.bind(this), this.fadeStartDelay);
        }
    }
    ngOnDestroy() {
        if (this.fadeStartTimer) {
            clearTimeout(this.fadeStartTimer);
            this.fadeStartTimer = null;
        }
    }
    update(rectangle, point, time) {
        if (!rectangle)
            return;
        if (this.fadingOut) {
            this.fadeTime = (this.fadeTime + time);
            this.opacity = ((1 - (this.fadeTime / this.fadeLength)) * this.maximumOpacity);
        }
        else {
            this.opacity = this.maximumOpacity;
        }
        if (this.opacity <= 0) {
            this.parent.removeView(this.componentRef, false);
            return;
        }
        const offset = this.getOffset(rectangle);
        const _local_5 = (point.y - rectangle.top);
        this.stack._Str_22775(_local_5);
        let deltaY = this.stack._Str_25797();
        if (deltaY < (this.currentDeltaY - ContextInfoView.BUBBLE_DROP_SPEED)) {
            deltaY = (this.currentDeltaY - ContextInfoView.BUBBLE_DROP_SPEED);
        }
        let _local_7 = (point.y - deltaY);
        this.currentDeltaY = deltaY;
        let left = (Math.round(point.x - (this.activeViewElement.offsetWidth / 2)));
        let top = ((Math.round(_local_7 + offset)));
        if (top <= 0)
            top = ContextInfoView.SPACE_AROUND_EDGES;
        if (top >= (window.innerHeight - this.activeViewElement.offsetHeight))
            top = ((window.innerHeight - this.activeViewElement.offsetHeight) - ContextInfoView.SPACE_AROUND_EDGES);
        if (left >= (window.innerWidth - this.activeViewElement.offsetWidth))
            left = ((window.innerWidth - this.activeViewElement.offsetWidth) - ContextInfoView.SPACE_AROUND_EDGES);
        if (left < 0)
            left = 0 + ContextInfoView.BUBBLE_DROP_SPEED;
        this.activeViewElement.style.left = (left + 'px');
        this.activeViewElement.style.top = (top + 'px');
        this.activeViewElement.style.opacity = this.opacity.toString();
    }
    hide(flag) {
        if (!this.activeView)
            return;
        if (!this.firstFadeStarted && flag) {
            this.firstFadeStarted = true;
            if (this.fadeStartTimer) {
                clearTimeout(this.fadeStartTimer);
                this.fadeStartTimer = null;
            }
            this.fadeStartTimer = setTimeout(this.onTimerComplete.bind(this), this.fadeStartDelay);
        }
        else {
            this.parent.removeView(this.componentRef, false);
        }
    }
    onTimerComplete() {
        this.fadingOut = true;
        this.hide(true);
    }
    getOffset(k) {
        let _local_2 = -(this.activeViewElement.offsetHeight);
        _local_2 = (_local_2 - 4);
        return _local_2;
    }
    get maximumOpacity() {
        return 1;
    }
    get activeViewElement() {
        return ((this.activeView && this.activeView.nativeElement) || null);
    }
}
ContextInfoView.LOCATION_STACK_SIZE = 25;
ContextInfoView.BUBBLE_DROP_SPEED = 3;
ContextInfoView.SPACE_AROUND_EDGES = 5;
ContextInfoView.ɵfac = function ContextInfoView_Factory(t) { return new (t || ContextInfoView)(); };
ContextInfoView.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: ContextInfoView });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ContextInfoView, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"]
    }], null, null); })();


/***/ }),

/***/ "oEoR":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/FloorPlane.ts ***!
  \****************************************************************************************/
/*! exports provided: FloorPlane */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FloorPlane", function() { return FloorPlane; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _Plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Plane */ "kSg6");


class FloorPlane extends _Plane__WEBPACK_IMPORTED_MODULE_1__["Plane"] {
    render(k, _arg_2, _arg_3, size, _arg_5, _arg_6, _arg_7, _arg_8) {
        const visualization = this._Str_6009(size);
        if (!visualization || !visualization.geometry)
            return null;
        const _local_10 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 0, 0));
        const _local_11 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, (_arg_3 / visualization.geometry.scale), 0));
        const _local_12 = visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((_arg_2 / visualization.geometry.scale), 0, 0));
        let _local_13 = 0;
        let _local_14 = 0;
        if (_local_10 && _local_11 && _local_12) {
            _arg_2 = Math.round(Math.abs((_local_10.x - _local_12.x)));
            _arg_3 = Math.round(Math.abs((_local_10.x - _local_11.x)));
            const _local_15 = (_local_10.x - visualization.geometry.getScreenPoint(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](1, 0, 0)).x);
            _local_13 = (_arg_7 * Math.trunc(Math.abs(_local_15)));
            _local_14 = (_arg_8 * Math.trunc(Math.abs(_local_15)));
        }
        return visualization.render(k, _arg_2, _arg_3, _arg_5, _arg_6, _local_13, _local_14);
    }
}
FloorPlane._Str_2531 = 0xFFFFFF;
FloorPlane._Str_5433 = 45;
FloorPlane._Str_5509 = 30;


/***/ }),

/***/ "oHxB":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/navigator/NavigatorCategoriesEvent.ts ***!
  \************************************************************************************************/
/*! exports provided: NavigatorCategoriesEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorCategoriesEvent", function() { return NavigatorCategoriesEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_navigator_NavigatorCategoriesParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/navigator/NavigatorCategoriesParser */ "vy/v");


class NavigatorCategoriesEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_navigator_NavigatorCategoriesParser__WEBPACK_IMPORTED_MODULE_1__["NavigatorCategoriesParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "oKt9":
/*!***************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/user/inventory/subscription/UserSubscriptionEvent.ts ***!
  \***************************************************************************************************************/
/*! exports provided: UserSubscriptionEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserSubscriptionEvent", function() { return UserSubscriptionEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_user_inventory_subscription_UserSubscriptionParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/user/inventory/subscription/UserSubscriptionParser */ "Fwdp");


class UserSubscriptionEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_user_inventory_subscription_UserSubscriptionParser__WEBPACK_IMPORTED_MODULE_1__["UserSubscriptionParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "omyB":
/*!*********************************************************!*\
  !*** ./src/client/nitro/room/RoomObjectEventHandler.ts ***!
  \*********************************************************/
/*! exports provided: RoomObjectEventHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectEventHandler", function() { return RoomObjectEventHandler; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/common/logger/NitroLogger */ "vzKh");
/* harmony import */ var _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../room/events/RoomObjectMouseEvent */ "iiZs");
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../room/messages/RoomObjectUpdateMessage */ "yF7E");
/* harmony import */ var _room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../room/utils/RoomEnterEffect */ "vqvB");
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _communication_messages_outgoing_room_furniture_floor_FurnitureFloorUpdateComposer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/floor/FurnitureFloorUpdateComposer */ "Sb1T");
/* harmony import */ var _communication_messages_outgoing_room_furniture_FurniturePickupComposer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/FurniturePickupComposer */ "jgc/");
/* harmony import */ var _communication_messages_outgoing_room_furniture_FurniturePlaceComposer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/FurniturePlaceComposer */ "+/WI");
/* harmony import */ var _communication_messages_outgoing_room_furniture_FurniturePostItPlaceComposer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/FurniturePostItPlaceComposer */ "PSU1");
/* harmony import */ var _communication_messages_outgoing_room_furniture_logic_FurnitureColorWheelComposer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/logic/FurnitureColorWheelComposer */ "PJYa");
/* harmony import */ var _communication_messages_outgoing_room_furniture_logic_FurnitureDiceActivateComposer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/logic/FurnitureDiceActivateComposer */ "fuks");
/* harmony import */ var _communication_messages_outgoing_room_furniture_logic_FurnitureDiceDeactivateComposer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/logic/FurnitureDiceDeactivateComposer */ "Nd6c");
/* harmony import */ var _communication_messages_outgoing_room_furniture_logic_FurnitureMultiStateComposer__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/logic/FurnitureMultiStateComposer */ "v1R/");
/* harmony import */ var _communication_messages_outgoing_room_furniture_logic_FurnitureRandomStateComposer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/logic/FurnitureRandomStateComposer */ "gHKk");
/* harmony import */ var _communication_messages_outgoing_room_furniture_logic_FurnitureWallMultiStateComposer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/logic/FurnitureWallMultiStateComposer */ "wSNj");
/* harmony import */ var _communication_messages_outgoing_room_furniture_wall_FurnitureWallUpdateComposer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../communication/messages/outgoing/room/furniture/wall/FurnitureWallUpdateComposer */ "wyCi");
/* harmony import */ var _communication_messages_outgoing_room_unit_RoomUnitLookComposer__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/RoomUnitLookComposer */ "hFyr");
/* harmony import */ var _communication_messages_outgoing_room_unit_RoomUnitWalkComposer__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../communication/messages/outgoing/room/unit/RoomUnitWalkComposer */ "qXDh");
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/MouseEventType */ "ySDW");
/* harmony import */ var _enums_RoomObjectPlacementSource__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./enums/RoomObjectPlacementSource */ "k0R1");
/* harmony import */ var _events_RoomEngineDimmerStateEvent__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./events/RoomEngineDimmerStateEvent */ "dPj3");
/* harmony import */ var _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./events/RoomEngineObjectEvent */ "Hs+C");
/* harmony import */ var _events_RoomEngineObjectPlacedEvent__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./events/RoomEngineObjectPlacedEvent */ "VAFd");
/* harmony import */ var _events_RoomEngineObjectPlacedOnUserEvent__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./events/RoomEngineObjectPlacedOnUserEvent */ "zJUZ");
/* harmony import */ var _events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./events/RoomEngineTriggerWidgetEvent */ "5r5K");
/* harmony import */ var _events_RoomObjectBadgeAssetEvent__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./events/RoomObjectBadgeAssetEvent */ "V8qy");
/* harmony import */ var _events_RoomObjectDimmerStateUpdateEvent__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./events/RoomObjectDimmerStateUpdateEvent */ "l58M");
/* harmony import */ var _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./events/RoomObjectFloorHoleEvent */ "wtfC");
/* harmony import */ var _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./events/RoomObjectFurnitureActionEvent */ "UOsA");
/* harmony import */ var _events_RoomObjectHSLColorEnabledEvent__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./events/RoomObjectHSLColorEnabledEvent */ "GfbW");
/* harmony import */ var _events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./events/RoomObjectHSLColorEnableEvent */ "JaRE");
/* harmony import */ var _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./events/RoomObjectMoveEvent */ "9Vq3");
/* harmony import */ var _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./events/RoomObjectStateChangedEvent */ "9LM3");
/* harmony import */ var _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./events/RoomObjectTileMouseEvent */ "Fjo1");
/* harmony import */ var _events_RoomObjectWallMouseEvent__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./events/RoomObjectWallMouseEvent */ "cmY7");
/* harmony import */ var _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./events/RoomObjectWidgetRequestEvent */ "6u0Z");
/* harmony import */ var _messages_ObjectAvatarSelectedMessage__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./messages/ObjectAvatarSelectedMessage */ "Kr/V");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _messages_ObjectSelectedMessage__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./messages/ObjectSelectedMessage */ "k+O9");
/* harmony import */ var _messages_ObjectTileCursorUpdateMessage__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./messages/ObjectTileCursorUpdateMessage */ "jLnw");
/* harmony import */ var _messages_ObjectVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./messages/ObjectVisibilityUpdateMessage */ "fNcR");
/* harmony import */ var _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./object/RoomObjectOperationType */ "UTUL");
/* harmony import */ var _object_RoomObjectType__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./object/RoomObjectType */ "+kDp");
/* harmony import */ var _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./object/RoomObjectUserType */ "38Mq");
/* harmony import */ var _object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _utils_SelectedRoomObjectData__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./utils/SelectedRoomObjectData */ "dkNN");
















































class RoomObjectEventHandler extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor(roomEngine) {
        super();
        this._roomEngine = roomEngine;
        this._eventIds = new Map();
        this._selectedAvatarId = -1;
        this._selectedObjectId = -1;
        this._selectedObjectCategory = -2;
        this._whereYouClickIsWhereYouGo = true;
        this._objectPlacementSource = null;
        this._roomEngine.events.addEventListener(_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].ADDED, this.onRoomEngineObjectEvent.bind(this));
    }
    dispose() {
        if (this._eventIds) {
            this._eventIds = null;
        }
        this._roomEngine.events.removeEventListener(_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].ADDED, this.onRoomEngineObjectEvent.bind(this));
        this._roomEngine = null;
    }
    onRoomEngineObjectEvent(event) {
        let selectedData = this.getSelectedRoomObjectData(event.roomId);
        if (!selectedData)
            return;
        if ((selectedData.operation === _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PLACE) && (selectedData.id === event.objectId)) {
            const roomObject = this._roomEngine.getRoomObject(event.roomId, selectedData.id, selectedData.category);
            if (roomObject && roomObject.model) {
                if (selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) {
                    //@ts-ignore
                    const allowedDirections = roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_ALLOWED_DIRECTIONS);
                    if (allowedDirections && allowedDirections.length) {
                        const direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](allowedDirections[0]);
                        roomObject.setDirection(direction);
                        this._Str_16022(event.roomId, selectedData.id, selectedData.category, selectedData.loc, direction, selectedData.operation, selectedData.typeId, selectedData._Str_4766, selectedData.stuffData, selectedData.state, selectedData._Str_15896, selectedData.posture);
                        selectedData = this.getSelectedRoomObjectData(event.roomId);
                        if (!selectedData)
                            return;
                    }
                }
            }
            this.setFurnitureAlphaMultiplier(roomObject, 0.5);
        }
    }
    _Str_20330(event, object, geometry) {
        if (!event || !object)
            return;
        if (_room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_4__["RoomEnterEffect"]._Str_1349())
            return;
        const type = object.type;
        let category = this._roomEngine.getRoomObjectCategoryForType(type);
        if (category !== _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM)
            category = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].MINIMUM;
        const _local_7 = this._Str_18648(category, event.type);
        if (_local_7 === event._Str_3463) {
            if ((event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_CLICK) || (event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].DOUBLE_CLICK) || (event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_DOWN) || (event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_UP) || (event.type === _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_MOVE))
                return;
        }
        else {
            if (event._Str_3463) {
                this._Str_11142(category, event.type, event._Str_3463);
            }
        }
        if (object.mouseHandler)
            object.mouseHandler.mouseEvent(event, geometry);
    }
    _Str_5346(placementSource, roomId, id, category, typeId, instanceData = null, stuffData = null, state = -1, frameNumber = -1, posture = null) {
        this._objectPlacementSource = placementSource;
        const location = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](-100, -100);
        const direction = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](0);
        this.setSelectedRoomObjectData(roomId, id, category, location, direction, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PLACE, typeId, instanceData, stuffData, state, frameNumber, posture);
        if (this._roomEngine) {
            this._roomEngine._Str_16645(typeId, category, false, instanceData, stuffData, state, frameNumber, posture);
            this._roomEngine._Str_7972(false);
        }
        return true;
    }
    _Str_8675(k) {
        this._Str_13199(k);
        return true;
    }
    _Str_18648(k, _arg_2) {
        const existing = this._eventIds.get(k);
        if (!existing)
            return null;
        return (existing.get(_arg_2) || null);
    }
    _Str_11142(k, _arg_2, _arg_3) {
        let existing = this._eventIds.get(k);
        if (!existing) {
            existing = new Map();
            this._eventIds.set(k, existing);
        }
        existing.delete(_arg_2);
        existing.set(_arg_2, _arg_3);
    }
    handleRoomObjectEvent(event, roomId) {
        if (!event)
            return;
        if (event instanceof _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectMouseEvent"]) {
            this.handleRoomObjectMouseEvent(event, roomId);
            return;
        }
        switch (event.type) {
            case _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_33__["RoomObjectStateChangedEvent"].STATE_CHANGE:
            case _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_33__["RoomObjectStateChangedEvent"].STATE_RANDOM:
                this.onRoomObjectStateChangedEvent(event, roomId);
                return;
            case _events_RoomObjectDimmerStateUpdateEvent__WEBPACK_IMPORTED_MODULE_27__["RoomObjectDimmerStateUpdateEvent"].DIMMER_STATE:
                this.onRoomObjectDimmerStateUpdateEvent(event, roomId);
                return;
            case _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_32__["RoomObjectMoveEvent"].POSITION_CHANGED:
            case _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_32__["RoomObjectMoveEvent"].OBJECT_REMOVED:
                this.onRoomObjectMoveEvent(event, roomId);
                return;
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].OPEN_WIDGET:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].CLOSE_WIDGET:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].OPEN_FURNI_CONTEXT_MENU:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].CLOSE_FURNI_CONTEXT_MENU:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].PLACEHOLDER:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].CREDITFURNI:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].STICKIE:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].PRESENT:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].TROPHY:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].TEASER:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].ECOTRONBOX:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].DIMMER:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].WIDGET_REMOVE_DIMMER:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].CLOTHING_CHANGE:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].JUKEBOX_PLAYLIST_EDITOR:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].MANNEQUIN:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].PET_PRODUCT_MENU:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].GUILD_FURNI_CONTEXT_MENU:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].BACKGROUND_COLOR:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].MYSTERYBOX_OPEN_DIALOG:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].EFFECTBOX_OPEN_DIALOG:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].MYSTERYTROPHY_OPEN_DIALOG:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].ACHIEVEMENT_RESOLUTION_OPEN:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].ACHIEVEMENT_RESOLUTION_ENGRAVING:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].ACHIEVEMENT_RESOLUTION_FAILED:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].FRIEND_FURNITURE_CONFIRM:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].FRIEND_FURNITURE_ENGRAVING:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].BADGE_DISPLAY_ENGRAVING:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].HIGH_SCORE_DISPLAY:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].HIDE_HIGH_SCORE_DISPLAY:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].INERNAL_LINK:
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].ROOM_LINK:
                this.onRoomObjectWidgetRequestEvent(event, roomId);
                return;
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].DICE_ACTIVATE:
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].DICE_OFF:
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].USE_HABBOWHEEL:
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].STICKIE:
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].ENTER_ONEWAYDOOR:
                this.onRoomObjectFurnitureActionEvent(event, roomId);
                return;
            case _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_28__["RoomObjectFloorHoleEvent"].ADD_HOLE:
            case _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_28__["RoomObjectFloorHoleEvent"].REMOVE_HOLE:
                this.onRoomObjectFloorHoleEvent(event, roomId);
                return;
            case _events_RoomObjectBadgeAssetEvent__WEBPACK_IMPORTED_MODULE_26__["RoomObjectBadgeAssetEvent"].LOAD_BADGE:
                this.onRoomObjectBadgeAssetEvent(event, roomId);
                return;
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].MOUSE_ARROW:
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].MOUSE_BUTTON:
                this.handleMousePointer(event, roomId);
                return;
            case _events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_31__["RoomObjectHSLColorEnableEvent"].ROOM_BACKGROUND_COLOR:
                this.onHSLColorEnableEvent(event, roomId);
                return;
            default:
                _core_common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_1__["NitroLogger"].log(`Unhandled Event: ${event.constructor.name}`, `Object ID: ${event.object.id}`);
                return;
        }
    }
    handleRoomObjectMouseEvent(event, roomId) {
        if (!event || !event.type)
            return;
        switch (event.type) {
            case _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectMouseEvent"].CLICK:
                this.handleRoomObjectMouseClickEvent(event, roomId);
                return;
            case _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectMouseEvent"].MOUSE_MOVE:
                this.handleRoomObjectMouseMoveEvent(event, roomId);
                return;
            case _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectMouseEvent"].MOUSE_DOWN:
                this.handleRoomObjectMouseDownEvent(event, roomId);
                return;
            case _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectMouseEvent"].MOUSE_ENTER:
                this.handleRoomObjectMouseEnterEvent(event, roomId);
                return;
            case _room_events_RoomObjectMouseEvent__WEBPACK_IMPORTED_MODULE_2__["RoomObjectMouseEvent"].MOUSE_LEAVE:
                this.handleRoomObjectMouseLeaveEvent(event, roomId);
                return;
        }
    }
    handleRoomObjectMouseClickEvent(event, roomId) {
        if (!event)
            return;
        let operation = _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_UNDEFINED;
        const selectedData = this.getSelectedRoomObjectData(roomId);
        if (selectedData)
            operation = selectedData.operation;
        let didWalk = false;
        let didMove = false;
        if (this._whereYouClickIsWhereYouGo) {
            if (!operation || (operation === _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_UNDEFINED)) {
                didWalk = this._Str_23423(roomId, event);
            }
        }
        const category = this._roomEngine.getRoomObjectCategoryForType(event.objectType);
        switch (operation) {
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE:
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM) {
                    if (selectedData) {
                        this.processRoomObjectOperation(roomId, selectedData.id, selectedData.category, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE_TO);
                    }
                }
                else if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) {
                    if (selectedData && (event.objectType === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].MONSTER_PLANT)) {
                        this.processRoomObjectOperation(roomId, selectedData.id, selectedData.category, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE_TO);
                    }
                    if (!event.eventId)
                        this._Str_11142(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM, _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_CLICK, event.eventId);
                    this._Str_19253(roomId, event.objectId, category);
                }
                didMove = true;
                if (event.objectId !== -1)
                    this._Str_17481(roomId, event.objectId, category);
                break;
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PLACE:
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM) {
                    this._Str_19271(roomId, (event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"]), (event instanceof _events_RoomObjectWallMouseEvent__WEBPACK_IMPORTED_MODULE_35__["RoomObjectWallMouseEvent"]));
                }
                else if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) {
                    switch (event.objectType) {
                        case _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].MONSTER_PLANT:
                        case _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].RENTABLE_BOT:
                            this._Str_19271(roomId, (event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"]), (event instanceof _events_RoomObjectWallMouseEvent__WEBPACK_IMPORTED_MODULE_35__["RoomObjectWallMouseEvent"]));
                            break;
                        default:
                            if (event.eventId) {
                                this._Str_11142(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM, _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_CLICK, event.eventId);
                            }
                            this._Str_19253(roomId, event.objectId, category);
                            break;
                    }
                }
                break;
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_UNDEFINED:
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM) {
                    if (!didWalk && (event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"]))
                        this.onRoomObjectTileMouseEvent(roomId, event);
                }
                else {
                    this._Str_17481(roomId, event.objectId, category);
                    if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) {
                        if (event.ctrlKey && !event.altKey && !event.shiftKey && (event.objectType === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].RENTABLE_BOT)) {
                            this.processRoomObjectOperation(roomId, event.objectId, category, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PICKUP_BOT);
                        }
                        else if (event.ctrlKey && !event.altKey && !event.shiftKey && (event.objectType === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].MONSTER_PLANT)) {
                            this.processRoomObjectOperation(roomId, event.objectId, category, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PICKUP_PET);
                        }
                        else if (!event.ctrlKey && !event.altKey && event.shiftKey && (event.objectType === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].MONSTER_PLANT)) {
                            this.processRoomObjectOperation(roomId, event.objectId, category, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_ROTATE_POSITIVE);
                        }
                        didWalk = true;
                    }
                    else if ((category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) || (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL)) {
                        if (event.altKey || event.ctrlKey || event.shiftKey) {
                            if (!event.ctrlKey && !event.altKey && event.shiftKey) {
                                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) {
                                    if (this._roomEngine.events) {
                                        this._roomEngine.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].REQUEST_ROTATE, roomId, event.objectId, category));
                                    }
                                }
                            }
                            else if (event.ctrlKey && !event.altKey && !event.shiftKey) {
                                this.processRoomObjectOperation(roomId, event.objectId, category, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PICKUP);
                            }
                            didWalk = true;
                        }
                    }
                    if (event.eventId) {
                        if (didWalk) {
                            this._Str_11142(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM, _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_CLICK, event.eventId);
                        }
                    }
                }
                break;
        }
        if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM) {
            const _local_15 = this._Str_18648(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].MINIMUM, _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_CLICK);
            const _local_16 = this._Str_18648(_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT, _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_19__["MouseEventType"].MOUSE_CLICK);
            if ((_local_15 !== event.eventId) && (_local_16 !== event.eventId) && !didMove) {
                this._Str_16209(roomId);
                if (this._roomEngine.events)
                    this._roomEngine.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].DESELECTED, roomId, -1, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].MINIMUM));
                this._Str_12227(roomId, 0, false);
            }
        }
    }
    handleRoomObjectMouseMoveEvent(event, roomId) {
        if (!event)
            return;
        let operation = _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_UNDEFINED;
        const selectedData = this.getSelectedRoomObjectData(roomId);
        if (selectedData)
            operation = selectedData.operation;
        const category = this._roomEngine.getRoomObjectCategoryForType(event.objectType);
        if (this._roomEngine) {
            const roomCursor = this._roomEngine.getRoomObjectCursor(roomId);
            if (roomCursor && roomCursor.logic) {
                let newEvent = null;
                if (event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"]) {
                    newEvent = this._Str_23824(event, roomId);
                }
                else if (event.object && (event.object.id !== -1)) {
                    if (this._whereYouClickIsWhereYouGo) {
                        newEvent = this._Str_25124(category, roomId, event);
                    }
                }
                else {
                    newEvent = new _messages_ObjectTileCursorUpdateMessage__WEBPACK_IMPORTED_MODULE_40__["ObjectTileCursorUpdateMessage"](null, 0, false, event.eventId);
                }
                roomCursor.processUpdateMessage(newEvent);
            }
        }
        switch (operation) {
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE:
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM)
                    this._Str_24048(event, roomId);
                return;
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PLACE:
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM)
                    this._Str_22548(event, roomId);
                return;
        }
    }
    handleRoomObjectMouseDownEvent(event, roomId) {
        if (!event)
            return;
        let operation = _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_UNDEFINED;
        const selectedData = this.getSelectedRoomObjectData(roomId);
        if (selectedData)
            operation = selectedData.operation;
        const category = this._roomEngine.getRoomObjectCategoryForType(event.objectType);
        switch (operation) {
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_UNDEFINED:
                if ((category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) || (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL) || (event.objectType === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].MONSTER_PLANT)) {
                    if ((event.altKey && !event.ctrlKey && !event.shiftKey) || this._Str_25211(event)) {
                        if (this._roomEngine.events)
                            this._roomEngine.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].REQUEST_MOVE, roomId, event.objectId, category));
                    }
                }
                return;
        }
    }
    handleRoomObjectMouseEnterEvent(event, roomId) {
        const id = event.objectId;
        const type = event.objectType;
        const category = this._roomEngine.getRoomObjectCategoryForType(type);
        if (this._roomEngine.events) {
            this._roomEngine.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].MOUSE_ENTER, roomId, id, category));
        }
    }
    handleRoomObjectMouseLeaveEvent(event, roomId) {
        const id = event.objectId;
        const type = event.objectType;
        const category = this._roomEngine.getRoomObjectCategoryForType(type);
        if (category !== _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].ROOM) {
            if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) {
                const cursor = this._roomEngine.getRoomObjectCursor(roomId);
                if (cursor)
                    cursor.processUpdateMessage(new _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_38__["ObjectDataUpdateMessage"](0, null));
            }
        }
        if (this._roomEngine.events) {
            this._roomEngine.events.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].MOUSE_LEAVE, roomId, id, category));
        }
        return;
    }
    onRoomObjectStateChangedEvent(event, roomId) {
        if (!event)
            return;
        switch (event.type) {
            case _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_33__["RoomObjectStateChangedEvent"].STATE_CHANGE:
                this.updateRoomObjectState(roomId, event.object.id, event.object.type, event.state, false);
                return;
            case _events_RoomObjectStateChangedEvent__WEBPACK_IMPORTED_MODULE_33__["RoomObjectStateChangedEvent"].STATE_RANDOM:
                this.updateRoomObjectState(roomId, event.object.id, event.object.type, event.state, true);
                return;
        }
    }
    onRoomObjectDimmerStateUpdateEvent(event, roomId) {
        if (!event)
            return;
        switch (event.type) {
            case _events_RoomObjectDimmerStateUpdateEvent__WEBPACK_IMPORTED_MODULE_27__["RoomObjectDimmerStateUpdateEvent"].DIMMER_STATE:
                this._roomEngine.events.dispatchEvent(new _events_RoomEngineDimmerStateEvent__WEBPACK_IMPORTED_MODULE_21__["RoomEngineDimmerStateEvent"](roomId, event.state, event._Str_14686, event._Str_6815, event.color, event._Str_5123));
                return;
        }
    }
    onRoomObjectMoveEvent(event, roomId) {
        if (!event || !this._roomEngine)
            return;
        switch (event.type) {
            case _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_32__["RoomObjectMoveEvent"].POSITION_CHANGED:
                const objectId = event.objectId;
                const objectType = event.objectType;
                const objectCategory = this._roomEngine.getRoomObjectCategoryForType(objectType);
                const object = this._roomEngine.getRoomObject(roomId, objectId, objectCategory);
                const selectionArrow = this._roomEngine.getRoomObjectSelectionArrow(roomId);
                if (object && selectionArrow && selectionArrow.logic) {
                    const location = object.getLocation();
                    selectionArrow.logic.processUpdateMessage(new _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_3__["RoomObjectUpdateMessage"](location, null));
                }
                return;
            case _events_RoomObjectMoveEvent__WEBPACK_IMPORTED_MODULE_32__["RoomObjectMoveEvent"].OBJECT_REMOVED:
                this._Str_12227(roomId, 0, false);
                return;
        }
    }
    onRoomObjectWidgetRequestEvent(event, roomId) {
        if (!event || !this._roomEngine)
            return;
        const objectId = event.objectId;
        const objectType = event.objectType;
        const objectCategory = this._roomEngine.getRoomObjectCategoryForType(objectType);
        const eventDispatcher = this._roomEngine.events;
        if (!eventDispatcher)
            return;
        switch (event.type) {
            case _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_36__["RoomObjectWidgetRequestEvent"].TROPHY:
                eventDispatcher.dispatchEvent(new _events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_25__["RoomEngineTriggerWidgetEvent"](_events_RoomEngineTriggerWidgetEvent__WEBPACK_IMPORTED_MODULE_25__["RoomEngineTriggerWidgetEvent"].REQUEST_TROPHY, roomId, objectId, objectCategory));
                return;
        }
    }
    onRoomObjectFurnitureActionEvent(event, roomId) {
        if (!event)
            return;
        this.useObject(roomId, event.object.id, event.object.type, event.type);
    }
    onRoomObjectFloorHoleEvent(event, roomId) {
        if (!event)
            return;
        switch (event.type) {
            case _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_28__["RoomObjectFloorHoleEvent"].ADD_HOLE:
                this._roomEngine.addRoomInstanceFloorHole(roomId, event.objectId);
                return;
            case _events_RoomObjectFloorHoleEvent__WEBPACK_IMPORTED_MODULE_28__["RoomObjectFloorHoleEvent"].REMOVE_HOLE:
                this._roomEngine.removeRoomInstanceFloorHole(roomId, event.objectId);
                return;
        }
    }
    onRoomObjectBadgeAssetEvent(event, roomId) {
        if (!event || !this._roomEngine)
            return;
        switch (event.type) {
            case _events_RoomObjectBadgeAssetEvent__WEBPACK_IMPORTED_MODULE_26__["RoomObjectBadgeAssetEvent"].LOAD_BADGE:
                const objectId = event.objectId;
                const objectType = event.objectType;
                const objectCategory = this._roomEngine.getRoomObjectCategoryForType(objectType);
                this._roomEngine.loadRoomObjectBadgeImage(roomId, objectId, objectCategory, event.badgeId, event.groupBadge);
                return;
        }
    }
    handleMousePointer(event, roomId) {
        if (!event)
            return;
        this._roomEngine.updateMousePointer(event.type, event.objectId, event.objectType);
    }
    onHSLColorEnableEvent(event, roomId) {
        if (!event || !this._roomEngine)
            return;
        switch (event.type) {
            case _events_RoomObjectHSLColorEnableEvent__WEBPACK_IMPORTED_MODULE_31__["RoomObjectHSLColorEnableEvent"].ROOM_BACKGROUND_COLOR:
                this._roomEngine.events.dispatchEvent(new _events_RoomObjectHSLColorEnabledEvent__WEBPACK_IMPORTED_MODULE_30__["RoomObjectHSLColorEnabledEvent"](_events_RoomObjectHSLColorEnabledEvent__WEBPACK_IMPORTED_MODULE_30__["RoomObjectHSLColorEnabledEvent"].ROOM_BACKGROUND_COLOR, roomId, event.enable, event.hue, event.saturation, event.lightness));
                return;
        }
    }
    onRoomObjectTileMouseEvent(roomId, event) {
        if (!this._roomEngine || this._roomEngine.isDecorating || !this._roomEngine.roomSessionManager)
            return;
        const session = this._roomEngine.roomSessionManager.getSession(roomId);
        if (!session || session.isSpectator)
            return;
        this.sendWalkUpdate(event._Str_16836, event._Str_17676);
    }
    _Str_24048(event, roomId) {
        if (!event || !this._roomEngine)
            return;
        const eventDispatcher = this._roomEngine.events;
        if (!eventDispatcher)
            return;
        const selectedData = this.getSelectedRoomObjectData(roomId);
        if (!selectedData)
            return;
        const roomObject = this._roomEngine.getRoomObject(roomId, selectedData.id, selectedData.category);
        if (!roomObject)
            return;
        let _local_6 = true;
        if ((selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) || (selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT)) {
            const stackingHeightMap = this._roomEngine.getFurnitureStackingHeightMap(roomId);
            if (!(((event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"])) && (this._Str_18155(roomObject, selectedData, event._Str_16836, event._Str_17676, stackingHeightMap)))) {
                this._Str_18155(roomObject, selectedData, selectedData.loc.x, selectedData.loc.y, stackingHeightMap);
                _local_6 = false;
            }
        }
        else if ((selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL)) {
            _local_6 = false;
            if (event instanceof _events_RoomObjectWallMouseEvent__WEBPACK_IMPORTED_MODULE_35__["RoomObjectWallMouseEvent"]) {
                const _local_10 = event.wallLocation;
                const _local_11 = event.wallWidth;
                const _local_12 = event.wallHeight;
                const _local_13 = event.x;
                const _local_14 = event.y;
                const _local_15 = event.direction;
                if (this._Str_22090(roomObject, selectedData, _local_10, _local_11, _local_12, _local_13, _local_14, _local_15)) {
                    _local_6 = true;
                }
            }
            if (!_local_6) {
                roomObject.setLocation(selectedData.loc);
                roomObject.setDirection(selectedData.dir);
            }
            this._roomEngine.updateRoomObjectMask(roomId, selectedData.id, _local_6);
        }
        if (_local_6) {
            this.setFurnitureAlphaMultiplier(roomObject, 0.5);
            this._roomEngine._Str_7972(false);
        }
        else {
            this.setFurnitureAlphaMultiplier(roomObject, 0);
            this._roomEngine._Str_7972(true);
        }
    }
    _Str_22548(event, roomId) {
        if (!event || !this._roomEngine)
            return;
        const eventDispatcher = this._roomEngine.events;
        if (!eventDispatcher)
            return;
        let selectedData = this.getSelectedRoomObjectData(roomId);
        if (!selectedData)
            return;
        let roomObject = this._roomEngine.getRoomObject(roomId, selectedData.id, selectedData.category);
        if (!roomObject) {
            if ((selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) && (event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"])) {
                this._roomEngine.addFurnitureFloor(roomId, selectedData.id, selectedData.typeId, selectedData.loc, selectedData.dir, 0, selectedData.stuffData, parseInt(selectedData._Str_4766), -1, 0, 0, '', false);
            }
            else if ((selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL) && (event instanceof _events_RoomObjectWallMouseEvent__WEBPACK_IMPORTED_MODULE_35__["RoomObjectWallMouseEvent"])) {
                this._roomEngine.addFurnitureWall(roomId, selectedData.id, selectedData.typeId, selectedData.loc, selectedData.dir, 0, selectedData._Str_4766, 0);
            }
            else if ((selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) && (event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"])) {
                this._roomEngine.addRoomObjectUser(roomId, selectedData.id, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](180), 180, selectedData.typeId, selectedData._Str_4766);
                const roomObject = this._roomEngine.getRoomObject(roomId, selectedData.id, selectedData.category);
                (roomObject && selectedData.posture && roomObject.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FIGURE_POSTURE, selectedData.posture));
            }
            this._roomEngine._Str_7972(true);
        }
        else {
            let _local_12 = true;
            const stackingHeightMap = this._roomEngine.getFurnitureStackingHeightMap(roomId);
            if (selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) {
                if (!((event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"]) && this._Str_18155(roomObject, selectedData, event._Str_16836, event._Str_17676, stackingHeightMap))) {
                    this._roomEngine.removeRoomObjectFloor(roomId, selectedData.id);
                    _local_12 = false;
                }
            }
            else if (selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL) {
                _local_12 = false;
                if (event instanceof _events_RoomObjectWallMouseEvent__WEBPACK_IMPORTED_MODULE_35__["RoomObjectWallMouseEvent"]) {
                    const _local_14 = event.wallLocation;
                    const _local_15 = event.wallWidth;
                    const _local_16 = event.wallHeight;
                    const _local_17 = event.x;
                    const _local_18 = event.y;
                    const _local_19 = event.direction;
                    if (this._Str_22090(roomObject, selectedData, _local_14, _local_15, _local_16, _local_17, _local_18, _local_19)) {
                        _local_12 = true;
                    }
                }
                if (!_local_12) {
                    this._roomEngine.removeRoomObjectWall(roomId, selectedData.id);
                }
                this._roomEngine.updateRoomObjectMask(roomId, selectedData.id, _local_12);
            }
            else if (selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) {
                if ((event instanceof _events_RoomObjectTileMouseEvent__WEBPACK_IMPORTED_MODULE_34__["RoomObjectTileMouseEvent"]) && this._Str_25586(roomObject, (event.tileX + 0.5), (event.tileY + 0.5), this._roomEngine.getLegacyWallGeometry(roomId))) {
                    this._roomEngine.removeRoomObjectUser(roomId, selectedData.id);
                    _local_12 = false;
                }
            }
            this._roomEngine._Str_7972(!_local_12);
        }
    }
    _Str_18155(roomObject, selectedObjectData, x, y, stackingHeightMap) {
        if (!roomObject || !selectedObjectData)
            return false;
        const _local_6 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"]();
        _local_6.assign(roomObject.getDirection());
        roomObject.setDirection(selectedObjectData.dir);
        const _local_7 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](x, y, 0);
        const _local_8 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"]();
        _local_8.assign(roomObject.getDirection());
        let _local_9 = this._Str_21004(roomObject, _local_7, selectedObjectData.loc, selectedObjectData.dir, stackingHeightMap);
        if (!_local_9) {
            _local_8.x = this._Str_17555(roomObject, true);
            roomObject.setDirection(_local_8);
            _local_9 = this._Str_21004(roomObject, _local_7, selectedObjectData.loc, selectedObjectData.dir, stackingHeightMap);
        }
        if (!_local_9) {
            roomObject.setDirection(_local_6);
            return false;
        }
        roomObject.setLocation(_local_9);
        if (_local_8)
            roomObject.setDirection(_local_8);
        return true;
    }
    _Str_22090(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8) {
        if (!k || !_arg_2)
            return false;
        const _local_9 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](_arg_8);
        const _local_10 = this._Str_25568(k, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_2);
        if (!_local_10)
            return false;
        k.setLocation(_local_10);
        k.setDirection(_local_9);
        return true;
    }
    _Str_21004(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        if (!k || !k.model || !_arg_2)
            return null;
        let _local_15 = null;
        const _local_6 = k.getDirection();
        if (!_local_6)
            return null;
        if (!_arg_3 || !_arg_4)
            return null;
        if ((_arg_2.x === _arg_3.x) && (_arg_2.y === _arg_3.y)) {
            if (_local_6.x === _arg_4.x) {
                _local_15 = new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"]();
                _local_15.assign(_arg_3);
                return _local_15;
            }
        }
        let sizeX = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_X);
        let sizeY = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_Y);
        if (sizeX < 1)
            sizeX = 1;
        if (sizeY < 1)
            sizeY = 1;
        let _local_9 = _arg_3.x;
        let _local_10 = _arg_3.y;
        let _local_11 = sizeX;
        let _local_12 = sizeY;
        let _local_13 = 0;
        let _local_14 = Math.floor(((_local_6.x + 45) % 360) / 90);
        if ((_local_14 === 1) || (_local_14 === 3)) {
            _local_13 = sizeX;
            sizeX = sizeY;
            sizeY = _local_13;
        }
        _local_14 = Math.floor(((_arg_4.x + 45) % 360) / 90);
        if ((_local_14 === 1) || (_local_14 === 3)) {
            _local_13 = _local_11;
            _local_11 = _local_12;
            _local_12 = _local_13;
        }
        if (_arg_5 && _arg_2) {
            const stackable = (k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_ALWAYS_STACKABLE) === 1);
            if (_arg_5.validateLocation(_arg_2.x, _arg_2.y, sizeX, sizeY, _local_9, _local_10, _local_11, _local_12, stackable)) {
                return new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](_arg_2.x, _arg_2.y, _arg_5.getTileHeight(_arg_2.x, _arg_2.y));
            }
            return null;
        }
        return null;
    }
    _Str_25568(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7) {
        if ((((((k == null) || (k.model == null)) || (_arg_2 == null)) || (_arg_3 == null)) || (_arg_4 == null)) || (_arg_7 == null))
            return null;
        const _local_8 = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_X);
        const _local_9 = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_Z);
        const _local_10 = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_CENTER_Z);
        if ((((_arg_5 < (_local_8 / 2)) || (_arg_5 > (_arg_3.length - (_local_8 / 2)))) || (_arg_6 < _local_10)) || (_arg_6 > (_arg_4.length - (_local_9 - _local_10)))) {
            if ((_arg_5 < (_local_8 / 2)) && (_arg_5 <= (_arg_3.length - (_local_8 / 2)))) {
                _arg_5 = (_local_8 / 2);
            }
            else {
                if ((_arg_5 >= (_local_8 / 2)) && (_arg_5 > (_arg_3.length - (_local_8 / 2)))) {
                    _arg_5 = (_arg_3.length - (_local_8 / 2));
                }
            }
            if ((_arg_6 < _local_10) && (_arg_6 <= (_arg_4.length - (_local_9 - _local_10)))) {
                _arg_6 = _local_10;
            }
            else {
                if ((_arg_6 >= _local_10) && (_arg_6 > (_arg_4.length - (_local_9 - _local_10)))) {
                    _arg_6 = (_arg_4.length - (_local_9 - _local_10));
                }
            }
        }
        if ((((_arg_5 < (_local_8 / 2)) || (_arg_5 > (_arg_3.length - (_local_8 / 2)))) || (_arg_6 < _local_10)) || (_arg_6 > (_arg_4.length - (_local_9 - _local_10)))) {
            return null;
        }
        let _local_11 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"].sum(_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"].product(_arg_3, (_arg_5 / _arg_3.length)), _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"].product(_arg_4, (_arg_6 / _arg_4.length)));
        _local_11 = _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"].sum(_arg_2, _local_11);
        return _local_11;
    }
    updateRoomObjectState(roomId, objectId, type, state, isRandom) {
        const category = this._roomEngine.getRoomObjectCategoryForType(type);
        this.sendStateUpdate(roomId, objectId, category, state, isRandom);
    }
    useObject(roomId, objectId, type, action) {
        if (!this._roomEngine || !this._roomEngine.connection)
            return;
        switch (action) {
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].DICE_ACTIVATE:
                this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_logic_FurnitureDiceActivateComposer__WEBPACK_IMPORTED_MODULE_11__["FurnitureDiceActivateComposer"](objectId));
                return;
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].DICE_OFF:
                this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_logic_FurnitureDiceDeactivateComposer__WEBPACK_IMPORTED_MODULE_12__["FurnitureDiceDeactivateComposer"](objectId));
                return;
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].USE_HABBOWHEEL:
                this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_logic_FurnitureColorWheelComposer__WEBPACK_IMPORTED_MODULE_10__["FurnitureColorWheelComposer"](objectId));
                return;
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].STICKIE:
                return;
            case _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_29__["RoomObjectFurnitureActionEvent"].ENTER_ONEWAYDOOR:
                return;
        }
    }
    sendStateUpdate(roomId, objectId, category, state, isRandom) {
        if (!this._roomEngine || !this._roomEngine.connection)
            return true;
        if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) {
            if (!isRandom) {
                this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_logic_FurnitureMultiStateComposer__WEBPACK_IMPORTED_MODULE_13__["FurnitureMultiStateComposer"](objectId, state));
            }
            else {
                this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_logic_FurnitureRandomStateComposer__WEBPACK_IMPORTED_MODULE_14__["FurnitureRandomStateComposer"](objectId, state));
            }
        }
        else if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL) {
            this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_logic_FurnitureWallMultiStateComposer__WEBPACK_IMPORTED_MODULE_15__["FurnitureWallMultiStateComposer"](objectId, state));
        }
        return true;
    }
    sendWalkUpdate(x, y) {
        if (!this._roomEngine || !this._roomEngine.connection)
            return;
        this._roomEngine.connection.send(new _communication_messages_outgoing_room_unit_RoomUnitWalkComposer__WEBPACK_IMPORTED_MODULE_18__["RoomUnitWalkComposer"](x, y));
    }
    _Str_25124(category, roomId, event) {
        if (category !== _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR)
            return null;
        const roomObject = this._roomEngine.getRoomObject(roomId, event.objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR);
        if (!roomObject)
            return null;
        const location = this._Str_21925(roomObject, event);
        if (!location)
            return null;
        const furnitureHeightMap = this._roomEngine.getFurnitureStackingHeightMap(roomId);
        if (!furnitureHeightMap)
            return null;
        const x = location.x;
        const y = location.y;
        const z = location.z;
        return new _messages_ObjectTileCursorUpdateMessage__WEBPACK_IMPORTED_MODULE_40__["ObjectTileCursorUpdateMessage"](new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](x, y, roomObject.getLocation().z), z, true, event.eventId);
    }
    _Str_23423(k, _arg_2) {
        const _local_3 = this._roomEngine.getRoomObject(k, _arg_2.objectId, _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR);
        const _local_4 = this._Str_21925(_local_3, _arg_2);
        if (_local_4) {
            this.sendWalkUpdate(_local_4.x, _local_4.y);
            return true;
        }
        return false;
    }
    _Str_21925(k, _arg_2) {
        if (!k || !_arg_2)
            return null;
        const furniData = this._roomEngine.sessionDataManager.getFloorItemDataByName(k.type);
        if (!furniData)
            return null;
        if (!furniData.canStandOn && !furniData.canSitOn && !furniData.canLayOn)
            return null;
        const model = k.model;
        if (!model)
            return null;
        const location = k.getLocation();
        const direction = k.getDirection();
        let sizeX = model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_X);
        let sizeY = model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_Y);
        let sizeZ = model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_Z);
        if ((direction.x === 90) || (direction.x === 270))
            [sizeX, sizeY] = [sizeY, sizeX];
        if (sizeX < 1)
            sizeX = 1;
        if (sizeY < 1)
            sizeY = 1;
        const renderingCanvas = this._roomEngine.getActiveRoomInstanceRenderingCanvas();
        if (!renderingCanvas)
            return null;
        const scale = renderingCanvas.geometry.scale;
        const _local_13 = furniData.canSitOn ? 0.5 : 0;
        const _local_14 = ((((scale / 2) + _arg_2.spriteOffsetX) + _arg_2.localX) / (scale / 4));
        const _local_15 = (((_arg_2.spriteOffsetY + _arg_2.localY) + (((sizeZ - _local_13) * scale) / 2)) / (scale / 4));
        const _local_16 = ((_local_14 + (2 * _local_15)) / 4);
        const _local_17 = ((_local_14 - (2 * _local_15)) / 4);
        const _local_18 = Math.floor((location.x + _local_16));
        const _local_19 = Math.floor(((location.y - _local_17) + 1));
        let _local_20 = false;
        if ((_local_18 < location.x) || (_local_18 >= (location.x + sizeX)))
            _local_20 = true;
        else if ((_local_19 < location.y) || (_local_19 >= (location.y + sizeY)))
            _local_20 = true;
        const _local_21 = furniData.canSitOn ? (sizeZ - 0.5) : sizeZ;
        if (!_local_20)
            return new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](_local_18, _local_19, _local_21);
        return null;
    }
    _Str_23824(k, roomId) {
        if (this._whereYouClickIsWhereYouGo) {
            return new _messages_ObjectTileCursorUpdateMessage__WEBPACK_IMPORTED_MODULE_40__["ObjectTileCursorUpdateMessage"](new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](k._Str_16836, k._Str_17676, k._Str_21459), 0, true, k.eventId);
        }
        const roomObject = this._roomEngine.getRoomObjectCursor(roomId);
        if (roomObject && roomObject.visualization) {
            const _local_4 = k._Str_16836;
            const _local_5 = k._Str_17676;
            const _local_6 = k._Str_21459;
            const _local_7 = this._roomEngine.getRoomInstance(roomId);
            if (_local_7) {
                const _local_8 = this._roomEngine.getRoomTileObjectMap(roomId);
                if (_local_8) {
                    const _local_9 = _local_8._Str_19056(_local_4, _local_5);
                    const _local_10 = this._roomEngine.getFurnitureStackingHeightMap(roomId);
                    if (_local_10) {
                        //@ts-ignore
                        if (_local_9 && _local_9.model && (_local_9.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_IS_VARIABLE_HEIGHT) > 0)) {
                            const _local_11 = _local_10.getTileHeight(_local_4, _local_5);
                            const _local_12 = this._roomEngine.getLegacyWallGeometry(roomId).getHeight(_local_4, _local_5);
                            return new _messages_ObjectTileCursorUpdateMessage__WEBPACK_IMPORTED_MODULE_40__["ObjectTileCursorUpdateMessage"](new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](_local_4, _local_5, _local_6), (_local_11 - _local_12), true, k.eventId);
                        }
                        return new _messages_ObjectTileCursorUpdateMessage__WEBPACK_IMPORTED_MODULE_40__["ObjectTileCursorUpdateMessage"](new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](_local_4, _local_5, _local_6), 0, true, k.eventId);
                    }
                }
            }
        }
        return null;
    }
    _Str_19271(roomId, isTileEvent, isWallEvent) {
        const selectedData = this.getSelectedRoomObjectData(roomId);
        if (!selectedData)
            return;
        let roomObject = null;
        let objectId = selectedData.id;
        let category = selectedData.category;
        let x = 0;
        let y = 0;
        let z = 0;
        let direction = 0;
        let wallLocation = '';
        if (this._roomEngine && this._roomEngine.connection) {
            roomObject = this._roomEngine.getRoomObject(roomId, objectId, category);
            if (roomObject) {
                const location = roomObject.getLocation();
                direction = roomObject.getDirection().x;
                if ((category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) || (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT)) {
                    x = location.x;
                    y = location.y;
                    z = location.z;
                }
                else if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL) {
                    x = location.x;
                    y = location.y;
                    z = location.z;
                    const wallGeometry = this._roomEngine.getLegacyWallGeometry(roomId);
                    if (wallGeometry)
                        wallLocation = wallGeometry._Str_21860(location, direction);
                }
                direction = ((((direction / 45) % 8) + 8) % 8);
                if ((objectId < 0) && (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT))
                    objectId = (objectId * -1);
                if (this._objectPlacementSource !== _enums_RoomObjectPlacementSource__WEBPACK_IMPORTED_MODULE_20__["RoomObjectPlacementSource"].CATALOG) {
                    if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) {
                        if (selectedData.typeId === _object_RoomObjectType__WEBPACK_IMPORTED_MODULE_44__["RoomObjectType"].PET) {
                            // this._roomEngine.connection.send(new _Str_8042(_local_5, int(_local_9), int(_local_10)));
                        }
                        else if (selectedData.typeId === _object_RoomObjectType__WEBPACK_IMPORTED_MODULE_44__["RoomObjectType"].RENTABLE_BOT) {
                            // this._roomEngine.connection.send(new _Str_8136(_local_5, int(_local_9), int(_local_10)));
                        }
                    }
                    else if (roomObject.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_IS_STICKIE) !== null) {
                        this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_FurniturePostItPlaceComposer__WEBPACK_IMPORTED_MODULE_9__["FurniturePostItPlaceComposer"](objectId, wallLocation));
                    }
                    else {
                        this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_FurniturePlaceComposer__WEBPACK_IMPORTED_MODULE_8__["FurniturePlaceComposer"](objectId, category, wallLocation, x, y, direction));
                    }
                }
            }
        }
        this._roomEngine.setPlacedRoomObjectData(roomId, new _utils_SelectedRoomObjectData__WEBPACK_IMPORTED_MODULE_47__["SelectedRoomObjectData"](selectedData.id, selectedData.category, null, null, null));
        this._Str_13199(roomId);
        if (this._roomEngine && this._roomEngine.events) {
            const placedInRoom = (roomObject && (roomObject.id === selectedData.id));
            this._roomEngine.events.dispatchEvent(new _events_RoomEngineObjectPlacedEvent__WEBPACK_IMPORTED_MODULE_23__["RoomEngineObjectPlacedEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].PLACED, roomId, objectId, category, wallLocation, x, y, z, direction, placedInRoom, isTileEvent, isWallEvent, selectedData._Str_4766));
        }
    }
    processRoomObjectOperation(roomId, objectId, category, operation) {
        if (!this._roomEngine)
            return false;
        const roomObject = this._roomEngine.getRoomObject(roomId, objectId, category);
        if (!roomObject)
            return false;
        let _local_9 = true;
        switch (operation) {
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_ROTATE_POSITIVE:
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_ROTATE_NEGATIVE:
                if (this._roomEngine.connection) {
                    let direction = 0;
                    if (operation == _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_ROTATE_NEGATIVE) {
                        direction = this._Str_17555(roomObject, false);
                    }
                    else {
                        direction = this._Str_17555(roomObject, true);
                    }
                    const x = roomObject.getLocation().x;
                    const y = roomObject.getLocation().y;
                    if (this.isValidLocation(roomObject, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](direction), this._roomEngine.getFurnitureStackingHeightMap(roomId))) {
                        direction = Math.trunc((direction / 45));
                        if (roomObject.type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].MONSTER_PLANT) {
                            const _local_10 = this._roomEngine.roomSessionManager.getSession(roomId);
                            if (_local_10) {
                                const _local_11 = _local_10.userDataManager.getUserDataByIndex(objectId);
                                if (_local_11) {
                                    //this._roomEngine.connection.send(new _Str_8026(_local_11._Str_2394, _local_6, _local_7, _local_8));
                                }
                            }
                        }
                        else {
                            this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_floor_FurnitureFloorUpdateComposer__WEBPACK_IMPORTED_MODULE_6__["FurnitureFloorUpdateComposer"](objectId, x, y, direction));
                        }
                    }
                }
                break;
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_EJECT:
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PICKUP:
                if (this._roomEngine.connection)
                    this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_FurniturePickupComposer__WEBPACK_IMPORTED_MODULE_7__["FurniturePickupComposer"](category, objectId));
                break;
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PICKUP_PET:
                if (this._roomEngine.connection) {
                    const session = this._roomEngine.roomSessionManager.getSession(roomId);
                    if (session) {
                        const userData = session.userDataManager.getUserDataByIndex(objectId);
                        session.pickupPet(userData.webID);
                    }
                }
                break;
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PICKUP_BOT:
                if (this._roomEngine.connection) {
                    const session = this._roomEngine.roomSessionManager.getSession(roomId);
                    if (session) {
                        const userData = session.userDataManager.getUserDataByIndex(objectId);
                        session.pickupBot(userData.webID);
                    }
                }
                break;
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE:
                _local_9 = false;
                this.setFurnitureAlphaMultiplier(roomObject, 0.5);
                this.setSelectedRoomObjectData(roomId, roomObject.id, category, roomObject.getLocation(), roomObject.getDirection(), operation);
                this._roomEngine._Str_16645(roomObject.id, category, true);
                this._roomEngine._Str_7972(false);
                break;
            case _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE_TO:
                const selectedData = this.getSelectedRoomObjectData(roomId);
                this._Str_16022(roomId, selectedData.id, selectedData.category, selectedData.loc, selectedData.dir, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE_TO, selectedData.typeId, selectedData._Str_4766, selectedData.stuffData, selectedData.state, selectedData._Str_15896, selectedData.posture);
                this.setFurnitureAlphaMultiplier(roomObject, 1);
                this._roomEngine._Str_17948();
                if (this._roomEngine.connection) {
                    if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR) {
                        const angle = ((roomObject.getDirection().x) % 360);
                        const location = roomObject.getLocation();
                        const direction = (angle / 45);
                        this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_floor_FurnitureFloorUpdateComposer__WEBPACK_IMPORTED_MODULE_6__["FurnitureFloorUpdateComposer"](objectId, location.x, location.y, direction));
                    }
                    else if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL) {
                        const angle = ((roomObject.getDirection().x) % 360);
                        const wallGeometry = this._roomEngine.getLegacyWallGeometry(roomId);
                        if (wallGeometry) {
                            const location = wallGeometry._Str_21860(roomObject.getLocation(), angle);
                            if (location)
                                this._roomEngine.connection.send(new _communication_messages_outgoing_room_furniture_wall_FurnitureWallUpdateComposer__WEBPACK_IMPORTED_MODULE_16__["FurnitureWallUpdateComposer"](objectId, location));
                        }
                    }
                    else if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) {
                    }
                }
                break;
        }
        if (_local_9)
            this._Str_13199(roomId);
        return true;
    }
    _Str_17555(k, _arg_2) {
        if (!k || !k.model)
            return 0;
        let _local_6 = 0;
        let _local_7 = 0;
        let allowedDirections = [];
        if (k.type === _object_RoomObjectUserType__WEBPACK_IMPORTED_MODULE_45__["RoomObjectUserType"].MONSTER_PLANT) {
            allowedDirections = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].PET_ALLOWED_DIRECTIONS);
        }
        else {
            allowedDirections = k.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_ALLOWED_DIRECTIONS);
        }
        let direction = k.getDirection().x;
        if (allowedDirections && allowedDirections.length) {
            _local_6 = allowedDirections.indexOf(direction);
            if (_local_6 < 0) {
                _local_6 = 0;
                _local_7 = 0;
                while (_local_7 < allowedDirections.length) {
                    if (direction <= allowedDirections[_local_7])
                        break;
                    _local_6++;
                    _local_7++;
                }
                _local_6 = (_local_6 % allowedDirections.length);
            }
            if (_arg_2)
                _local_6 = ((_local_6 + 1) % allowedDirections.length);
            else
                _local_6 = (((_local_6 - 1) + allowedDirections.length) % allowedDirections.length);
            direction = allowedDirections[_local_6];
        }
        return direction;
    }
    isValidLocation(object, goalDirection, stackingHeightMap) {
        if (!object || !object.model || !goalDirection)
            return false;
        const direction = object.getDirection();
        const location = object.getLocation();
        if (!direction || !location)
            return false;
        if ((direction.x % 180) === (goalDirection.x % 180))
            return true;
        let sizeX = object.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_X);
        let sizeY = object.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_SIZE_Y);
        let _local_8 = sizeX;
        let _local_9 = sizeY;
        if (sizeX < 1)
            sizeX = 1;
        if (sizeY < 1)
            sizeY = 1;
        let _local_11 = ((Math.trunc((goalDirection.x + 45)) % 360) / 90);
        if ((_local_11 === 1) || (_local_11 === 3))
            [sizeX, sizeY] = [sizeY, sizeX];
        _local_11 = ((Math.trunc((direction.x + 45)) % 360) / 90);
        if (((_local_11 === 1) || (_local_11 === 3)))
            [_local_8, _local_9] = [_local_9, _local_8];
        if (stackingHeightMap && location) {
            const alwaysStackable = (object.model.getValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_ALWAYS_STACKABLE) === 1);
            if (stackingHeightMap.validateLocation(location.x, location.y, sizeX, sizeY, location.x, location.y, _local_8, _local_9, alwaysStackable, location.z))
                return true;
            return false;
        }
        return false;
    }
    _Str_19253(roomId, objectId, category) {
        const _local_4 = this.getSelectedRoomObjectData(roomId);
        if (!_local_4)
            return;
        const _local_5 = this._roomEngine.getRoomObject(roomId, objectId, category);
        if (!_local_5)
            return;
        if (!this._roomEngine || !this._roomEngine.events)
            return;
        this._roomEngine.events.dispatchEvent(new _events_RoomEngineObjectPlacedOnUserEvent__WEBPACK_IMPORTED_MODULE_24__["RoomEngineObjectPlacedOnUserEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].PLACED_ON_USER, roomId, objectId, category, _local_4.id, _local_4.category));
    }
    _Str_17481(roomId, objectId, category) {
        if (!this._roomEngine)
            return;
        const eventDispatcher = this._roomEngine.events;
        if (!eventDispatcher)
            return;
        switch (category) {
            case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT:
            case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR:
            case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL:
                if (category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT) {
                    this._Str_16209(roomId);
                    this._Str_12227(roomId, objectId, true);
                }
                else {
                    this._Str_12227(roomId, 0, false);
                    if (objectId !== this._selectedObjectId) {
                        this._Str_16209(roomId);
                        const _local_5 = this._roomEngine.getRoomObject(roomId, objectId, category);
                        if (_local_5 && _local_5.logic) {
                            _local_5.logic.processUpdateMessage(new _messages_ObjectSelectedMessage__WEBPACK_IMPORTED_MODULE_39__["ObjectSelectedMessage"](true));
                            this._selectedObjectId = objectId;
                            this._selectedObjectCategory = category;
                        }
                    }
                }
                eventDispatcher.dispatchEvent(new _events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"](_events_RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_22__["RoomEngineObjectEvent"].SELECTED, roomId, objectId, category));
                return;
        }
    }
    _Str_16209(k) {
        if (this._selectedObjectId === -1)
            return;
        const object = this._roomEngine.getRoomObject(k, this._selectedObjectId, this._selectedObjectCategory);
        if (object && object.logic) {
            object.logic.processUpdateMessage(new _messages_ObjectSelectedMessage__WEBPACK_IMPORTED_MODULE_39__["ObjectSelectedMessage"](false));
            this._selectedObjectId = -1;
            this._selectedObjectCategory = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].MINIMUM;
        }
    }
    _Str_12227(k, _arg_2, _arg_3) {
        if (!this._roomEngine)
            return;
        const _local_4 = _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT;
        const _local_5 = this._roomEngine.getRoomObject(k, this._selectedAvatarId, _local_4);
        if (_local_5 && _local_5.logic) {
            _local_5.logic.processUpdateMessage(new _messages_ObjectAvatarSelectedMessage__WEBPACK_IMPORTED_MODULE_37__["ObjectAvatarSelectedMessage"](false));
            this._selectedAvatarId = -1;
        }
        let _local_6 = false;
        if (_arg_3) {
            const _local_5 = this._roomEngine.getRoomObject(k, _arg_2, _local_4);
            if (_local_5 && _local_5.logic) {
                _local_5.logic.processUpdateMessage(new _messages_ObjectAvatarSelectedMessage__WEBPACK_IMPORTED_MODULE_37__["ObjectAvatarSelectedMessage"](true));
                _local_6 = true;
                this._selectedAvatarId = _arg_2;
                const location = _local_5.getLocation();
                if (location)
                    this._roomEngine.connection.send(new _communication_messages_outgoing_room_unit_RoomUnitLookComposer__WEBPACK_IMPORTED_MODULE_17__["RoomUnitLookComposer"](~~(location.x), ~~(location.y)));
            }
        }
        const _local_7 = this._roomEngine.getRoomObjectSelectionArrow(k);
        if (_local_7 && _local_7.logic) {
            if (_local_6)
                _local_7.logic.processUpdateMessage(new _messages_ObjectVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_41__["ObjectVisibilityUpdateMessage"](_messages_ObjectVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_41__["ObjectVisibilityUpdateMessage"].ENABLED));
            else
                _local_7.logic.processUpdateMessage(new _messages_ObjectVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_41__["ObjectVisibilityUpdateMessage"](_messages_ObjectVisibilityUpdateMessage__WEBPACK_IMPORTED_MODULE_41__["ObjectVisibilityUpdateMessage"].DISABLED));
        }
    }
    _Str_13199(roomId) {
        if (!this._roomEngine)
            return;
        this._roomEngine._Str_17948();
        const selectedData = this.getSelectedRoomObjectData(roomId);
        if (selectedData) {
            if ((selectedData.operation === _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE) || (selectedData.operation === _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE_TO)) {
                const roomObject = this._roomEngine.getRoomObject(roomId, selectedData.id, selectedData.category);
                if (roomObject && (selectedData.operation !== _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE_TO)) {
                    roomObject.setLocation(selectedData.loc);
                    roomObject.setDirection(selectedData.dir);
                }
                this.setFurnitureAlphaMultiplier(roomObject, 1);
                if (selectedData.category === _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL) {
                    this._roomEngine.updateRoomObjectMask(roomId, selectedData.id, true);
                }
                this._Str_16022(roomId, selectedData.id, selectedData.category, selectedData.loc, selectedData.dir, _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_MOVE, selectedData.typeId, selectedData._Str_4766, selectedData.stuffData, selectedData.state, selectedData._Str_15896, selectedData.posture);
            }
            else if ((selectedData.operation === _object_RoomObjectOperationType__WEBPACK_IMPORTED_MODULE_43__["RoomObjectOperationType"].OBJECT_PLACE)) {
                const objectId = selectedData.id;
                const category = selectedData.category;
                switch (category) {
                    case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].FLOOR:
                        this._roomEngine.removeRoomObjectFloor(roomId, objectId);
                        break;
                    case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].WALL:
                        this._roomEngine.removeRoomObjectWall(roomId, objectId);
                        break;
                    case _object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_42__["RoomObjectCategory"].UNIT:
                        this._roomEngine.removeRoomObjectUser(roomId, objectId);
                        break;
                }
            }
            this._roomEngine.setSelectedRoomObjectData(roomId, null);
        }
    }
    getSelectedRoomObjectData(roomId) {
        if (!this._roomEngine)
            return null;
        return this._roomEngine.getSelectedRoomObjectData(roomId);
    }
    setFurnitureAlphaMultiplier(object, multiplier) {
        if (!object || !object.model)
            return;
        object.model.setValue(_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_46__["RoomObjectVariable"].FURNITURE_ALPHA_MULTIPLIER, multiplier);
    }
    _Str_25211(event) {
        return (this._roomEngine.isDecorating) && (!(event.ctrlKey || event.shiftKey));
    }
    cancelRoomObjectPlacement(roomId) {
        this._Str_13199(roomId);
        return true;
    }
    setSelectedRoomObjectData(roomId, id, category, location, direction, operation, typeId = 0, instanceData = null, stuffData = null, state = -1, frameNumber = -1, posture = null) {
        this._Str_13199(roomId);
        if (!this._roomEngine)
            return;
        const selectedData = new _utils_SelectedRoomObjectData__WEBPACK_IMPORTED_MODULE_47__["SelectedRoomObjectData"](id, category, operation, location, direction, typeId, instanceData, stuffData, state, frameNumber, posture);
        this._roomEngine.setSelectedRoomObjectData(roomId, selectedData);
    }
    _Str_16022(roomId, id, category, location, direction, operation, typeId = 0, instanceData = null, stuffData = null, state = -1, frameNumber = -1, posture = null) {
        if (!this._roomEngine)
            return null;
        const selectedData = new _utils_SelectedRoomObjectData__WEBPACK_IMPORTED_MODULE_47__["SelectedRoomObjectData"](id, category, operation, location, direction, typeId, instanceData, stuffData, state, frameNumber, posture);
        this._roomEngine.setSelectedRoomObjectData(roomId, selectedData);
    }
    _Str_25586(roomObject, x, y, wallGeometry) {
        if (!wallGeometry._Str_10375(x, y))
            return false;
        roomObject.setLocation(new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_5__["Vector3D"](x, y, wallGeometry.getHeight(x, y)));
        return true;
    }
    get engine() {
        return this._roomEngine;
    }
    get selectedAvatarId() {
        return this._selectedAvatarId;
    }
}


/***/ }),

/***/ "otmF":
/*!*****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorParser.ts ***!
  \*****************************************************************************************************/
/*! exports provided: FurnitureFloorParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorParser", function() { return FurnitureFloorParser; });
/* harmony import */ var _FurnitureFloorDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureFloorDataParser */ "iAsj");

class FurnitureFloorParser {
    flush() {
        this._owners = new Map();
        this._items = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        if (!this.parseOwners(wrapper))
            return false;
        let totalItems = wrapper.readInt();
        while (totalItems > 0) {
            const item = new _FurnitureFloorDataParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureFloorDataParser"](wrapper);
            if (!item)
                continue;
            const username = this._owners.get(item.userId);
            if (username)
                item.username = username;
            this._items.push(item);
            totalItems--;
        }
        return true;
    }
    parseOwners(wrapper) {
        if (!wrapper)
            return false;
        let totalOwners = wrapper.readInt();
        while (totalOwners > 0) {
            this._owners.set(wrapper.readInt(), wrapper.readString());
            totalOwners--;
        }
        return true;
    }
    get owners() {
        return this._owners;
    }
    get items() {
        return this._items;
    }
}


/***/ }),

/***/ "ovr+":
/*!******************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureRoomBackgroundVisualization.ts ***!
  \******************************************************************************************************/
/*! exports provided: FurnitureRoomBackgroundVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureRoomBackgroundVisualization", function() { return FurnitureRoomBackgroundVisualization; });
/* harmony import */ var _data_DirectionalOffsetData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/DirectionalOffsetData */ "4I9D");
/* harmony import */ var _FurnitureBrandedImageVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FurnitureBrandedImageVisualization */ "Q0xv");


class FurnitureRoomBackgroundVisualization extends _FurnitureBrandedImageVisualization__WEBPACK_IMPORTED_MODULE_1__["FurnitureBrandedImageVisualization"] {
    imageReady(texture, imageUrl) {
        super.imageReady(texture, imageUrl);
        if (!texture)
            return;
        this.setImageOffset(texture.width, texture.height);
    }
    setImageOffset(width, height) {
        const offsetData = new _data_DirectionalOffsetData__WEBPACK_IMPORTED_MODULE_0__["DirectionalOffsetData"]();
        offsetData.setDirection(1, 0, -height);
        offsetData.setDirection(3, 0, 0);
        offsetData.setDirection(5, -width, 0);
        offsetData.setDirection(7, -width, -height);
        offsetData.setDirection(4, (-width / 2), (-height / 2));
        this._imageOffset = offsetData;
    }
    getLayerXOffset(scale, direction, layerId) {
        if (this._imageOffset) {
            const offset = this._imageOffset.getXOffset(direction, 0);
            if (offset !== undefined)
                return offset + this._offsetX;
        }
        return super.getLayerXOffset(scale, direction, layerId) + this._offsetX;
    }
    getLayerYOffset(scale, direction, layerId) {
        if (this._imageOffset) {
            const offset = this._imageOffset.getYOffset(direction, 0);
            if (offset !== undefined)
                return offset + this._offsetY;
        }
        return super.getLayerYOffset(scale, direction, layerId) + this._offsetY;
    }
    getLayerZOffset(scale, direction, layerId) {
        return super.getLayerZOffset(scale, direction, layerId) + (-(this._offsetZ));
    }
}


/***/ }),

/***/ "p1UX":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarGestureUpdateMessage.ts ***!
  \****************************************************************************/
/*! exports provided: ObjectAvatarGestureUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarGestureUpdateMessage", function() { return ObjectAvatarGestureUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarGestureUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(gesture = 0) {
        super();
        this._gesture = gesture;
    }
    get gesture() {
        return this._gesture;
    }
}


/***/ }),

/***/ "p4l5":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorSettingsParser.ts ***!
  \*********************************************************************************************/
/*! exports provided: NavigatorSettingsParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSettingsParser", function() { return NavigatorSettingsParser; });
class NavigatorSettingsParser {
    flush() {
        this._windowX = 0;
        this._windowY = 0;
        this._windowWidth = 0;
        this._windowHeight = 0;
        this._leftPanelHidden = false;
        this._resultsMode = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._windowX = wrapper.readInt();
        this._windowY = wrapper.readInt();
        this._windowWidth = wrapper.readInt();
        this._windowHeight = wrapper.readInt();
        this._leftPanelHidden = wrapper.readBoolean();
        this._resultsMode = wrapper.readInt();
        return true;
    }
    get windowX() {
        return this._windowX;
    }
    get windowY() {
        return this._windowY;
    }
    get windowWidth() {
        return this._windowWidth;
    }
    get windowHeight() {
        return this._windowHeight;
    }
    get leftPanelHidden() {
        return this._leftPanelHidden;
    }
    get resultsMode() {
        return this._resultsMode;
    }
}


/***/ }),

/***/ "pA/C":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarFlatControlUpdateMessage.ts ***!
  \********************************************************************************/
/*! exports provided: ObjectAvatarFlatControlUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarFlatControlUpdateMessage", function() { return ObjectAvatarFlatControlUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarFlatControlUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(level = 0) {
        super();
        this._level = level;
    }
    get level() {
        return this._level;
    }
}


/***/ }),

/***/ "pELD":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/parts/PartDefinition.ts ***!
  \*******************************************************************/
/*! exports provided: PartDefinition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartDefinition", function() { return PartDefinition; });
class PartDefinition {
    constructor(data) {
        if (!data)
            throw new Error('invalid_data');
        this._setType = data.setType;
        this._flippedSetType = data.flippedSetType || null;
        this._removeSetType = data.removeSetType || null;
        this._appendToFigure = false;
        this._staticId = -1;
    }
    _Str_2234() {
        return this._staticId >= 0;
    }
    get _Str_1734() {
        return this._staticId;
    }
    set _Str_1734(k) {
        this._staticId = k;
    }
    get _Str_2174() {
        return this._setType;
    }
    get _Str_1693() {
        return this._flippedSetType;
    }
    set _Str_1693(type) {
        this._flippedSetType = type;
    }
    get _Str_1209() {
        return this._removeSetType;
    }
    get _Str_1583() {
        return this._appendToFigure;
    }
    set _Str_1583(flag) {
        this._appendToFigure = flag;
    }
}


/***/ }),

/***/ "pGYl":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/RoomUnitDropHandItemComposer.ts ***!
  \****************************************************************************************************/
/*! exports provided: RoomUnitDropHandItemComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitDropHandItemComposer", function() { return RoomUnitDropHandItemComposer; });
class RoomUnitDropHandItemComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "pJN8":
/*!*********************************************************!*\
  !*** ./src/client/nitro/communication/NitroMessages.ts ***!
  \*********************************************************/
/*! exports provided: NitroMessages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroMessages", function() { return NitroMessages; });
/* harmony import */ var _messages_incoming_availability_AvailabilityStatusMessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages/incoming/availability/AvailabilityStatusMessageEvent */ "3xex");
/* harmony import */ var _messages_incoming_catalog_CatalogClubEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogClubEvent */ "9NDz");
/* harmony import */ var _messages_incoming_catalog_CatalogModeEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogModeEvent */ "qLWH");
/* harmony import */ var _messages_incoming_catalog_CatalogPageEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogPageEvent */ "SS1c");
/* harmony import */ var _messages_incoming_catalog_CatalogPagesEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogPagesEvent */ "t0/d");
/* harmony import */ var _messages_incoming_catalog_CatalogPurchaseEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogPurchaseEvent */ "sxwv");
/* harmony import */ var _messages_incoming_catalog_CatalogPurchaseFailedEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogPurchaseFailedEvent */ "u5n9");
/* harmony import */ var _messages_incoming_catalog_CatalogPurchaseUnavailableEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogPurchaseUnavailableEvent */ "Zq74");
/* harmony import */ var _messages_incoming_catalog_CatalogSearchEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogSearchEvent */ "U4HJ");
/* harmony import */ var _messages_incoming_catalog_CatalogSoldOutEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogSoldOutEvent */ "Ftck");
/* harmony import */ var _messages_incoming_catalog_CatalogUpdatedEvent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./messages/incoming/catalog/CatalogUpdatedEvent */ "liWC");
/* harmony import */ var _messages_incoming_client_ClientPingEvent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./messages/incoming/client/ClientPingEvent */ "Vknh");
/* harmony import */ var _messages_incoming_desktop_DesktopViewEvent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./messages/incoming/desktop/DesktopViewEvent */ "q4z0");
/* harmony import */ var _messages_incoming_generic_GenericAlertEvent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./messages/incoming/generic/GenericAlertEvent */ "q7w6");
/* harmony import */ var _messages_incoming_generic_GenericAlertLinkEvent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./messages/incoming/generic/GenericAlertLinkEvent */ "bFXL");
/* harmony import */ var _messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./messages/incoming/IncomingHeader */ "cRIN");
/* harmony import */ var _messages_incoming_inventory_furni_FurnitureListAddOrUpdateEvent__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./messages/incoming/inventory/furni/FurnitureListAddOrUpdateEvent */ "5RE+");
/* harmony import */ var _messages_incoming_inventory_furni_FurnitureListEvent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./messages/incoming/inventory/furni/FurnitureListEvent */ "ulbO");
/* harmony import */ var _messages_incoming_inventory_furni_FurnitureListInvalidateEvent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./messages/incoming/inventory/furni/FurnitureListInvalidateEvent */ "9loD");
/* harmony import */ var _messages_incoming_inventory_furni_FurnitureListRemovedEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./messages/incoming/inventory/furni/FurnitureListRemovedEvent */ "5Cat");
/* harmony import */ var _messages_incoming_inventory_furni_FurniturePostItPlacedEvent__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./messages/incoming/inventory/furni/FurniturePostItPlacedEvent */ "Bbk2");
/* harmony import */ var _messages_incoming_navigator_NavigatorCategoriesEvent__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./messages/incoming/navigator/NavigatorCategoriesEvent */ "oHxB");
/* harmony import */ var _messages_incoming_navigator_NavigatorCollapsedEvent__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./messages/incoming/navigator/NavigatorCollapsedEvent */ "JDjE");
/* harmony import */ var _messages_incoming_navigator_NavigatorEventCategoriesEvent__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./messages/incoming/navigator/NavigatorEventCategoriesEvent */ "5BHI");
/* harmony import */ var _messages_incoming_navigator_NavigatorLiftedEvent__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./messages/incoming/navigator/NavigatorLiftedEvent */ "JCII");
/* harmony import */ var _messages_incoming_navigator_NavigatorMetadataEvent__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./messages/incoming/navigator/NavigatorMetadataEvent */ "vx5b");
/* harmony import */ var _messages_incoming_navigator_NavigatorSearchesEvent__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./messages/incoming/navigator/NavigatorSearchesEvent */ "xycO");
/* harmony import */ var _messages_incoming_navigator_NavigatorSearchEvent__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./messages/incoming/navigator/NavigatorSearchEvent */ "c7QS");
/* harmony import */ var _messages_incoming_navigator_NavigatorSettingsEvent__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./messages/incoming/navigator/NavigatorSettingsEvent */ "V1nr");
/* harmony import */ var _messages_incoming_notifications_UnseenItemsEvent__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./messages/incoming/notifications/UnseenItemsEvent */ "pRZV");
/* harmony import */ var _messages_incoming_room_access_rights_RoomRightsClearEvent__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./messages/incoming/room/access/rights/RoomRightsClearEvent */ "HkHk");
/* harmony import */ var _messages_incoming_room_access_rights_RoomRightsEvent__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./messages/incoming/room/access/rights/RoomRightsEvent */ "Cyol");
/* harmony import */ var _messages_incoming_room_access_rights_RoomRightsOwnerEvent__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./messages/incoming/room/access/rights/RoomRightsOwnerEvent */ "EAxq");
/* harmony import */ var _messages_incoming_room_access_RoomEnterEvent__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./messages/incoming/room/access/RoomEnterEvent */ "AFd5");
/* harmony import */ var _messages_incoming_room_access_RoomFowardEvent__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./messages/incoming/room/access/RoomFowardEvent */ "33V3");
/* harmony import */ var _messages_incoming_room_data_RoomChatSettingsEvent__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./messages/incoming/room/data/RoomChatSettingsEvent */ "heUq");
/* harmony import */ var _messages_incoming_room_data_RoomInfoEvent__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./messages/incoming/room/data/RoomInfoEvent */ "10wl");
/* harmony import */ var _messages_incoming_room_data_RoomInfoOwnerEvent__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./messages/incoming/room/data/RoomInfoOwnerEvent */ "8lyl");
/* harmony import */ var _messages_incoming_room_data_RoomScoreEvent__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./messages/incoming/room/data/RoomScoreEvent */ "zRn8");
/* harmony import */ var _messages_incoming_room_data_RoomSettingsErrorEvent__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./messages/incoming/room/data/RoomSettingsErrorEvent */ "UxH5");
/* harmony import */ var _messages_incoming_room_data_RoomSettingsEvent__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./messages/incoming/room/data/RoomSettingsEvent */ "yqT3");
/* harmony import */ var _messages_incoming_room_data_RoomSettingsSavedEvent__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./messages/incoming/room/data/RoomSettingsSavedEvent */ "D+D5");
/* harmony import */ var _messages_incoming_room_data_RoomSettingsUpdatedEvent__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./messages/incoming/room/data/RoomSettingsUpdatedEvent */ "zWsf");
/* harmony import */ var _messages_incoming_room_engine_ObjectsRollingEvent__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./messages/incoming/room/engine/ObjectsRollingEvent */ "yydM");
/* harmony import */ var _messages_incoming_room_furniture_floor_FurnitureFloorAddEvent__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./messages/incoming/room/furniture/floor/FurnitureFloorAddEvent */ "JODW");
/* harmony import */ var _messages_incoming_room_furniture_floor_FurnitureFloorEvent__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./messages/incoming/room/furniture/floor/FurnitureFloorEvent */ "sR+E");
/* harmony import */ var _messages_incoming_room_furniture_floor_FurnitureFloorRemoveEvent__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./messages/incoming/room/furniture/floor/FurnitureFloorRemoveEvent */ "zVPj");
/* harmony import */ var _messages_incoming_room_furniture_floor_FurnitureFloorUpdateEvent__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./messages/incoming/room/furniture/floor/FurnitureFloorUpdateEvent */ "Wzp3");
/* harmony import */ var _messages_incoming_room_furniture_FurnitureAliasesEvent__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./messages/incoming/room/furniture/FurnitureAliasesEvent */ "Ie/D");
/* harmony import */ var _messages_incoming_room_furniture_FurnitureDataEvent__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./messages/incoming/room/furniture/FurnitureDataEvent */ "Nakt");
/* harmony import */ var _messages_incoming_room_furniture_FurnitureItemDataEvent__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./messages/incoming/room/furniture/FurnitureItemDataEvent */ "Wamt");
/* harmony import */ var _messages_incoming_room_furniture_FurnitureStateEvent__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./messages/incoming/room/furniture/FurnitureStateEvent */ "ObWd");
/* harmony import */ var _messages_incoming_room_furniture_wall_FurnitureWallAddEvent__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./messages/incoming/room/furniture/wall/FurnitureWallAddEvent */ "QZfg");
/* harmony import */ var _messages_incoming_room_furniture_wall_FurnitureWallEvent__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./messages/incoming/room/furniture/wall/FurnitureWallEvent */ "+IZ6");
/* harmony import */ var _messages_incoming_room_furniture_wall_FurnitureWallRemoveEvent__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./messages/incoming/room/furniture/wall/FurnitureWallRemoveEvent */ "Xe8L");
/* harmony import */ var _messages_incoming_room_furniture_wall_FurnitureWallUpdateEvent__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./messages/incoming/room/furniture/wall/FurnitureWallUpdateEvent */ "Njml");
/* harmony import */ var _messages_incoming_room_mapping_RoomDoorEvent__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./messages/incoming/room/mapping/RoomDoorEvent */ "mQ1q");
/* harmony import */ var _messages_incoming_room_mapping_RoomHeightMapEvent__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./messages/incoming/room/mapping/RoomHeightMapEvent */ "ebaN");
/* harmony import */ var _messages_incoming_room_mapping_RoomHeightMapUpdateEvent__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./messages/incoming/room/mapping/RoomHeightMapUpdateEvent */ "Prlr");
/* harmony import */ var _messages_incoming_room_mapping_RoomModelEvent__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./messages/incoming/room/mapping/RoomModelEvent */ "bmMM");
/* harmony import */ var _messages_incoming_room_mapping_RoomModelNameEvent__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./messages/incoming/room/mapping/RoomModelNameEvent */ "zTkZ");
/* harmony import */ var _messages_incoming_room_mapping_RoomPaintEvent__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./messages/incoming/room/mapping/RoomPaintEvent */ "lbEV");
/* harmony import */ var _messages_incoming_room_mapping_RoomThicknessEvent__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./messages/incoming/room/mapping/RoomThicknessEvent */ "CzV9");
/* harmony import */ var _messages_incoming_room_pet_PetFigureUpdateEvent__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./messages/incoming/room/pet/PetFigureUpdateEvent */ "f1eJ");
/* harmony import */ var _messages_incoming_room_unit_chat_RoomUnitChatEvent__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./messages/incoming/room/unit/chat/RoomUnitChatEvent */ "sRv6");
/* harmony import */ var _messages_incoming_room_unit_chat_RoomUnitChatShoutEvent__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./messages/incoming/room/unit/chat/RoomUnitChatShoutEvent */ "xq+5");
/* harmony import */ var _messages_incoming_room_unit_chat_RoomUnitChatWhisperEvent__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./messages/incoming/room/unit/chat/RoomUnitChatWhisperEvent */ "jFxZ");
/* harmony import */ var _messages_incoming_room_unit_chat_RoomUnitTypingEvent__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./messages/incoming/room/unit/chat/RoomUnitTypingEvent */ "sCRD");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitDanceEvent__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitDanceEvent */ "mGgu");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitEffectEvent__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitEffectEvent */ "BVCN");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitEvent__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitEvent */ "fVO9");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitExpressionEvent__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitExpressionEvent */ "Yx/o");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitHandItemEvent__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitHandItemEvent */ "D/zE");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitIdleEvent__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitIdleEvent */ "KjXG");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitInfoEvent__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitInfoEvent */ "jzpY");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitRemoveEvent__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitRemoveEvent */ "n7CB");
/* harmony import */ var _messages_incoming_room_unit_RoomUnitStatusEvent__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ./messages/incoming/room/unit/RoomUnitStatusEvent */ "jdh6");
/* harmony import */ var _messages_incoming_security_AuthenticatedEvent__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ./messages/incoming/security/AuthenticatedEvent */ "CKlU");
/* harmony import */ var _messages_incoming_user_access_UserPerksEvent__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ./messages/incoming/user/access/UserPerksEvent */ "JUJM");
/* harmony import */ var _messages_incoming_user_access_UserPermissionsEvent__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ./messages/incoming/user/access/UserPermissionsEvent */ "8Dbs");
/* harmony import */ var _messages_incoming_user_data_UserCurrentBadgesEvent__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ./messages/incoming/user/data/UserCurrentBadgesEvent */ "xB90");
/* harmony import */ var _messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ./messages/incoming/user/data/UserFigureEvent */ "3md2");
/* harmony import */ var _messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ./messages/incoming/user/data/UserInfoEvent */ "uMJ2");
/* harmony import */ var _messages_incoming_user_inventory_currency_UserCreditsEvent__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ./messages/incoming/user/inventory/currency/UserCreditsEvent */ "2y6h");
/* harmony import */ var _messages_incoming_user_inventory_currency_UserCurrencyEvent__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ./messages/incoming/user/inventory/currency/UserCurrencyEvent */ "IRIx");
/* harmony import */ var _messages_incoming_user_inventory_subscription_UserSubscriptionEvent__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ./messages/incoming/user/inventory/subscription/UserSubscriptionEvent */ "oKt9");
/* harmony import */ var _messages_outgoing_catalog_CatalogModeComposer__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ./messages/outgoing/catalog/CatalogModeComposer */ "BG3s");
/* harmony import */ var _messages_outgoing_catalog_CatalogPageComposer__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ./messages/outgoing/catalog/CatalogPageComposer */ "2H63");
/* harmony import */ var _messages_outgoing_catalog_CatalogPurchaseComposer__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ./messages/outgoing/catalog/CatalogPurchaseComposer */ "8ZkN");
/* harmony import */ var _messages_outgoing_catalog_CatalogSearchComposer__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ./messages/outgoing/catalog/CatalogSearchComposer */ "BgaL");
/* harmony import */ var _messages_outgoing_client_ClientPongComposer__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ./messages/outgoing/client/ClientPongComposer */ "j5HY");
/* harmony import */ var _messages_outgoing_client_ClientReleaseVersionComposer__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ./messages/outgoing/client/ClientReleaseVersionComposer */ "79Tt");
/* harmony import */ var _messages_outgoing_desktop_DesktopViewComposer__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ./messages/outgoing/desktop/DesktopViewComposer */ "6RUH");
/* harmony import */ var _messages_outgoing_inventory_furni_FurnitureList2Composer__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ./messages/outgoing/inventory/furni/FurnitureList2Composer */ "/m78");
/* harmony import */ var _messages_outgoing_inventory_furni_FurnitureListComposer__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! ./messages/outgoing/inventory/furni/FurnitureListComposer */ "J0cl");
/* harmony import */ var _messages_outgoing_navigator_NavigatorCategoriesComposer__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! ./messages/outgoing/navigator/NavigatorCategoriesComposer */ "V5Lx");
/* harmony import */ var _messages_outgoing_navigator_NavigatorInitComposer__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! ./messages/outgoing/navigator/NavigatorInitComposer */ "S8Tn");
/* harmony import */ var _messages_outgoing_navigator_NavigatorSearchCloseComposer__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! ./messages/outgoing/navigator/NavigatorSearchCloseComposer */ "MuF5");
/* harmony import */ var _messages_outgoing_navigator_NavigatorSearchComposer__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! ./messages/outgoing/navigator/NavigatorSearchComposer */ "UdUS");
/* harmony import */ var _messages_outgoing_navigator_NavigatorSearchOpenComposer__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! ./messages/outgoing/navigator/NavigatorSearchOpenComposer */ "nn0b");
/* harmony import */ var _messages_outgoing_navigator_NavigatorSearchSaveComposer__WEBPACK_IMPORTED_MODULE_100__ = __webpack_require__(/*! ./messages/outgoing/navigator/NavigatorSearchSaveComposer */ "aSCJ");
/* harmony import */ var _messages_outgoing_navigator_NavigatorSettingsComposer__WEBPACK_IMPORTED_MODULE_101__ = __webpack_require__(/*! ./messages/outgoing/navigator/NavigatorSettingsComposer */ "lulp");
/* harmony import */ var _messages_outgoing_navigator_NavigatorSettingsSaveComposer__WEBPACK_IMPORTED_MODULE_102__ = __webpack_require__(/*! ./messages/outgoing/navigator/NavigatorSettingsSaveComposer */ "Oix0");
/* harmony import */ var _messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__ = __webpack_require__(/*! ./messages/outgoing/OutgoingHeader */ "DafA");
/* harmony import */ var _messages_outgoing_room_access_RoomEnterComposer__WEBPACK_IMPORTED_MODULE_104__ = __webpack_require__(/*! ./messages/outgoing/room/access/RoomEnterComposer */ "5TOT");
/* harmony import */ var _messages_outgoing_room_data_RoomInfoComposer__WEBPACK_IMPORTED_MODULE_105__ = __webpack_require__(/*! ./messages/outgoing/room/data/RoomInfoComposer */ "9RxG");
/* harmony import */ var _messages_outgoing_room_furniture_floor_FurnitureFloorUpdateComposer__WEBPACK_IMPORTED_MODULE_106__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/floor/FurnitureFloorUpdateComposer */ "Sb1T");
/* harmony import */ var _messages_outgoing_room_furniture_FurnitureAliasesComposer__WEBPACK_IMPORTED_MODULE_107__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/FurnitureAliasesComposer */ "4Yln");
/* harmony import */ var _messages_outgoing_room_furniture_FurniturePickupComposer__WEBPACK_IMPORTED_MODULE_108__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/FurniturePickupComposer */ "jgc/");
/* harmony import */ var _messages_outgoing_room_furniture_FurniturePlaceComposer__WEBPACK_IMPORTED_MODULE_109__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/FurniturePlaceComposer */ "+/WI");
/* harmony import */ var _messages_outgoing_room_furniture_FurniturePostItPlaceComposer__WEBPACK_IMPORTED_MODULE_110__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/FurniturePostItPlaceComposer */ "PSU1");
/* harmony import */ var _messages_outgoing_room_furniture_logic_FurnitureColorWheelComposer__WEBPACK_IMPORTED_MODULE_111__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/logic/FurnitureColorWheelComposer */ "PJYa");
/* harmony import */ var _messages_outgoing_room_furniture_logic_FurnitureDiceActivateComposer__WEBPACK_IMPORTED_MODULE_112__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/logic/FurnitureDiceActivateComposer */ "fuks");
/* harmony import */ var _messages_outgoing_room_furniture_logic_FurnitureDiceDeactivateComposer__WEBPACK_IMPORTED_MODULE_113__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/logic/FurnitureDiceDeactivateComposer */ "Nd6c");
/* harmony import */ var _messages_outgoing_room_furniture_logic_FurnitureMultiStateComposer__WEBPACK_IMPORTED_MODULE_114__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/logic/FurnitureMultiStateComposer */ "v1R/");
/* harmony import */ var _messages_outgoing_room_furniture_logic_FurnitureRandomStateComposer__WEBPACK_IMPORTED_MODULE_115__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/logic/FurnitureRandomStateComposer */ "gHKk");
/* harmony import */ var _messages_outgoing_room_furniture_logic_FurnitureWallMultiStateComposer__WEBPACK_IMPORTED_MODULE_116__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/logic/FurnitureWallMultiStateComposer */ "wSNj");
/* harmony import */ var _messages_outgoing_room_furniture_wall_FurnitureWallUpdateComposer__WEBPACK_IMPORTED_MODULE_117__ = __webpack_require__(/*! ./messages/outgoing/room/furniture/wall/FurnitureWallUpdateComposer */ "wyCi");
/* harmony import */ var _messages_outgoing_room_mapping_RoomModelComposer__WEBPACK_IMPORTED_MODULE_118__ = __webpack_require__(/*! ./messages/outgoing/room/mapping/RoomModelComposer */ "rlQL");
/* harmony import */ var _messages_outgoing_room_unit_chat_RoomUnitChatComposer__WEBPACK_IMPORTED_MODULE_119__ = __webpack_require__(/*! ./messages/outgoing/room/unit/chat/RoomUnitChatComposer */ "Aavw");
/* harmony import */ var _messages_outgoing_room_unit_chat_RoomUnitChatShoutComposer__WEBPACK_IMPORTED_MODULE_120__ = __webpack_require__(/*! ./messages/outgoing/room/unit/chat/RoomUnitChatShoutComposer */ "OxVo");
/* harmony import */ var _messages_outgoing_room_unit_chat_RoomUnitChatWhisperComposer__WEBPACK_IMPORTED_MODULE_121__ = __webpack_require__(/*! ./messages/outgoing/room/unit/chat/RoomUnitChatWhisperComposer */ "gnow");
/* harmony import */ var _messages_outgoing_room_unit_chat_RoomUnitTypingStartComposer__WEBPACK_IMPORTED_MODULE_122__ = __webpack_require__(/*! ./messages/outgoing/room/unit/chat/RoomUnitTypingStartComposer */ "UJeg");
/* harmony import */ var _messages_outgoing_room_unit_chat_RoomUnitTypingStopComposer__WEBPACK_IMPORTED_MODULE_123__ = __webpack_require__(/*! ./messages/outgoing/room/unit/chat/RoomUnitTypingStopComposer */ "lMbP");
/* harmony import */ var _messages_outgoing_room_unit_RoomUnitActionComposer__WEBPACK_IMPORTED_MODULE_124__ = __webpack_require__(/*! ./messages/outgoing/room/unit/RoomUnitActionComposer */ "j7GY");
/* harmony import */ var _messages_outgoing_room_unit_RoomUnitDanceComposer__WEBPACK_IMPORTED_MODULE_125__ = __webpack_require__(/*! ./messages/outgoing/room/unit/RoomUnitDanceComposer */ "ekex");
/* harmony import */ var _messages_outgoing_room_unit_RoomUnitDropHandItemComposer__WEBPACK_IMPORTED_MODULE_126__ = __webpack_require__(/*! ./messages/outgoing/room/unit/RoomUnitDropHandItemComposer */ "pGYl");
/* harmony import */ var _messages_outgoing_room_unit_RoomUnitGiveHandItemComposer__WEBPACK_IMPORTED_MODULE_127__ = __webpack_require__(/*! ./messages/outgoing/room/unit/RoomUnitGiveHandItemComposer */ "0DoP");
/* harmony import */ var _messages_outgoing_room_unit_RoomUnitLookComposer__WEBPACK_IMPORTED_MODULE_128__ = __webpack_require__(/*! ./messages/outgoing/room/unit/RoomUnitLookComposer */ "hFyr");
/* harmony import */ var _messages_outgoing_room_unit_RoomUnitPostureComposer__WEBPACK_IMPORTED_MODULE_129__ = __webpack_require__(/*! ./messages/outgoing/room/unit/RoomUnitPostureComposer */ "Gb7F");
/* harmony import */ var _messages_outgoing_room_unit_RoomUnitSignComposer__WEBPACK_IMPORTED_MODULE_130__ = __webpack_require__(/*! ./messages/outgoing/room/unit/RoomUnitSignComposer */ "kiCC");
/* harmony import */ var _messages_outgoing_room_unit_RoomUnitWalkComposer__WEBPACK_IMPORTED_MODULE_131__ = __webpack_require__(/*! ./messages/outgoing/room/unit/RoomUnitWalkComposer */ "qXDh");
/* harmony import */ var _messages_outgoing_security_SecurityTicketComposer__WEBPACK_IMPORTED_MODULE_132__ = __webpack_require__(/*! ./messages/outgoing/security/SecurityTicketComposer */ "fnht");
/* harmony import */ var _messages_outgoing_user_data_UserCurrentBadgesComposer__WEBPACK_IMPORTED_MODULE_133__ = __webpack_require__(/*! ./messages/outgoing/user/data/UserCurrentBadgesComposer */ "nMRu");
/* harmony import */ var _messages_outgoing_user_data_UserFigureComposer__WEBPACK_IMPORTED_MODULE_134__ = __webpack_require__(/*! ./messages/outgoing/user/data/UserFigureComposer */ "rbNg");
/* harmony import */ var _messages_outgoing_user_data_UserHomeRoomComposer__WEBPACK_IMPORTED_MODULE_135__ = __webpack_require__(/*! ./messages/outgoing/user/data/UserHomeRoomComposer */ "YgkC");
/* harmony import */ var _messages_outgoing_user_data_UserInfoComposer__WEBPACK_IMPORTED_MODULE_136__ = __webpack_require__(/*! ./messages/outgoing/user/data/UserInfoComposer */ "/Jcc");
/* harmony import */ var _messages_outgoing_user_data_UserMottoComposer__WEBPACK_IMPORTED_MODULE_137__ = __webpack_require__(/*! ./messages/outgoing/user/data/UserMottoComposer */ "o4p4");
/* harmony import */ var _messages_outgoing_user_inventory_currency_UserCurrencyComposer__WEBPACK_IMPORTED_MODULE_138__ = __webpack_require__(/*! ./messages/outgoing/user/inventory/currency/UserCurrencyComposer */ "zIYo");
/* harmony import */ var _messages_outgoing_user_inventory_subscription_UserSubscriptionComposer__WEBPACK_IMPORTED_MODULE_139__ = __webpack_require__(/*! ./messages/outgoing/user/inventory/subscription/UserSubscriptionComposer */ "X23D");












































































































































class NitroMessages {
    constructor() {
        this._events = new Map();
        this._composers = new Map();
        this.registerEvents();
        this.registerComposers();
    }
    registerEvents() {
        // AVAILABILITY
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].AVAILABILITY_STATUS, _messages_incoming_availability_AvailabilityStatusMessageEvent__WEBPACK_IMPORTED_MODULE_0__["AvailabilityStatusMessageEvent"]);
        // CATALOG
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_CLUB, _messages_incoming_catalog_CatalogClubEvent__WEBPACK_IMPORTED_MODULE_1__["CatalogClubEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_MODE, _messages_incoming_catalog_CatalogModeEvent__WEBPACK_IMPORTED_MODULE_2__["CatalogModeEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_PAGE, _messages_incoming_catalog_CatalogPageEvent__WEBPACK_IMPORTED_MODULE_3__["CatalogPageEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_PAGES, _messages_incoming_catalog_CatalogPagesEvent__WEBPACK_IMPORTED_MODULE_4__["CatalogPagesEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_PURCHASE, _messages_incoming_catalog_CatalogPurchaseEvent__WEBPACK_IMPORTED_MODULE_5__["CatalogPurchaseEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_PURCHASE_FAILED, _messages_incoming_catalog_CatalogPurchaseFailedEvent__WEBPACK_IMPORTED_MODULE_6__["CatalogPurchaseFailedEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_PURCHASE_UNAVAILABLE, _messages_incoming_catalog_CatalogPurchaseUnavailableEvent__WEBPACK_IMPORTED_MODULE_7__["CatalogPurchaseUnavailableEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_SEARCH, _messages_incoming_catalog_CatalogSearchEvent__WEBPACK_IMPORTED_MODULE_8__["CatalogSearchEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_SOLD_OUT, _messages_incoming_catalog_CatalogSoldOutEvent__WEBPACK_IMPORTED_MODULE_9__["CatalogSoldOutEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CATALOG_UPDATED, _messages_incoming_catalog_CatalogUpdatedEvent__WEBPACK_IMPORTED_MODULE_10__["CatalogUpdatedEvent"]);
        // CLIENT
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].CLIENT_PING, _messages_incoming_client_ClientPingEvent__WEBPACK_IMPORTED_MODULE_11__["ClientPingEvent"]);
        // DESKTOP
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].DESKTOP_VIEW, _messages_incoming_desktop_DesktopViewEvent__WEBPACK_IMPORTED_MODULE_12__["DesktopViewEvent"]);
        // GENERIC
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].GENERIC_ALERT, _messages_incoming_generic_GenericAlertEvent__WEBPACK_IMPORTED_MODULE_13__["GenericAlertEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].GENERIC_ALERT_LINK, _messages_incoming_generic_GenericAlertLinkEvent__WEBPACK_IMPORTED_MODULE_14__["GenericAlertLinkEvent"]);
        // INVENTORY
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_FURNITURE_ADD, _messages_incoming_inventory_furni_FurnitureListAddOrUpdateEvent__WEBPACK_IMPORTED_MODULE_16__["FurnitureListAddOrUpdateEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_FURNITURE, _messages_incoming_inventory_furni_FurnitureListEvent__WEBPACK_IMPORTED_MODULE_17__["FurnitureListEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_FURNITURE_REFRESH, _messages_incoming_inventory_furni_FurnitureListInvalidateEvent__WEBPACK_IMPORTED_MODULE_18__["FurnitureListInvalidateEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_FURNITURE_REMOVE, _messages_incoming_inventory_furni_FurnitureListRemovedEvent__WEBPACK_IMPORTED_MODULE_19__["FurnitureListRemovedEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_FURNITURE_POSTIT_PLACED, _messages_incoming_inventory_furni_FurniturePostItPlacedEvent__WEBPACK_IMPORTED_MODULE_20__["FurniturePostItPlacedEvent"]);
        // NAVIGATOR
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].NAVIGATOR_CATEGORIES, _messages_incoming_navigator_NavigatorCategoriesEvent__WEBPACK_IMPORTED_MODULE_21__["NavigatorCategoriesEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].NAVIGATOR_COLLAPSED, _messages_incoming_navigator_NavigatorCollapsedEvent__WEBPACK_IMPORTED_MODULE_22__["NavigatorCollapsedEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].NAVIGATOR_EVENT_CATEGORIES, _messages_incoming_navigator_NavigatorEventCategoriesEvent__WEBPACK_IMPORTED_MODULE_23__["NavigatorEventCategoriesEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].NAVIGATOR_LIFTED, _messages_incoming_navigator_NavigatorLiftedEvent__WEBPACK_IMPORTED_MODULE_24__["NavigatorLiftedEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].NAVIGATOR_SEARCH, _messages_incoming_navigator_NavigatorSearchEvent__WEBPACK_IMPORTED_MODULE_27__["NavigatorSearchEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].NAVIGATOR_SEARCHES, _messages_incoming_navigator_NavigatorSearchesEvent__WEBPACK_IMPORTED_MODULE_26__["NavigatorSearchesEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].NAVIGATOR_SETTINGS, _messages_incoming_navigator_NavigatorSettingsEvent__WEBPACK_IMPORTED_MODULE_28__["NavigatorSettingsEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].NAVIGATOR_METADATA, _messages_incoming_navigator_NavigatorMetadataEvent__WEBPACK_IMPORTED_MODULE_25__["NavigatorMetadataEvent"]);
        // NOTIFICATIONS
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNSEEN_ITEMS, _messages_incoming_notifications_UnseenItemsEvent__WEBPACK_IMPORTED_MODULE_29__["UnseenItemsEvent"]);
        // ROOM
        // ACCESS
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_ENTER, _messages_incoming_room_access_RoomEnterEvent__WEBPACK_IMPORTED_MODULE_33__["RoomEnterEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_FORWARD, _messages_incoming_room_access_RoomFowardEvent__WEBPACK_IMPORTED_MODULE_34__["RoomFowardEvent"]);
        // RIGHTS
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_RIGHTS_CLEAR, _messages_incoming_room_access_rights_RoomRightsClearEvent__WEBPACK_IMPORTED_MODULE_30__["RoomRightsClearEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_RIGHTS_OWNER, _messages_incoming_room_access_rights_RoomRightsOwnerEvent__WEBPACK_IMPORTED_MODULE_32__["RoomRightsOwnerEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_RIGHTS, _messages_incoming_room_access_rights_RoomRightsEvent__WEBPACK_IMPORTED_MODULE_31__["RoomRightsEvent"]);
        // DATA
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_SETTINGS_CHAT, _messages_incoming_room_data_RoomChatSettingsEvent__WEBPACK_IMPORTED_MODULE_35__["RoomChatSettingsEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_INFO, _messages_incoming_room_data_RoomInfoEvent__WEBPACK_IMPORTED_MODULE_36__["RoomInfoEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_INFO_OWNER, _messages_incoming_room_data_RoomInfoOwnerEvent__WEBPACK_IMPORTED_MODULE_37__["RoomInfoOwnerEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_SCORE, _messages_incoming_room_data_RoomScoreEvent__WEBPACK_IMPORTED_MODULE_38__["RoomScoreEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_SETTINGS_SAVE_ERROR, _messages_incoming_room_data_RoomSettingsErrorEvent__WEBPACK_IMPORTED_MODULE_39__["RoomSettingsErrorEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_SETTINGS, _messages_incoming_room_data_RoomSettingsEvent__WEBPACK_IMPORTED_MODULE_40__["RoomSettingsEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_SETTINGS_SAVE, _messages_incoming_room_data_RoomSettingsSavedEvent__WEBPACK_IMPORTED_MODULE_41__["RoomSettingsSavedEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_SETTINGS_UPDATED, _messages_incoming_room_data_RoomSettingsUpdatedEvent__WEBPACK_IMPORTED_MODULE_42__["RoomSettingsUpdatedEvent"]);
        // ENGINE
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_ROLLING, _messages_incoming_room_engine_ObjectsRollingEvent__WEBPACK_IMPORTED_MODULE_43__["ObjectsRollingEvent"]);
        // FURNITURE
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].FURNITURE_ALIASES, _messages_incoming_room_furniture_FurnitureAliasesEvent__WEBPACK_IMPORTED_MODULE_48__["FurnitureAliasesEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].FURNITURE_DATA, _messages_incoming_room_furniture_FurnitureDataEvent__WEBPACK_IMPORTED_MODULE_49__["FurnitureDataEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].FURNITURE_ITEMDATA, _messages_incoming_room_furniture_FurnitureItemDataEvent__WEBPACK_IMPORTED_MODULE_50__["FurnitureItemDataEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].FURNITURE_STATE, _messages_incoming_room_furniture_FurnitureStateEvent__WEBPACK_IMPORTED_MODULE_51__["FurnitureStateEvent"]);
        // FLOOR
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].FURNITURE_FLOOR_ADD, _messages_incoming_room_furniture_floor_FurnitureFloorAddEvent__WEBPACK_IMPORTED_MODULE_44__["FurnitureFloorAddEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].FURNITURE_FLOOR, _messages_incoming_room_furniture_floor_FurnitureFloorEvent__WEBPACK_IMPORTED_MODULE_45__["FurnitureFloorEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].FURNITURE_FLOOR_REMOVE, _messages_incoming_room_furniture_floor_FurnitureFloorRemoveEvent__WEBPACK_IMPORTED_MODULE_46__["FurnitureFloorRemoveEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].FURNITURE_FLOOR_UPDATE, _messages_incoming_room_furniture_floor_FurnitureFloorUpdateEvent__WEBPACK_IMPORTED_MODULE_47__["FurnitureFloorUpdateEvent"]);
        // WALL
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ITEM_WALL_ADD, _messages_incoming_room_furniture_wall_FurnitureWallAddEvent__WEBPACK_IMPORTED_MODULE_52__["FurnitureWallAddEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ITEM_WALL, _messages_incoming_room_furniture_wall_FurnitureWallEvent__WEBPACK_IMPORTED_MODULE_53__["FurnitureWallEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ITEM_WALL_REMOVE, _messages_incoming_room_furniture_wall_FurnitureWallRemoveEvent__WEBPACK_IMPORTED_MODULE_54__["FurnitureWallRemoveEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ITEM_WALL_UPDATE, _messages_incoming_room_furniture_wall_FurnitureWallUpdateEvent__WEBPACK_IMPORTED_MODULE_55__["FurnitureWallUpdateEvent"]);
        // MAPPING
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_MODEL_DOOR, _messages_incoming_room_mapping_RoomDoorEvent__WEBPACK_IMPORTED_MODULE_56__["RoomDoorEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_HEIGHT_MAP, _messages_incoming_room_mapping_RoomHeightMapEvent__WEBPACK_IMPORTED_MODULE_57__["RoomHeightMapEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_HEIGHT_MAP_UPDATE, _messages_incoming_room_mapping_RoomHeightMapUpdateEvent__WEBPACK_IMPORTED_MODULE_58__["RoomHeightMapUpdateEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_MODEL, _messages_incoming_room_mapping_RoomModelEvent__WEBPACK_IMPORTED_MODULE_59__["RoomModelEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_MODEL_NAME, _messages_incoming_room_mapping_RoomModelNameEvent__WEBPACK_IMPORTED_MODULE_60__["RoomModelNameEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_PAINT, _messages_incoming_room_mapping_RoomPaintEvent__WEBPACK_IMPORTED_MODULE_61__["RoomPaintEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].ROOM_THICKNESS, _messages_incoming_room_mapping_RoomThicknessEvent__WEBPACK_IMPORTED_MODULE_62__["RoomThicknessEvent"]);
        // PET
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].PET_FIGURE_UPDATE, _messages_incoming_room_pet_PetFigureUpdateEvent__WEBPACK_IMPORTED_MODULE_63__["PetFigureUpdateEvent"]);
        // UNIT
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_DANCE, _messages_incoming_room_unit_RoomUnitDanceEvent__WEBPACK_IMPORTED_MODULE_68__["RoomUnitDanceEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_EFFECT, _messages_incoming_room_unit_RoomUnitEffectEvent__WEBPACK_IMPORTED_MODULE_69__["RoomUnitEffectEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT, _messages_incoming_room_unit_RoomUnitEvent__WEBPACK_IMPORTED_MODULE_70__["RoomUnitEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_EXPRESSION, _messages_incoming_room_unit_RoomUnitExpressionEvent__WEBPACK_IMPORTED_MODULE_71__["RoomUnitExpressionEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_HAND_ITEM, _messages_incoming_room_unit_RoomUnitHandItemEvent__WEBPACK_IMPORTED_MODULE_72__["RoomUnitHandItemEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_IDLE, _messages_incoming_room_unit_RoomUnitIdleEvent__WEBPACK_IMPORTED_MODULE_73__["RoomUnitIdleEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_INFO, _messages_incoming_room_unit_RoomUnitInfoEvent__WEBPACK_IMPORTED_MODULE_74__["RoomUnitInfoEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_REMOVE, _messages_incoming_room_unit_RoomUnitRemoveEvent__WEBPACK_IMPORTED_MODULE_75__["RoomUnitRemoveEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_STATUS, _messages_incoming_room_unit_RoomUnitStatusEvent__WEBPACK_IMPORTED_MODULE_76__["RoomUnitStatusEvent"]);
        // CHAT
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_CHAT, _messages_incoming_room_unit_chat_RoomUnitChatEvent__WEBPACK_IMPORTED_MODULE_64__["RoomUnitChatEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_CHAT_SHOUT, _messages_incoming_room_unit_chat_RoomUnitChatShoutEvent__WEBPACK_IMPORTED_MODULE_65__["RoomUnitChatShoutEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_CHAT_WHISPER, _messages_incoming_room_unit_chat_RoomUnitChatWhisperEvent__WEBPACK_IMPORTED_MODULE_66__["RoomUnitChatWhisperEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].UNIT_TYPING, _messages_incoming_room_unit_chat_RoomUnitTypingEvent__WEBPACK_IMPORTED_MODULE_67__["RoomUnitTypingEvent"]);
        // SECURITY
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].AUTHENTICATED, _messages_incoming_security_AuthenticatedEvent__WEBPACK_IMPORTED_MODULE_77__["AuthenticatedEvent"]);
        // USER
        // ACCESS
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_PERKS, _messages_incoming_user_access_UserPerksEvent__WEBPACK_IMPORTED_MODULE_78__["UserPerksEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_PERMISSIONS, _messages_incoming_user_access_UserPermissionsEvent__WEBPACK_IMPORTED_MODULE_79__["UserPermissionsEvent"]);
        // DATA
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_BADGES_CURRENT, _messages_incoming_user_data_UserCurrentBadgesEvent__WEBPACK_IMPORTED_MODULE_80__["UserCurrentBadgesEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_FIGURE, _messages_incoming_user_data_UserFigureEvent__WEBPACK_IMPORTED_MODULE_81__["UserFigureEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_INFO, _messages_incoming_user_data_UserInfoEvent__WEBPACK_IMPORTED_MODULE_82__["UserInfoEvent"]);
        // INVENTORY
        // CURRENCY
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_CREDITS, _messages_incoming_user_inventory_currency_UserCreditsEvent__WEBPACK_IMPORTED_MODULE_83__["UserCreditsEvent"]);
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_CURRENCY, _messages_incoming_user_inventory_currency_UserCurrencyEvent__WEBPACK_IMPORTED_MODULE_84__["UserCurrencyEvent"]);
        // SUBSCRIPTION
        this._events.set(_messages_incoming_IncomingHeader__WEBPACK_IMPORTED_MODULE_15__["IncomingHeader"].USER_SUBSCRIPTION, _messages_incoming_user_inventory_subscription_UserSubscriptionEvent__WEBPACK_IMPORTED_MODULE_85__["UserSubscriptionEvent"]);
    }
    registerComposers() {
        // CATALOG
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].CATALOG_MODE, _messages_outgoing_catalog_CatalogModeComposer__WEBPACK_IMPORTED_MODULE_86__["CatalogModeComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].CATALOG_PAGE, _messages_outgoing_catalog_CatalogPageComposer__WEBPACK_IMPORTED_MODULE_87__["CatalogPageComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].CATALOG_PURCHASE, _messages_outgoing_catalog_CatalogPurchaseComposer__WEBPACK_IMPORTED_MODULE_88__["CatalogPurchaseComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].CATALOG_SEARCH, _messages_outgoing_catalog_CatalogSearchComposer__WEBPACK_IMPORTED_MODULE_89__["CatalogSearchComposer"]);
        // CLIENT
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].CLIENT_PONG, _messages_outgoing_client_ClientPongComposer__WEBPACK_IMPORTED_MODULE_90__["ClientPongComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].RELEASE_VERSION, _messages_outgoing_client_ClientReleaseVersionComposer__WEBPACK_IMPORTED_MODULE_91__["ClientReleaseVersionComposer"]);
        // DESKTOP
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].DESKTOP_VIEW, _messages_outgoing_desktop_DesktopViewComposer__WEBPACK_IMPORTED_MODULE_92__["DesktopViewComposer"]);
        // NAVIGATOR
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].NAVIGATOR_CATEGORIES, _messages_outgoing_navigator_NavigatorCategoriesComposer__WEBPACK_IMPORTED_MODULE_95__["NavigatorCategoriesComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].NAVIGATOR_INIT, _messages_outgoing_navigator_NavigatorInitComposer__WEBPACK_IMPORTED_MODULE_96__["NavigatorInitComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].NAVIGATOR_SEARCH_CLOSE, _messages_outgoing_navigator_NavigatorSearchCloseComposer__WEBPACK_IMPORTED_MODULE_97__["NavigatorSearchCloseComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].NAVIGATOR_SEARCH, _messages_outgoing_navigator_NavigatorSearchComposer__WEBPACK_IMPORTED_MODULE_98__["NavigatorSearchComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].NAVIGATOR_SEARCH_OPEN, _messages_outgoing_navigator_NavigatorSearchOpenComposer__WEBPACK_IMPORTED_MODULE_99__["NavigatorSearchOpenComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].NAVIGATOR_SEARCH_SAVE, _messages_outgoing_navigator_NavigatorSearchSaveComposer__WEBPACK_IMPORTED_MODULE_100__["NavigatorSearchSaveComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].NAVIGATOR_SETTINGS, _messages_outgoing_navigator_NavigatorSettingsComposer__WEBPACK_IMPORTED_MODULE_101__["NavigatorSettingsComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].NAVIGATOR_SETTINGS_SAVE, _messages_outgoing_navigator_NavigatorSettingsSaveComposer__WEBPACK_IMPORTED_MODULE_102__["NavigatorSettingsSaveComposer"]);
        // INVENTORY
        // FURNI
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_FURNITURE, _messages_outgoing_inventory_furni_FurnitureListComposer__WEBPACK_IMPORTED_MODULE_94__["FurnitureListComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_FURNITURE2, _messages_outgoing_inventory_furni_FurnitureList2Composer__WEBPACK_IMPORTED_MODULE_93__["FurnitureList2Composer"]);
        // ROOM
        // ACCESS
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].ROOM_ENTER, _messages_outgoing_room_access_RoomEnterComposer__WEBPACK_IMPORTED_MODULE_104__["RoomEnterComposer"]);
        // DATA
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].ROOM_INFO, _messages_outgoing_room_data_RoomInfoComposer__WEBPACK_IMPORTED_MODULE_105__["RoomInfoComposer"]);
        // FURNITURE
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_ALIASES, _messages_outgoing_room_furniture_FurnitureAliasesComposer__WEBPACK_IMPORTED_MODULE_107__["FurnitureAliasesComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_PICKUP, _messages_outgoing_room_furniture_FurniturePickupComposer__WEBPACK_IMPORTED_MODULE_108__["FurniturePickupComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_PLACE, _messages_outgoing_room_furniture_FurniturePlaceComposer__WEBPACK_IMPORTED_MODULE_109__["FurniturePlaceComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_POSTIT_PLACE, _messages_outgoing_room_furniture_FurniturePostItPlaceComposer__WEBPACK_IMPORTED_MODULE_110__["FurniturePostItPlaceComposer"]);
        // FLOOR
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_FLOOR_UPDATE, _messages_outgoing_room_furniture_floor_FurnitureFloorUpdateComposer__WEBPACK_IMPORTED_MODULE_106__["FurnitureFloorUpdateComposer"]);
        // WALL
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_WALL_UPDATE, _messages_outgoing_room_furniture_wall_FurnitureWallUpdateComposer__WEBPACK_IMPORTED_MODULE_117__["FurnitureWallUpdateComposer"]);
        // LOGIC
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].ITEM_COLOR_WHEEL_CLICK, _messages_outgoing_room_furniture_logic_FurnitureColorWheelComposer__WEBPACK_IMPORTED_MODULE_111__["FurnitureColorWheelComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].ITEM_DICE_CLICK, _messages_outgoing_room_furniture_logic_FurnitureDiceActivateComposer__WEBPACK_IMPORTED_MODULE_112__["FurnitureDiceActivateComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].ITEM_DICE_CLOSE, _messages_outgoing_room_furniture_logic_FurnitureDiceDeactivateComposer__WEBPACK_IMPORTED_MODULE_113__["FurnitureDiceDeactivateComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_MULTISTATE, _messages_outgoing_room_furniture_logic_FurnitureMultiStateComposer__WEBPACK_IMPORTED_MODULE_114__["FurnitureMultiStateComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_RANDOMSTATE, _messages_outgoing_room_furniture_logic_FurnitureRandomStateComposer__WEBPACK_IMPORTED_MODULE_115__["FurnitureRandomStateComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].FURNITURE_WALL_MULTISTATE, _messages_outgoing_room_furniture_logic_FurnitureWallMultiStateComposer__WEBPACK_IMPORTED_MODULE_116__["FurnitureWallMultiStateComposer"]);
        // MAPPING
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].ROOM_MODEL, _messages_outgoing_room_mapping_RoomModelComposer__WEBPACK_IMPORTED_MODULE_118__["RoomModelComposer"]);
        // UNIT
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_ACTION, _messages_outgoing_room_unit_RoomUnitActionComposer__WEBPACK_IMPORTED_MODULE_124__["RoomUnitActionComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_DANCE, _messages_outgoing_room_unit_RoomUnitDanceComposer__WEBPACK_IMPORTED_MODULE_125__["RoomUnitDanceComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_DROP_HAND_ITEM, _messages_outgoing_room_unit_RoomUnitDropHandItemComposer__WEBPACK_IMPORTED_MODULE_126__["RoomUnitDropHandItemComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_GIVE_HANDITEM, _messages_outgoing_room_unit_RoomUnitGiveHandItemComposer__WEBPACK_IMPORTED_MODULE_127__["RoomUnitGiveHandItemComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_LOOK, _messages_outgoing_room_unit_RoomUnitLookComposer__WEBPACK_IMPORTED_MODULE_128__["RoomUnitLookComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_SIGN, _messages_outgoing_room_unit_RoomUnitSignComposer__WEBPACK_IMPORTED_MODULE_130__["RoomUnitSignComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_POSTURE, _messages_outgoing_room_unit_RoomUnitPostureComposer__WEBPACK_IMPORTED_MODULE_129__["RoomUnitPostureComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_WALK, _messages_outgoing_room_unit_RoomUnitWalkComposer__WEBPACK_IMPORTED_MODULE_131__["RoomUnitWalkComposer"]);
        // CHAT
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_CHAT, _messages_outgoing_room_unit_chat_RoomUnitChatComposer__WEBPACK_IMPORTED_MODULE_119__["RoomUnitChatComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_CHAT_SHOUT, _messages_outgoing_room_unit_chat_RoomUnitChatShoutComposer__WEBPACK_IMPORTED_MODULE_120__["RoomUnitChatShoutComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_CHAT_WHISPER, _messages_outgoing_room_unit_chat_RoomUnitChatWhisperComposer__WEBPACK_IMPORTED_MODULE_121__["RoomUnitChatWhisperComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_TYPING, _messages_outgoing_room_unit_chat_RoomUnitTypingStartComposer__WEBPACK_IMPORTED_MODULE_122__["RoomUnitTypingStartComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].UNIT_TYPING_STOP, _messages_outgoing_room_unit_chat_RoomUnitTypingStopComposer__WEBPACK_IMPORTED_MODULE_123__["RoomUnitTypingStopComposer"]);
        // SECURITY
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].SECURITY_TICKET, _messages_outgoing_security_SecurityTicketComposer__WEBPACK_IMPORTED_MODULE_132__["SecurityTicketComposer"]);
        // USER
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_BADGES_CURRENT, _messages_outgoing_user_data_UserCurrentBadgesComposer__WEBPACK_IMPORTED_MODULE_133__["UserCurrentBadgesComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_FIGURE, _messages_outgoing_user_data_UserFigureComposer__WEBPACK_IMPORTED_MODULE_134__["UserFigureComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_HOME_ROOM, _messages_outgoing_user_data_UserHomeRoomComposer__WEBPACK_IMPORTED_MODULE_135__["UserHomeRoomComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_INFO, _messages_outgoing_user_data_UserInfoComposer__WEBPACK_IMPORTED_MODULE_136__["UserInfoComposer"]);
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_MOTTO, _messages_outgoing_user_data_UserMottoComposer__WEBPACK_IMPORTED_MODULE_137__["UserMottoComposer"]);
        // INVENTORY
        // CURRENCY
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_CURRENCY, _messages_outgoing_user_inventory_currency_UserCurrencyComposer__WEBPACK_IMPORTED_MODULE_138__["UserCurrencyComposer"]);
        // SUBSCRIPTION
        this._composers.set(_messages_outgoing_OutgoingHeader__WEBPACK_IMPORTED_MODULE_103__["OutgoingHeader"].USER_SUBSCRIPTION, _messages_outgoing_user_inventory_subscription_UserSubscriptionComposer__WEBPACK_IMPORTED_MODULE_139__["UserSubscriptionComposer"]);
    }
    get events() {
        return this._events;
    }
    get composers() {
        return this._composers;
    }
}


/***/ }),

/***/ "pRZV":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/notifications/UnseenItemsEvent.ts ***!
  \********************************************************************************************/
/*! exports provided: UnseenItemsEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnseenItemsEvent", function() { return UnseenItemsEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_notifications_UnseenItemsParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/notifications/UnseenItemsParser */ "iooz");


class UnseenItemsEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_notifications_UnseenItemsParser__WEBPACK_IMPORTED_MODULE_1__["UnseenItemsParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "ppsz":
/*!***********************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectItemDataUpdateMessage.ts ***!
  \***********************************************************************/
/*! exports provided: ObjectItemDataUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectItemDataUpdateMessage", function() { return ObjectItemDataUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectItemDataUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor(data) {
        super(null, null);
        this._data = data;
    }
    get data() {
        return this._data;
    }
}


/***/ }),

/***/ "q4z0":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/desktop/DesktopViewEvent.ts ***!
  \**************************************************************************************/
/*! exports provided: DesktopViewEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DesktopViewEvent", function() { return DesktopViewEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_desktop_DesktopViewParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/desktop/DesktopViewParser */ "kTS4");


class DesktopViewEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_desktop_DesktopViewParser__WEBPACK_IMPORTED_MODULE_1__["DesktopViewParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "q5x/":
/*!**************************************************!*\
  !*** ./src/client/room/utils/SpriteUtilities.ts ***!
  \**************************************************/
/*! exports provided: SpriteUtilities */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpriteUtilities", function() { return SpriteUtilities; });
class SpriteUtilities {
    static hex2int(hex) {
        return parseInt(hex, 16);
    }
    static inkToBlendMode(ink) {
        if (ink == 'ADD' || ink == 33)
            return PIXI.BLEND_MODES.ADD;
        return PIXI.BLEND_MODES.NORMAL;
    }
}


/***/ }),

/***/ "q5zc":
/*!***************************************************!*\
  !*** ./src/client/nitro/window/motion/Motions.ts ***!
  \***************************************************/
/*! exports provided: Motions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Motions", function() { return Motions; });
/* harmony import */ var _Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Nitro */ "P7Cj");

class Motions {
    static get TIMER_TIME() {
        return (1000 / _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.ticker.FPS);
    }
    static _Str_4598(k) {
        if (((Motions._Str_3932.indexOf(k) === -1) && (Motions._Str_5358.indexOf(k) === -1))) {
            if (Motions._Str_7507) {
                Motions._Str_5358.push(k);
            }
            else {
                Motions._Str_3932.push(k);
                k.start();
            }
            Motions._Str_12757();
        }
        return k;
    }
    static _Str_15790(k) {
        let _local_2 = Motions._Str_3932.indexOf(k);
        if (_local_2 > -1) {
            if (Motions._Str_7507) {
                _local_2 = Motions._Str_10731.indexOf(k);
                if (_local_2 == -1)
                    Motions._Str_10731.push(k);
            }
            else {
                Motions._Str_3932.splice(_local_2, 1);
                if (k.running)
                    k.stop();
                if (!Motions._Str_3932.length)
                    Motions._Str_7465();
            }
        }
        else {
            _local_2 = Motions._Str_5358.indexOf(k);
            if (_local_2 > -1)
                Motions._Str_5358.splice(_local_2, 1);
        }
    }
    static _Str_19320(k) {
        for (let _local_2 of Motions._Str_3932) {
            if (_local_2.tag == k)
                return _local_2;
        }
        for (let _local_2 of Motions._Str_5358) {
            if (_local_2.tag == k)
                return _local_2;
        }
        return null;
    }
    static _Str_9810(k) {
        for (let _local_2 of Motions._Str_3932) {
            if (_local_2.target == k)
                return _local_2;
        }
        for (let _local_2 of Motions._Str_5358) {
            if (_local_2.target == k)
                return _local_2;
        }
        return null;
    }
    static _Str_26365(k, _arg_2) {
        for (let _local_3 of Motions._Str_3932) {
            if (((_local_3.tag == k) && (_local_3.target == _arg_2)))
                return _local_3;
        }
        for (let _local_3 of Motions._Str_5358) {
            if (((_local_3.tag == k) && (_local_3.target == _arg_2)))
                return _local_3;
        }
        return null;
    }
    static get _Str_1349() {
        return !!Motions._Str_5307;
    }
    static get _Str_26314() {
        return Motions._Str_7507;
    }
    static _Str_21055(k) {
        Motions._Str_7507 = true;
        let _local_2 = _Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time;
        let _local_3 = null;
        while (!!(_local_3 = Motions._Str_5358.pop()))
            Motions._Str_3932.push(_local_3);
        while (!!(_local_3 = Motions._Str_10731.pop())) {
            Motions._Str_3932.splice(Motions._Str_3932.indexOf(_local_3), 1);
            if (_local_3.running)
                _local_3.stop();
        }
        for (_local_3 of Motions._Str_3932) {
            if (_local_3.running) {
                _local_3.tick(_local_2);
                if (_local_3.complete) {
                    Motions._Str_15790(_local_3);
                }
            }
            else {
                Motions._Str_15790(_local_3);
            }
        }
        if (!Motions._Str_3932.length)
            Motions._Str_7465();
        Motions._Str_7507 = false;
    }
    static _Str_12757() {
        if (!Motions._Str_5307) {
            Motions._Str_5307 = setInterval(Motions._Str_21055, Motions.TIMER_TIME);
        }
    }
    static _Str_7465() {
        if (Motions._Str_5307) {
            clearInterval(Motions._Str_5307);
            Motions._Str_5307 = null;
        }
    }
    _Str_25883(k) {
        let _local_2 = 0;
        for (let _local_3 of Motions._Str_3932) {
            if (_local_3.target === k)
                _local_2++;
        }
        return _local_2;
    }
}
Motions._Str_5358 = [];
Motions._Str_3932 = [];
Motions._Str_10731 = [];
Motions._Str_5307 = null;
Motions._Str_7507 = false;


/***/ }),

/***/ "q7w6":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/generic/GenericAlertEvent.ts ***!
  \***************************************************************************************/
/*! exports provided: GenericAlertEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GenericAlertEvent", function() { return GenericAlertEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_generic_GenericAlertParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/generic/GenericAlertParser */ "XMUx");


class GenericAlertEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_generic_GenericAlertParser__WEBPACK_IMPORTED_MODULE_1__["GenericAlertParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "qEDl":
/*!*************************************************************!*\
  !*** ./src/client/nitro/avatar/events/AvatarRenderEvent.ts ***!
  \*************************************************************/
/*! exports provided: AvatarRenderEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarRenderEvent", function() { return AvatarRenderEvent; });
class AvatarRenderEvent {
}
AvatarRenderEvent.AVATAR_RENDER_READY = 'AVATAR_RENDER_READY';


/***/ }),

/***/ "qLWH":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogModeEvent.ts ***!
  \**************************************************************************************/
/*! exports provided: CatalogModeEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogModeEvent", function() { return CatalogModeEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogModeParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogModeParser */ "HPZl");


class CatalogModeEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogModeParser__WEBPACK_IMPORTED_MODULE_1__["CatalogModeParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "qNC0":
/*!***********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/trading/TradingYouAreNotAllowedParser.ts ***!
  \***********************************************************************************************************/
/*! exports provided: TradingYouAreNotAllowedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingYouAreNotAllowedParser", function() { return TradingYouAreNotAllowedParser; });
class TradingYouAreNotAllowedParser {
    flush() {
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        return true;
    }
}


/***/ }),

/***/ "qPg2":
/*!*********************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetUserDataUpdateEvent.ts ***!
  \*********************************************************************************/
/*! exports provided: RoomWidgetUserDataUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetUserDataUpdateEvent", function() { return RoomWidgetUserDataUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetUserDataUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor() {
        super(RoomWidgetUserDataUpdateEvent.RWUDUE_USER_DATA_UPDATED);
    }
}
RoomWidgetUserDataUpdateEvent.RWUDUE_USER_DATA_UPDATED = 'rwudue_user_data_updated';


/***/ }),

/***/ "qXDh":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/unit/RoomUnitWalkComposer.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomUnitWalkComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitWalkComposer", function() { return RoomUnitWalkComposer; });
class RoomUnitWalkComposer {
    constructor(x, y) {
        this._data = [x, y];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "quLX":
/*!**********************************************************!*\
  !*** ./src/client/room/renderer/utils/SortableSprite.ts ***!
  \**********************************************************/
/*! exports provided: SortableSprite */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SortableSprite", function() { return SortableSprite; });
class SortableSprite {
    constructor() {
        this._name = '';
        this._sprite = null;
        this._x = 0;
        this._y = 0;
        this._z = 0;
    }
    dispose() {
        this._z = -(SortableSprite._Str_17154);
        this._sprite = null;
    }
    get name() {
        return this._name;
    }
    set name(name) {
        this._name = name;
    }
    get sprite() {
        return this._sprite;
    }
    set sprite(sprite) {
        this._sprite = sprite;
    }
    get x() {
        return this._x;
    }
    set x(x) {
        this._x = x;
    }
    get y() {
        return this._y;
    }
    set y(y) {
        this._y = y;
    }
    get z() {
        return this._z;
    }
    set z(z) {
        this._z = z;
    }
}
SortableSprite._Str_17154 = 100000000;


/***/ }),

/***/ "qvTw":
/*!*************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureMannequinVisualization.ts ***!
  \*************************************************************************************************/
/*! exports provided: FurnitureMannequinVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureMannequinVisualization", function() { return FurnitureMannequinVisualization; });
/* harmony import */ var _avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../avatar/enum/AvatarSetType */ "Kx+W");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureMannequinVisualizationData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureMannequinVisualizationData */ "8zfy");
/* harmony import */ var _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FurnitureVisualization */ "vAq0");




class FurnitureMannequinVisualization extends _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_3__["FurnitureVisualization"] {
    constructor() {
        super();
        this._mannequinScale = -1;
        this._figure = null;
        this._gender = null;
        this._dynamicAssetName = null;
        this._needsUpdate = false;
        this._placeHolderFigure = 'hd-99999-99998';
        this._disposed = false;
    }
    initialize(data) {
        if (!(data instanceof _FurnitureMannequinVisualizationData__WEBPACK_IMPORTED_MODULE_2__["FurnitureMannequinVisualizationData"]))
            return false;
        return super.initialize(data);
    }
    dispose() {
        if (this._disposed)
            return;
        this._disposed = true;
        if (this._dynamicAssetName && this.asset) {
            this.asset.disposeAsset(this._dynamicAssetName);
            this._dynamicAssetName = null;
        }
        super.dispose();
    }
    updateObject(scale, direction) {
        let updateObject = super.updateObject(scale, direction);
        if (updateObject) {
            if (this._mannequinScale !== scale) {
                this._mannequinScale = scale;
                this.updateAvatar();
            }
        }
        return updateObject;
    }
    updateModel(scale) {
        let updateModel = super.updateModel(scale);
        if (updateModel) {
            const figure = (this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_MANNEQUIN_FIGURE) || null);
            if (figure) {
                this._figure = (figure + '.' + this._placeHolderFigure);
                this._gender = (this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_1__["RoomObjectVariable"].FURNITURE_MANNEQUIN_GENDER) || null);
                this.updateAvatar();
            }
        }
        updateModel = (updateModel || this._needsUpdate);
        this._needsUpdate = false;
        return updateModel;
    }
    updateAvatar(forceUpdate = false) {
        if (!this.avatarExists() || forceUpdate) {
            const _local_2 = this._data.createAvatarImage(this._figure, this._mannequinScale, this._gender, this);
            if (_local_2) {
                _local_2.setDirection(_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_0__["AvatarSetType"].FULL, this.direction);
                if (this._dynamicAssetName)
                    this.asset.disposeAsset(this._dynamicAssetName);
                this.asset.addAsset(this._Str_10185(), _local_2.getImage(_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_0__["AvatarSetType"].FULL, true), true);
                this._dynamicAssetName = this._Str_10185();
                this._needsUpdate = true;
                _local_2.dispose();
            }
        }
    }
    avatarExists() {
        return (this._figure && (this.getAsset(this._Str_10185()) !== null));
    }
    _Str_10185() {
        return (((((('mannequin_' + this._figure) + '_') + this._mannequinScale) + '_') + this.direction) + '_') + this.object.id;
    }
    resetFigure(figure) {
        if (figure === this._figure)
            this.updateAvatar(true);
    }
    getSpriteAssetName(scale, layerId) {
        const tag = this.getLayerTag(scale, this.direction, layerId);
        if (this._figure && (tag === FurnitureMannequinVisualization.AVATAR_IMAGE_SPRITE_TAG) && this.avatarExists()) {
            return this._Str_10185();
        }
        return super.getSpriteAssetName(scale, layerId);
    }
    getLayerXOffset(scale, direction, layerId) {
        const tag = this.getLayerTag(scale, direction, layerId);
        if ((tag === FurnitureMannequinVisualization.AVATAR_IMAGE_SPRITE_TAG) && this.avatarExists())
            return (-(this.getSprite(layerId).width) / 2);
        return super.getLayerXOffset(scale, direction, layerId);
    }
    getLayerYOffset(scale, direction, layerId) {
        const tag = this.getLayerTag(scale, direction, layerId);
        if ((tag === FurnitureMannequinVisualization.AVATAR_IMAGE_SPRITE_TAG) && this.avatarExists())
            return -(this.getSprite(layerId).height);
        return super.getLayerYOffset(scale, direction, layerId);
    }
    get disposed() {
        return this._disposed;
    }
}
FurnitureMannequinVisualization.AVATAR_IMAGE_SPRITE_TAG = 'avatar_image';


/***/ }),

/***/ "r1X3":
/*!*******************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarExpressionUpdateMessage.ts ***!
  \*******************************************************************************/
/*! exports provided: ObjectAvatarExpressionUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarExpressionUpdateMessage", function() { return ObjectAvatarExpressionUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarExpressionUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(expressionType = 0) {
        super();
        this._expressionType = expressionType;
    }
    get expressionType() {
        return this._expressionType;
    }
}


/***/ }),

/***/ "r7om":
/*!*****************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetChatUpdateEvent.ts ***!
  \*****************************************************************************/
/*! exports provided: RoomWidgetChatUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetChatUpdateEvent", function() { return RoomWidgetChatUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetChatUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(k, userId, text, userName, userCategory, userType, petType, userX, userY, userImage, userColor, roomId, chatType = 0, styleId = 0, links = null) {
        super(k);
        this._userId = userId;
        this._text = text;
        this._chatType = chatType;
        this._userName = userName;
        this._userCategory = userCategory;
        this._userType = userType;
        this._petType = petType;
        this._links = links;
        this._userX = userX;
        this._userY = userY;
        this._userImage = userImage;
        this._userColor = userColor;
        this._roomId = roomId;
        this._styleId = styleId;
    }
    get userId() {
        return this._userId;
    }
    get text() {
        return this._text;
    }
    get chatType() {
        return this._chatType;
    }
    get userName() {
        return this._userName;
    }
    get userCategory() {
        return this._userCategory;
    }
    get userType() {
        return this._userType;
    }
    get petType() {
        return this._petType;
    }
    get links() {
        return this._links;
    }
    get userX() {
        return this._userX;
    }
    get userY() {
        return this._userY;
    }
    get userImage() {
        return this._userImage;
    }
    get userColor() {
        return this._userColor;
    }
    get roomId() {
        return this._roomId;
    }
    get styleId() {
        return this._styleId;
    }
}
RoomWidgetChatUpdateEvent.RWCUE_EVENT_CHAT = 'RWCUE_EVENT_CHAT';
RoomWidgetChatUpdateEvent.CHAT_TYPE_SPEAK = 0;
RoomWidgetChatUpdateEvent.CHAT_TYPE_WHISPER = 1;
RoomWidgetChatUpdateEvent.CHAT_TYPE_SHOUT = 2;
RoomWidgetChatUpdateEvent.CHAT_TYPE_RESPECT = 3;
RoomWidgetChatUpdateEvent.CHAT_TYPE_PETRESPECT = 4;
RoomWidgetChatUpdateEvent.CHAT_TYPE_NOTIFY = 5;
RoomWidgetChatUpdateEvent.CHAT_TYPE_PETTREAT = 6;
RoomWidgetChatUpdateEvent.CHAT_TYPE_PETREVIVE = 7;
RoomWidgetChatUpdateEvent.CHAT_TYPE_PET_REBREED_FERTILIZE = 8;
RoomWidgetChatUpdateEvent.CHAT_TYPE_PET_SPEED_FERTILIZE = 9;
RoomWidgetChatUpdateEvent.CHAT_TYPE_BOT_SPEAK = 10;
RoomWidgetChatUpdateEvent.CHAT_TYPE_BOT_SHOUT = 11;
RoomWidgetChatUpdateEvent.CHAT_TYPE_BOT_WHISPER = 12;


/***/ }),

/***/ "rR6/":
/*!***************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarTypingUpdateMessage.ts ***!
  \***************************************************************************/
/*! exports provided: ObjectAvatarTypingUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarTypingUpdateMessage", function() { return ObjectAvatarTypingUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarTypingUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(isTyping = false) {
        super();
        this._isTyping = isTyping;
    }
    get isTyping() {
        return this._isTyping;
    }
}


/***/ }),

/***/ "rbNg":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/user/data/UserFigureComposer.ts ***!
  \******************************************************************************************/
/*! exports provided: UserFigureComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserFigureComposer", function() { return UserFigureComposer; });
class UserFigureComposer {
    constructor(gender, figure) {
        this._data = [gender, figure];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "rf7g":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarPlayingGameUpdateMessage.ts ***!
  \********************************************************************************/
/*! exports provided: ObjectAvatarPlayingGameUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarPlayingGameUpdateMessage", function() { return ObjectAvatarPlayingGameUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarPlayingGameUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(flag) {
        super();
        this._isPlayingGame = flag;
    }
    get isPlayingGame() {
        return this._isPlayingGame;
    }
}


/***/ }),

/***/ "rlQL":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/mapping/RoomModelComposer.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomModelComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomModelComposer", function() { return RoomModelComposer; });
class RoomModelComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "rpJk":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/mapping/RoomModelNameParser.ts ***!
  \********************************************************************************************/
/*! exports provided: RoomModelNameParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomModelNameParser", function() { return RoomModelNameParser; });
class RoomModelNameParser {
    flush() {
        this._name = null;
        this._roomId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._name = wrapper.readString();
        this._roomId = wrapper.readInt();
        return true;
    }
    get name() {
        return this._name;
    }
    get roomId() {
        return this._roomId;
    }
}


/***/ }),

/***/ "rxHs":
/*!************************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomToObjectOwnAvatarMoveEvent.ts ***!
  \************************************************************************/
/*! exports provided: RoomToObjectOwnAvatarMoveEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomToObjectOwnAvatarMoveEvent", function() { return RoomToObjectOwnAvatarMoveEvent; });
/* harmony import */ var _room_events_RoomToObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomToObjectEvent */ "48UQ");

class RoomToObjectOwnAvatarMoveEvent extends _room_events_RoomToObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomToObjectEvent"] {
    constructor(type, targetLocation) {
        super(type);
        this._targetLocation = targetLocation;
    }
    get targetLocation() {
        return this._targetLocation;
    }
}
RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO = 'ROAME_MOVE_TO';


/***/ }),

/***/ "s1+1":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/EffectAssetDownloadLibrary.ts ***!
  \***************************************************************/
/*! exports provided: EffectAssetDownloadLibrary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EffectAssetDownloadLibrary", function() { return EffectAssetDownloadLibrary; });
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _events_AvatarRenderEffectLibraryEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/AvatarRenderEffectLibraryEvent */ "eQvG");


class EffectAssetDownloadLibrary extends _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__["EventDispatcher"] {
    constructor(id, revision, assets, assetUrl) {
        super();
        this._state = EffectAssetDownloadLibrary.NOT_LOADED;
        this._libraryName = id;
        this._revision = revision;
        this._downloadUrl = assetUrl;
        this._assets = assets;
        this._animation = null;
        this._downloadUrl = this._downloadUrl.replace(/%libname%/gi, this._libraryName);
        this._downloadUrl = this._downloadUrl.replace(/%revision%/gi, this._revision.toString());
        const asset = this._assets.getCollection(this._libraryName);
        if (asset)
            this._state = EffectAssetDownloadLibrary.LOADED;
    }
    downloadAsset() {
        if (!this._assets || (this._state === EffectAssetDownloadLibrary.LOADING) || (this._state === EffectAssetDownloadLibrary.LOADED))
            return;
        const asset = this._assets.getCollection(this._libraryName);
        if (asset) {
            this._state = EffectAssetDownloadLibrary.LOADED;
            this.dispatchEvent(new _events_AvatarRenderEffectLibraryEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderEffectLibraryEvent"](_events_AvatarRenderEffectLibraryEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderEffectLibraryEvent"].DOWNLOAD_COMPLETE, this));
            return;
        }
        this._state = EffectAssetDownloadLibrary.LOADING;
        this._assets.downloadAsset(this._downloadUrl, () => {
            this._state = EffectAssetDownloadLibrary.LOADED;
            const collection = this._assets.getCollection(this._libraryName);
            if (collection) {
                //@ts-ignore
                this._animation = collection.data.animations;
            }
            this.dispatchEvent(new _events_AvatarRenderEffectLibraryEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderEffectLibraryEvent"](_events_AvatarRenderEffectLibraryEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderEffectLibraryEvent"].DOWNLOAD_COMPLETE, this));
        });
    }
    get libraryName() {
        return this._libraryName;
    }
    get animation() {
        return this._animation;
    }
    get isLoaded() {
        return (this._state === EffectAssetDownloadLibrary.LOADED);
    }
}
EffectAssetDownloadLibrary.DOWNLOAD_COMPLETE = 'EADL_DOWNLOAD_COMPLETE';
EffectAssetDownloadLibrary.NOT_LOADED = 0;
EffectAssetDownloadLibrary.LOADING = 1;
EffectAssetDownloadLibrary.LOADED = 2;


/***/ }),

/***/ "s9AH":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/furniture/FurnitureListParser.ts ***!
  \***************************************************************************************************/
/*! exports provided: FurnitureListParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListParser", function() { return FurnitureListParser; });
/* harmony import */ var _utils_FurnitureListItemParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/FurnitureListItemParser */ "J0ap");

class FurnitureListParser {
    flush() {
        this._totalFragments = 0;
        this._fragmentNumber = 0;
        this._fragment = new Map();
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._totalFragments = wrapper.readInt();
        this._fragmentNumber = wrapper.readInt();
        let totalItems = wrapper.readInt();
        while (totalItems > 0) {
            const item = new _utils_FurnitureListItemParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureListItemParser"](wrapper);
            if (item)
                this._fragment.set(item.itemId, item);
            totalItems--;
        }
        return true;
    }
    get totalFragments() {
        return this._totalFragments;
    }
    get fragmentNumber() {
        return this._fragmentNumber;
    }
    get fragment() {
        return this._fragment;
    }
}


/***/ }),

/***/ "sAC4":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/figure/PartColor.ts ***!
  \***************************************************************/
/*! exports provided: PartColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartColor", function() { return PartColor; });
class PartColor {
    constructor(data) {
        if (!data)
            throw new Error('invalid_data');
        this._id = parseInt(data['$'].id);
        this._index = parseInt(data['$'].index);
        this._clubLevel = parseInt(data['$'].club);
        this._isSelectable = parseInt(data['$'].colorindex) === 1;
        this._rgb = parseInt('0x' + data['_'], 16);
    }
    get id() {
        return this._id;
    }
    get index() {
        return this._index;
    }
    get clubLevel() {
        return this._clubLevel;
    }
    get isSelectable() {
        return this._isSelectable;
    }
    get _Str_915() {
        return this._rgb;
    }
}


/***/ }),

/***/ "sAYZ":
/*!***********************************************!*\
  !*** ./src/app/components/navigator/index.ts ***!
  \***********************************************/
/*! exports provided: NavigatorModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorModule", function() { return NavigatorModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "M0ag");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component */ "6A5d");




class NavigatorModule {
}
NavigatorModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: NavigatorModule });
NavigatorModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function NavigatorModule_Factory(t) { return new (t || NavigatorModule)(); }, providers: [], imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](NavigatorModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_2__["NavigatorComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]], exports: [_component__WEBPACK_IMPORTED_MODULE_2__["NavigatorComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NavigatorModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
                ],
                exports: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["NavigatorComponent"]
                ],
                providers: [],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["NavigatorComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "sCRD":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/chat/RoomUnitTypingEvent.ts ***!
  \************************************************************************************************/
/*! exports provided: RoomUnitTypingEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitTypingEvent", function() { return RoomUnitTypingEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_chat_RoomUnitTypingParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/unit/chat/RoomUnitTypingParser */ "fYwz");


class RoomUnitTypingEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_chat_RoomUnitTypingParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitTypingParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "sM2B":
/*!************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/trading/TradingYouAreNotAllowedEvent.ts ***!
  \************************************************************************************************************/
/*! exports provided: TradingYouAreNotAllowedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingYouAreNotAllowedEvent", function() { return TradingYouAreNotAllowedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_trading_TradingYouAreNotAllowedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/trading/TradingYouAreNotAllowedParser */ "qNC0");


class TradingYouAreNotAllowedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_trading_TradingYouAreNotAllowedParser__WEBPACK_IMPORTED_MODULE_1__["TradingYouAreNotAllowedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "sR+E":
/*!******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/floor/FurnitureFloorEvent.ts ***!
  \******************************************************************************************************/
/*! exports provided: FurnitureFloorEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorEvent", function() { return FurnitureFloorEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_floor_FurnitureFloorParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/furniture/floor/FurnitureFloorParser */ "otmF");


class FurnitureFloorEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_floor_FurnitureFloorParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureFloorParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "sRv6":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/chat/RoomUnitChatEvent.ts ***!
  \**********************************************************************************************/
/*! exports provided: RoomUnitChatEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitChatEvent", function() { return RoomUnitChatEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_chat_RoomUnitChatParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/unit/chat/RoomUnitChatParser */ "c746");


class RoomUnitChatEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_chat_RoomUnitChatParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitChatParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "sRxW":
/*!**************************************************************!*\
  !*** ./src/client/nitro/avatar/enum/AvatarDirectionAngle.ts ***!
  \**************************************************************/
/*! exports provided: AvatarDirectionAngle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarDirectionAngle", function() { return AvatarDirectionAngle; });
class AvatarDirectionAngle {
}
AvatarDirectionAngle.DIRECTION_TO_ANGLE = [45, 90, 135, 180, 225, 270, 315, 0]; //_Str_2204
AvatarDirectionAngle.DIRECTION_IS_FLIPPED = [false, false, false, false, true, true, true, false]; //_Str_1859
AvatarDirectionAngle.MIN_DIRECTION = 0; //_Str_1562
AvatarDirectionAngle.MAX_DIRECTION = 7; //_Str_1257


/***/ }),

/***/ "sZiI":
/*!******************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/AnimationSizeData.ts ***!
  \******************************************************************************/
/*! exports provided: AnimationSizeData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationSizeData", function() { return AnimationSizeData; });
/* harmony import */ var _AnimationData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationData */ "tr5V");
/* harmony import */ var _SizeData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SizeData */ "gow0");


class AnimationSizeData extends _SizeData__WEBPACK_IMPORTED_MODULE_1__["SizeData"] {
    constructor(layerCount, angle) {
        super(layerCount, angle);
        this._animations = new Map();
        this._animationIds = [];
    }
    dispose() {
        super.dispose();
        for (let animation of this._animations.values()) {
            if (!animation)
                continue;
            animation.dispose();
        }
        this._animations.clear();
        this._animationIds = [];
    }
    defineAnimations(animations) {
        if (!animations)
            return true;
        for (let key in animations) {
            const animation = animations[key];
            if (!animation)
                return false;
            let animationId = parseInt(key);
            let isTransition = false;
            const transitionTo = animation.transitionTo;
            const transitionFrom = animation.transitionFrom;
            if (transitionTo !== undefined) {
                animationId = _AnimationData__WEBPACK_IMPORTED_MODULE_0__["AnimationData"].getTransitionToAnimationId(transitionTo);
                isTransition = true;
            }
            if (transitionFrom !== undefined) {
                animationId = _AnimationData__WEBPACK_IMPORTED_MODULE_0__["AnimationData"].getTransitionFromAnimationId(transitionFrom);
                isTransition = true;
            }
            const animationData = this.createAnimationData();
            if (!animationData.initialize(animation)) {
                animationData.dispose();
                return false;
            }
            this._animations.set(animationId, animationData);
            if (!isTransition)
                this._animationIds.push(animationId);
        }
        return true;
    }
    createAnimationData() {
        return new _AnimationData__WEBPACK_IMPORTED_MODULE_0__["AnimationData"]();
    }
    hasAnimation(animationId) {
        if (!this._animations.get(animationId))
            return false;
        return true;
    }
    getAnimationCount() {
        return this._animationIds.length || 0;
    }
    getAnimationId(animationId) {
        const totalAnimations = this.getAnimationCount();
        if ((animationId < 0) || (totalAnimations <= 0))
            return 0;
        return this._animationIds[(animationId % totalAnimations)];
    }
    isImmediateChange(animationId, _arg_2) {
        const animation = this._animations.get(animationId);
        if (!animation)
            return false;
        return animation.isImmediateChange(_arg_2);
    }
    getStartFrame(animationId, direction) {
        const animation = this._animations.get(animationId);
        if (!animation)
            return 0;
        return animation.getStartFrame(direction);
    }
    getFrame(animationId, direction, layerId, frameCount) {
        const animation = this._animations.get(animationId);
        if (!animation)
            return null;
        return animation.getFrame(direction, layerId, frameCount);
    }
    getFrameFromSequence(animationId, direction, layerId, sequenceId, offset, frameCount) {
        const animation = this._animations.get(animationId);
        if (!animation)
            return null;
        return animation.getFrameFromSequence(direction, layerId, sequenceId, offset, frameCount);
    }
}


/***/ }),

/***/ "sgAi":
/*!***********************************************************!*\
  !*** ./src/client/room/renderer/utils/ObjectMouseData.ts ***!
  \***********************************************************/
/*! exports provided: ObjectMouseData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectMouseData", function() { return ObjectMouseData; });
class ObjectMouseData {
    constructor() {
        this._objectId = '';
        this._spriteTag = '';
    }
    get objectId() {
        return this._objectId;
    }
    set objectId(k) {
        this._objectId = k;
    }
    get spriteTag() {
        return this._spriteTag;
    }
    set spriteTag(k) {
        this._spriteTag = k;
    }
}


/***/ }),

/***/ "sxwv":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogPurchaseEvent.ts ***!
  \******************************************************************************************/
/*! exports provided: CatalogPurchaseEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseEvent", function() { return CatalogPurchaseEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogPurchaseParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogPurchaseParser */ "EM05");


class CatalogPurchaseEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogPurchaseParser__WEBPACK_IMPORTED_MODULE_1__["CatalogPurchaseParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "t0/d":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogPagesEvent.ts ***!
  \***************************************************************************************/
/*! exports provided: CatalogPagesEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPagesEvent", function() { return CatalogPagesEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogPagesParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogPagesParser */ "vEjd");


class CatalogPagesEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogPagesParser__WEBPACK_IMPORTED_MODULE_1__["CatalogPagesParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "t0x/":
/*!***************************************************!*\
  !*** ./src/client/nitro/window/motion/Dispose.ts ***!
  \***************************************************/
/*! exports provided: Dispose */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Dispose", function() { return Dispose; });
/* harmony import */ var _Motion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Motion */ "YBQe");

class Dispose extends _Motion__WEBPACK_IMPORTED_MODULE_0__["Motion"] {
    constructor(k) {
        super(k);
    }
    tick(k) {
        super.tick(k);
        if (this.target) {
            this.target.remove();
            this.target = null;
        }
    }
}


/***/ }),

/***/ "t4Lu":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/access/rights/RoomRightsParser.ts ***!
  \***********************************************************************************************/
/*! exports provided: RoomRightsParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomRightsParser", function() { return RoomRightsParser; });
/* harmony import */ var _session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../session/enum/RoomControllerLevel */ "9vQN");

class RoomRightsParser {
    flush() {
        this._controllerLevel = _session_enum_RoomControllerLevel__WEBPACK_IMPORTED_MODULE_0__["RoomControllerLevel"].NONE;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._controllerLevel = wrapper.readInt();
        return true;
    }
    get controllerLevel() {
        return this._controllerLevel;
    }
}


/***/ }),

/***/ "t590":
/*!*****************************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/animated/PlaneVisualizationAnimationLayer.ts ***!
  \*****************************************************************************************************************/
/*! exports provided: PlaneVisualizationAnimationLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneVisualizationAnimationLayer", function() { return PlaneVisualizationAnimationLayer; });
/* harmony import */ var _AnimationItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationItem */ "QGhF");

class PlaneVisualizationAnimationLayer {
    constructor(k, _arg_2) {
        this._color = 0;
        this._bitmapData = null;
        this._isDisposed = false;
        this._color = 0;
        this._bitmapData = null;
        this._isDisposed = false;
        this._items = [];
        if (k && _arg_2) {
            for (let item of k) {
                if (!item)
                    continue;
                const assetName = item.asset;
                if (assetName) {
                    const asset = _arg_2.getAsset(assetName);
                    if (asset)
                        this._items.push(new _AnimationItem__WEBPACK_IMPORTED_MODULE_0__["AnimationItem"](item.x, item.y, item.speedX, item.speedY, asset));
                }
            }
        }
    }
    get disposed() {
        return this._isDisposed;
    }
    dispose() {
        this._isDisposed = true;
        if (this._bitmapData) {
            this._bitmapData.destroy();
            this._bitmapData = null;
        }
        if (this._items) {
            for (let item of this._items)
                item && item.dispose();
            this._items = [];
        }
    }
    _Str_3355() {
        if (this._bitmapData) {
            this._bitmapData.destroy();
            this._bitmapData = null;
        }
    }
    render(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8, _arg_9, _arg_10, _arg_11) {
        if ((((k == null) || (!(k.width == _arg_2))) || (!(k.height == _arg_3)))) {
            if ((((this._bitmapData == null) || (!(this._bitmapData.width == _arg_2))) || (!(this._bitmapData.height == _arg_3)))) {
                if (this._bitmapData != null) {
                    this._bitmapData.destroy();
                }
                this._bitmapData = new PIXI.Graphics()
                    .drawRect(0, 0, _arg_2, _arg_3);
            }
            else {
                this._bitmapData
                    .beginFill(0xFFFFFF)
                    .drawRect(0, 0, this._bitmapData.width, this._bitmapData.height)
                    .endFill();
                //this._bitmapData.fillRect(this._bitmapData.rect, 0xFFFFFF);
            }
            k = this._bitmapData;
        }
        if (((_arg_7 > 0) && (_arg_8 > 0))) {
            let _local_12 = 0;
            while (_local_12 < this._items.length) {
                const _local_13 = this._items[_local_12];
                if (_local_13 != null) {
                    const _local_14 = _local_13._Str_6729(_arg_7, _arg_8, _arg_9, _arg_10, _arg_11);
                    _local_14.x = (_local_14.x - _arg_5);
                    _local_14.y = (_local_14.y - _arg_6);
                    if (_local_13.bitmapData) {
                        if (_local_14.x > 0 && (_local_14.x + _local_13.bitmapData.width < k.width)) {
                            k
                                .beginFill(0x00FF00)
                                .beginTextureFill({ texture: _local_13.bitmapData.texture, matrix: new PIXI.Matrix(1, 0, 0, 1, _local_14.x, _local_14.y) })
                                .drawRect(_local_14.x, _local_14.y, _local_13.bitmapData.width, _local_13.bitmapData.height)
                                .endFill();
                        }
                        else if (_local_14.x > 0) {
                            let difference = k.width - _local_14.x;
                            k
                                .beginFill(0x00FF00)
                                .beginTextureFill({ texture: _local_13.bitmapData.texture, matrix: new PIXI.Matrix(1, 0, 0, 1, _local_14.x, _local_14.y) })
                                .drawRect(_local_14.x, _local_14.y, difference, _local_13.bitmapData.height)
                                .endFill();
                        }
                        else {
                            //if(_local_14.x > -_local_13.bitmapData.width) 
                            let difference = _local_13.bitmapData.width + _local_14.x;
                            k
                                .beginFill(0x00FF00)
                                .beginTextureFill({ texture: _local_13.bitmapData.texture, matrix: new PIXI.Matrix(1, 0, 0, 1, _local_14.x, _local_14.y) })
                                .drawRect(0, _local_14.y, difference, _local_13.bitmapData.height)
                                .endFill();
                        }
                    }
                }
                _local_12++;
            }
        }
        return k;
    }
}


/***/ }),

/***/ "t8W6":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurniturePosterVisualization.ts ***!
  \**********************************************************************************************/
/*! exports provided: FurniturePosterVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePosterVisualization", function() { return FurniturePosterVisualization; });
/* harmony import */ var _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureVisualization */ "vAq0");

class FurniturePosterVisualization extends _FurnitureVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureVisualization"] {
}


/***/ }),

/***/ "tBOh":
/*!*******************************************!*\
  !*** ./src/app/components/purse/index.ts ***!
  \*******************************************/
/*! exports provided: PurseModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PurseModule", function() { return PurseModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "M0ag");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component */ "+LBP");
/* harmony import */ var _credits_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./credits/component */ "9WAT");
/* harmony import */ var _services_purse_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/purse.service */ "KeNc");






class PurseModule {
}
PurseModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: PurseModule });
PurseModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function PurseModule_Factory(t) { return new (t || PurseModule)(); }, providers: [
        _services_purse_service__WEBPACK_IMPORTED_MODULE_4__["PurseService"]
    ], imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](PurseModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_2__["PurseComponent"],
        _credits_component__WEBPACK_IMPORTED_MODULE_3__["PurseCreditsComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]], exports: [_component__WEBPACK_IMPORTED_MODULE_2__["PurseComponent"],
        _credits_component__WEBPACK_IMPORTED_MODULE_3__["PurseCreditsComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PurseModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
                ],
                exports: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["PurseComponent"],
                    _credits_component__WEBPACK_IMPORTED_MODULE_3__["PurseCreditsComponent"]
                ],
                providers: [
                    _services_purse_service__WEBPACK_IMPORTED_MODULE_4__["PurseService"]
                ],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["PurseComponent"],
                    _credits_component__WEBPACK_IMPORTED_MODULE_3__["PurseCreditsComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "tGXn":
/*!*******************************************************!*\
  !*** ./src/client/nitro/session/BadgeImageManager.ts ***!
  \*******************************************************/
/*! exports provided: BadgeImageManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BadgeImageManager", function() { return BadgeImageManager; });
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _BadgeInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BadgeInfo */ "ws0Y");
/* harmony import */ var _events_BadgeImageReadyEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/BadgeImageReadyEvent */ "JKJw");



class BadgeImageManager {
    constructor(k, _arg_2) {
        this._Str_9663 = 'badge_';
        this._Str_23071 = '_32';
        this._assets = k;
        this._events = _arg_2;
        this._requestedGroupBadges = new Map();
    }
    dispose() {
        this._assets = null;
    }
    getBadgeImage(k, _arg_2 = 'normal_badge', _arg_3 = true, _arg_4 = false) {
        let badge = this._Str_10735(k, _arg_2, _arg_4);
        if (!badge && _arg_3)
            badge = this._Str_20965();
        return badge;
    }
    _Str_15979(k) {
        const badge = this._Str_10735(k);
        return (badge) ? new _BadgeInfo__WEBPACK_IMPORTED_MODULE_1__["BadgeInfo"](badge, false) : new _BadgeInfo__WEBPACK_IMPORTED_MODULE_1__["BadgeInfo"](this._Str_20965(), true);
    }
    _Str_5831(k, _arg_2 = 'normal_badge', _arg_3 = false) {
        const badgeName = this.getBadgeAssetName(k, _arg_3);
        if (this._assets.getTexture(badgeName))
            return badgeName;
        this._Str_10735(k, _arg_2, _arg_3);
        return null;
    }
    _Str_10735(k, _arg_2 = 'normal_badge', _arg_3 = false) {
        const badgeName = this.getBadgeAssetName(k, _arg_3);
        const existing = this._assets.getTexture(badgeName);
        if (existing)
            return existing.clone();
        if (_arg_3)
            return null;
        let url = null;
        switch (_arg_2) {
            case BadgeImageManager.NORMAL_BADGE:
                url = (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].BADGE_URL).replace('%badgename%', k);
                break;
            case BadgeImageManager.GROUP_BADGE:
                if (!this._requestedGroupBadges.get(badgeName)) {
                    url = (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].GROUP_BADGE_URL).replace('%badgedata%', k);
                    this._requestedGroupBadges.set(badgeName, true);
                }
                break;
        }
        if (url) {
            this._assets.downloadAsset(url, () => {
                const texture = this._assets.getTexture(k);
                if (texture && this._events)
                    this._events.dispatchEvent(new _events_BadgeImageReadyEvent__WEBPACK_IMPORTED_MODULE_2__["BadgeImageReadyEvent"](k, texture.clone()));
            });
        }
        return null;
    }
    _Str_20965() {
        const existing = this._assets.getTexture('loading_icon');
        console.log(existing);
        if (!existing)
            return null;
        return existing.clone();
    }
    getBadgeAssetName(badgeName, zoomedOut = false) {
        if (!badgeName)
            return null;
        //return ((this._Str_9663 + badgeName) + ((zoomedOut) ? '_32' : ''));
        return badgeName;
    }
}
BadgeImageManager.GROUP_BADGE = 'group_badge';
BadgeImageManager.NORMAL_BADGE = 'normal_badge';


/***/ }),

/***/ "tHQF":
/*!**************************************************************!*\
  !*** ./src/client/nitro/avatar/enum/AvatarFigurePartType.ts ***!
  \**************************************************************/
/*! exports provided: AvatarFigurePartType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarFigurePartType", function() { return AvatarFigurePartType; });
class AvatarFigurePartType {
}
AvatarFigurePartType.BODY = "bd";
AvatarFigurePartType.SHOES = "sh";
AvatarFigurePartType.LEGS = "lg";
AvatarFigurePartType.CHEST = "ch";
AvatarFigurePartType.WAIST_ACCESSORY = "wa";
AvatarFigurePartType.CHEST_ACCESSORY = "ca";
AvatarFigurePartType.HEAD = "hd";
AvatarFigurePartType.HAIR = "hr";
AvatarFigurePartType.FACE_ACCESSORY = "fa";
AvatarFigurePartType.EYE_ACCESSORY = "ea";
AvatarFigurePartType.HEAD_ACCESSORY = "ha";
AvatarFigurePartType.HEAD_ACCESSORY_EXTRA = "he";
AvatarFigurePartType.COAT_CHEST = "cc";
AvatarFigurePartType.CHEST_PRINT = "cp";
AvatarFigurePartType.LEFT_HAND_ITEM = "li";
AvatarFigurePartType.LEFT_HAND = "lh";
AvatarFigurePartType.LEFT_SLEEVE = "ls";
AvatarFigurePartType.RIGHT_HAND = "rh";
AvatarFigurePartType.RIGHT_SLEEVE = "rs";
AvatarFigurePartType.FACE = "fc";
AvatarFigurePartType.EYES = "ey";
AvatarFigurePartType.HAIR_BIG = "hrb";
AvatarFigurePartType.RIGHT_HAND_ITEM = "ri";
AvatarFigurePartType.LEFT_COAT_SLEEVE = "lc";
AvatarFigurePartType.RIGHT_COAT_SLEEVE = "rc";
AvatarFigurePartType._Str_1286 = [AvatarFigurePartType.SHOES, AvatarFigurePartType.LEGS, AvatarFigurePartType.CHEST, AvatarFigurePartType.WAIST_ACCESSORY, AvatarFigurePartType.CHEST_ACCESSORY, AvatarFigurePartType.HEAD, AvatarFigurePartType.HAIR, AvatarFigurePartType.FACE_ACCESSORY, AvatarFigurePartType.EYE_ACCESSORY, AvatarFigurePartType.HEAD_ACCESSORY, AvatarFigurePartType.HEAD_ACCESSORY_EXTRA, AvatarFigurePartType.COAT_CHEST, AvatarFigurePartType.CHEST_PRINT];


/***/ }),

/***/ "tMdi":
/*!**************************************************************************!*\
  !*** ./src/client/nitro/room/utils/RoomObjectBadgeImageAssetListener.ts ***!
  \**************************************************************************/
/*! exports provided: RoomObjectBadgeImageAssetListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectBadgeImageAssetListener", function() { return RoomObjectBadgeImageAssetListener; });
class RoomObjectBadgeImageAssetListener {
    constructor(object, groupBadge) {
        this._object = object;
        this._groupBadge = groupBadge;
    }
    get object() {
        return this._object;
    }
    get groupBadge() {
        return this._groupBadge;
    }
}


/***/ }),

/***/ "tOuW":
/*!******************************************************!*\
  !*** ./src/client/nitro/avatar/enum/GeometryType.ts ***!
  \******************************************************/
/*! exports provided: GeometryType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeometryType", function() { return GeometryType; });
class GeometryType {
}
GeometryType.VERTICAL = 'vertical';
GeometryType.SITTING = 'sitting';
GeometryType.HORIZONTAL = 'horizontal';
GeometryType.SWIM = 'swim';
GeometryType.SNOWWARS_HORIZONTAL = 'swhorizontal';


/***/ }),

/***/ "tWLA":
/*!***************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/MapDataType.ts ***!
  \***************************************************************/
/*! exports provided: MapDataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapDataType", function() { return MapDataType; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectDataBase */ "MeCd");
/* harmony import */ var _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ObjectDataKey */ "KQk8");



class MapDataType extends _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__["ObjectDataBase"] {
    constructor() {
        super();
        this._data = {};
    }
    parseWrapper(wrapper) {
        if (!wrapper)
            return;
        this._data = {};
        const totalSets = wrapper.readInt();
        if (totalSets)
            for (let i = 0; i < totalSets; i++)
                this._data[wrapper.readString()] = wrapper.readString();
        super.parseWrapper(wrapper);
    }
    initializeFromRoomObjectModel(model) {
        super.initializeFromRoomObjectModel(model);
        this._data = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA) || {};
    }
    writeRoomObjectModel(model) {
        super.writeRoomObjectModel(model);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA_FORMAT, MapDataType.FORMAT_KEY);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA, this._data);
    }
    getLegacyString() {
        if (!this._data || !this._data.length)
            return '';
        const state = this._data[MapDataType.STATE];
        if (state === undefined || state === null)
            return '';
        return state;
    }
    compare(data) {
        return false;
    }
    getValue(key) {
        return this._data[key];
    }
}
MapDataType.FORMAT_KEY = _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__["ObjectDataKey"].MAP_KEY;
MapDataType.STATE = 'state';
MapDataType.RARITY = 'rarity';


/***/ }),

/***/ "tYBt":
/*!**********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/inventory/furniture/FurnitureListRemovedParser.ts ***!
  \**********************************************************************************************************/
/*! exports provided: FurnitureListRemovedParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListRemovedParser", function() { return FurnitureListRemovedParser; });
class FurnitureListRemovedParser {
    flush() {
        this._itemId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = wrapper.readInt();
        return true;
    }
    get itemId() {
        return this._itemId;
    }
}


/***/ }),

/***/ "tfZg":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurniturePurchaseableClothingLogic.ts ***!
  \********************************************************************************************/
/*! exports provided: FurniturePurchaseableClothingLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePurchaseableClothingLogic", function() { return FurniturePurchaseableClothingLogic; });
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");

class FurniturePurchaseableClothingLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureLogic"] {
}


/***/ }),

/***/ "tgey":
/*!*********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureMannequinLogic.ts ***!
  \*********************************************************************************/
/*! exports provided: FurnitureMannequinLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureMannequinLogic", function() { return FurnitureMannequinLogic; });
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events/RoomObjectWidgetRequestEvent */ "6u0Z");
/* harmony import */ var _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../messages/ObjectDataUpdateMessage */ "Audg");
/* harmony import */ var _data_type_MapDataType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/type/MapDataType */ "tWLA");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");






class FurnitureMannequinLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_5__["FurnitureLogic"] {
    getEventTypes() {
        const types = [_events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectWidgetRequestEvent"].MANNEQUIN];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    processUpdateMessage(message) {
        super.processUpdateMessage(message);
        if (message instanceof _messages_ObjectDataUpdateMessage__WEBPACK_IMPORTED_MODULE_2__["ObjectDataUpdateMessage"]) {
            message.data.writeRoomObjectModel(this.object.model);
            this.processObjectData();
        }
    }
    processObjectData() {
        if (!this.object || !this.object.model)
            return;
        const data = new _data_type_MapDataType__WEBPACK_IMPORTED_MODULE_3__["MapDataType"]();
        data.initializeFromRoomObjectModel(this.object.model);
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].FURNITURE_MANNEQUIN_GENDER, data.getValue(FurnitureMannequinLogic.GENDER));
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].FURNITURE_MANNEQUIN_FIGURE, data.getValue(FurnitureMannequinLogic.FIGURE));
        this.object.model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].FURNITURE_MANNEQUIN_NAME, data.getValue(FurnitureMannequinLogic.OUTFIT_NAME));
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DOUBLE_CLICK:
                this.useObject();
                return;
        }
        super.mouseEvent(event, geometry);
    }
    useObject() {
        if (!this.eventDispatcher || !this.object)
            return;
        this.eventDispatcher.dispatchEvent(new _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectWidgetRequestEvent"](_events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectWidgetRequestEvent"].MANNEQUIN, this.object));
    }
}
FurnitureMannequinLogic.GENDER = 'GENDER';
FurnitureMannequinLogic.FIGURE = 'FIGURE';
FurnitureMannequinLogic.OUTFIT_NAME = 'OUTFIT_NAME';


/***/ }),

/***/ "tr5V":
/*!**************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/AnimationData.ts ***!
  \**************************************************************************/
/*! exports provided: AnimationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationData", function() { return AnimationData; });
/* harmony import */ var _AnimationLayerData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationLayerData */ "lnHu");
/* harmony import */ var _DirectionalOffsetData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DirectionalOffsetData */ "4I9D");


class AnimationData {
    constructor() {
        this._layers = new Map();
        this._frameCount = -1;
        this._randomStart = false;
        this._immediateChanges = null;
    }
    static getTransitionToAnimationId(animationId) {
        return AnimationData.TRANSITION_TO_ANIMATION_OFFSET + animationId;
    }
    static getTransitionFromAnimationId(animationId) {
        return AnimationData.TRANSITION_FROM_ANIMATION_OFFSET + animationId;
    }
    static isTransitionToAnimation(animationId) {
        return (animationId >= AnimationData.TRANSITION_TO_ANIMATION_OFFSET) && (animationId < AnimationData.TRANSITION_FROM_ANIMATION_OFFSET);
    }
    static isTransitionFromAnimation(animationId) {
        return animationId >= AnimationData.TRANSITION_FROM_ANIMATION_OFFSET;
    }
    dispose() {
        for (let layer of this._layers.values()) {
            if (!layer)
                continue;
            layer.dispose();
        }
        this._layers.clear();
        this._immediateChanges = null;
    }
    setImmediateChanges(k) {
        this._immediateChanges = k;
    }
    isImmediateChange(k) {
        if (!this._immediateChanges || (this._immediateChanges.indexOf(k) === -1))
            return false;
        return true;
    }
    getStartFrame(direction) {
        if (!this._randomStart)
            return 0;
        return Math.random() * this._frameCount;
    }
    initialize(k) {
        this._randomStart = false;
        // if (int(k.@randomStart) != 0)
        // {
        //     this._randomStart = true;
        // }
        if (k.layers) {
            for (let key in k.layers) {
                const layer = k.layers[key];
                if (!layer)
                    return false;
                const animationId = parseInt(key);
                let loopCount = (layer.loopCount !== undefined) ? layer.loopCount : 1;
                let frameRepeat = (layer.frameRepeat !== undefined) ? layer.frameRepeat : 1;
                let isRandom = ((layer.random !== undefined) && (layer.random !== 0)) ? true : false;
                if (!this.addLayer(animationId, loopCount, frameRepeat, isRandom, layer))
                    return false;
            }
        }
        return true;
    }
    addLayer(animationId, loopCount, frameRepeat, isRandom, layer) {
        const layerData = new _AnimationLayerData__WEBPACK_IMPORTED_MODULE_0__["AnimationLayerData"](loopCount, frameRepeat, isRandom);
        if (layer.frameSequences) {
            for (let key in layer.frameSequences) {
                const animationSequence = layer.frameSequences[key];
                if (!animationSequence)
                    continue;
                let loopCount = (animationSequence.loopCount !== undefined) ? animationSequence.loopCount : 1;
                let isSequenceRandom = ((animationSequence.random !== undefined) && (animationSequence.random !== 0)) ? true : false;
                const frame = layerData.addFrameSequence(loopCount, isSequenceRandom);
                if (animationSequence.frames) {
                    for (let key in animationSequence.frames) {
                        const animationFrame = animationSequence.frames[key];
                        if (!animationFrame) {
                            layerData.dispose();
                            return false;
                        }
                        frame.addFrame(animationFrame.id, animationFrame.x || 0, animationFrame.y || 0, animationFrame.randomX || 0, animationFrame.randomY || 0, this.readDirectionalOffsets(animationFrame));
                    }
                }
                frame.initialize();
            }
        }
        layerData.calculateLength();
        this._layers.set(animationId, layerData);
        const frameCount = layerData.frameCount;
        if (frameCount > this._frameCount)
            this._frameCount = frameCount;
        return true;
    }
    readDirectionalOffsets(frame) {
        let directionalOffset = null;
        if (frame && frame.offsets) {
            for (let directionId in frame.offsets) {
                const offset = frame.offsets[directionId];
                if (!offset)
                    continue;
                if (!directionalOffset)
                    directionalOffset = new _DirectionalOffsetData__WEBPACK_IMPORTED_MODULE_1__["DirectionalOffsetData"]();
                directionalOffset.setDirection(offset.direction, offset.x, offset.y);
            }
        }
        return directionalOffset;
    }
    getFrame(direction, layerId, frameCount) {
        const layer = this._layers.get(layerId);
        if (!layer)
            return null;
        return layer.getFrame(direction, frameCount);
    }
    getFrameFromSequence(direction, layerId, sequenceId, offset, frameCount) {
        const layer = this._layers.get(layerId);
        if (!layer)
            return null;
        return layer.getFrameFromSequence(direction, sequenceId, offset, frameCount);
    }
}
AnimationData.TRANSITION_TO_ANIMATION_OFFSET = 1000000;
AnimationData.TRANSITION_FROM_ANIMATION_OFFSET = 2000000;
AnimationData.DEFAULT_FRAME_NUMBER = 0;


/***/ }),

/***/ "tuHO":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/ui/widget/enums/RoomWidgetFurniInfoUsagePolicyEnum.ts ***!
  \********************************************************************************/
/*! exports provided: RoomWidgetFurniInfoUsagePolicyEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetFurniInfoUsagePolicyEnum", function() { return RoomWidgetFurniInfoUsagePolicyEnum; });
class RoomWidgetFurniInfoUsagePolicyEnum {
}
RoomWidgetFurniInfoUsagePolicyEnum._Str_21805 = 0;
RoomWidgetFurniInfoUsagePolicyEnum._Str_18194 = 1;
RoomWidgetFurniInfoUsagePolicyEnum._Str_18353 = 2;


/***/ }),

/***/ "tuiI":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/alias/AssetAliasCollection.ts ***!
  \***************************************************************/
/*! exports provided: AssetAliasCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetAliasCollection", function() { return AssetAliasCollection; });
/* harmony import */ var _AssetAlias__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AssetAlias */ "KyoB");

class AssetAliasCollection {
    constructor(k, _arg_2) {
        this._avatarRenderManager = k;
        this._aliases = new Map();
        this._assets = _arg_2;
        this._missingAssetNames = [];
    }
    dispose() {
        this._assets = null;
        this._aliases = null;
    }
    reset() {
        this.init();
    }
    init() {
        for (let collection of this._assets.collections.values()) {
            if (!collection)
                continue;
            const aliases = collection.data && collection.data.aliases;
            if (!aliases)
                continue;
            for (let name in aliases) {
                const alias = aliases[name];
                if (!alias)
                    continue;
                this._aliases.set(name, new _AssetAlias__WEBPACK_IMPORTED_MODULE_0__["AssetAlias"](name, alias));
            }
        }
    }
    _Str_1044(k) {
        const alias = this._aliases.get(k);
        if (alias)
            return true;
        return false;
    }
    _Str_2125(k) {
        let _local_2 = k;
        let _local_3 = 5;
        while (this._Str_1044(_local_2) && (_local_3 >= 0)) {
            const _local_4 = this._aliases.get(_local_2);
            _local_2 = _local_4.link;
            _local_3--;
        }
        return _local_2;
    }
    getAsset(name) {
        if (!this._assets)
            return null;
        name = this._Str_2125(name);
        const asset = this._assets.getAsset(name);
        if (!asset)
            return null;
        return asset;
    }
}


/***/ }),

/***/ "u+VA":
/*!**************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarSleepUpdateMessage.ts ***!
  \**************************************************************************/
/*! exports provided: ObjectAvatarSleepUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarSleepUpdateMessage", function() { return ObjectAvatarSleepUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarSleepUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(isSleeping = false) {
        super();
        this._isSleeping = isSleeping;
    }
    get isSleeping() {
        return this._isSleeping;
    }
}


/***/ }),

/***/ "u1l8":
/*!***********************************************************!*\
  !*** ./src/client/nitro/avatar/PlaceHolderAvatarImage.ts ***!
  \***********************************************************/
/*! exports provided: PlaceHolderAvatarImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaceHolderAvatarImage", function() { return PlaceHolderAvatarImage; });
/* harmony import */ var _AvatarImage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AvatarImage */ "8cFD");

class PlaceHolderAvatarImage extends _AvatarImage__WEBPACK_IMPORTED_MODULE_0__["AvatarImage"] {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        super(k, _arg_2, _arg_3, _arg_4, _arg_5, null);
    }
    isPlaceholder() {
        return true;
    }
}


/***/ }),

/***/ "u5n9":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/catalog/CatalogPurchaseFailedEvent.ts ***!
  \************************************************************************************************/
/*! exports provided: CatalogPurchaseFailedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPurchaseFailedEvent", function() { return CatalogPurchaseFailedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_catalog_CatalogPurchaseFailedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/catalog/CatalogPurchaseFailedParser */ "kbLa");


class CatalogPurchaseFailedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_catalog_CatalogPurchaseFailedParser__WEBPACK_IMPORTED_MODULE_1__["CatalogPurchaseFailedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "uDPx":
/*!*************************************************************!*\
  !*** ./src/client/nitro/session/furniture/FurnitureData.ts ***!
  \*************************************************************/
/*! exports provided: FurnitureData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureData", function() { return FurnitureData; });
class FurnitureData {
    constructor(type, id, className, name, description, furniLine, colors, dimensions, canStandOn, canSitOn, canLayOn, offerId, adUrl, excludeDynamic, specialType, customParams) {
        const [splitClass, splitColor] = className.split('*');
        this._type = type;
        this._id = id;
        this._fullName = className;
        this._className = splitClass;
        this._colorId = (parseInt(splitColor) || 0);
        this._name = name;
        this._description = description;
        this._furniLine = furniLine;
        this._offerId = offerId;
        this._adUrl = adUrl;
        this._excludeDynamic = excludeDynamic;
        this._specialType = specialType;
        this._customParams = customParams;
        this._dimensions = dimensions;
        this._canStandOn = canStandOn;
        this._canSitOn = canSitOn;
        this._canLayOn = canLayOn;
    }
    get type() {
        return this._type;
    }
    get id() {
        return this._id;
    }
    get fullName() {
        return this._fullName;
    }
    get className() {
        return this._className;
    }
    get colorId() {
        return this._colorId;
    }
    get name() {
        return this._name;
    }
    get description() {
        return this._description;
    }
    get furniLine() {
        return this._furniLine;
    }
    get colors() {
        return this._colors;
    }
    get dimensions() {
        return this._dimensions;
    }
    get canStandOn() {
        return this._canStandOn;
    }
    get canSitOn() {
        return this._canSitOn;
    }
    get canLayOn() {
        return this._canLayOn;
    }
    get offerId() {
        return this._offerId;
    }
    get adUrl() {
        return this._adUrl;
    }
    get excludeDynamic() {
        return this._excludeDynamic;
    }
    get specialType() {
        return this._specialType;
    }
    get customParams() {
        return this._customParams;
    }
}


/***/ }),

/***/ "uETo":
/*!********************************************************!*\
  !*** ./src/app/components/inventory/HabboInventory.ts ***!
  \********************************************************/
/*! exports provided: HabboInventory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HabboInventory", function() { return HabboInventory; });
/* harmony import */ var _client_core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../client/core/common/NitroManager */ "Fv14");
/* harmony import */ var _client_core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../client/core/utils/AdvancedMap */ "hTzv");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_preview_RoomPreviewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../client/nitro/room/preview/RoomPreviewer */ "2IRy");
/* harmony import */ var _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../client/nitro/session/events/RoomSessionEvent */ "Ns5P");
/* harmony import */ var _client_nitro_session_events_RoomSessionPropertyUpdateEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../client/nitro/session/events/RoomSessionPropertyUpdateEvent */ "yMWR");
/* harmony import */ var _enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enum/InventoryCategory */ "0nxZ");
/* harmony import */ var _furni_FurniModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./furni/FurniModel */ "Qvb7");
/* harmony import */ var _IncomingMessages__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./IncomingMessages */ "iNp5");
/* harmony import */ var _UnseenItemTracker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./UnseenItemTracker */ "3uk/");










class HabboInventory extends _client_core_common_NitroManager__WEBPACK_IMPORTED_MODULE_0__["NitroManager"] {
    constructor(view) {
        super();
        this._view = view;
        this._messages = new _IncomingMessages__WEBPACK_IMPORTED_MODULE_8__["IncomingMessages"](this);
        this._inventories = new _client_core_utils_AdvancedMap__WEBPACK_IMPORTED_MODULE_1__["AdvancedMap"]();
        this._unseenTracker = new _UnseenItemTracker__WEBPACK_IMPORTED_MODULE_9__["UnseenItemTracker"](_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.communication, this.events, this);
        this._initedInventoryCategories = [];
        this._roomPreviewer = new _client_nitro_room_preview_RoomPreviewer__WEBPACK_IMPORTED_MODULE_3__["RoomPreviewer"](_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.roomEngine, ++_client_nitro_room_preview_RoomPreviewer__WEBPACK_IMPORTED_MODULE_3__["RoomPreviewer"].PREVIEW_COUNTER);
        this._roomSession = null;
        this._isInRoom = false;
    }
    onInit() {
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_4__["RoomSessionEvent"].STARTED, this.onRoomSessionEvent.bind(this));
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_4__["RoomSessionEvent"].ENDED, this.onRoomSessionEvent.bind(this));
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.roomSessionManager.events.addEventListener(_client_nitro_session_events_RoomSessionPropertyUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomSessionPropertyUpdateEvent"].RSDUE_ALLOW_PETS, this.onRoomSessionEvent.bind(this));
        this.setupInventories();
    }
    onDispose() {
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_4__["RoomSessionEvent"].STARTED, this.onRoomSessionEvent.bind(this));
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_4__["RoomSessionEvent"].ENDED, this.onRoomSessionEvent.bind(this));
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.roomSessionManager.events.removeEventListener(_client_nitro_session_events_RoomSessionPropertyUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomSessionPropertyUpdateEvent"].RSDUE_ALLOW_PETS, this.onRoomSessionEvent.bind(this));
        if (this._unseenTracker) {
            this._unseenTracker.dispose();
            this._unseenTracker = null;
        }
        if (this._roomPreviewer) {
            this._roomPreviewer.dispose();
            this._roomPreviewer = null;
        }
    }
    onRoomSessionEvent(event) {
        if (!event)
            return;
        switch (event.type) {
            case _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_4__["RoomSessionEvent"].STARTED:
                this._roomSession = event.session;
                return;
            case _client_nitro_session_events_RoomSessionEvent__WEBPACK_IMPORTED_MODULE_4__["RoomSessionEvent"].ENDED:
                this._roomSession = null;
                return;
            case _client_nitro_session_events_RoomSessionPropertyUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomSessionPropertyUpdateEvent"].RSDUE_ALLOW_PETS:
                return;
        }
    }
    setupInventories() {
        this._inventories.reset();
        this._inventories.add(_enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_6__["InventoryCategory"].FURNI, new _furni_FurniModel__WEBPACK_IMPORTED_MODULE_7__["FurniModel"](this, _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.communication, _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.roomEngine));
    }
    createComponent(model, component) {
        if (!model || !component || !this._view)
            return;
        const inventory = this._view.createComponent(component);
        if (!inventory)
            return null;
        return inventory;
    }
    removeComponent(component) {
        if (!component || !this._view)
            return;
        this._view.removeComponent(component);
    }
    getModel(type) {
        if (!type || (type === ''))
            return null;
        return this._inventories.getValue(type);
    }
    _Str_5943(k, _arg_2 = true) {
        if (_arg_2) {
            if (this._initedInventoryCategories.indexOf(k) === -1) {
                this._initedInventoryCategories.push(k);
            }
        }
        else {
            const _local_3 = this._initedInventoryCategories.indexOf(k);
            if (_local_3 >= 0)
                this._initedInventoryCategories.splice(_local_3, 1);
            if (this._view && this._view.visible) {
                if (k === _enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_6__["InventoryCategory"].RENTABLES)
                    return;
                this.requestLoad(k);
            }
        }
    }
    checkAndLoadInventory(type) {
        if (this._initedInventoryCategories.indexOf(type) >= 0)
            return true;
        this.requestLoad(type);
        return false;
    }
    requestLoad(k) {
        const model = this.getModel(k);
        if (!model)
            return;
        model.requestLoad();
    }
    get inventories() {
        return this._inventories;
    }
    get furniModel() {
        return this.getModel(_enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_6__["InventoryCategory"].FURNI);
    }
    get unseenTracker() {
        return this._unseenTracker;
    }
    get roomPreviewer() {
        return this._roomPreviewer;
    }
    get isInRoom() {
        return this._isInRoom;
    }
    set isInRoom(flag) {
        this._isInRoom = flag;
    }
}


/***/ }),

/***/ "uEox":
/*!*********************************************************!*\
  !*** ./src/client/nitro/avatar/enum/AvatarScaleType.ts ***!
  \*********************************************************/
/*! exports provided: AvatarScaleType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarScaleType", function() { return AvatarScaleType; });
class AvatarScaleType {
}
AvatarScaleType.LARGE = 'h';
AvatarScaleType.SMALL = 'sh';


/***/ }),

/***/ "uHXo":
/*!********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/trading/TradingConfirmationEvent.ts ***!
  \********************************************************************************************************/
/*! exports provided: TradingConfirmationEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TradingConfirmationEvent", function() { return TradingConfirmationEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_trading_TradingConfirmationParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/trading/TradingConfirmationParser */ "6eiS");


class TradingConfirmationEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_trading_TradingConfirmationParser__WEBPACK_IMPORTED_MODULE_1__["TradingConfirmationParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "uMJ2":
/*!*************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/user/data/UserInfoEvent.ts ***!
  \*************************************************************************************/
/*! exports provided: UserInfoEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserInfoEvent", function() { return UserInfoEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_user_data_UserInfoParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/user/data/UserInfoParser */ "Nd99");


class UserInfoEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_user_data_UserInfoParser__WEBPACK_IMPORTED_MODULE_1__["UserInfoParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "uUF/":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/NumberDataType.ts ***!
  \******************************************************************/
/*! exports provided: NumberDataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NumberDataType", function() { return NumberDataType; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectDataBase */ "MeCd");
/* harmony import */ var _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ObjectDataKey */ "KQk8");



class NumberDataType extends _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__["ObjectDataBase"] {
    constructor() {
        super();
        this._data = [];
    }
    parseWrapper(wrapper) {
        if (!wrapper)
            return;
        this._data = [];
        const totalNumbers = wrapper.readInt();
        if (totalNumbers)
            for (let i = 0; i < totalNumbers; i++)
                this._data.push(wrapper.readInt());
        super.parseWrapper(wrapper);
    }
    initializeFromRoomObjectModel(model) {
        super.initializeFromRoomObjectModel(model);
        this._data = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA);
    }
    writeRoomObjectModel(model) {
        super.writeRoomObjectModel(model);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA_FORMAT, NumberDataType.FORMAT_KEY);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA, this._data);
    }
    getLegacyString() {
        if (!this._data || !this._data.length)
            return '';
        return this._data[NumberDataType.STATE].toString();
    }
    compare(data) {
        if (!(data instanceof NumberDataType))
            return false;
        let i = 0;
        while (i < this._data.length) {
            if (i === 0) {
            }
            else {
                if (this._data[i] !== data.getValue(i))
                    return false;
            }
            i++;
        }
        return true;
    }
    getValue(index) {
        if (!this._data || !this._data.length)
            return -1;
        const value = this._data[index];
        if (value === undefined || value === null)
            return -1;
        return value;
    }
}
NumberDataType.FORMAT_KEY = _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__["ObjectDataKey"].NUMBER_KEY;
NumberDataType.STATE = 0;


/***/ }),

/***/ "ulbO":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/inventory/furni/FurnitureListEvent.ts ***!
  \************************************************************************************************/
/*! exports provided: FurnitureListEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureListEvent", function() { return FurnitureListEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_inventory_furniture_FurnitureListParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/inventory/furniture/FurnitureListParser */ "s9AH");


class FurnitureListEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_inventory_furniture_FurnitureListParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureListParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "upTT":
/*!****************************************************************************!*\
  !*** ./src/app/components/room/widgets/handlers/ChatInputWidgetHandler.ts ***!
  \****************************************************************************/
/*! exports provided: ChatInputWidgetHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChatInputWidgetHandler", function() { return ChatInputWidgetHandler; });
/* harmony import */ var _client_nitro_room_events_RoomZoomEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/room/events/RoomZoomEvent */ "6Ad+");
/* harmony import */ var _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/enums/RoomWidgetEnum */ "f6o4");
/* harmony import */ var _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../messages/RoomWidgetChatMessage */ "gXhT");
/* harmony import */ var _messages_RoomWidgetChatSelectAvatarMessage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/RoomWidgetChatSelectAvatarMessage */ "3+72");
/* harmony import */ var _messages_RoomWidgetChatTypingMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/RoomWidgetChatTypingMessage */ "TErY");





class ChatInputWidgetHandler {
    constructor() {
        this._container = null;
        this._widget = null;
        this._disposed = false;
    }
    dispose() {
        if (this._disposed)
            return;
        this._container = null;
        this._widget = null;
        this._disposed = true;
    }
    update() {
    }
    processWidgetMessage(message) {
        if (!message || this.disposed)
            return null;
        let widgetMessage = null;
        switch (message.type) {
            case _messages_RoomWidgetChatTypingMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetChatTypingMessage"].TYPING_STATUS:
                let typingMessage = message;
                this._container.roomSession.sendChatTypingMessage(typingMessage.isTyping);
                break;
            case _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetChatMessage"].MESSAGE_CHAT:
                let chatMessage = message;
                if (chatMessage.text === '')
                    return null;
                let text = chatMessage.text;
                let parts = chatMessage.text.split(' ');
                if (parts.length > 0) {
                    let firstPart = parts[0];
                    let secondPart = '';
                    if (parts.length > 1)
                        secondPart = parts[1];
                    if ((firstPart.charAt(0) === ':') && (secondPart === 'x')) {
                        const selectedAvatarId = this._container.roomEngine.selectedAvatarId;
                        if (selectedAvatarId > -1) {
                            const userData = this._container.roomSession.userDataManager.getUserDataByIndex(selectedAvatarId);
                            if (userData) {
                                secondPart = userData.name;
                                text = chatMessage.text.replace(' x', (' ' + userData.name));
                            }
                        }
                    }
                    switch (firstPart.toLowerCase()) {
                        case ':zoom':
                            this._container.roomEngine.events.dispatchEvent(new _client_nitro_room_events_RoomZoomEvent__WEBPACK_IMPORTED_MODULE_0__["RoomZoomEvent"](this._container.roomEngine.activeRoomId, parseInt(secondPart)));
                            return null;
                    }
                }
                let styleId = chatMessage.styleId;
                if (this._container && this._container.roomSession) {
                    switch (chatMessage.chatType) {
                        case _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetChatMessage"].CHAT_DEFAULT:
                            this._container.roomSession.sendChatMessage(text, styleId);
                            break;
                        case _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetChatMessage"].CHAT_SHOUT:
                            this._container.roomSession.sendShoutMessage(text, styleId);
                            break;
                        case _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetChatMessage"].CHAT_WHISPER:
                            this._container.roomSession.sendWhisperMessage(chatMessage.recipientName, text, styleId);
                            break;
                    }
                }
                break;
            case _messages_RoomWidgetChatSelectAvatarMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatSelectAvatarMessage"].MESSAGE_SELECT_AVATAR:
                widgetMessage = message;
                break;
        }
        return null;
    }
    processEvent(event) {
        if (!event || this._disposed)
            return;
    }
    get type() {
        return _client_nitro_ui_widget_enums_RoomWidgetEnum__WEBPACK_IMPORTED_MODULE_1__["RoomWidgetEnum"].CHAT_INPUT_WIDGET;
    }
    get messageTypes() {
        return [_messages_RoomWidgetChatTypingMessage__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetChatTypingMessage"].TYPING_STATUS, _messages_RoomWidgetChatMessage__WEBPACK_IMPORTED_MODULE_2__["RoomWidgetChatMessage"].MESSAGE_CHAT, _messages_RoomWidgetChatSelectAvatarMessage__WEBPACK_IMPORTED_MODULE_3__["RoomWidgetChatSelectAvatarMessage"].MESSAGE_SELECT_AVATAR];
    }
    get eventTypes() {
        return [];
    }
    get container() {
        return this._container;
    }
    set container(container) {
        this._container = container;
    }
    get widget() {
        return this._widget;
    }
    set widget(widget) {
        this._widget = widget;
    }
    get disposed() {
        return this._disposed;
    }
}


/***/ }),

/***/ "uqTz":
/*!********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/engine/ObjectsRollingParser.ts ***!
  \********************************************************************************************/
/*! exports provided: ObjectsRollingParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectsRollingParser", function() { return ObjectsRollingParser; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../room/utils/Vector3D */ "LGmI");
/* harmony import */ var _room_utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/utils/ObjectRolling */ "9mJe");


class ObjectsRollingParser {
    flush() {
        this._rollerId = 0;
        this._itemsRolling = [];
        this._unitRolling = null;
        return true;
    }
    parse(wrapper) {
        const x = wrapper.readInt();
        const y = wrapper.readInt();
        const nextX = wrapper.readInt();
        const nextY = wrapper.readInt();
        let totalItems = wrapper.readInt();
        while (totalItems > 0) {
            const id = wrapper.readInt();
            const height = parseFloat(wrapper.readString());
            const nextHeight = parseFloat(wrapper.readString());
            const rollingData = new _room_utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_1__["ObjectRolling"](id, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](x, y, height), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](nextX, nextY, nextHeight));
            this._itemsRolling.push(rollingData);
            totalItems--;
        }
        this._rollerId = wrapper.readInt();
        if (!wrapper.bytesAvailable)
            return true;
        const movementType = wrapper.readInt();
        const unitId = wrapper.readInt();
        const height = parseFloat(wrapper.readString());
        const nextHeight = parseFloat(wrapper.readString());
        switch (movementType) {
            case 0: break;
            case 1:
                this._unitRolling = new _room_utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_1__["ObjectRolling"](unitId, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](x, y, height), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](nextX, nextY, nextHeight), _room_utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_1__["ObjectRolling"].MOVE);
                break;
            case 2:
                this._unitRolling = new _room_utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_1__["ObjectRolling"](unitId, new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](x, y, height), new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](nextX, nextY, nextHeight), _room_utils_ObjectRolling__WEBPACK_IMPORTED_MODULE_1__["ObjectRolling"].SLIDE);
                break;
        }
        return true;
    }
    get rollerId() {
        return this._rollerId;
    }
    get itemsRolling() {
        return this._itemsRolling;
    }
    get unitRolling() {
        return this._unitRolling;
    }
}


/***/ }),

/***/ "uwoK":
/*!*********************************************************!*\
  !*** ./src/app/components/inventory/furni/FurniView.ts ***!
  \*********************************************************/
/*! exports provided: InventoryFurniComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InventoryFurniComponent", function() { return InventoryFurniComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/nitro/room/object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../client/room/utils/Vector3D */ "LGmI");
/* harmony import */ var _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../enum/FurniCategory */ "Ue1F");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_components_roompreview_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/components/roompreview/component */ "KVvL");








const _c0 = ["nitro-inventory-furni-component", ""];
function InventoryFurniComponent_div_4_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const groupItem_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](groupItem_r1.items.length);
} }
const _c1 = function (a0) { return { "unseen": a0 }; };
const _c2 = function (a0) { return { "background-image": a0 }; };
function InventoryFurniComponent_div_4_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function InventoryFurniComponent_div_4_Template_div_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const groupItem_r1 = ctx.$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.selectGroup(groupItem_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, InventoryFurniComponent_div_4_div_1_Template, 2, 1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const groupItem_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c1, groupItem_r1.unseen))("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c2, ctx_r0.getIconUrl(groupItem_r1)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", groupItem_r1.items.length > 1);
} }
class InventoryFurniComponent {
    constructor(ngZone) {
        this.ngZone = ngZone;
        this.model = null;
        this._selectedGroup = null;
    }
    selectFirstGroup() {
        if (!this.model)
            return;
        const group = this.model.getFirstUnlockedGroup();
        this.selectGroup(group);
    }
    selectGroup(groupItem) {
        this.model.lockAllGroups();
        let furnitureItem = groupItem.getItemByIndex(0);
        if (!furnitureItem)
            return;
        console.log(furnitureItem);
        groupItem.unlocked = true;
        this._selectedGroup = groupItem;
        this.ngZone.runOutsideAngular(() => {
            if (this.roomPreviewer) {
                let wallType = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.getRoomInstanceVariable(_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.activeRoomId, _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].ROOM_WALL_TYPE);
                let floorType = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.getRoomInstanceVariable(_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.activeRoomId, _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].ROOM_FLOOR_TYPE);
                let landscapeType = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.getRoomInstanceVariable(_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.roomEngine.activeRoomId, _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].ROOM_LANDSCAPE_TYPE);
                wallType = (wallType && wallType.length) ? wallType : '101';
                floorType = (floorType && floorType.length) ? floorType : '101';
                landscapeType = (landscapeType && landscapeType.length) ? landscapeType : '1.1';
                this.roomPreviewer.reset(false);
                this.roomPreviewer.updateObjectRoom(floorType, wallType, landscapeType);
                if ((furnitureItem.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3639) || (furnitureItem.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3683) || (furnitureItem.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3432)) {
                    this.roomPreviewer.updateRoomWallsAndFloorVisibility(true, true);
                    floorType = ((furnitureItem.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3639) ? groupItem.stuffData.getLegacyString() : floorType);
                    wallType = ((furnitureItem.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3639) ? groupItem.stuffData.getLegacyString() : wallType);
                    landscapeType = ((furnitureItem.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3432) ? groupItem.stuffData.getLegacyString() : landscapeType);
                    this.roomPreviewer.updateObjectRoom(floorType, wallType, landscapeType);
                    if (furnitureItem.category === _enum_FurniCategory__WEBPACK_IMPORTED_MODULE_4__["FurniCategory"]._Str_3432) {
                        // insert a window if the type is landscape
                        //_local_19 = this._model.controller._Str_18225("ads_twi_windw", ProductTypeEnum.WALL);
                        //this._roomPreviewer._Str_12087(_local_19.id, new Vector3D(90, 0, 0), _local_19._Str_4558);
                    }
                }
                else {
                    if (groupItem.isWallItem) {
                        this.roomPreviewer.updateRoomWallsAndFloorVisibility(true, true);
                        this.roomPreviewer.addWallItemIntoRoom(groupItem.type, new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"](90), furnitureItem.stuffData.getLegacyString());
                    }
                    else {
                        this.roomPreviewer.updateRoomWallsAndFloorVisibility(false, true);
                        this.roomPreviewer.addFurnitureIntoRoom(groupItem.type, new _client_room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_3__["Vector3D"](90), groupItem.stuffData, (groupItem.extra.toString()));
                    }
                }
            }
        });
    }
    getIconUrl(groupItem) {
        const imageUrl = ((groupItem && groupItem.iconUrl) || null);
        if (imageUrl && (imageUrl !== ''))
            return `url('${imageUrl}')`;
        return null;
    }
    get groupItems() {
        return this.model.furniData;
    }
    get roomPreviewer() {
        return ((this.model && this.model.controller.roomPreviewer) || null);
    }
}
InventoryFurniComponent.ɵfac = function InventoryFurniComponent_Factory(t) { return new (t || InventoryFurniComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
InventoryFurniComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: InventoryFurniComponent, selectors: [["", "nitro-inventory-furni-component", ""]], attrs: _c0, decls: 14, vars: 4, consts: [[1, "nitro-inventory-furni-component"], [1, "d-flex"], [1, "d-flex", "flex-grow-1", "grid-container"], [1, "grid-items"], ["class", "item-detail", 3, "ngClass", "ngStyle", "click", 4, "ngFor", "ngForOf"], [1, "furni-container"], ["nitro-room-preview-component", "", 1, "room-previewer", 3, "roomPreviewer", "width", "height"], [1, "container-info"], ["type", "button", 1, "btn", "btn-light"], [1, "item-detail", 3, "ngClass", "ngStyle", "click"], ["class", "badge badge-secondary", 4, "ngIf"], [1, "badge", "badge-secondary"]], template: function InventoryFurniComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, InventoryFurniComponent_div_4_Template, 2, 7, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Name");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Desc");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Place");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.groupItems);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("roomPreviewer", ctx.roomPreviewer)("width", 170)("height", 130);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _shared_components_roompreview_component__WEBPACK_IMPORTED_MODULE_6__["RoomPreviewComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgStyle"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](InventoryFurniComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[nitro-inventory-furni-component]',
                template: `
    <div class="nitro-inventory-furni-component">
        <div class="d-flex">
            <div class="d-flex flex-grow-1 grid-container">
                <div class="grid-items">
                    <div class="item-detail" *ngFor="let groupItem of groupItems" [ngClass]="{ 'unseen': groupItem.unseen }" [ngStyle]="{ 'background-image': getIconUrl(groupItem) }" (click)="selectGroup(groupItem)">
                        <div class="badge badge-secondary" *ngIf="groupItem.items.length > 1">{{ groupItem.items.length }}</div>
                    </div>
                </div>
            </div>
            <div class="furni-container">
                <div class="room-previewer" nitro-room-preview-component [roomPreviewer]="roomPreviewer" [width]="170" [height]="130"></div>
                <div class="container-info">
                    <span>Name</span>
                    <span>Desc</span>
                    <button type="button" class="btn btn-light">Place</button>
                </div>
            </div>
        </div>
    </div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, null); })();


/***/ }),

/***/ "v12S":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/object/data/type/LegacyDataType.ts ***!
  \******************************************************************/
/*! exports provided: LegacyDataType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LegacyDataType", function() { return LegacyDataType; });
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ObjectDataBase */ "MeCd");
/* harmony import */ var _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ObjectDataKey */ "KQk8");



class LegacyDataType extends _ObjectDataBase__WEBPACK_IMPORTED_MODULE_1__["ObjectDataBase"] {
    constructor() {
        super();
        this._data = '';
    }
    parseWrapper(wrapper) {
        if (!wrapper)
            return;
        this._data = wrapper.readString();
        super.parseWrapper(wrapper);
    }
    initializeFromRoomObjectModel(model) {
        super.initializeFromRoomObjectModel(model);
        this._data = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA);
    }
    writeRoomObjectModel(model) {
        super.writeRoomObjectModel(model);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA_FORMAT, LegacyDataType.FORMAT_KEY);
        model.setValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_0__["RoomObjectVariable"].FURNITURE_DATA, this._data);
    }
    getLegacyString() {
        return this._data;
    }
    compare(data) {
        return (this._data === data.getLegacyString());
    }
    setString(data) {
        this._data = data;
    }
}
LegacyDataType.FORMAT_KEY = _ObjectDataKey__WEBPACK_IMPORTED_MODULE_2__["ObjectDataKey"].LEGACY_KEY;


/***/ }),

/***/ "v1R/":
/*!**************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureMultiStateComposer.ts ***!
  \**************************************************************************************************************/
/*! exports provided: FurnitureMultiStateComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureMultiStateComposer", function() { return FurnitureMultiStateComposer; });
class FurnitureMultiStateComposer {
    constructor(itemId, state) {
        this._data = [itemId, state];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "vAq0":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureVisualization.ts ***!
  \****************************************************************************************/
/*! exports provided: FurnitureVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureVisualization", function() { return FurnitureVisualization; });
/* harmony import */ var _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../room/object/enum/AlphaTolerance */ "7UKb");
/* harmony import */ var _room_object_visualization_RoomObjectSpriteVisualization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/object/visualization/RoomObjectSpriteVisualization */ "dp49");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../RoomObjectVisualizationType */ "IqYK");
/* harmony import */ var _data_ColorData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/ColorData */ "DZd4");
/* harmony import */ var _data_LayerData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/LayerData */ "QIMa");
/* harmony import */ var _FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FurnitureVisualizationData */ "NyXN");







class FurnitureVisualization extends _room_object_visualization_RoomObjectSpriteVisualization__WEBPACK_IMPORTED_MODULE_1__["RoomObjectSpriteVisualization"] {
    constructor() {
        super();
        this._data = null;
        this._type = null;
        this._direction = 0;
        this._lastCameraAngle = NaN;
        this._selectedColor = 0;
        this._furnitureLift = 0;
        this._alphaMultiplier = 1;
        this._alphaChanged = false;
        this._clickUrl = null;
        this._cacheDirection = -1;
        this._cacheScale = 0;
        this._cacheSize = -1;
        this._layerCount = 0;
        this._shadowLayerIndex = -1;
        this._updatedLayers = [];
        this._assetNames = [];
        this._spriteTags = [];
        this._spriteInks = [];
        this._spriteAlphas = [];
        this._spriteColors = [];
        this._spriteMouseCaptures = [];
        this._spriteXOffsets = [];
        this._spriteYOffsets = [];
        this._spriteZOffsets = [];
        this._animationNumber = 0;
    }
    initialize(data) {
        this.reset();
        if (!(data instanceof _FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_6__["FurnitureVisualizationData"]))
            return false;
        this._type = data.type;
        this._data = data;
        return true;
    }
    dispose() {
        super.dispose();
        this._data = null;
        this._updatedLayers = null;
        this._assetNames = null;
        this._spriteTags = null;
        this._spriteInks = null;
        this._spriteAlphas = null;
        this._spriteColors = null;
        this._spriteMouseCaptures = null;
        this._spriteXOffsets = null;
        this._spriteYOffsets = null;
        this._spriteZOffsets = null;
    }
    reset() {
        super.reset();
        this.setDirection(-1);
        this._data = null;
        this._updatedLayers = [];
        this._assetNames = [];
        this._spriteTags = [];
        this._spriteInks = [];
        this._spriteAlphas = [];
        this._spriteColors = [];
        this._spriteMouseCaptures = [];
        this._spriteXOffsets = [];
        this._spriteYOffsets = [];
        this._spriteZOffsets = [];
        this.setSpriteCount(0);
    }
    resetLayers(scale, direction) {
        if ((this._cacheDirection === direction) && (this._cacheScale === scale))
            return;
        this._updatedLayers = [];
        this._assetNames = [];
        this._spriteTags = [];
        this._spriteInks = [];
        this._spriteAlphas = [];
        this._spriteColors = [];
        this._spriteMouseCaptures = [];
        this._spriteXOffsets = [];
        this._spriteYOffsets = [];
        this._spriteZOffsets = [];
        this._cacheDirection = direction;
        this._cacheScale = scale;
        this._cacheSize = this.getValidSize(scale);
        this.setLayerCount(((this._data && this._data.getLayerCount(scale)) || 0) + this.getAdditionalLayerCount());
    }
    update(geometry, time, update, skipUpdate) {
        if (!geometry)
            return;
        let scale = geometry.scale;
        let updateSprites = false;
        if (this.updateObject(scale, geometry.direction.x))
            updateSprites = true;
        if (this.updateModel(scale))
            updateSprites = true;
        let number = 0;
        if (skipUpdate) {
            this._animationNumber = this._animationNumber | this.updateAnimation(scale);
        }
        else {
            number = this.updateAnimation(scale) | this._animationNumber;
            this._animationNumber = 0;
        }
        if (updateSprites || (number !== 0)) {
            this.updateSprites(scale, updateSprites, number);
            this._scale = scale;
            this.updateSpriteCounter++;
        }
    }
    updateObject(scale, direction) {
        if (!this.object)
            return false;
        if ((this.updateObjectCounter === this.object.updateCounter) && (scale === this._scale) && (this._lastCameraAngle === direction))
            return false;
        let offsetDirection = (this.object.getDirection().x - (direction + 135));
        offsetDirection = ((((offsetDirection) % 360) + 360) % 360);
        if (this._data) {
            const validDirection = this._data.getValidDirection(scale, offsetDirection);
            this.setDirection(validDirection);
        }
        this._lastCameraAngle = direction;
        this._scale = scale;
        this.updateObjectCounter = this.object.updateCounter;
        this.resetLayers(scale, this._direction);
        return true;
    }
    updateModel(scale) {
        const model = this.object && this.object.model;
        if (!model)
            return false;
        if (this.updateModelCounter === model.updateCounter)
            return false;
        this._selectedColor = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_COLOR);
        this._clickUrl = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_AD_URL);
        this._furnitureLift = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_LIFT_AMOUNT);
        let alphaMultiplier = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_2__["RoomObjectVariable"].FURNITURE_ALPHA_MULTIPLIER);
        if (isNaN(alphaMultiplier))
            alphaMultiplier = 1;
        if (this._alphaMultiplier !== alphaMultiplier) {
            this._alphaMultiplier = alphaMultiplier;
            this._alphaChanged = true;
        }
        this.updateModelCounter = model.updateCounter;
        return true;
    }
    updateSprites(scale, update, animation) {
        if (this._layerCount !== this.totalSprites)
            this.setSpriteCount(this._layerCount);
        if (update) {
            let layerId = (this.totalSprites - 1);
            while (layerId >= 0) {
                this.updateSprite(scale, layerId);
                layerId--;
            }
        }
        else {
            let layerId = 0;
            while (animation > 0) {
                if (animation)
                    this.updateSprite(scale, layerId);
                layerId++;
                animation = (animation >> 1);
            }
        }
        this._alphaChanged = false;
    }
    updateSprite(scale, layerId) {
        const assetName = this.getSpriteAssetName(scale, layerId);
        const sprite = this.getSprite(layerId);
        if (assetName && sprite) {
            const assetData = this.getAsset(assetName, layerId);
            if (assetData && assetData.texture) {
                sprite.visible = true;
                sprite.type = this._type;
                sprite.texture = assetData.texture;
                sprite.flipH = assetData.flipH;
                sprite.flipV = assetData.flipV;
                sprite.direction = this._direction;
                let relativeDepth = 0;
                if (layerId !== this._shadowLayerIndex) {
                    sprite.tag = this.getLayerTag(scale, this._direction, layerId);
                    sprite.alpha = this.getLayerAlpha(scale, this._direction, layerId);
                    sprite.color = this.getLayerColor(scale, layerId, this._selectedColor);
                    sprite.offsetX = (assetData.offsetX + this.getLayerXOffset(scale, this._direction, layerId));
                    sprite.offsetY = (assetData.offsetY + this.getLayerYOffset(scale, this._direction, layerId));
                    sprite.blendMode = this.getLayerInk(scale, this._direction, layerId);
                    sprite.alphaTolerance = (this.getLayerIgnoreMouse(scale, this._direction, layerId) ? _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__["AlphaTolerance"]._Str_9268 : _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__["AlphaTolerance"]._Str_9735);
                    relativeDepth = this.getLayerZOffset(scale, this._direction, layerId);
                    relativeDepth = (relativeDepth - (layerId * 0.001));
                }
                else {
                    sprite.offsetX = assetData.offsetX;
                    sprite.offsetY = (assetData.offsetY + this.getLayerYOffset(scale, this._direction, layerId));
                    sprite.alpha = (48 * this._alphaMultiplier);
                    sprite.alphaTolerance = _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_0__["AlphaTolerance"]._Str_9268;
                    relativeDepth = 1;
                }
                sprite.relativeDepth = (relativeDepth * FurnitureVisualization.DEPTH_MULTIPLIER);
                sprite.name = assetName;
                sprite._Str_3582 = this.getLibraryAssetNameForSprite(assetData, sprite);
                sprite.posture = this.getPostureForAsset(scale, assetData.source);
                sprite.clickHandling = false;
            }
            else {
                this.resetSprite(sprite);
            }
        }
        else {
            if (sprite)
                this.resetSprite(sprite);
        }
    }
    getLibraryAssetNameForSprite(asset, sprite) {
        return asset.source;
    }
    getPostureForAssetFile(scale, _arg_2) {
        return null;
    }
    resetSprite(sprite) {
        if (!sprite)
            return;
        sprite.texture = null;
        sprite.offsetX = 0;
        sprite.offsetY = 0;
        sprite.flipH = false;
        sprite.flipV = false;
        sprite.relativeDepth = 0;
    }
    getSpriteAssetName(scale, layerId) {
        if (!this._data || (layerId >= _FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_6__["FurnitureVisualizationData"].LAYER_LETTERS.length))
            return '';
        let assetName = this._assetNames[layerId];
        let updated = this._updatedLayers[layerId];
        if (!assetName || !assetName.length) {
            assetName = this.cacheSpriteAssetName(scale, layerId, true);
            updated = (this._cacheSize !== 1);
        }
        if (updated)
            assetName += this.getFrameNumber(scale, layerId);
        return assetName;
    }
    cacheSpriteAssetName(scale, layerId, cache) {
        let type = this._type;
        let size = (cache) ? this._cacheSize : this.getValidSize(scale);
        let layerCode = '';
        let isntIcon = (size !== 1);
        if (layerId !== this._shadowLayerIndex) {
            layerCode = _FurnitureVisualizationData__WEBPACK_IMPORTED_MODULE_6__["FurnitureVisualizationData"].LAYER_LETTERS[layerId] || '';
        }
        else {
            layerCode = 'sd';
        }
        if (layerCode === '')
            return null;
        const assetName = (this._type + ((isntIcon) ? ('_' + size + '_' + layerCode + '_' + this._direction + '_') : ('_icon_' + layerCode)));
        if (cache) {
            this._assetNames[layerId] = assetName;
            this._updatedLayers[layerId] = isntIcon;
        }
        return assetName;
    }
    getLayerTag(scale, direction, layerId) {
        const existing = this._spriteTags[layerId];
        if (existing !== undefined)
            return existing;
        if (!this._data)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_5__["LayerData"].DEFAULT_TAG;
        const tag = this._data.getLayerTag(scale, direction, layerId);
        this._spriteTags[layerId] = tag;
        return tag;
    }
    getLayerInk(scale, direction, layerId) {
        const existing = this._spriteInks[layerId];
        if (existing !== undefined)
            return existing;
        if (!this._data)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_5__["LayerData"].DEFAULT_INK;
        const ink = this._data.getLayerInk(scale, direction, layerId);
        this._spriteInks[layerId] = ink;
        return ink;
    }
    getLayerAlpha(scale, direction, layerId) {
        if (!this._alphaChanged) {
            const existing = this._spriteAlphas[layerId];
            if (existing !== undefined)
                return existing;
        }
        if (!this._data)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_5__["LayerData"].DEFAULT_ALPHA;
        let alpha = this._data.getLayerAlpha(scale, direction, layerId);
        if (this._alphaMultiplier !== null)
            alpha = (alpha * this._alphaMultiplier);
        this._spriteAlphas[layerId] = alpha;
        return alpha;
    }
    getLayerColor(scale, layerId, colorId) {
        const existing = this._spriteColors[layerId];
        if (existing !== undefined)
            return existing;
        if (!this._data)
            return _data_ColorData__WEBPACK_IMPORTED_MODULE_4__["ColorData"].DEFAULT_COLOR;
        const color = this._data.getLayerColor(scale, layerId, colorId);
        this._spriteColors[layerId] = color;
        return color;
    }
    getLayerIgnoreMouse(scale, direction, layerId) {
        const existing = this._spriteMouseCaptures[layerId];
        if (existing !== undefined)
            return existing;
        if (!this._data)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_5__["LayerData"].DEFAULT_IGNORE_MOUSE;
        const ignoreMouse = this._data.getLayerIgnoreMouse(scale, direction, layerId);
        this._spriteMouseCaptures[layerId] = ignoreMouse;
        return ignoreMouse;
    }
    getLayerXOffset(scale, direction, layerId) {
        const existing = this._spriteXOffsets[layerId];
        if (existing !== undefined)
            return existing;
        if (!this._data)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_5__["LayerData"].DEFAULT_XOFFSET;
        const xOffset = this._data.getLayerXOffset(scale, direction, layerId);
        this._spriteXOffsets[layerId] = xOffset;
        return xOffset;
    }
    getLayerYOffset(scale, direction, layerId) {
        if (layerId === this._shadowLayerIndex)
            return Math.ceil((this._furnitureLift * (64 / 2)));
        const existing = this._spriteYOffsets[layerId];
        if (existing !== undefined)
            return existing;
        if (!this._data)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_5__["LayerData"].DEFAULT_YOFFSET;
        const yOffset = this._data.getLayerYOffset(scale, direction, layerId);
        this._spriteYOffsets[layerId] = yOffset;
        return yOffset;
    }
    getLayerZOffset(scale, direction, layerId) {
        const existing = this._spriteZOffsets[layerId];
        if (existing !== undefined)
            return existing;
        if (!this._data)
            return _data_LayerData__WEBPACK_IMPORTED_MODULE_5__["LayerData"].DEFAULT_ZOFFSET;
        const zOffset = this._data.getLayerZOffset(scale, direction, layerId);
        this._spriteZOffsets[layerId] = zOffset;
        return zOffset;
    }
    getValidSize(scale) {
        if (!this._data)
            return scale;
        return this._data.getValidSize(scale);
    }
    setLayerCount(count) {
        this._layerCount = count;
        this._shadowLayerIndex = count - this.getAdditionalLayerCount();
    }
    setDirection(direction) {
        if (this._direction === direction)
            return;
        this._direction = direction;
    }
    getAdditionalLayerCount() {
        return 1;
    }
    updateAnimation(scale) {
        return 0;
    }
    getFrameNumber(scale, layerId) {
        return 0;
    }
    getPostureForAsset(scale, name) {
        return null;
    }
    getAsset(name, layerId = -1) {
        if (!this.asset)
            return null;
        return this.asset.getAsset(name);
    }
    get direction() {
        return this._direction;
    }
}
FurnitureVisualization.DEPTH_MULTIPLIER = Math.sqrt(0.5);
FurnitureVisualization.TYPE = _RoomObjectVisualizationType__WEBPACK_IMPORTED_MODULE_3__["RoomObjectVisualizationType"].FURNITURE_STATIC;


/***/ }),

/***/ "vEjd":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogPagesParser.ts ***!
  \**************************************************************************************/
/*! exports provided: CatalogPagesParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogPagesParser", function() { return CatalogPagesParser; });
/* harmony import */ var _utils_CatalogPageData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/CatalogPageData */ "NeKW");

class CatalogPagesParser {
    flush() {
        this._root = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._root = new _utils_CatalogPageData__WEBPACK_IMPORTED_MODULE_0__["CatalogPageData"](wrapper);
        this._newAdditionsAvailable = wrapper.readBoolean();
        this._catalogType = wrapper.readString();
        return true;
    }
    get root() {
        return this._root;
    }
    get newAdditionsAvailable() {
        return this._newAdditionsAvailable;
    }
    get catalogType() {
        return this._catalogType;
    }
}


/***/ }),

/***/ "vF5q":
/*!*********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/mask/PlaneMaskBitmap.ts ***!
  \*********************************************************************************/
/*! exports provided: PlaneMaskBitmap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneMaskBitmap", function() { return PlaneMaskBitmap; });
class PlaneMaskBitmap {
    constructor(k, _arg_2 = -1, _arg_3 = 1, _arg_4 = -1, _arg_5 = 1) {
        this._normalMinX = _arg_2;
        this._normalMaxX = _arg_3;
        this._normalMinY = _arg_4;
        this._normalMaxY = _arg_5;
        this._asset = k;
    }
    get asset() {
        return this._asset;
    }
    get normalMinX() {
        return this._normalMinX;
    }
    get normalMaxX() {
        return this._normalMaxX;
    }
    get normalMinY() {
        return this._normalMinY;
    }
    get normalMaxY() {
        return this._normalMaxY;
    }
    dispose() {
        this._asset = null;
    }
}
PlaneMaskBitmap._Str_3268 = -1;
PlaneMaskBitmap._Str_3271 = 1;


/***/ }),

/***/ "vHnn":
/*!***********************************************!*\
  !*** ./src/app/components/inventory/index.ts ***!
  \***********************************************/
/*! exports provided: InventoryModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InventoryModule", function() { return InventoryModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "M0ag");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component */ "yHaF");
/* harmony import */ var _furni_FurniView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./furni/FurniView */ "uwoK");





class InventoryModule {
}
InventoryModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: InventoryModule });
InventoryModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function InventoryModule_Factory(t) { return new (t || InventoryModule)(); }, imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](InventoryModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_2__["InventoryComponent"],
        _furni_FurniView__WEBPACK_IMPORTED_MODULE_3__["InventoryFurniComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]], exports: [_component__WEBPACK_IMPORTED_MODULE_2__["InventoryComponent"],
        _furni_FurniView__WEBPACK_IMPORTED_MODULE_3__["InventoryFurniComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](InventoryModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
                ],
                exports: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["InventoryComponent"],
                    _furni_FurniView__WEBPACK_IMPORTED_MODULE_3__["InventoryFurniComponent"]
                ],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["InventoryComponent"],
                    _furni_FurniView__WEBPACK_IMPORTED_MODULE_3__["InventoryFurniComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "vM+w":
/*!***********************************************!*\
  !*** ./src/app/components/hotelview/index.ts ***!
  \***********************************************/
/*! exports provided: HotelViewModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HotelViewModule", function() { return HotelViewModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared */ "M0ag");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component */ "1pfd");




class HotelViewModule {
}
HotelViewModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: HotelViewModule });
HotelViewModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function HotelViewModule_Factory(t) { return new (t || HotelViewModule)(); }, imports: [[
            _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](HotelViewModule, { declarations: [_component__WEBPACK_IMPORTED_MODULE_2__["HotelViewComponent"]], imports: [_shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]], exports: [_component__WEBPACK_IMPORTED_MODULE_2__["HotelViewComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HotelViewModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _shared__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
                ],
                exports: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["HotelViewComponent"]
                ],
                declarations: [
                    _component__WEBPACK_IMPORTED_MODULE_2__["HotelViewComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "vQF7":
/*!***********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/floor/FurnitureFloorRemoveParser.ts ***!
  \***********************************************************************************************************/
/*! exports provided: FurnitureFloorRemoveParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorRemoveParser", function() { return FurnitureFloorRemoveParser; });
class FurnitureFloorRemoveParser {
    flush() {
        this._itemId = 0;
        this._isExpired = true;
        this._userId = 0;
        this._delay = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = parseInt(wrapper.readString());
        this._isExpired = wrapper.readBoolean();
        this._userId = wrapper.readInt();
        this._delay = wrapper.readInt();
        return true;
    }
    get itemId() {
        return this._itemId;
    }
    get isExpired() {
        return this._isExpired;
    }
    get userId() {
        return this._userId;
    }
    get delay() {
        return this._delay;
    }
}


/***/ }),

/***/ "vSOp":
/*!********************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarCarryObjectUpdateMessage.ts ***!
  \********************************************************************************/
/*! exports provided: ObjectAvatarCarryObjectUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarCarryObjectUpdateMessage", function() { return ObjectAvatarCarryObjectUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarCarryObjectUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(itemType, itemName) {
        super();
        this._itemType = itemType;
        this._itemName = itemName;
    }
    get itemType() {
        return this._itemType;
    }
    get itemName() {
        return this._itemName;
    }
}


/***/ }),

/***/ "vWkJ":
/*!****************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/utils/NavigatorSearchResultSet.ts ***!
  \****************************************************************************************************/
/*! exports provided: NavigatorSearchResultSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchResultSet", function() { return NavigatorSearchResultSet; });
/* harmony import */ var _NavigatorSearchResultList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavigatorSearchResultList */ "etar");

class NavigatorSearchResultSet {
    constructor(wrapper) {
        if (!wrapper)
            throw new Error('invalid_wrapper');
        this.flush();
        this.parse(wrapper);
    }
    flush() {
        this._code = null;
        this._data = null;
        this._results = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._code = wrapper.readString();
        this._data = wrapper.readString();
        let totalResults = wrapper.readInt();
        while (totalResults > 0) {
            this._results.push(new _NavigatorSearchResultList__WEBPACK_IMPORTED_MODULE_0__["NavigatorSearchResultList"](wrapper));
            totalResults--;
        }
        return true;
    }
    get code() {
        return this._code;
    }
    get data() {
        return this._data;
    }
    get results() {
        return this._results;
    }
}


/***/ }),

/***/ "vkKv":
/*!***************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarFigureUpdateMessage.ts ***!
  \***************************************************************************/
/*! exports provided: ObjectAvatarFigureUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarFigureUpdateMessage", function() { return ObjectAvatarFigureUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarFigureUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(figure, gender = null, subType = null, isRiding = false) {
        super();
        this._figure = figure;
        this._gender = gender;
        this._subType = subType;
        this._isRiding = isRiding;
    }
    get figure() {
        return this._figure;
    }
    get gender() {
        return this._gender;
    }
    get subType() {
        return this._subType;
    }
    get isRiding() {
        return this._isRiding;
    }
}


/***/ }),

/***/ "vqvB":
/*!**************************************************!*\
  !*** ./src/client/room/utils/RoomEnterEffect.ts ***!
  \**************************************************/
/*! exports provided: RoomEnterEffect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEnterEffect", function() { return RoomEnterEffect; });
/* harmony import */ var _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../nitro/Nitro */ "P7Cj");

class RoomEnterEffect {
    static init(delay, duration) {
        RoomEnterEffect._Str_11007 = 0;
        RoomEnterEffect._Str_6886 = delay;
        RoomEnterEffect._Str_7448 = duration;
        RoomEnterEffect._Str_12311 = _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time;
        RoomEnterEffect._Str_621 = RoomEnterEffect._Str_11894;
    }
    static _Str_23419() {
        if ((RoomEnterEffect._Str_621 === RoomEnterEffect._Str_14599) || (RoomEnterEffect._Str_621 === RoomEnterEffect._Str_12882))
            return;
        const k = (_nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.time - RoomEnterEffect._Str_12311);
        if (k > (RoomEnterEffect._Str_6886 + RoomEnterEffect._Str_7448)) {
            RoomEnterEffect._Str_621 = RoomEnterEffect._Str_12882;
            return;
        }
        RoomEnterEffect._Str_7125 = true;
        if (k < RoomEnterEffect._Str_6886) {
            RoomEnterEffect._Str_621 = RoomEnterEffect._Str_11894;
            return;
        }
        RoomEnterEffect._Str_621 = RoomEnterEffect._Str_14215;
        RoomEnterEffect._Str_11007 = ((k - RoomEnterEffect._Str_6886) / RoomEnterEffect._Str_7448);
    }
    static _Str_22392() {
        RoomEnterEffect._Str_7125 = false;
    }
    static _Str_19559() {
        return (RoomEnterEffect._Str_7125) && (RoomEnterEffect._Str_1349());
    }
    static _Str_1349() {
        if ((RoomEnterEffect._Str_621 === RoomEnterEffect._Str_11894) || (RoomEnterEffect._Str_621 === RoomEnterEffect._Str_14215))
            return true;
        return false;
    }
    static _Str_16017(k = 0, _arg_2 = 1) {
        return Math.min(Math.max(RoomEnterEffect._Str_11007, k), _arg_2);
    }
    static get _Str_17562() {
        return RoomEnterEffect._Str_6886 + RoomEnterEffect._Str_7448;
    }
}
RoomEnterEffect._Str_14599 = 0;
RoomEnterEffect._Str_11894 = 1;
RoomEnterEffect._Str_14215 = 2;
RoomEnterEffect._Str_12882 = 3;
RoomEnterEffect._Str_621 = RoomEnterEffect._Str_14599;
RoomEnterEffect._Str_7125 = false;
RoomEnterEffect._Str_12311 = 0;
RoomEnterEffect._Str_6886 = (20 * 1000);
RoomEnterEffect._Str_7448 = 2000;


/***/ }),

/***/ "vtlK":
/*!******************************************************!*\
  !*** ./src/client/nitro/room/object/RoomWallData.ts ***!
  \******************************************************/
/*! exports provided: RoomWallData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWallData", function() { return RoomWallData; });
/* harmony import */ var _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/utils/Vector3D */ "LGmI");

class RoomWallData {
    constructor() {
        this._corners = [];
        this._endPoints = [];
        this._directions = [];
        this._lengths = [];
        this._leftTurns = [];
        this._borders = [];
        this._hideWalls = [];
        this._manuallyLeftCut = [];
        this._manuallyRightCut = [];
        this._addDuplicates = false;
        this._count = 0;
    }
    _Str_17862(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        if (((this._addDuplicates) || (this._Str_22484(k, _arg_2, _arg_3, _arg_4, _arg_5)))) {
            this._corners.push(k);
            this._directions.push(_arg_2);
            this._lengths.push(_arg_3);
            this._borders.push(_arg_4);
            this._leftTurns.push(_arg_5);
            this._hideWalls.push(false);
            this._manuallyLeftCut.push(false);
            this._manuallyRightCut.push(false);
            this._count++;
        }
    }
    _Str_22484(k, _arg_2, _arg_3, _arg_4, _arg_5) {
        var _local_6;
        while (_local_6 < this._count) {
            if (((((((this._corners[_local_6].x == k.x) && (this._corners[_local_6].y == k.y)) && (this._directions[_local_6] == _arg_2)) && (this._lengths[_local_6] == _arg_3)) && (this._borders[_local_6] == _arg_4)) && (this._leftTurns[_local_6] == _arg_5))) {
                return false;
            }
            _local_6++;
        }
        return true;
    }
    get count() {
        return this._count;
    }
    _Str_10778(k) {
        return this._corners[k];
    }
    _Str_19138(k) {
        this._Str_23674();
        return this._endPoints[k];
    }
    _Str_13743(k) {
        return this._lengths[k];
    }
    getDirection(k) {
        return this._directions[k];
    }
    _Str_25208(k) {
        return this._borders[k];
    }
    _Str_10019(k) {
        return this._hideWalls[k];
    }
    _Str_17084(k) {
        return this._leftTurns[k];
    }
    _Str_25455(k) {
        return this._manuallyLeftCut[k];
    }
    _Str_24163(k) {
        return this._manuallyRightCut[k];
    }
    _Str_15901(k, _arg_2) {
        this._hideWalls[k] = _arg_2;
    }
    _Str_24531(k, _arg_2) {
        if (_arg_2 < this._lengths[k]) {
            this._lengths[k] = _arg_2;
            this._manuallyRightCut[k] = true;
        }
    }
    _Str_23976(k, _arg_2) {
        var _local_3;
        if (((_arg_2 > 0) && (_arg_2 < this._lengths[k]))) {
            const corner = this._corners[k];
            _local_3 = RoomWallData._Str_5077[this.getDirection(k)];
            this._corners[k] = new PIXI.Point((corner.x + (_arg_2 * _local_3.x)), (corner.y + (_arg_2 * _local_3.y)));
            this._lengths[k] = (this._lengths[k] - _arg_2);
            this._manuallyLeftCut[k] = true;
        }
    }
    _Str_23674() {
        var k;
        var _local_2;
        var _local_3;
        var _local_4;
        var _local_5;
        if (this._endPoints.length != this.count) {
            this._endPoints = [];
            k = 0;
            while (k < this.count) {
                _local_2 = this._Str_10778(k);
                _local_3 = new PIXI.Point(_local_2.x, _local_2.y);
                _local_4 = RoomWallData._Str_5077[this.getDirection(k)];
                _local_5 = this._Str_13743(k);
                _local_3.x = (_local_3.x + (_local_4.x * _local_5));
                _local_3.y = (_local_3.y + (_local_4.y * _local_5));
                this._endPoints.push(_local_3);
                k++;
            }
        }
    }
}
RoomWallData._Str_5077 = [
    new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](1, 0, 0),
    new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 1, 0),
    new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](-1, 0, 0),
    new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, -1, 0)
];
RoomWallData._Str_5543 = [
    new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, 1, 0),
    new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](-1, 0, 0),
    new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](0, -1, 0),
    new _room_utils_Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](1, 0, 0)
];


/***/ }),

/***/ "vuPI":
/*!***************************************************!*\
  !*** ./src/client/core/events/EventDispatcher.ts ***!
  \***************************************************/
/*! exports provided: EventDispatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventDispatcher", function() { return EventDispatcher; });
/* harmony import */ var _NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../NitroConfiguration */ "8vq6");
/* harmony import */ var _common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/logger/NitroLogger */ "vzKh");



class EventDispatcher extends _common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_1__["Disposable"] {
    constructor() {
        super();
        this._listeners = new Map();
    }
    onDispose() {
        this.removeAllListeners();
        super.onDispose();
    }
    addEventListener(type, callback) {
        if (!type || !callback)
            return;
        const existing = this._listeners.get(type);
        if (existing === undefined) {
            this._listeners.set(type, [callback]);
            return;
        }
        existing.push(callback);
    }
    removeEventListener(type, callback) {
        if (!type || !callback)
            return;
        const existing = this._listeners.get(type);
        if (!existing || !existing.length)
            return;
        for (let [index, callback] of existing.entries()) {
            if (!callback || callback !== callback)
                continue;
            existing.splice(index, 1);
            if (existing.length === 0)
                this._listeners.delete(type);
            return;
        }
    }
    dispatchEvent(event) {
        if (!event)
            return false;
        if (_NitroConfiguration__WEBPACK_IMPORTED_MODULE_0__["NitroConfiguration"].EVENT_DISPATCHER_LOG)
            _common_logger_NitroLogger__WEBPACK_IMPORTED_MODULE_2__["NitroLogger"].log(`DISPATCHED: ${event.type}`, 'Event Dispatcher');
        this.processEvent(event);
        return true;
    }
    processEvent(event) {
        const existing = this._listeners.get(event.type);
        if (!existing || !existing.length)
            return;
        const callbacks = [];
        for (let callback of existing) {
            if (!callback)
                continue;
            callbacks.push(callback);
        }
        while (callbacks.length) {
            try {
                const callback = callbacks.shift();
                callback(event);
            }
            catch (err) {
                console.error(err);
                return;
            }
        }
    }
    removeAllListeners() {
        if (!this._listeners || !this._listeners.size)
            return;
        for (let [type, callbacks] of this._listeners.entries()) {
            if (!type || !callbacks.length)
                continue;
            for (let callback of callbacks) {
                if (!callback)
                    continue;
                this.removeEventListener(type, callback);
            }
        }
    }
}


/***/ }),

/***/ "vuwM":
/*!*********************************************!*\
  !*** ./src/client/room/utils/NumberBank.ts ***!
  \*********************************************/
/*! exports provided: NumberBank */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NumberBank", function() { return NumberBank; });
class NumberBank {
    constructor(k) {
        if (k < 0)
            k = 0;
        this._reservedNumbers = [];
        this._freeNumbers = [];
        let i = 0;
        while (i < k) {
            this._freeNumbers.push(i);
            i++;
        }
    }
    dispose() {
        this._reservedNumbers = null;
        this._freeNumbers = null;
    }
    _Str_19709() {
        if (this._freeNumbers.length > 0) {
            let k = this._freeNumbers.pop();
            this._reservedNumbers.push(k);
            return k;
        }
        return -1;
    }
    _Str_15187(k) {
        let i = this._reservedNumbers.indexOf(k);
        if (i >= 0) {
            this._reservedNumbers.splice(i, 1);
            this._freeNumbers.push(k);
        }
    }
}


/***/ }),

/***/ "vx5b":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/navigator/NavigatorMetadataEvent.ts ***!
  \**********************************************************************************************/
/*! exports provided: NavigatorMetadataEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorMetadataEvent", function() { return NavigatorMetadataEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_navigator_NavigatorMetadataParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/navigator/NavigatorMetadataParser */ "B+OB");


class NavigatorMetadataEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_navigator_NavigatorMetadataParser__WEBPACK_IMPORTED_MODULE_1__["NavigatorMetadataParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "vy/v":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/navigator/NavigatorCategoriesParser.ts ***!
  \***********************************************************************************************/
/*! exports provided: NavigatorCategoriesParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorCategoriesParser", function() { return NavigatorCategoriesParser; });
/* harmony import */ var _NavigatorCategoryDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NavigatorCategoryDataParser */ "gywX");

class NavigatorCategoriesParser {
    flush() {
        this._categories = [];
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        let totalCategories = wrapper.readInt();
        while (totalCategories > 0) {
            this._categories.push(new _NavigatorCategoryDataParser__WEBPACK_IMPORTED_MODULE_0__["NavigatorCategoryDataParser"](wrapper));
            totalCategories--;
        }
        return true;
    }
    get categories() {
        return this._categories;
    }
}


/***/ }),

/***/ "vzKh":
/*!******************************************************!*\
  !*** ./src/client/core/common/logger/NitroLogger.ts ***!
  \******************************************************/
/*! exports provided: NitroLogger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroLogger", function() { return NitroLogger; });
class NitroLogger {
    constructor(name, description = null) {
        this._name = name;
        this._description = description;
        this._print = true;
    }
    log(message) {
        this.printMessage(message);
    }
    error(message, trace) {
        this.printMessage(trace || message);
    }
    warn(message) {
        this.printMessage(message);
    }
    printMessage(message) {
        if (!this._print)
            return;
        NitroLogger.log(message, this._name);
    }
    static log(message, name = 'Nitro') {
        console.log(`[Nitro] ${new Date().toDateString()} [${name}] ${message} ${this.getTimestamp()}`);
    }
    static getTimestamp() {
        const now = Date.now();
        const result = ` +${now - NitroLogger.LAST_TIMESTAMP || 0}ms`;
        this.LAST_TIMESTAMP = now;
        return result;
    }
    get description() {
        return this._description;
    }
    set description(description) {
        this._description = description;
    }
    get print() {
        return this._print;
    }
    set print(flag) {
        this._print = flag;
    }
}
NitroLogger.LAST_TIMESTAMP = Date.now();


/***/ }),

/***/ "w5xG":
/*!*******************************************************************!*\
  !*** ./src/client/nitro/room/utils/FurnitureStackingHeightMap.ts ***!
  \*******************************************************************/
/*! exports provided: FurnitureStackingHeightMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureStackingHeightMap", function() { return FurnitureStackingHeightMap; });
class FurnitureStackingHeightMap {
    constructor(width, height) {
        this._width = width;
        this._height = height;
        this._heights = [];
        this._isNotStackable = [];
        this._isRoomTile = [];
        let total = (width * height);
        while (total > 0) {
            this._heights.push(0);
            this._isNotStackable.push(false);
            this._isRoomTile.push(false);
            total--;
        }
    }
    dispose() {
        this._width = 0;
        this._height = 0;
        this._height = null;
        this._isNotStackable = null;
        this._isRoomTile = null;
    }
    validPosition(x, y) {
        return (((x >= 0) && (x < this._width)) && (y >= 0)) && (y < this._height);
    }
    getTileHeight(x, y) {
        return ((this.validPosition(x, y)) ? this._heights[((y * this._width) + x)] : 0);
    }
    setTileHeight(x, y, height) {
        if (this.validPosition(x, y))
            this._heights[((y * this._width) + x)] = height;
    }
    setStackingBlocked(x, y, isNotStackable) {
        if (this.validPosition(x, y))
            this._isNotStackable[((y * this._width) + x)] = isNotStackable;
    }
    setIsRoomTile(x, y, isRoomTile) {
        if (this.validPosition(x, y))
            this._isRoomTile[((y * this._width) + x)] = isRoomTile;
    }
    validateLocation(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8, _arg_9, _arg_10 = -1) {
        let _local_12 = 0;
        let _local_13 = 0;
        if (!this.validPosition(k, _arg_2) || !this.validPosition(((k + _arg_3) - 1), ((_arg_2 + _arg_4) - 1)))
            return false;
        if (((_arg_5 < 0) || (_arg_5 >= this._width)))
            _arg_5 = 0;
        if (((_arg_6 < 0) || (_arg_6 >= this._height)))
            _arg_6 = 0;
        _arg_7 = Math.min(_arg_7, (this._width - _arg_5));
        _arg_8 = Math.min(_arg_8, (this._height - _arg_6));
        if (_arg_10 === -1)
            _arg_10 = this.getTileHeight(k, _arg_2);
        let _local_11 = _arg_2;
        while (_local_11 < (_arg_2 + _arg_4)) {
            _local_12 = k;
            while (_local_12 < (k + _arg_3)) {
                if (((((_local_12 < _arg_5) || (_local_12 >= (_arg_5 + _arg_7))) || (_local_11 < _arg_6)) || (_local_11 >= (_arg_6 + _arg_8)))) {
                    _local_13 = ((_local_11 * this._width) + _local_12);
                    if (_arg_9) {
                        if (!this._isRoomTile[_local_13])
                            return false;
                    }
                    else {
                        if (((this._isNotStackable[_local_13]) || (!(this._isRoomTile[_local_13]))) || (Math.abs((this._heights[_local_13] - _arg_10)) > 0.01))
                            return false;
                    }
                }
                _local_12++;
            }
            _local_11++;
        }
        return true;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
}


/***/ }),

/***/ "wFft":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/room/rasterizer/basic/PlaneMaterialCell.ts ***!
  \***********************************************************************************************/
/*! exports provided: PlaneMaterialCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaneMaterialCell", function() { return PlaneMaterialCell; });
/* harmony import */ var _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../room/utils/TextureUtils */ "IxQr");
/* harmony import */ var _utils_Randomizer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/Randomizer */ "CH4U");


class PlaneMaterialCell {
    constructor(k, _arg_2 = null, _arg_3 = null, _arg_4 = 0) {
        this._extraItemCount = 0;
        this._cachedBitmapData = null;
        this._texture = k;
        this._extraItemOffsets = [];
        this._extraItemAssets = [];
        this._extraItemCount = 0;
        if (_arg_2 && _arg_2.length && (_arg_4 > 0)) {
            let assetIndex = 0;
            while (assetIndex < _arg_2.length) {
                const graphic = _arg_2[assetIndex];
                if (graphic)
                    this._extraItemAssets.push(graphic);
                assetIndex++;
            }
            if (this._extraItemAssets.length) {
                if (_arg_3) {
                    let pointIndex = 0;
                    while (pointIndex < _arg_3.length) {
                        const point = _arg_3[pointIndex];
                        if (point)
                            this._extraItemOffsets.push(new PIXI.Point(point.x, point.y));
                        pointIndex++;
                    }
                }
                this._extraItemCount = _arg_4;
            }
        }
    }
    get isStatic() {
        return this._extraItemCount == 0;
    }
    dispose() {
        if (this._texture) {
            this._texture.dispose();
            this._texture = null;
        }
        if (this._cachedBitmapData) {
            this._cachedBitmapData.destroy();
            this._cachedBitmapData = null;
        }
        this._extraItemAssets = null;
        this._extraItemOffsets = null;
        this._extraItemCount = 0;
    }
    _Str_3355() {
        if (this._cachedBitmapData) {
            this._cachedBitmapData.destroy();
            this._cachedBitmapData = null;
        }
    }
    _Str_9599(k) {
        if (this._texture) {
            const texture = this._texture._Str_4913(k);
            if (texture)
                return texture.height;
        }
        return 0;
    }
    render(normal, textureOffsetX, textureOffsetY) {
        if (!this._texture)
            return null;
        const texture = this._texture._Str_4913(normal);
        if (!texture)
            return null;
        let bitmap = new PIXI.Graphics()
            .beginTextureFill({ texture })
            .drawRect(0, 0, texture.width, texture.height)
            .endFill();
        if ((textureOffsetX !== 0) || (textureOffsetY !== 0)) {
            const sourceBitmap = new PIXI.Graphics()
                .beginFill(0)
                .drawRect(0, 0, (bitmap.width * 2), (bitmap.height * 2))
                .endFill()
                .beginTextureFill({ texture })
                .drawRect(0, 0, bitmap.width, bitmap.height)
                .drawRect(bitmap.width, 0, bitmap.width, bitmap.height)
                .drawRect(0, bitmap.height, bitmap.width, bitmap.height)
                .drawRect(bitmap.width, bitmap.height, bitmap.width, bitmap.height)
                .endFill();
            bitmap = new PIXI.Graphics()
                .beginFill(0)
                .drawRect(0, 0, bitmap.width, bitmap.height)
                .endFill();
            while (textureOffsetX < 0)
                textureOffsetX += texture.width;
            while (textureOffsetY < 0)
                textureOffsetY += texture.height;
            const sourceTexture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(sourceBitmap, new PIXI.Rectangle((textureOffsetX % bitmap.width), (textureOffsetY % bitmap.height), texture.width, texture.height));
            if (sourceTexture) {
                bitmap
                    .beginTextureFill({ texture: sourceTexture })
                    .drawRect(0, 0, texture.width, texture.height)
                    .endFill();
            }
        }
        if (bitmap) {
            if (!this.isStatic) {
                if (this._cachedBitmapData) {
                    if ((this._cachedBitmapData.width !== bitmap.width) || (this._cachedBitmapData.height !== bitmap.height)) {
                        this._cachedBitmapData.destroy();
                        this._cachedBitmapData = null;
                    }
                    else {
                        const bitmapTexture = _room_utils_TextureUtils__WEBPACK_IMPORTED_MODULE_0__["TextureUtils"].generateTexture(bitmap, new PIXI.Rectangle(0, 0, bitmap.width, bitmap.height));
                        if (bitmapTexture) {
                            this._cachedBitmapData
                                .beginTextureFill({ texture: bitmapTexture })
                                .drawRect(0, 0, bitmapTexture.width, bitmapTexture.height)
                                .endFill();
                        }
                    }
                }
                if (!this._cachedBitmapData)
                    this._cachedBitmapData = bitmap.clone();
                const limitMin = Math.min(this._extraItemCount, this._extraItemOffsets.length);
                const limitMax = Math.max(this._extraItemCount, this._extraItemOffsets.length);
                const offsetIndexes = _utils_Randomizer__WEBPACK_IMPORTED_MODULE_1__["Randomizer"]._Str_23572(this._extraItemCount, limitMax);
                let i = 0;
                while (i < limitMin) {
                    const offset = this._extraItemOffsets[offsetIndexes[i]];
                    const item = this._extraItemAssets[(i % this._extraItemAssets.length)];
                    if (offset && item) {
                        const assetTexture = item.texture;
                        if (assetTexture) {
                            const offsetFinal = new PIXI.Point((offset.x + item.offsetX), (offset.y + item.offsetY));
                            const flipMatrix = new PIXI.Matrix();
                            let x = 1;
                            let y = 1;
                            let translateX = 0;
                            let translateY = 0;
                            if (item.flipH) {
                                x = -1;
                                translateX = assetTexture.width;
                            }
                            if (item.flipV) {
                                y = -1;
                                translateY = assetTexture.height;
                            }
                            let offsetX = (offsetFinal.x + translateX);
                            offsetX = ((offsetX >> 1) << 1);
                            flipMatrix.scale(x, y);
                            flipMatrix.translate(offsetX, (offsetFinal.y + translateY));
                            this._cachedBitmapData
                                .beginTextureFill({ texture: assetTexture, matrix: flipMatrix })
                                .drawRect(flipMatrix.tx, flipMatrix.ty, assetTexture.width, assetTexture.height)
                                .endFill();
                        }
                    }
                    i++;
                }
                return this._cachedBitmapData;
            }
            return bitmap;
        }
        return null;
    }
    _Str_2125(k) {
        return (this._texture == null) ? null : this._texture._Str_2125(k);
    }
}


/***/ }),

/***/ "wQ8q":
/*!******************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureTrophyLogic.ts ***!
  \******************************************************************************/
/*! exports provided: FurnitureTrophyLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureTrophyLogic", function() { return FurnitureTrophyLogic; });
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events/RoomObjectWidgetRequestEvent */ "6u0Z");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");



class FurnitureTrophyLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureLogic"] {
    getEventTypes() {
        const types = [_events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectWidgetRequestEvent"].TROPHY];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DOUBLE_CLICK:
                this.useObject();
                return;
        }
        super.mouseEvent(event, geometry);
    }
    useObject() {
        if (!this.eventDispatcher || !this.object)
            return;
        this.eventDispatcher.dispatchEvent(new _events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectWidgetRequestEvent"](_events_RoomObjectWidgetRequestEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectWidgetRequestEvent"].TROPHY, this.object));
    }
}


/***/ }),

/***/ "wR2t":
/*!*******************************************************!*\
  !*** ./src/client/nitro/room/object/RoomFloorHole.ts ***!
  \*******************************************************/
/*! exports provided: RoomFloorHole */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomFloorHole", function() { return RoomFloorHole; });
class RoomFloorHole {
    constructor(x, y, width, height) {
        this._x = x;
        this._y = y;
        this._width = width;
        this._height = height;
    }
    get x() {
        return this._x;
    }
    get y() {
        return this._y;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
}


/***/ }),

/***/ "wSNj":
/*!******************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/logic/FurnitureWallMultiStateComposer.ts ***!
  \******************************************************************************************************************/
/*! exports provided: FurnitureWallMultiStateComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallMultiStateComposer", function() { return FurnitureWallMultiStateComposer; });
class FurnitureWallMultiStateComposer {
    constructor(itemId, state) {
        this._data = [itemId, state];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "whnG":
/*!*************************************************!*\
  !*** ./src/client/nitro/avatar/pets/PetType.ts ***!
  \*************************************************/
/*! exports provided: PetType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetType", function() { return PetType; });
class PetType {
}
PetType.DOG = 0;
PetType.CAT = 1;
PetType.CROCODILE = 2;
PetType.TERRIER = 3;
PetType.BEAR = 4;
PetType.PIG = 5;
PetType.LION = 6;
PetType.RHINO = 7;
PetType.SPIDER = 8;
PetType.TURTLE = 9;
PetType.CHICKEN = 10;
PetType.FROG = 11;
PetType.DRAGON = 12;
PetType.MONSTER = 13;
PetType.MONKEY = 14;
PetType.HORSE = 15;
PetType.MONSTERPLANT = 16;
PetType.BUNNY = 17;
PetType.BUNNYEVIL = 18;
PetType.BUNNYDEPRESSED = 19;
PetType.BUNNYLOVE = 20;
PetType.PIGEONGOOD = 21;
PetType.PIGEONEVIL = 22;
PetType.DEMONMONKEY = 23;
PetType.BABYBEAR = 24;
PetType.BABYTERRIER = 25;
PetType.GNOME = 26;
PetType.LEPRECHAUN = 27;
PetType.KITTENBABY = 28;
PetType.PUPPYBABY = 29;
PetType.PIGLETNBABY = 30;
PetType.HALOOMPA = 31;
PetType.FOOLS = 32;
PetType.PTEROSAUR = 33;
PetType.VELOCIRAPTOR = 34;


/***/ }),

/***/ "wr6u":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/AnimationFrameSequenceData.ts ***!
  \***************************************************************************************/
/*! exports provided: AnimationFrameSequenceData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrameSequenceData", function() { return AnimationFrameSequenceData; });
/* harmony import */ var _AnimationFrameData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationFrameData */ "izm6");
/* harmony import */ var _AnimationFrameDirectionalData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnimationFrameDirectionalData */ "z9LQ");


class AnimationFrameSequenceData {
    constructor(loopCount, isRandom) {
        this._frames = [];
        this._frameIndexes = [];
        this._frameRepeats = [];
        this._isRandom = isRandom;
        this._loopCount = (loopCount < 1) ? 1 : loopCount;
    }
    get isRandom() {
        return this._isRandom;
    }
    get frameCount() {
        return (this._frameIndexes.length * this._loopCount);
    }
    dispose() {
        this._frames = [];
    }
    initialize() {
        let frameIndex = (this._frameIndexes.length - 1);
        let realIndex = -1;
        let nextIndex = 1;
        while (frameIndex >= 0) {
            if (this._frameIndexes[frameIndex] === realIndex) {
                nextIndex++;
            }
            else {
                realIndex = this._frameIndexes[frameIndex];
                nextIndex = 1;
            }
            this._frameRepeats[frameIndex] = nextIndex;
            frameIndex--;
        }
    }
    addFrame(id, x, y, randomX, randomY, directionalOffset) {
        let repeats = 1;
        if (this._frames.length > 0) {
            const frame = this._frames[(this._frames.length - 1)];
            if ((((((((frame.id === id) && (!(frame.hasDirectionalOffsets()))) && (frame.x === x)) && (frame.y === y)) && (frame.randomX === randomX)) && (randomX === 0)) && (frame.randomY === randomY)) && (randomY === 0)) {
                repeats += frame.repeats;
                this._frames.pop();
            }
        }
        const frame = (directionalOffset) ? new _AnimationFrameDirectionalData__WEBPACK_IMPORTED_MODULE_1__["AnimationFrameDirectionalData"](id, x, y, randomX, randomY, directionalOffset, repeats) : new _AnimationFrameData__WEBPACK_IMPORTED_MODULE_0__["AnimationFrameData"](id, x, y, randomX, randomY, repeats);
        this._frames.push(frame);
        this._frameIndexes.push((this._frames.length - 1));
        this._frameRepeats.push(1);
    }
    getFrame(frameCount) {
        if ((!this._frames.length || (frameCount < 0)) || (frameCount >= this.frameCount))
            return null;
        return this._frames[this._frameIndexes[(frameCount % this._frameIndexes.length)]];
    }
    getFrameIndex(frameCount) {
        if (((frameCount < 0) || (frameCount >= this.frameCount)))
            return -1;
        if (this._isRandom) {
            frameCount = Math.round((Math.random() * this._frameIndexes.length));
            if (frameCount === this._frameIndexes.length)
                frameCount--;
        }
        return frameCount;
    }
    getRepeats(frameCount) {
        if (((frameCount < 0) || (frameCount >= this.frameCount)))
            return 0;
        return this._frameRepeats[(frameCount % this._frameRepeats.length)];
    }
}


/***/ }),

/***/ "ws0Y":
/*!***********************************************!*\
  !*** ./src/client/nitro/session/BadgeInfo.ts ***!
  \***********************************************/
/*! exports provided: BadgeInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BadgeInfo", function() { return BadgeInfo; });
class BadgeInfo {
    constructor(image, placeHolder) {
        this._image = image;
        this._placeHolder = placeHolder;
    }
    get image() {
        return this._image;
    }
    get placeHolder() {
        return this._placeHolder;
    }
}


/***/ }),

/***/ "wtfC":
/*!******************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomObjectFloorHoleEvent.ts ***!
  \******************************************************************/
/*! exports provided: RoomObjectFloorHoleEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectFloorHoleEvent", function() { return RoomObjectFloorHoleEvent; });
/* harmony import */ var _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/events/RoomObjectEvent */ "y81I");

class RoomObjectFloorHoleEvent extends _room_events_RoomObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomObjectEvent"] {
    constructor(k, _arg_2) {
        super(k, _arg_2);
    }
}
RoomObjectFloorHoleEvent.ADD_HOLE = 'ROFHO_ADD_HOLE';
RoomObjectFloorHoleEvent.REMOVE_HOLE = 'ROFHO_REMOVE_HOLE';


/***/ }),

/***/ "wwod":
/*!*********************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetRoomViewUpdateEvent.ts ***!
  \*********************************************************************************/
/*! exports provided: RoomWidgetRoomViewUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetRoomViewUpdateEvent", function() { return RoomWidgetRoomViewUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetRoomViewUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(type, view = null, position = null, scale = 0) {
        super(type);
        this._roomViewRectangle = view;
        this._positionDelta = position;
        this._scale = scale;
    }
    get roomViewRectangle() {
        if (!this._roomViewRectangle)
            return null;
        return this._roomViewRectangle.clone();
    }
    get positionDelta() {
        if (!this._positionDelta)
            return null;
        return this._positionDelta.clone();
    }
    get scale() {
        return this._scale;
    }
}
RoomWidgetRoomViewUpdateEvent.SIZE_CHANGED = 'RWRVUE_ROOM_VIEW_SIZE_CHANGED';
RoomWidgetRoomViewUpdateEvent.SCALE_CHANGED = 'RWRVUE_ROOM_VIEW_SCALE_CHANGED';
RoomWidgetRoomViewUpdateEvent.POSITION_CHANGED = 'RWRVUE_ROOM_VIEW_POSITION_CHANGED';


/***/ }),

/***/ "wyCi":
/*!*************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/room/furniture/wall/FurnitureWallUpdateComposer.ts ***!
  \*************************************************************************************************************/
/*! exports provided: FurnitureWallUpdateComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallUpdateComposer", function() { return FurnitureWallUpdateComposer; });
class FurnitureWallUpdateComposer {
    constructor(itemId, location) {
        this._data = [itemId, location];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "x+DL":
/*!******************************************************************!*\
  !*** ./src/client/nitro/ui/widget/messages/RoomWidgetMessage.ts ***!
  \******************************************************************/
/*! exports provided: RoomWidgetMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetMessage", function() { return RoomWidgetMessage; });
class RoomWidgetMessage {
    constructor(type) {
        this._type = type;
    }
    get type() {
        return this._type;
    }
}


/***/ }),

/***/ "x30d":
/*!******************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallAddParser.ts ***!
  \******************************************************************************************************/
/*! exports provided: FurnitureWallAddParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallAddParser", function() { return FurnitureWallAddParser; });
/* harmony import */ var _FurnitureWallDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureWallDataParser */ "1+1A");

class FurnitureWallAddParser {
    flush() {
        this._item = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._item = new _FurnitureWallDataParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureWallDataParser"](wrapper);
        this._item.username = wrapper.readString();
        return true;
    }
    get item() {
        return this._item;
    }
}


/***/ }),

/***/ "xB90":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/user/data/UserCurrentBadgesEvent.ts ***!
  \**********************************************************************************************/
/*! exports provided: UserCurrentBadgesEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCurrentBadgesEvent", function() { return UserCurrentBadgesEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_user_data_UserCurrentBadgesParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/user/data/UserCurrentBadgesParser */ "bWzX");


class UserCurrentBadgesEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_user_data_UserCurrentBadgesParser__WEBPACK_IMPORTED_MODULE_1__["UserCurrentBadgesParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "xCtS":
/*!*************************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetPetInfostandUpdateEvent.ts ***!
  \*************************************************************************************/
/*! exports provided: RoomWidgetPetInfostandUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetPetInfostandUpdateEvent", function() { return RoomWidgetPetInfostandUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetPetInfostandUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(k, _arg_2, _arg_3, _arg_4, _arg_5, _arg_6, _arg_7, _arg_8, _arg_9, _arg_10) {
        super(RoomWidgetPetInfostandUpdateEvent.PET_INFO);
        this._Str_6689 = k;
        this._Str_20932 = _arg_2;
        this._name = _arg_3;
        this._id = _arg_4;
        this._image = _arg_5;
        this._Str_10121 = _arg_6;
        this._ownerId = _arg_7;
        this._ownerName = _arg_8;
        this._Str_2775 = _arg_9;
        this._unknownRarityLevel = _arg_10;
    }
    get name() {
        return this._name;
    }
    get image() {
        return this._image;
    }
    get id() {
        return this._id;
    }
    get _Str_4355() {
        return this._Str_6689;
    }
    get _Str_14767() {
        return this._Str_20932;
    }
    get _Str_5175() {
        return this._Str_10121;
    }
    get ownerId() {
        return this._ownerId;
    }
    get ownerName() {
        return this._ownerName;
    }
    get _Str_5114() {
        return this._Str_11149;
    }
    get _Str_2707() {
        return this._Str_2775;
    }
    get age() {
        return this._age;
    }
    get unknownRarityLevel() {
        return this._unknownRarityLevel;
    }
    get saddle() {
        return this._saddle;
    }
    get rider() {
        return this._rider;
    }
    get breedable() {
        return this._breedable;
    }
    get fullyGrown() {
        return this._fullyGrown;
    }
    get dead() {
        return this._dead;
    }
    get rarityLevel() {
        return this._rarityLevel;
    }
    get _Str_3307() {
        return this._Str_4460;
    }
    get publiclyRideable() {
        return this._publiclyRideable;
    }
    get level() {
        return this._level;
    }
    get maximumLevel() {
        return this._maximumLevel;
    }
    get experience() {
        return this._experience;
    }
    get levelExperienceGoal() {
        return this._levelExperienceGoal;
    }
    get energy() {
        return this._energy;
    }
    get maximumEnergy() {
        return this._maximumEnergy;
    }
    get happyness() {
        return this._happyness;
    }
    get maximumHappyness() {
        return this._maximumHappyness;
    }
    get _Str_2985() {
        return this._Str_3973;
    }
    get respect() {
        return this._respect;
    }
    set level(k) {
        this._level = k;
    }
    set maximumLevel(k) {
        this._maximumLevel = k;
    }
    set experience(k) {
        this._experience = k;
    }
    set levelExperienceGoal(k) {
        this._levelExperienceGoal = k;
    }
    set energy(k) {
        this._energy = k;
    }
    set maximumEnergy(k) {
        this._maximumEnergy = k;
    }
    set happyness(k) {
        this._happyness = k;
    }
    set maximumHappyness(k) {
        this._maximumHappyness = k;
    }
    set _Str_2985(k) {
        this._Str_3973 = k;
    }
    set _Str_5114(k) {
        this._Str_11149 = k;
    }
    set respect(k) {
        this._respect = k;
    }
    set age(k) {
        this._age = k;
    }
    set saddle(k) {
        this._saddle = k;
    }
    set rider(k) {
        this._rider = k;
    }
    set breedable(k) {
        this._breedable = k;
    }
    set _Str_3307(k) {
        this._Str_4460 = k;
    }
    set publiclyRideable(k) {
        this._publiclyRideable = k;
    }
    set fullyGrown(k) {
        this._fullyGrown = k;
    }
    set dead(k) {
        this._dead = k;
    }
    set rarityLevel(k) {
        this._rarityLevel = k;
    }
    get maximumTimeToLive() {
        return this._maximumTimeToLive;
    }
    set maximumTimeToLive(k) {
        this._maximumTimeToLive = k;
    }
    get remainingTimeToLive() {
        return this._remainingTimeToLive;
    }
    set remainingTimeToLive(k) {
        this._remainingTimeToLive = k;
    }
    get remainingGrowTime() {
        return this._remainingGrowTime;
    }
    set remainingGrowTime(k) {
        this._remainingGrowTime = k;
    }
    get publiclyBreedable() {
        return this._publiclyBreedable;
    }
    set publiclyBreedable(k) {
        this._publiclyBreedable = k;
    }
}
RoomWidgetPetInfostandUpdateEvent.PET_INFO = "RWPIUE_PET_INFO";


/***/ }),

/***/ "xR0k":
/*!**************************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/furniture/FurnitureScoreBoardVisualization.ts ***!
  \**************************************************************************************************/
/*! exports provided: FurnitureScoreBoardVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureScoreBoardVisualization", function() { return FurnitureScoreBoardVisualization; });
/* harmony import */ var _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureAnimatedVisualization */ "MS0h");

class FurnitureScoreBoardVisualization extends _FurnitureAnimatedVisualization__WEBPACK_IMPORTED_MODULE_0__["FurnitureAnimatedVisualization"] {
    getFrameNumber(scale, layerId) {
        const tag = this.getLayerTag(scale, this.direction, layerId);
        const animation = this.object.getState(0);
        switch (tag) {
            case FurnitureScoreBoardVisualization.ONES_SPRITE: return Math.floor(animation % 10);
            case FurnitureScoreBoardVisualization.TENS_SPRITE: return Math.floor((animation / 10) % 10);
            case FurnitureScoreBoardVisualization.HUNDREDS_SPRITE: return Math.floor((animation / 100) % 10);
            case FurnitureScoreBoardVisualization.THOUSANDS_SPRITE: return Math.floor((animation / 1000) % 10);
            default: return super.getFrameNumber(scale, layerId);
        }
    }
}
FurnitureScoreBoardVisualization.ONES_SPRITE = 'ones_sprite';
FurnitureScoreBoardVisualization.TENS_SPRITE = 'tens_sprite';
FurnitureScoreBoardVisualization.HUNDREDS_SPRITE = 'hundreds_sprite';
FurnitureScoreBoardVisualization.THOUSANDS_SPRITE = 'thousands_sprite';


/***/ }),

/***/ "xUJ7":
/*!*******************************************************************!*\
  !*** ./src/app/components/room/widgets/avatarinfo/PetInfoData.ts ***!
  \*******************************************************************/
/*! exports provided: PetInfoData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PetInfoData", function() { return PetInfoData; });
class PetInfoData {
    constructor() {
        this.age = 0;
        this.rarityLevel = 0;
        this._Str_5114 = false;
        this.energy = 0;
        this.maximumEnergy = 0;
        this.experience = 0;
        this.levelExperienceGoal = 0;
        this.id = 0;
        this._Str_5175 = false;
        this.level = 0;
        this.maximumLevel = 0;
        this.name = "";
        this.happyness = 0;
        this.maximumHappyness = 0;
        this.ownerId = 0;
        this.ownerName = "";
        this._Str_14767 = 0;
        this.respect = 0;
        this._Str_2985 = 0;
        this._Str_4355 = 0;
        this.saddle = false;
        this.rider = false;
        this.breedable = false;
        this.fullyGrown = false;
        this.dead = false;
        this.publiclyRideable = 0;
        this.maximumTimeToLive = 0;
        this.remainingTimeToLive = 0;
        this.remainingGrowTime = 0;
        this.publiclyBreedable = false;
        this._Str_3307 = [];
    }
    populate(k) {
        this.age = k.age;
        this.rarityLevel = k.rarityLevel;
        this._Str_5114 = k._Str_5114;
        this.energy = k.energy;
        this.maximumEnergy = k.maximumEnergy;
        this.experience = k.experience;
        this.levelExperienceGoal = k.levelExperienceGoal;
        this.id = k.id;
        this._Str_5175 = k._Str_5175;
        this.level = k.level;
        this.maximumLevel = k.maximumLevel;
        this.name = k.name;
        this.happyness = k.happyness;
        this.maximumHappyness = k.maximumHappyness;
        this.ownerId = k.ownerId;
        this.ownerName = k.ownerName;
        this._Str_14767 = k._Str_14767;
        this.respect = k.respect;
        this._Str_2985 = k._Str_2985;
        this._Str_4355 = k._Str_4355;
        this.saddle = k.saddle;
        this.rider = k.rider;
        this.breedable = k.breedable;
        this.dead = k.dead;
        this.fullyGrown = k.fullyGrown;
        this._Str_3307 = k._Str_3307;
        this.publiclyRideable = k.publiclyRideable;
        this.maximumTimeToLive = k.maximumTimeToLive;
        this.remainingTimeToLive = k.remainingTimeToLive;
        this.remainingGrowTime = k.remainingGrowTime;
        this.publiclyBreedable = k.publiclyBreedable;
    }
}


/***/ }),

/***/ "xcAU":
/*!********************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectStateUpdateMessage.ts ***!
  \********************************************************************/
/*! exports provided: ObjectStateUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectStateUpdateMessage", function() { return ObjectStateUpdateMessage; });
/* harmony import */ var _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../room/messages/RoomObjectUpdateMessage */ "yF7E");

class ObjectStateUpdateMessage extends _room_messages_RoomObjectUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["RoomObjectUpdateMessage"] {
    constructor() {
        super(null, null);
    }
}


/***/ }),

/***/ "xeBG":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/avatar/AvatarVisualizationData.ts ***!
  \**************************************************************************************/
/*! exports provided: AvatarVisualizationData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarVisualizationData", function() { return AvatarVisualizationData; });
/* harmony import */ var _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/common/disposable/Disposable */ "Xr/m");
/* harmony import */ var _avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../avatar/enum/AvatarScaleType */ "uEox");


class AvatarVisualizationData extends _core_common_disposable_Disposable__WEBPACK_IMPORTED_MODULE_0__["Disposable"] {
    constructor() {
        super();
    }
    initialize(asset) {
        return true;
    }
    onDispose() {
        this._avatarRenderer = null;
    }
    createAvatarImage(figure, size, gender = null, avatarListener = null, effectListener = null) {
        let avatarImage = null;
        if (size > 48)
            avatarImage = this._avatarRenderer.createAvatarImage(figure, _avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_1__["AvatarScaleType"].LARGE, gender, avatarListener, effectListener);
        else
            avatarImage = this._avatarRenderer.createAvatarImage(figure, _avatar_enum_AvatarScaleType__WEBPACK_IMPORTED_MODULE_1__["AvatarScaleType"].SMALL, gender, avatarListener, effectListener);
        return avatarImage;
    }
    getAvatarRendererAsset(name) {
        if (!this._avatarRenderer)
            return null;
        return this._avatarRenderer.assets.getTexture(name);
    }
    get avatarManager() {
        return this._avatarRenderer;
    }
    set avatarManager(renderer) {
        this._avatarRenderer = renderer;
    }
    get layerCount() {
        return 0;
    }
}


/***/ }),

/***/ "xmcY":
/*!*****************************************************************!*\
  !*** ./src/app/components/room/widgets/avatarinfo/component.ts ***!
  \*****************************************************************/
/*! exports provided: RoomAvatarInfoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomAvatarInfoComponent", function() { return RoomAvatarInfoComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/nitro/avatar/enum/AvatarAction */ "/PsI");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectCategory */ "HqZk");
/* harmony import */ var _client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../client/nitro/room/object/RoomObjectVariable */ "XMGm");
/* harmony import */ var _client_nitro_session_HabboClubLevelEnum__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../client/nitro/session/HabboClubLevelEnum */ "5UDg");
/* harmony import */ var _client_nitro_ui_widget_ConversionTrackingWidget__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/ConversionTrackingWidget */ "2Ba9");
/* harmony import */ var _client_room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../client/room/utils/RoomEnterEffect */ "vqvB");
/* harmony import */ var _events_RoomObjectNameEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../events/RoomObjectNameEvent */ "JOb7");
/* harmony import */ var _events_RoomWidgetAvatarInfoEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../events/RoomWidgetAvatarInfoEvent */ "Fxxc");
/* harmony import */ var _events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../events/RoomWidgetFurniInfostandUpdateEvent */ "1tVg");
/* harmony import */ var _events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../events/RoomWidgetRoomObjectUpdateEvent */ "K0gz");
/* harmony import */ var _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../events/RoomWidgetUserInfostandUpdateEvent */ "7KBg");
/* harmony import */ var _messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../messages/RoomWidgetGetObjectLocationMessage */ "HuBo");
/* harmony import */ var _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../messages/RoomWidgetRoomObjectMessage */ "NpmB");
/* harmony import */ var _avatar_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./avatar/component */ "X1P1");
/* harmony import */ var _AvatarInfoData__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./AvatarInfoData */ "XG+c");
/* harmony import */ var _name_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./name/component */ "bQu+");
/* harmony import */ var _ownavatar_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ownavatar/component */ "S50T");
/* harmony import */ var _PetInfoData__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./PetInfoData */ "xUJ7");





















const _c0 = ["contextsContainer"];
function RoomAvatarInfoComponent_ng_template_1_Template(rf, ctx) { }
class RoomAvatarInfoComponent extends _client_nitro_ui_widget_ConversionTrackingWidget__WEBPACK_IMPORTED_MODULE_6__["ConversionTrackingWidget"] {
    constructor(ngZone, componentFactoryResolver) {
        super();
        this.ngZone = ngZone;
        this.componentFactoryResolver = componentFactoryResolver;
        this.view = null;
        this.cachedNameView = null;
        this.cachedOwnAvatarMenuView = null;
        this.cachedAvatarMenuView = null;
        this.cachedNameBubbles = new Map();
        this.lastRollOverId = -1;
        this.userInfoData = new _AvatarInfoData__WEBPACK_IMPORTED_MODULE_16__["AvatarInfoData"]();
        this.petInfoData = new _PetInfoData__WEBPACK_IMPORTED_MODULE_19__["PetInfoData"]();
        this.isDancing = false;
    }
    ngOnDestroy() {
        _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.ticker.remove(this.update, this);
    }
    registerUpdateEvents(eventDispatcher) {
        if (!eventDispatcher)
            return;
        eventDispatcher.addEventListener(_events_RoomWidgetAvatarInfoEvent__WEBPACK_IMPORTED_MODULE_9__["RoomWidgetAvatarInfoEvent"].RWAIE_AVATAR_INFO, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomObjectNameEvent__WEBPACK_IMPORTED_MODULE_8__["RoomObjectNameEvent"].RWONE_TYPE, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_12__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_12__["RoomWidgetUserInfostandUpdateEvent"].PEER, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].USER_REMOVED, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetFurniInfostandUpdateEvent"].FURNI, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_SELECTED, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_DESELECTED, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_ROLL_OVER, this._Str_2557.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_ROLL_OUT, this._Str_2557.bind(this));
        super.registerUpdateEvents(eventDispatcher);
    }
    unregisterUpdateEvents(eventDispatcher) {
        if (!eventDispatcher)
            return;
        eventDispatcher.removeEventListener(_events_RoomWidgetAvatarInfoEvent__WEBPACK_IMPORTED_MODULE_9__["RoomWidgetAvatarInfoEvent"].RWAIE_AVATAR_INFO, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomObjectNameEvent__WEBPACK_IMPORTED_MODULE_8__["RoomObjectNameEvent"].RWONE_TYPE, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_12__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_12__["RoomWidgetUserInfostandUpdateEvent"].PEER, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].USER_REMOVED, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetFurniInfostandUpdateEvent"].FURNI, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_SELECTED, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_DESELECTED, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_ROLL_OVER, this._Str_2557.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_ROLL_OUT, this._Str_2557.bind(this));
        super.unregisterUpdateEvents(eventDispatcher);
    }
    _Str_2557(event) {
        const viewInstance = ((this.view && this.view.instance) || null);
        switch (event.type) {
            case _events_RoomWidgetAvatarInfoEvent__WEBPACK_IMPORTED_MODULE_9__["RoomWidgetAvatarInfoEvent"].RWAIE_AVATAR_INFO:
                break;
            case _events_RoomObjectNameEvent__WEBPACK_IMPORTED_MODULE_8__["RoomObjectNameEvent"].RWONE_TYPE:
                const nameEvent = event;
                if (nameEvent.category === _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_3__["RoomObjectCategory"].UNIT) {
                    this._Str_12674(nameEvent.userId, nameEvent.userName, nameEvent.userType, nameEvent.roomIndex, null);
                }
                break;
            case _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_12__["RoomWidgetUserInfostandUpdateEvent"].OWN_USER:
            case _events_RoomWidgetUserInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_12__["RoomWidgetUserInfostandUpdateEvent"].PEER:
                const infostandEvent = event;
                this.userInfoData.populate(infostandEvent);
                const userData = (infostandEvent.isSpectator ? null : this.userInfoData);
                this._Str_12674(infostandEvent.webID, infostandEvent.name, infostandEvent.userType, infostandEvent.roomIndex, userData);
                break;
            case _events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].USER_REMOVED:
                const removedEvent = event;
                if (viewInstance && (viewInstance.roomIndex === removedEvent.id))
                    this.removeView(this.view, false);
                for (let view of this.cachedNameBubbles.values()) {
                    const viewInstance = view.instance;
                    if (viewInstance.roomIndex == removedEvent.id) {
                        this.removeView(view, false);
                        break;
                    }
                }
                break;
            case _events_RoomWidgetFurniInfostandUpdateEvent__WEBPACK_IMPORTED_MODULE_10__["RoomWidgetFurniInfostandUpdateEvent"].FURNI:
                if (this.view)
                    this.removeView(this.view, false);
                break;
            case _events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_DESELECTED:
                const deselectedEvent = event;
                if (this.view)
                    this.removeView(this.view, false);
                break;
            case _events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_ROLL_OVER:
                const rollOverEvent = event;
                if (!viewInstance || !((viewInstance instanceof _avatar_component__WEBPACK_IMPORTED_MODULE_15__["RoomAvatarInfoAvatarComponent"]) || (viewInstance instanceof _ownavatar_component__WEBPACK_IMPORTED_MODULE_18__["RoomAvatarInfoOwnAvatarComponent"]))) {
                    this.lastRollOverId = rollOverEvent.id;
                    this.messageListener.processWidgetMessage(new _messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_14__["RoomWidgetRoomObjectMessage"](_messages_RoomWidgetRoomObjectMessage__WEBPACK_IMPORTED_MODULE_14__["RoomWidgetRoomObjectMessage"].GET_OBJECT_NAME, rollOverEvent.id, rollOverEvent.category));
                }
                break;
            case _events_RoomWidgetRoomObjectUpdateEvent__WEBPACK_IMPORTED_MODULE_11__["RoomWidgetRoomObjectUpdateEvent"].OBJECT_ROLL_OUT:
                const rollOutEvent = event;
                if (!viewInstance || !((viewInstance instanceof _avatar_component__WEBPACK_IMPORTED_MODULE_15__["RoomAvatarInfoAvatarComponent"]) || (viewInstance instanceof _ownavatar_component__WEBPACK_IMPORTED_MODULE_18__["RoomAvatarInfoOwnAvatarComponent"]))) {
                    if (rollOutEvent.id === this.lastRollOverId) {
                        this.removeView(this.view, false);
                        this.lastRollOverId = -1;
                    }
                }
                break;
        }
        this.toggleUpdateReceiver();
    }
    _Str_12674(userId, userName, userType, roomIndex, avatarData) {
        let isAvatarMenu = !!avatarData;
        let viewInstance = (this.view && this.view.instance);
        if (isAvatarMenu && viewInstance) {
            if (!((viewInstance instanceof _avatar_component__WEBPACK_IMPORTED_MODULE_15__["RoomAvatarInfoAvatarComponent"]) || (viewInstance instanceof _ownavatar_component__WEBPACK_IMPORTED_MODULE_18__["RoomAvatarInfoOwnAvatarComponent"]))) {
                this.removeView(this.view, false);
                viewInstance = null;
            }
        }
        if (!viewInstance || (viewInstance.userId !== userId) || (viewInstance.userName !== userName) || (viewInstance.userType !== userType) || (viewInstance.roomIndex !== roomIndex)) {
            if (this.view)
                this.removeView(this.view, false);
            if (isAvatarMenu) {
                if (avatarData._Str_11453) {
                    if (this.isDecorting)
                        return;
                    if (_client_room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_7__["RoomEnterEffect"]._Str_1349()) {
                    }
                    else {
                        if (!this.cachedOwnAvatarMenuView)
                            this.cachedOwnAvatarMenuView = this.createView(_ownavatar_component__WEBPACK_IMPORTED_MODULE_18__["RoomAvatarInfoOwnAvatarComponent"]);
                        this.view = this.cachedOwnAvatarMenuView;
                        this.ngZone.run(() => _ownavatar_component__WEBPACK_IMPORTED_MODULE_18__["RoomAvatarInfoOwnAvatarComponent"].setup(this.view.instance, userId, userName, userType, roomIndex, avatarData));
                    }
                }
                else {
                    if (!this.cachedAvatarMenuView)
                        this.cachedAvatarMenuView = this.createView(_avatar_component__WEBPACK_IMPORTED_MODULE_15__["RoomAvatarInfoAvatarComponent"]);
                    this.view = this.cachedAvatarMenuView;
                    this.ngZone.run(() => _avatar_component__WEBPACK_IMPORTED_MODULE_15__["RoomAvatarInfoAvatarComponent"].setup(this.view.instance, userId, userName, userType, roomIndex, avatarData));
                    for (let view of this.cachedNameBubbles.values()) {
                        const viewInstance = view.instance;
                        if (viewInstance.userId !== userId)
                            continue;
                        this.removeView(view, false);
                        break;
                    }
                }
            }
            else {
                if (!this.handler.roomEngine.isDecorating) {
                    if (!this.cachedNameView)
                        this.cachedNameView = this.createView(_name_component__WEBPACK_IMPORTED_MODULE_17__["RoomAvatarInfoNameComponent"]);
                    this.view = this.cachedNameView;
                    this.ngZone.run(() => {
                        if (this.handler.container.sessionDataManager.userId === userId) {
                            _name_component__WEBPACK_IMPORTED_MODULE_17__["RoomAvatarInfoNameComponent"].setup(this.view.instance, userId, userName, userType, roomIndex);
                        }
                        else {
                            _name_component__WEBPACK_IMPORTED_MODULE_17__["RoomAvatarInfoNameComponent"].setup(this.view.instance, userId, userName, userType, roomIndex, true);
                        }
                    });
                }
            }
        }
        else {
            if (viewInstance && ((viewInstance instanceof _avatar_component__WEBPACK_IMPORTED_MODULE_15__["RoomAvatarInfoAvatarComponent"]) || (viewInstance instanceof _ownavatar_component__WEBPACK_IMPORTED_MODULE_18__["RoomAvatarInfoOwnAvatarComponent"]))) {
                if (viewInstance.userId === userId)
                    this.removeView(this.view, false);
            }
        }
    }
    createView(component) {
        if (!component)
            return null;
        let viewRef = null;
        let view = null;
        this.ngZone.run(() => {
            const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);
            viewRef = this.contextsContainer.createComponent(componentFactory);
            view = viewRef.instance;
        });
        if (!view || !viewRef)
            return null;
        view.parent = this;
        view.componentRef = viewRef;
        return viewRef;
    }
    removeView(view, flag) {
        if (!view)
            return;
        const componentIndex = this.contextsContainer.indexOf(view.hostView);
        if (componentIndex === -1)
            return;
        this.cachedNameView = null;
        this.cachedOwnAvatarMenuView = null;
        this.cachedAvatarMenuView = null;
        if (view === this.view)
            this.view = null;
        if (view instanceof _name_component__WEBPACK_IMPORTED_MODULE_17__["RoomAvatarInfoNameComponent"]) {
            this.cachedNameBubbles.delete(view.instance.userName);
            this.toggleUpdateReceiver();
        }
        this.ngZone.run(() => this.contextsContainer.remove(componentIndex));
    }
    toggleUpdateReceiver() {
        if (this.view || (this.cachedNameBubbles.size > 0)) {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.ticker.add(this.update, this);
        }
        else {
            _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_2__["Nitro"].instance.ticker.remove(this.update, this);
        }
    }
    update(time) {
        if (this.view) {
            const viewInstance = this.view.instance;
            const message = this.messageListener.processWidgetMessage(new _messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetGetObjectLocationMessage"](_messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetGetObjectLocationMessage"].RWGOI_MESSAGE_GET_OBJECT_LOCATION, viewInstance.userId, viewInstance.userType));
            if (message)
                viewInstance.update(message.rectangle, message._Str_9337, time);
        }
        for (let view of this.cachedNameBubbles.values()) {
            if (!view)
                continue;
            const viewInstance = view.instance;
            const message = this.messageListener.processWidgetMessage(new _messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetGetObjectLocationMessage"](_messages_RoomWidgetGetObjectLocationMessage__WEBPACK_IMPORTED_MODULE_13__["RoomWidgetGetObjectLocationMessage"].RWGOI_MESSAGE_GET_OBJECT_LOCATION, viewInstance.userId, viewInstance.userType));
            if (message)
                viewInstance.update(message.rectangle, message._Str_9337, time);
        }
    }
    getOwnRoomObject() {
        const userId = this.handler.container.sessionDataManager.userId;
        const roomId = this.handler.roomEngine.activeRoomId;
        const category = _client_nitro_room_object_RoomObjectCategory__WEBPACK_IMPORTED_MODULE_3__["RoomObjectCategory"].UNIT;
        const totalObjects = this.handler.roomEngine.getTotalObjectsForManager(roomId, category);
        let i = 0;
        while (i < totalObjects) {
            const roomObject = this.handler.roomEngine.getRoomObjectByIndex(roomId, i, category);
            if (roomObject) {
                const userData = this.handler.roomSession.userDataManager.getUserDataByIndex(roomObject.id);
                if (userData) {
                    if (userData.webID === userId)
                        return roomObject;
                }
            }
            i++;
        }
        return null;
    }
    get getOwnPosture() {
        const roomObject = this.getOwnRoomObject();
        if (roomObject) {
            const model = roomObject.model;
            if (model) {
                return model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].FIGURE_POSTURE);
            }
        }
        return _client_nitro_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_1__["AvatarAction"].POSTURE_STAND;
    }
    get getCanStandUp() {
        const roomObject = this.getOwnRoomObject();
        if (roomObject) {
            const model = roomObject.model;
            if (model) {
                return model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].FIGURE_CAN_STAND_UP);
            }
        }
        return false;
    }
    get _Str_12708() {
        const roomObject = this.getOwnRoomObject();
        if (roomObject) {
            const model = roomObject.model;
            if (model) {
                const effectId = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].FIGURE_EFFECT);
                return ((effectId === RoomAvatarInfoComponent._Str_18968) || (effectId === RoomAvatarInfoComponent._Str_16970) || (effectId === RoomAvatarInfoComponent._Str_18857));
            }
        }
        return false;
    }
    get _Str_25831() {
        const roomObject = this.getOwnRoomObject();
        if (roomObject) {
            const model = roomObject.model;
            if (model) {
                const effectId = model.getValue(_client_nitro_room_object_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_4__["RoomObjectVariable"].FIGURE_EFFECT);
                return (effectId === RoomAvatarInfoComponent._Str_17951);
            }
        }
        return false;
    }
    get handler() {
        return this.widgetHandler;
    }
    get isDecorting() {
        return this.handler.roomSession.isDecorating;
    }
    get _Str_6454() {
        return (this.handler.container.sessionDataManager.clubLevel >= _client_nitro_session_HabboClubLevelEnum__WEBPACK_IMPORTED_MODULE_5__["HabboClubLevelEnum"]._Str_2964);
    }
    get _Str_7303() {
        return (this.handler.container.sessionDataManager.clubLevel >= _client_nitro_session_HabboClubLevelEnum__WEBPACK_IMPORTED_MODULE_5__["HabboClubLevelEnum"]._Str_2575);
    }
}
RoomAvatarInfoComponent._Str_17951 = 77;
RoomAvatarInfoComponent._Str_18968 = 29;
RoomAvatarInfoComponent._Str_16970 = 30;
RoomAvatarInfoComponent._Str_18857 = 185;
RoomAvatarInfoComponent._Str_18641 = 5000;
RoomAvatarInfoComponent.ɵfac = function RoomAvatarInfoComponent_Factory(t) { return new (t || RoomAvatarInfoComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"])); };
RoomAvatarInfoComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomAvatarInfoComponent, selectors: [["nitro-room-avatarinfo-component"]], viewQuery: function RoomAvatarInfoComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.contextsContainer = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 0, consts: [[1, "nitro-room-avatarinfo-component"], ["contextsContainer", ""]], template: function RoomAvatarInfoComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, RoomAvatarInfoComponent_ng_template_1_Template, 0, 0, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomAvatarInfoComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-avatarinfo-component',
                template: `
    <div class="nitro-room-avatarinfo-component">
        <ng-template #contextsContainer></ng-template>
    </div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }]; }, { contextsContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['contextsContainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]
        }] }); })();


/***/ }),

/***/ "xnR3":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/avatar/AvatarVisualization.ts ***!
  \**********************************************************************************/
/*! exports provided: AvatarVisualization */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarVisualization", function() { return AvatarVisualization; });
/* harmony import */ var _pixi_filter_glow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @pixi/filter-glow */ "FM2Z");
/* harmony import */ var _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../room/object/enum/AlphaTolerance */ "7UKb");
/* harmony import */ var _room_object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../room/object/enum/RoomObjectSpriteType */ "9ewd");
/* harmony import */ var _room_object_visualization_RoomObjectSpriteVisualization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../room/object/visualization/RoomObjectSpriteVisualization */ "dp49");
/* harmony import */ var _avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../avatar/enum/AvatarAction */ "/PsI");
/* harmony import */ var _avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../avatar/enum/AvatarSetType */ "Kx+W");
/* harmony import */ var _RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../RoomObjectVariable */ "XMGm");
/* harmony import */ var _additions_ExpressionAdditionFactory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./additions/ExpressionAdditionFactory */ "lGIG");
/* harmony import */ var _additions_FloatingIdleZAddition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./additions/FloatingIdleZAddition */ "WDm9");
/* harmony import */ var _additions_TypingBubbleAddition__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./additions/TypingBubbleAddition */ "JNCF");
/* harmony import */ var _AvatarVisualizationData__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./AvatarVisualizationData */ "xeBG");











class AvatarVisualization extends _room_object_visualization_RoomObjectSpriteVisualization__WEBPACK_IMPORTED_MODULE_3__["RoomObjectSpriteVisualization"] {
    constructor() {
        super();
        this._data = null;
        this._avatarImage = null;
        this._cachedAvatars = new Map();
        this._cachedAvatarEffects = new Map();
        this._shadow = null;
        this._lastUpdate = -1000;
        this._disposed = false;
        this._figure = null;
        this._gender = null;
        this._direction = -1;
        this._headDirection = -1;
        this._posture = '';
        this._postureParameter = '';
        this._canStandUp = false;
        this._postureOffset = 0;
        this._verticalOffset = 0;
        this._angle = -1;
        this._headAngle = -1;
        this._talk = false;
        this._expression = 0;
        this._sleep = false;
        this._blink = false;
        this._gesture = 0;
        this._sign = -1;
        this._highlightEnabled = false;
        this._highlight = false;
        this._dance = 0;
        this._effect = 0;
        this._carryObject = 0;
        this._useObject = 0;
        this._ownUser = false;
        this._Str_8935 = false;
        this._Str_17860 = false;
        this._Str_1222 = false;
        this._Str_16697 = 2;
        this._Str_12697 = 0;
        this._Str_14276 = 0;
        this._isAvatarReady = false;
        this._needsUpdate = false;
        this._geometryUpdateCounter = -1;
        this._additions = new Map();
    }
    initialize(data) {
        if (!(data instanceof _AvatarVisualizationData__WEBPACK_IMPORTED_MODULE_10__["AvatarVisualizationData"]))
            return false;
        this._data = data;
        this.setSpriteCount(AvatarVisualization._Str_11587);
        super.initialize(data);
        return true;
    }
    dispose() {
        if (this._disposed)
            return;
        super.dispose();
        if (this._avatarImage)
            this._avatarImage.dispose();
        this._shadow = null;
        this._disposed = true;
    }
    update(geometry, time, update, skipUpdate) {
        if (!this.object || !geometry || !this._data)
            return;
        if (time < (this._lastUpdate + AvatarVisualization.UPDATE_TIME_INCREASER))
            return;
        this._lastUpdate += AvatarVisualization.UPDATE_TIME_INCREASER;
        if ((this._lastUpdate + AvatarVisualization.UPDATE_TIME_INCREASER) < time)
            this._lastUpdate = (time - AvatarVisualization.UPDATE_TIME_INCREASER);
        const model = this.object.model;
        const scale = geometry.scale;
        const effect = +this._effect;
        let didScaleUpdate = false;
        let didEffectUpdate = false;
        let otherUpdate = false;
        let objectUpdate = false;
        const updateModel = this.updateModel(model, scale);
        if ((updateModel || (scale !== this._scale)) || !this._avatarImage) {
            if (scale !== this._scale) {
                didScaleUpdate = true;
                this.updateScale(scale);
            }
            if (effect !== this._effect)
                didEffectUpdate = true;
            if ((didScaleUpdate || !this._avatarImage) || didEffectUpdate) {
                this._avatarImage = this.createAvatarImage(scale, this._effect);
                if (!this._avatarImage)
                    return;
                otherUpdate = true;
                const sprite = this.getSprite(AvatarVisualization.AVATAR_LAYER_ID);
                if ((sprite && this._avatarImage) && this._avatarImage.isPlaceholder()) {
                    sprite.alpha = 150;
                }
                else if (sprite) {
                    sprite.alpha = 255;
                }
            }
            if (!this._avatarImage)
                return;
            if (didEffectUpdate && this._avatarImage._Str_677)
                this._avatarImage._Str_833();
            this.updateShadow(scale);
            objectUpdate = this.updateObject(this.object, geometry, update, true);
            this.processActionsForAvatar(this._avatarImage);
            if (this._additions) {
                let index = this._Str_16697;
                for (let addition of this._additions.values()) {
                    addition.update(this.getSprite(index++), scale);
                }
            }
            this._scale = scale;
        }
        else {
            objectUpdate = this.updateObject(this.object, geometry, update);
        }
        if (this._additions) {
            let index = this._Str_16697;
            for (let addition of this._additions.values()) {
                if (addition.animate(this.getSprite(index++)))
                    this.updateSpriteCounter++;
            }
        }
        const update1 = ((objectUpdate || updateModel) || didScaleUpdate);
        const update2 = ((this._Str_1222 || (this._Str_12697 > 0)) && update);
        if (update1)
            this._Str_12697 = AvatarVisualization._Str_14491;
        if (update1 || update2) {
            this.updateSpriteCounter++;
            this._Str_12697--;
            this._Str_14276--;
            if ((((this._Str_14276 <= 0) || didScaleUpdate) || updateModel) || otherUpdate) {
                this._avatarImage._Str_953(1);
                this._Str_14276 = AvatarVisualization._Str_14491;
            }
            else {
                return;
            }
            let _local_20 = this._avatarImage._Str_781();
            if (!_local_20 || (_local_20.length < 3))
                _local_20 = AvatarVisualization._Str_18338;
            const sprite = this.getSprite(AvatarVisualization._Str_9540);
            if (sprite) {
                const highlightEnabled = ((this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_HIGHLIGHT_ENABLE) === 1) && (this.object.model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_HIGHLIGHT) === 1));
                const avatarImage = this._avatarImage.getImage(_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_5__["AvatarSetType"].FULL, highlightEnabled);
                if (avatarImage) {
                    sprite.texture = avatarImage;
                    if (highlightEnabled) {
                        sprite.filters = [
                            new _pixi_filter_glow__WEBPACK_IMPORTED_MODULE_0__["GlowFilter"]({
                                color: 0xFFFFFF,
                                distance: 6
                            })
                        ];
                    }
                    else {
                        sprite.filters = [];
                    }
                }
                if (sprite.texture) {
                    sprite.offsetX = ((((-1 * scale) / 2) + _local_20[0]) - ((sprite.texture.width - scale) / 2));
                    sprite.offsetY = (((-(sprite.texture.height) + (scale / 4)) + _local_20[1]) + this._postureOffset);
                }
                if (this._Str_8935) {
                    if (this._Str_17860)
                        sprite.relativeDepth = -0.5;
                    else
                        sprite.relativeDepth = (AvatarVisualization._Str_9235 + _local_20[2]);
                }
                else {
                    sprite.relativeDepth = (AvatarVisualization._Str_11358 + _local_20[2]);
                }
                if (this._ownUser) {
                    sprite.relativeDepth -= AvatarVisualization._Str_17708;
                    sprite.spriteType = _room_object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectSpriteType"]._Str_10494;
                }
                else {
                    sprite.spriteType = _room_object_enum_RoomObjectSpriteType__WEBPACK_IMPORTED_MODULE_2__["RoomObjectSpriteType"]._Str_11629;
                }
            }
            const typingBubble = this.getAddition(AvatarVisualization.TYPING_BUBBLE_ID);
            if (typingBubble) {
                if (!this._Str_8935)
                    typingBubble.relativeDepth = ((AvatarVisualization._Str_11358 - 0.01) + _local_20[2]);
                else
                    typingBubble.relativeDepth = ((AvatarVisualization._Str_9235 - 0.01) + _local_20[2]);
            }
            this._Str_1222 = this._avatarImage._Str_899();
            let _local_21 = AvatarVisualization._Str_11587;
            let direction = this._avatarImage.getDirection();
            for (let spriteData of this._avatarImage._Str_754()) {
                if (spriteData.id === AvatarVisualization.AVATAR) {
                    const sprite = this.getSprite(AvatarVisualization._Str_9540);
                    if (sprite) {
                        const layerData = this._avatarImage._Str_607(spriteData);
                        let offsetX = spriteData._Str_809(direction);
                        let offsetY = spriteData._Str_739(direction);
                        if (layerData) {
                            offsetX += layerData.dx;
                            offsetY += layerData.dy;
                        }
                        if (scale < 48) {
                            offsetX /= 2;
                            offsetY /= 2;
                        }
                        if (!this._canStandUp) {
                            sprite.offsetX += offsetX;
                            sprite.offsetY += offsetY;
                        }
                    }
                }
                else {
                    const sprite = this.getSprite(_local_21);
                    if (sprite) {
                        sprite.alphaTolerance = _room_object_enum_AlphaTolerance__WEBPACK_IMPORTED_MODULE_1__["AlphaTolerance"]._Str_9268;
                        sprite.visible = true;
                        const layerData = this._avatarImage._Str_607(spriteData);
                        let frameNumber = 0;
                        let offsetX = spriteData._Str_809(direction);
                        let offsetY = spriteData._Str_739(direction);
                        let offsetZ = spriteData._Str_839(direction);
                        let dd = 0;
                        if (spriteData._Str_949)
                            dd = direction;
                        if (layerData) {
                            frameNumber = layerData._Str_891;
                            offsetX += layerData.dx;
                            offsetY += layerData.dy;
                            dd += layerData.dd;
                        }
                        if (scale < 48) {
                            offsetX /= 2;
                            offsetY /= 2;
                        }
                        if (dd < 0)
                            dd += 8;
                        else {
                            if (dd > 7)
                                dd -= 8;
                        }
                        const assetName = ((((((this._avatarImage._Str_797() + "_") + spriteData.member) + "_") + dd) + "_") + frameNumber);
                        const asset = this._avatarImage.getAsset(assetName);
                        if (asset) {
                            sprite.texture = asset.texture;
                            sprite.offsetX = ((asset.offsetX - (scale / 2)) + offsetX);
                            sprite.offsetY = (asset.offsetY + offsetY);
                            sprite.flipH = asset.flipH;
                            if (spriteData._Str_767) {
                                sprite.offsetY += ((this._verticalOffset * scale) / (2 * AvatarVisualization._Str_12370));
                            }
                            else {
                                sprite.offsetY += this._postureOffset;
                            }
                            if (this._Str_8935) {
                                sprite.relativeDepth = (AvatarVisualization._Str_9235 - ((0.001 * this.totalSprites) * offsetZ));
                            }
                            else {
                                sprite.relativeDepth = (AvatarVisualization._Str_11358 - ((0.001 * this.totalSprites) * offsetZ));
                            }
                            if (spriteData.ink === 33)
                                sprite.blendMode = PIXI.BLEND_MODES.ADD;
                        }
                    }
                    _local_21++;
                }
            }
        }
    }
    createAvatarImage(scale, effectId) {
        let cachedImage = null;
        let imageName = 'avatarImage' + scale.toString();
        if (!effectId) {
            cachedImage = this._cachedAvatars.get(imageName);
        }
        else {
            imageName += '-' + effectId;
            cachedImage = this._cachedAvatarEffects.get(imageName);
        }
        if (!cachedImage) {
            cachedImage = this._data.createAvatarImage(this._figure, scale, this._gender, this, this);
            if (cachedImage) {
                if (!effectId) {
                    this._cachedAvatars.set(imageName, cachedImage);
                }
                else {
                    if (this._cachedAvatarEffects.size >= AvatarVisualization._Str_18169) {
                        // remove 1
                    }
                    this._cachedAvatarEffects.set(imageName, cachedImage);
                }
            }
        }
        return cachedImage;
    }
    updateObject(object, geometry, update, _arg_4 = false) {
        if ((!_arg_4 && (this.updateObjectCounter === object.updateCounter)) && (this._geometryUpdateCounter === geometry.updateId))
            return false;
        let someUpdate = update;
        let direction = (object.getDirection().x - geometry.direction.x);
        let headDirection = (this._headDirection - geometry.direction.x);
        if (this._posture === 'float')
            headDirection = direction;
        direction = (((direction % 360) + 360) % 360);
        headDirection = (((headDirection % 360) + 360) % 360);
        if ((this._posture === 'sit') && this._canStandUp) {
            direction -= ((direction % 90) - 45);
            headDirection -= ((headDirection % 90) - 45);
        }
        if ((direction !== this._angle) || _arg_4) {
            someUpdate = true;
            this._angle = direction;
            direction = (direction - (135 - 22.5));
            direction = ((direction + 360) % 360);
            this._avatarImage._Str_880(_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_5__["AvatarSetType"].FULL, direction);
        }
        if ((headDirection !== this._headAngle) || _arg_4) {
            someUpdate = true;
            this._headAngle = headDirection;
            if (this._headAngle !== this._angle) {
                headDirection = (headDirection - (135 - 22.5));
                headDirection = ((headDirection + 360) % 360);
                this._avatarImage._Str_880(_avatar_enum_AvatarSetType__WEBPACK_IMPORTED_MODULE_5__["AvatarSetType"].HEAD, headDirection);
            }
        }
        this._geometryUpdateCounter = geometry.updateId;
        this.updateObjectCounter = this.object.updateCounter;
        return someUpdate;
    }
    updateModel(model, scale) {
        if (!model)
            return false;
        if (this.updateModelCounter === model.updateCounter)
            return false;
        let needsUpdate = false;
        const talk = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_TALK) > 0);
        if (talk !== this._talk) {
            this._talk = talk;
            needsUpdate = true;
        }
        const expression = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_EXPRESSION);
        if (expression !== this._expression) {
            this._expression = expression;
            needsUpdate = true;
        }
        const sleep = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_SLEEP) > 0);
        if (sleep !== this._sleep) {
            this._sleep = sleep;
            needsUpdate = true;
        }
        const blink = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_BLINK) > 0);
        if (blink !== this._blink) {
            this._blink = blink;
            needsUpdate = true;
        }
        const gesture = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_GESTURE) || 0);
        if (gesture !== this._gesture) {
            this._gesture = gesture;
            needsUpdate = true;
        }
        const posture = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_POSTURE);
        if (posture !== this._posture) {
            this._posture = posture;
            needsUpdate = true;
        }
        const postureParameter = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_POSTURE_PARAMETER);
        if (postureParameter !== this._postureParameter) {
            this._postureParameter = postureParameter;
            needsUpdate = true;
        }
        const canStandUp = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_CAN_STAND_UP);
        if (canStandUp !== this._canStandUp) {
            this._canStandUp = canStandUp;
            needsUpdate = true;
        }
        const verticalOffset = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_VERTICAL_OFFSET) * AvatarVisualization.OFFSET_MULTIPLIER);
        if (verticalOffset !== this._verticalOffset) {
            this._verticalOffset = verticalOffset;
            needsUpdate = true;
        }
        const dance = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_DANCE) || 0);
        if (dance !== this._dance) {
            this._dance = dance;
            needsUpdate = true;
        }
        const effect = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_EFFECT) || 0);
        if (effect !== this._effect) {
            this._effect = effect;
            needsUpdate = true;
        }
        const carryObject = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_CARRY_OBJECT) || 0);
        if (carryObject !== this._carryObject) {
            this._carryObject = carryObject;
            needsUpdate = true;
        }
        const useObject = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_USE_OBJECT) || 0);
        if (useObject !== this._useObject) {
            this._useObject = useObject;
            needsUpdate = true;
        }
        const headDirection = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].HEAD_DIRECTION);
        if (headDirection !== this._headDirection) {
            this._headDirection = headDirection;
            needsUpdate = true;
        }
        if ((this._carryObject > 0) && (useObject > 0)) {
            if (this._useObject !== this._carryObject) {
                this._useObject = this._carryObject;
                needsUpdate = true;
            }
        }
        else {
            if (this._useObject !== 0) {
                this._useObject = 0;
                needsUpdate = true;
            }
        }
        let idleAddition = this.getAddition(AvatarVisualization.FLOATING_IDLE_Z_ID);
        if (this._sleep) {
            if (!idleAddition)
                idleAddition = this.addAddition(new _additions_FloatingIdleZAddition__WEBPACK_IMPORTED_MODULE_8__["FloatingIdleZAddition"](AvatarVisualization.FLOATING_IDLE_Z_ID, this));
            needsUpdate = true;
        }
        else {
            if (idleAddition)
                this.removeAddition(AvatarVisualization.FLOATING_IDLE_Z_ID);
        }
        const isTyping = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_IS_TYPING) > 0);
        let typingAddition = this.getAddition(AvatarVisualization.TYPING_BUBBLE_ID);
        if (isTyping) {
            if (!typingAddition)
                typingAddition = this.addAddition(new _additions_TypingBubbleAddition__WEBPACK_IMPORTED_MODULE_9__["TypingBubbleAddition"](AvatarVisualization.TYPING_BUBBLE_ID, this));
            needsUpdate = true;
        }
        else {
            if (typingAddition)
                this.removeAddition(AvatarVisualization.TYPING_BUBBLE_ID);
        }
        let expressionAddition = this.getAddition(AvatarVisualization.EXPRESSION_ID);
        if (this._expression > 0) {
            if (!expressionAddition) {
                expressionAddition = _additions_ExpressionAdditionFactory__WEBPACK_IMPORTED_MODULE_7__["ExpressionAdditionFactory"].getExpressionAddition(AvatarVisualization.EXPRESSION_ID, this._expression, this);
                if (expressionAddition)
                    this.addAddition(expressionAddition);
            }
            needsUpdate = true;
        }
        else {
            if (expressionAddition)
                this.removeAddition(AvatarVisualization.EXPRESSION_ID);
        }
        this.updateScale(scale);
        const gender = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].GENDER);
        if (gender !== this._gender) {
            this._gender = gender;
            needsUpdate = true;
        }
        if (this.updateFigure(model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE)))
            needsUpdate = true;
        let sign = model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_SIGN);
        if (sign === null)
            sign = -1;
        if (this._sign !== sign) {
            this._sign = sign;
            needsUpdate = true;
        }
        const highlightEnabled = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_HIGHLIGHT_ENABLE) > 0);
        if (highlightEnabled !== this._highlightEnabled) {
            this._highlightEnabled = highlightEnabled;
            needsUpdate = true;
        }
        if (this._highlightEnabled) {
            const highlight = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].FIGURE_HIGHLIGHT) > 0);
            if (highlight !== this._highlight) {
                this._highlight = highlight;
                needsUpdate = true;
            }
        }
        const ownUser = (model.getValue(_RoomObjectVariable__WEBPACK_IMPORTED_MODULE_6__["RoomObjectVariable"].OWN_USER) > 0);
        if (ownUser !== this._ownUser) {
            this._ownUser = ownUser;
            needsUpdate = true;
        }
        this.updateModelCounter = model.updateCounter;
        return needsUpdate;
    }
    setDirection(direction) {
        if (this._direction === direction)
            return;
        this._direction = direction;
        this._needsUpdate = true;
    }
    updateScale(scale) {
        if (scale < 48)
            this._blink = false;
        if ((this._posture === 'sit') || (this._posture === 'lay')) {
            this._postureOffset = (scale / 2);
        }
        else {
            this._postureOffset = 0;
        }
        this._Str_17860 = false;
        this._Str_8935 = false;
        if (this._posture === 'lay') {
            this._Str_8935 = true;
            const _local_2 = parseInt(this._postureParameter);
            if (_local_2 < 0)
                this._Str_17860 = true;
        }
    }
    processActionsForAvatar(avatar) {
        if (!avatar)
            return;
        avatar._Str_913();
        avatar.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].POSTURE, this._posture, this._postureParameter);
        if (this._gesture > 0)
            this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].GESTURE, _avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].getGesture(this._gesture));
        if (this._dance > 0)
            this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].DANCE, this._dance);
        if (this._sign > -1)
            this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].SIGN, this._sign);
        if (this._carryObject > 0)
            this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].CARRY_OBJECT, this._carryObject);
        if (this._useObject > 0)
            this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].USE_OBJECT, this._useObject);
        if (this._talk)
            this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].TALK);
        if (this._sleep || this._blink)
            this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].SLEEP);
        if (this._expression > 0) {
            const expression = _avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].getExpression(this._expression);
            if (expression !== '') {
                switch (expression) {
                    case _avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].DANCE:
                        this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].DANCE, 2);
                        break;
                    default:
                        this._avatarImage.appendAction(expression);
                        break;
                }
            }
        }
        if (this._effect > 0)
            this._avatarImage.appendAction(_avatar_enum_AvatarAction__WEBPACK_IMPORTED_MODULE_4__["AvatarAction"].EFFECT, this._effect);
        avatar._Str_962();
        this._Str_1222 = avatar._Str_899();
        let spriteCount = AvatarVisualization._Str_11587;
        for (let sprite of this._avatarImage._Str_754()) {
            if (sprite.id !== AvatarVisualization.AVATAR)
                spriteCount++;
        }
        if (spriteCount !== this.totalSprites)
            this.setSpriteCount(spriteCount);
        this._Str_16697 = spriteCount;
        if (this._additions) {
            for (let addition of this._additions.values())
                this.createSprite();
        }
    }
    updateFigure(figure) {
        if (this._figure === figure)
            return false;
        this._figure = figure;
        this.clearAvatar();
        return true;
    }
    resetFigure(figure) {
        this.clearAvatar();
    }
    resetEffect(effect) {
        this.clearAvatar();
    }
    clearAvatar() {
        for (let avatar of this._cachedAvatars.values())
            avatar && avatar.dispose();
        for (let avatar of this._cachedAvatarEffects.values())
            avatar && avatar.dispose();
        this._cachedAvatars.clear();
        this._cachedAvatarEffects.clear();
        this._avatarImage = null;
        const sprite = this.getSprite(AvatarVisualization.AVATAR_LAYER_ID);
        if (sprite) {
            sprite.texture = PIXI.Texture.EMPTY;
            sprite.alpha = 255;
        }
    }
    getAddition(id) {
        if (!this._additions)
            return null;
        const existing = this._additions.get(id);
        if (!existing)
            return null;
        return existing;
    }
    addAddition(addition) {
        const existing = this.getAddition(addition.id);
        if (existing)
            return;
        this._additions.set(addition.id, addition);
        return addition;
    }
    removeAddition(id) {
        const addition = this.getAddition(id);
        if (!addition)
            return;
        this._additions.delete(addition.id);
        addition.dispose();
    }
    updateShadow(scale) {
        this._shadow = null;
        const sprite = this.getSprite(AvatarVisualization.SHADOW_LAYER_ID);
        if (!sprite)
            return;
        let hasShadow = (((this._posture === 'mv') || (this._posture === 'std')) || ((this._posture === 'sit') && this._canStandUp));
        if (this._effect === AvatarVisualization._Str_17502)
            hasShadow = false;
        if (hasShadow) {
            sprite.visible = true;
            if (!this._shadow || (scale !== this._scale)) {
                let offsetX = 0;
                let offsetY = 0;
                if (scale < 48) {
                    sprite._Str_3582 = 'sh_std_sd_1_0_0';
                    this._shadow = this._avatarImage.getAsset(sprite._Str_3582);
                    offsetX = -8;
                    offsetY = ((this._canStandUp) ? 6 : -3);
                }
                else {
                    sprite._Str_3582 = 'h_std_sd_1_0_0';
                    this._shadow = this._avatarImage.getAsset(sprite._Str_3582);
                    offsetX = -17;
                    offsetY = ((this._canStandUp) ? 10 : -7);
                }
                if (this._shadow) {
                    sprite.texture = this._shadow.texture;
                    sprite.offsetX = offsetX;
                    sprite.offsetY = offsetY;
                    sprite.alpha = 50;
                    sprite.relativeDepth = 1;
                }
                else {
                    sprite.visible = false;
                }
            }
        }
        else {
            this._shadow = null;
            sprite.visible = false;
        }
    }
    getAvatarRenderAsset(name) {
        return this._data ? this._data.getAvatarRendererAsset(name) : null;
    }
    get direction() {
        return this._direction;
    }
    get posture() {
        return this._posture;
    }
    get angle() {
        return this._angle;
    }
    get disposed() {
        return this._disposed;
    }
}
AvatarVisualization.AVATAR = 'avatar';
AvatarVisualization.FLOATING_IDLE_Z_ID = 1;
AvatarVisualization.TYPING_BUBBLE_ID = 2;
AvatarVisualization.EXPRESSION_ID = 3;
AvatarVisualization.OWN_USER_ID = 4;
AvatarVisualization.UPDATE_TIME_INCREASER = 41;
AvatarVisualization.OFFSET_MULTIPLIER = 1000;
AvatarVisualization.AVATAR_LAYER_ID = 0;
AvatarVisualization.SHADOW_LAYER_ID = 1;
AvatarVisualization._Str_17502 = 97;
AvatarVisualization._Str_11587 = 2;
AvatarVisualization._Str_14491 = 2;
AvatarVisualization._Str_18338 = [0, 0, 0];
AvatarVisualization._Str_18169 = 3;
AvatarVisualization._Str_9540 = 0;
AvatarVisualization._Str_12370 = 1000;
AvatarVisualization._Str_11358 = -0.01;
AvatarVisualization._Str_17708 = 0.001;
AvatarVisualization._Str_9235 = -0.409;


/***/ }),

/***/ "xq+5":
/*!***************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/unit/chat/RoomUnitChatShoutEvent.ts ***!
  \***************************************************************************************************/
/*! exports provided: RoomUnitChatShoutEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitChatShoutEvent", function() { return RoomUnitChatShoutEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_unit_chat_RoomUnitChatParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/unit/chat/RoomUnitChatParser */ "c746");


class RoomUnitChatShoutEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_unit_chat_RoomUnitChatParser__WEBPACK_IMPORTED_MODULE_1__["RoomUnitChatParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "xycO":
/*!**********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/navigator/NavigatorSearchesEvent.ts ***!
  \**********************************************************************************************/
/*! exports provided: NavigatorSearchesEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorSearchesEvent", function() { return NavigatorSearchesEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_navigator_NavigatorSearchesParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../parser/navigator/NavigatorSearchesParser */ "aXn3");


class NavigatorSearchesEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_navigator_NavigatorSearchesParser__WEBPACK_IMPORTED_MODULE_1__["NavigatorSearchesParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "y/Pd":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/access/RoomFowardParser.ts ***!
  \****************************************************************************************/
/*! exports provided: RoomFowardParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomFowardParser", function() { return RoomFowardParser; });
class RoomFowardParser {
    flush() {
        this._roomId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._roomId = wrapper.readInt();
        return true;
    }
    get roomId() {
        return this._roomId;
    }
}


/***/ }),

/***/ "y08e":
/*!******************************************************************************!*\
  !*** ./src/client/nitro/room/messages/ObjectAvatarUseObjectUpdateMessage.ts ***!
  \******************************************************************************/
/*! exports provided: ObjectAvatarUseObjectUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectAvatarUseObjectUpdateMessage", function() { return ObjectAvatarUseObjectUpdateMessage; });
/* harmony import */ var _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ObjectStateUpdateMessage */ "xcAU");

class ObjectAvatarUseObjectUpdateMessage extends _ObjectStateUpdateMessage__WEBPACK_IMPORTED_MODULE_0__["ObjectStateUpdateMessage"] {
    constructor(itemType) {
        super();
        this._itemType = itemType;
    }
    get itemType() {
        return this._itemType;
    }
}


/***/ }),

/***/ "y63K":
/*!********************************************************************!*\
  !*** ./src/client/nitro/avatar/cache/AvatarImageDirectionCache.ts ***!
  \********************************************************************/
/*! exports provided: AvatarImageDirectionCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarImageDirectionCache", function() { return AvatarImageDirectionCache; });
class AvatarImageDirectionCache {
    constructor(k) {
        this._partList = k;
        this._images = new Map();
    }
    dispose() {
        for (let image of this._images.values())
            image && image.dispose();
        this._images = null;
    }
    _Str_1699() {
        return this._partList;
    }
    _Str_1629(k) {
        const existing = this._images.get(this._Str_2219(k));
        if (!existing)
            return null;
        return existing;
    }
    _Str_1924(k, _arg_2) {
        const name = this._Str_2219(_arg_2);
        let existing = this._images.get(name);
        if (existing)
            existing.dispose();
        this._images.set(name, k);
    }
    _Str_2219(k) {
        let name = '';
        for (let part of this._partList)
            name += (part._Str_1206(k) + '/');
        return name;
    }
    _Str_587(k) {
    }
}


/***/ }),

/***/ "y81I":
/*!***************************************************!*\
  !*** ./src/client/room/events/RoomObjectEvent.ts ***!
  \***************************************************/
/*! exports provided: RoomObjectEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectEvent", function() { return RoomObjectEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/events/NitroEvent */ "3r1x");

class RoomObjectEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type, object) {
        super(type);
        this._object = object;
    }
    get object() {
        return this._object;
    }
    get objectId() {
        if (!this._object)
            return -1;
        return this._object.id;
    }
    get objectType() {
        if (!this._object)
            return null;
        return this._object.type;
    }
}


/***/ }),

/***/ "yCsC":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureChangeStateWhenStepOnLogic.ts ***!
  \*********************************************************************************************/
/*! exports provided: FurnitureChangeStateWhenStepOnLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureChangeStateWhenStepOnLogic", function() { return FurnitureChangeStateWhenStepOnLogic; });
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");

class FurnitureChangeStateWhenStepOnLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureLogic"] {
}


/***/ }),

/***/ "yF7E":
/*!*************************************************************!*\
  !*** ./src/client/room/messages/RoomObjectUpdateMessage.ts ***!
  \*************************************************************/
/*! exports provided: RoomObjectUpdateMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomObjectUpdateMessage", function() { return RoomObjectUpdateMessage; });
class RoomObjectUpdateMessage {
    constructor(location, direction) {
        this._location = location;
        this._direction = direction;
    }
    get location() {
        return this._location;
    }
    get direction() {
        return this._direction;
    }
}


/***/ }),

/***/ "yHaF":
/*!***************************************************!*\
  !*** ./src/app/components/inventory/component.ts ***!
  \***************************************************/
/*! exports provided: InventoryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InventoryComponent", function() { return InventoryComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enum/InventoryCategory */ "0nxZ");
/* harmony import */ var _HabboInventory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HabboInventory */ "uETo");
/* harmony import */ var _core_settings_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/settings/service */ "WnqX");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/directives/draggable/directive */ "yd8t");







const _c0 = ["inventoriesContainer"];
function InventoryComponent_div_0_div_10_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function InventoryComponent_div_0_div_10_Template_div_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const type_r3 = ctx.$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r4.showInventory(type_r3); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const type_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](type_r3);
} }
function InventoryComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Inventory");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function InventoryComponent_div_0_Template_div_click_6_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.hide(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "i", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, InventoryComponent_div_0_div_10_Template, 2, 1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](12, null, 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.getInventoryTypes());
} }
class InventoryComponent {
    constructor(settingsService, componentFactoryResolver, changeDetector, ngZone) {
        this.settingsService = settingsService;
        this.componentFactoryResolver = componentFactoryResolver;
        this.changeDetector = changeDetector;
        this.ngZone = ngZone;
        this.visible = false;
        this._inventoryManager = null;
        this._selectedInventory = null;
        this._needsShowing = false;
    }
    ngOnInit() {
        this._inventoryManager = new _HabboInventory__WEBPACK_IMPORTED_MODULE_2__["HabboInventory"](this);
        this._inventoryManager.init();
    }
    ngOnDestroy() {
        if (this._inventoryManager) {
            this._inventoryManager.dispose();
            this._inventoryManager = null;
        }
    }
    ngOnChanges(changes) {
        const previous = changes.visible.previousValue;
        const next = changes.visible.currentValue;
        if ((next === previous) || (previous === undefined))
            return;
        if (next)
            this.show();
        else
            this.hide();
    }
    ngAfterViewChecked() {
        if (this._needsShowing) {
            if (this._selectedInventory)
                this._selectedInventory.show();
            this._needsShowing = false;
            this.changeDetector.detectChanges();
        }
    }
    createComponent(component) {
        if (!component)
            return null;
        const factory = this.componentFactoryResolver.resolveComponentFactory(component);
        if (!factory)
            return null;
        let componentRef = null;
        if (!_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"].isInAngularZone()) {
            this.ngZone.run(() => {
                componentRef = this.inventoriesContainer.createComponent(factory);
            });
        }
        else {
            componentRef = this.inventoriesContainer.createComponent(factory);
        }
        if (!componentRef)
            return null;
        return componentRef;
    }
    removeComponent(component) {
        if (!component)
            return;
        const index = this.inventoriesContainer.indexOf(component.hostView);
        if (index === -1)
            return;
        this.inventoriesContainer.remove(index);
    }
    show() {
        if (!this._selectedInventory)
            this.selectInventory(_enum_InventoryCategory__WEBPACK_IMPORTED_MODULE_1__["InventoryCategory"].FURNI);
        this.showInventory();
    }
    hide() {
        this.hideInventory();
        this.settingsService.hideInventory();
    }
    selectInventory(type) {
        if (!type)
            return;
        const model = this._inventoryManager.getModel(type);
        if (!model)
            return;
        this.hideInventory();
        this._selectedInventory = model;
    }
    showInventory() {
        if (!this._selectedInventory)
            return;
        this._needsShowing = true;
    }
    hideInventory() {
        if (!this._selectedInventory)
            return;
        this._selectedInventory.hide();
    }
    getInventoryTypes() {
        return this._inventoryManager.inventories.getKeys();
    }
}
InventoryComponent.ɵfac = function InventoryComponent_Factory(t) { return new (t || InventoryComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_core_settings_service__WEBPACK_IMPORTED_MODULE_3__["SettingsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
InventoryComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: InventoryComponent, selectors: [["nitro-inventory-component"]], viewQuery: function InventoryComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.inventoriesContainer = _t.first);
    } }, inputs: { visible: "visible" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["dragHandle", ".card-header", "class", "card nitro-inventory-component", 3, "draggable", 4, "ngIf"], ["dragHandle", ".card-header", 1, "card", "nitro-inventory-component", 3, "draggable"], [1, "inventory-header"], [1, "header-overlay"], [1, "card-header"], [1, "header-title"], [1, "header-close", 3, "click"], [1, "fas", "fa-times"], [1, "header-tabs"], [1, "nav", "nav-tabs", "w-100", "px-4"], ["class", "nav-item nav-link", 3, "click", 4, "ngFor", "ngForOf"], [1, "card-body"], ["inventoriesContainer", ""], [1, "nav-item", "nav-link", 3, "click"]], template: function InventoryComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, InventoryComponent_div_0_Template, 14, 1, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.visible);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _shared_directives_draggable_directive__WEBPACK_IMPORTED_MODULE_5__["DraggableDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](InventoryComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-inventory-component',
                template: `
    <div *ngIf="visible" [draggable] dragHandle=".card-header" class="card nitro-inventory-component">
        <!-- <div *ngIf="isLoading" class="loading-overlay"></div> -->
        <div class="inventory-header">
            <div class="header-overlay"></div>
            <div class="card-header">
                <div class="header-title">Inventory</div>
                <div class="header-close" (click)="hide()"><i class="fas fa-times"></i></div>
            </div>
            <div class="header-tabs">
                <div class="nav nav-tabs w-100 px-4">
                    <div *ngFor="let type of getInventoryTypes()" class="nav-item nav-link" (click)="showInventory(type)">{{ type }}</div>
                </div>
            </div>
        </div>
        <div class="card-body">
            <ng-container #inventoriesContainer></ng-container>
        </div>
    </div>`
            }]
    }], function () { return [{ type: _core_settings_service__WEBPACK_IMPORTED_MODULE_3__["SettingsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { visible: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], inventoriesContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['inventoriesContainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]
        }] }); })();


/***/ }),

/***/ "yMWR":
/*!***************************************************************************!*\
  !*** ./src/client/nitro/session/events/RoomSessionPropertyUpdateEvent.ts ***!
  \***************************************************************************/
/*! exports provided: RoomSessionPropertyUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSessionPropertyUpdateEvent", function() { return RoomSessionPropertyUpdateEvent; });
/* harmony import */ var _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomSessionEvent */ "Ns5P");

class RoomSessionPropertyUpdateEvent extends _RoomSessionEvent__WEBPACK_IMPORTED_MODULE_0__["RoomSessionEvent"] {
    constructor(k, _arg_2) {
        super(k, _arg_2);
    }
}
RoomSessionPropertyUpdateEvent.RSDUE_ALLOW_PETS = 'RSDUE_ALLOW_PETS';


/***/ }),

/***/ "yP2P":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/animation/AnimationManager.ts ***!
  \***************************************************************/
/*! exports provided: AnimationManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationManager", function() { return AnimationManager; });
/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Animation */ "RaVQ");

class AnimationManager {
    constructor() {
        this._animations = new Map();
    }
    _Str_2061(structure, _arg_2) {
        const animationData = _arg_2[Object.keys(_arg_2)[0]];
        const animation = new _Animation__WEBPACK_IMPORTED_MODULE_0__["Animation"](structure, animationData);
        this._animations.set(animationData.name, animation);
        return true;
    }
    _Str_720(animation) {
        const existing = this._animations.get(animation);
        if (!existing)
            return null;
        return existing;
    }
    _Str_607(animation, frameCount, spriteId) {
        const existing = this._Str_720(animation);
        if (!existing)
            return null;
        return existing._Str_607(frameCount, spriteId);
    }
    get animations() {
        return this._animations;
    }
}


/***/ }),

/***/ "ySDW":
/*!***********************************************!*\
  !*** ./src/client/nitro/ui/MouseEventType.ts ***!
  \***********************************************/
/*! exports provided: MouseEventType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MouseEventType", function() { return MouseEventType; });
class MouseEventType {
}
MouseEventType.MOUSE_CLICK = 'click';
MouseEventType.DOUBLE_CLICK = 'double_click';
MouseEventType.MOUSE_MOVE = 'mousemove';
MouseEventType.MOUSE_DOWN = 'mousedown';
MouseEventType.MOUSE_UP = 'mouseup';
MouseEventType.ROLL_OVER = 'mouseover';
MouseEventType.ROLL_OUT = 'mouseout';


/***/ }),

/***/ "yd8t":
/*!**********************************************************!*\
  !*** ./src/app/shared/directives/draggable/directive.ts ***!
  \**********************************************************/
/*! exports provided: DraggableDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DraggableDirective", function() { return DraggableDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");




class DraggableDirective {
    constructor(elementRef, zone) {
        this.elementRef = elementRef;
        this.zone = zone;
        this.target = null;
        this.handle = null;
        this.delta = { x: 0, y: 0 };
        this.offset = { x: 0, y: 0 };
        this.destroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    ngAfterViewInit() {
        const element = this.elementRef.nativeElement;
        if (!element)
            return;
        this.handle = this.dragHandle ? element.querySelector(this.dragHandle) : element;
        this.target = this.dragTarget ? element.querySelector(this.dragTarget) : element;
        if (this.handle)
            this.handle.classList.add('header-draggable');
        this.setupEvents();
    }
    ngOnDestroy() {
        if (this.handle)
            this.handle.classList.remove('header-draggable');
        this.destroy$.next();
    }
    setupEvents() {
        this.zone.runOutsideAngular(() => {
            let mousedown$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["fromEvent"])(this.handle, 'mousedown');
            let mousemove$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["fromEvent"])(document, 'mousemove');
            let mouseup$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["fromEvent"])(document, 'mouseup');
            let mousedrag$ = mousedown$
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["switchMap"])((event) => {
                let startX = event.clientX;
                let startY = event.clientY;
                return mousemove$
                    .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((event) => {
                    event.preventDefault();
                    this.delta = {
                        x: event.clientX - startX,
                        y: event.clientY - startY
                    };
                }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(mouseup$));
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.destroy$));
            mousedrag$.subscribe(() => {
                if (this.delta.x === 0 && this.delta.y === 0)
                    return;
                this.translate();
            });
            mouseup$
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["takeUntil"])(this.destroy$));
            mouseup$.subscribe(() => {
                this.offset.x += this.delta.x;
                this.offset.y += this.delta.y;
                this.delta = { x: 0, y: 0 };
            });
        });
    }
    translate() {
        this.target.style.transform = `translate(${this.offset.x + this.delta.x}px, ${this.offset.y + this.delta.y}px)`;
    }
}
DraggableDirective.ɵfac = function DraggableDirective_Factory(t) { return new (t || DraggableDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
DraggableDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: DraggableDirective, selectors: [["", "draggable", ""]], inputs: { dragHandle: "dragHandle", dragTarget: "dragTarget" } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DraggableDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: '[draggable]'
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { dragHandle: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], dragTarget: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "ygX0":
/*!****************************************************************!*\
  !*** ./src/client/nitro/avatar/structure/figure/FigurePart.ts ***!
  \****************************************************************/
/*! exports provided: FigurePart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FigurePart", function() { return FigurePart; });
class FigurePart {
    constructor(data) {
        if (!data)
            throw new Error('invalid_data');
        this._id = parseInt(data['$'].id);
        this._type = data['$'].type;
        this._index = parseInt(data['$'].index);
        this._colorLayerIndex = parseInt(data['$'].colorindex);
        const paletteMapId = data['$'].palettemapid;
        if (!isNaN(paletteMapId))
            this._paletteMapId = parseInt(paletteMapId);
        else
            this._paletteMapId = -1;
        const breed = data['$'].palettemapid;
        if (!isNaN(breed))
            this._breed = parseInt(breed);
        else
            this._breed = -1;
    }
    dispose() {
    }
    get id() {
        return this._id;
    }
    get type() {
        return this._type;
    }
    get breed() {
        return this._breed;
    }
    get index() {
        return this._index;
    }
    get _Str_827() {
        return this._colorLayerIndex;
    }
    get paletteMap() {
        return this._paletteMapId;
    }
}


/***/ }),

/***/ "yjy2":
/*!***********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/FurnitureStateParser.ts ***!
  \***********************************************************************************************/
/*! exports provided: FurnitureStateParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureStateParser", function() { return FurnitureStateParser; });
class FurnitureStateParser {
    flush() {
        this._itemId = 0;
        this._state = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._itemId = wrapper.readInt();
        this._state = wrapper.readInt();
        return true;
    }
    get itemId() {
        return this._itemId;
    }
    get state() {
        return this._state;
    }
}


/***/ }),

/***/ "ykra":
/*!***************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/catalog/CatalogSearchParser.ts ***!
  \***************************************************************************************/
/*! exports provided: CatalogSearchParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogSearchParser", function() { return CatalogSearchParser; });
/* harmony import */ var _utils_CatalogPageOfferData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/CatalogPageOfferData */ "0wjC");

class CatalogSearchParser {
    flush() {
        this._offer = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._offer = new _utils_CatalogPageOfferData__WEBPACK_IMPORTED_MODULE_0__["CatalogPageOfferData"](wrapper);
        return true;
    }
    get offer() {
        return this._offer;
    }
}


/***/ }),

/***/ "ylRD":
/*!***********************************************************!*\
  !*** ./src/client/nitro/room/object/RoomPlaneMaskData.ts ***!
  \***********************************************************/
/*! exports provided: RoomPlaneMaskData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomPlaneMaskData", function() { return RoomPlaneMaskData; });
class RoomPlaneMaskData {
    constructor(k, _arg_2, _arg_3, _arg_4) {
        this._leftSideLoc = 0;
        this._rightSideLoc = 0;
        this._leftSideLength = 0;
        this._rightSideLength = 0;
        this._leftSideLoc = k;
        this._rightSideLoc = _arg_2;
        this._leftSideLength = _arg_3;
        this._rightSideLength = _arg_4;
    }
    get _Str_5120() {
        return this._leftSideLoc;
    }
    get _Str_4659() {
        return this._rightSideLoc;
    }
    get _Str_9124() {
        return this._leftSideLength;
    }
    get _Str_12156() {
        return this._rightSideLength;
    }
}


/***/ }),

/***/ "yp5t":
/*!*****************************************************************!*\
  !*** ./src/client/nitro/avatar/data/HabboAvatarAnimations.json ***!
  \*****************************************************************/
/*! exports provided: animations, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"animations\":[{\"id\":\"Move\",\"parts\":[{\"setType\":\"bd\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"bds\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"ss\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"lg\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"sh\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"lh\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"lhs\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"ls\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"lc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"rh\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"rhs\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"rs\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"rc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]},{\"setType\":\"ch\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wlk\"},{\"number\":1,\"assetPartDefinition\":\"wlk\"},{\"number\":2,\"assetPartDefinition\":\"wlk\"},{\"number\":3,\"assetPartDefinition\":\"wlk\"}]}]},{\"id\":\"Wave\",\"parts\":[{\"setType\":\"lh\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\"},{\"number\":1,\"assetPartDefinition\":\"wav\"}]},{\"setType\":\"lhs\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\"},{\"number\":1,\"assetPartDefinition\":\"wav\"}]},{\"setType\":\"ls\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\"},{\"number\":1,\"assetPartDefinition\":\"wav\"}]},{\"setType\":\"lc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\"},{\"number\":1,\"assetPartDefinition\":\"wav\"}]},{\"setType\":\"ch\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\"},{\"number\":1,\"assetPartDefinition\":\"wav\"},{\"number\":2,\"assetPartDefinition\":\"wav\"},{\"number\":3,\"assetPartDefinition\":\"wav\"}]}]},{\"id\":\"Talk\",\"parts\":[{\"setType\":\"hd\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"spk\"},{\"number\":1,\"assetPartDefinition\":\"spk\"}]},{\"setType\":\"fc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"spk\"},{\"number\":1,\"assetPartDefinition\":\"spk\"}]},{\"setType\":\"fa\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"spk\"},{\"number\":1,\"assetPartDefinition\":\"spk\"}]}]},{\"id\":\"Sign\",\"parts\":[{\"setType\":\"lh\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"sig\"}]},{\"setType\":\"li\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"sig\"}]},{\"setType\":\"ls\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\"}]},{\"setType\":\"lc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\"}]}]},{\"id\":\"Respect\",\"parts\":[{\"setType\":\"lh\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"respect\",\"repeats\":15},{\"number\":1,\"assetPartDefinition\":\"respect\",\"repeats\":15}]},{\"setType\":\"ls\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\",\"repeats\":15},{\"number\":1,\"assetPartDefinition\":\"wav\",\"repeats\":15}]},{\"setType\":\"lc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"wav\",\"repeats\":15},{\"number\":1,\"assetPartDefinition\":\"wav\",\"repeats\":15}]}]},{\"id\":\"Blow\",\"parts\":[{\"setType\":\"rh\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"blw\",\"repeats\":10},{\"number\":1,\"assetPartDefinition\":\"blw\",\"repeats\":10}]},{\"setType\":\"rs\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"drk\"}]},{\"setType\":\"rc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"drk\"}]},{\"setType\":\"ri\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"\"}]},{\"setType\":\"ey\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"std\",\"repeats\":10},{\"number\":0,\"assetPartDefinition\":\"eyb\",\"repeats\":10}]},{\"setType\":\"fc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"std\",\"repeats\":10},{\"number\":0,\"assetPartDefinition\":\"blw\",\"repeats\":10}]}]},{\"id\":\"Laugh\",\"parts\":[{\"setType\":\"rh\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"blw\"}]},{\"setType\":\"rs\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"drk\"}]},{\"setType\":\"rc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"drk\"}]},{\"setType\":\"ri\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"\"}]},{\"setType\":\"ey\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"std\",\"repeats\":2}]},{\"setType\":\"fc\",\"frames\":[{\"number\":0,\"assetPartDefinition\":\"sml\"}]}],\"offsets\":{\"frames\":[{\"id\":0,\"directions\":[{\"id\":0,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":1}]},{\"id\":1,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":1}]},{\"id\":2,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":1}]},{\"id\":3,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":1}]},{\"id\":4,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":1}]},{\"id\":5,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":1}]},{\"id\":6,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":1}]},{\"id\":7,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":1}]}]},{\"id\":1,\"directions\":[{\"id\":0,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":0}]},{\"id\":1,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":0}]},{\"id\":2,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":0}]},{\"id\":3,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":0}]},{\"id\":4,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":0}]},{\"id\":5,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":0}]},{\"id\":6,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":0}]},{\"id\":7,\"bodyParts\":[{\"id\":\"head\",\"dx\":0,\"dy\":0}]}]}]}}]}");

/***/ }),

/***/ "ypDz":
/*!***************************************************************!*\
  !*** ./src/client/nitro/avatar/AvatarAssetDownloadLibrary.ts ***!
  \***************************************************************/
/*! exports provided: AvatarAssetDownloadLibrary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarAssetDownloadLibrary", function() { return AvatarAssetDownloadLibrary; });
/* harmony import */ var _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/events/EventDispatcher */ "vuPI");
/* harmony import */ var _events_AvatarRenderLibraryEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/AvatarRenderLibraryEvent */ "PPUR");


class AvatarAssetDownloadLibrary extends _core_events_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__["EventDispatcher"] {
    constructor(id, revision, assets, assetUrl) {
        super();
        this._state = AvatarAssetDownloadLibrary.NOT_LOADED;
        this._libraryName = id;
        this._revision = revision;
        this._downloadUrl = assetUrl;
        this._assets = assets;
        this._downloadUrl = this._downloadUrl.replace(/%libname%/gi, this._libraryName);
        this._downloadUrl = this._downloadUrl.replace(/%revision%/gi, this._revision.toString());
        const asset = this._assets.getCollection(this._libraryName);
        if (asset)
            this._state = AvatarAssetDownloadLibrary.LOADED;
    }
    downloadAsset() {
        if (!this._assets || (this._state === AvatarAssetDownloadLibrary.LOADING) || (this._state === AvatarAssetDownloadLibrary.LOADED))
            return;
        const asset = this._assets.getCollection(this._libraryName);
        if (asset) {
            this._state = AvatarAssetDownloadLibrary.LOADED;
            this.dispatchEvent(new _events_AvatarRenderLibraryEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderLibraryEvent"](_events_AvatarRenderLibraryEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderLibraryEvent"].DOWNLOAD_COMPLETE, this));
            return;
        }
        this._state = AvatarAssetDownloadLibrary.LOADING;
        this._assets.downloadAsset(this._downloadUrl, () => {
            this._state = AvatarAssetDownloadLibrary.LOADED;
            this.dispatchEvent(new _events_AvatarRenderLibraryEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderLibraryEvent"](_events_AvatarRenderLibraryEvent__WEBPACK_IMPORTED_MODULE_1__["AvatarRenderLibraryEvent"].DOWNLOAD_COMPLETE, this));
        });
    }
    get libraryName() {
        return this._libraryName;
    }
    get isLoaded() {
        return (this._state === AvatarAssetDownloadLibrary.LOADED);
    }
}
AvatarAssetDownloadLibrary.DOWNLOAD_COMPLETE = 'AADL_DOWNLOAD_COMPLETE';
AvatarAssetDownloadLibrary.NOT_LOADED = 0;
AvatarAssetDownloadLibrary.LOADING = 1;
AvatarAssetDownloadLibrary.LOADED = 2;


/***/ }),

/***/ "yqT3":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/data/RoomSettingsEvent.ts ***!
  \*****************************************************************************************/
/*! exports provided: RoomSettingsEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSettingsEvent", function() { return RoomSettingsEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_data_RoomSettingsParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/data/RoomSettingsParser */ "BHwH");


class RoomSettingsEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_data_RoomSettingsParser__WEBPACK_IMPORTED_MODULE_1__["RoomSettingsParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "ysun":
/*!**********************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurnitureOneWayDoorLogic.ts ***!
  \**********************************************************************************/
/*! exports provided: FurnitureOneWayDoorLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureOneWayDoorLogic", function() { return FurnitureOneWayDoorLogic; });
/* harmony import */ var _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../ui/MouseEventType */ "ySDW");
/* harmony import */ var _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events/RoomObjectFurnitureActionEvent */ "UOsA");
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");



class FurnitureOneWayDoorLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_2__["FurnitureLogic"] {
    getEventTypes() {
        const types = [_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].ENTER_ONEWAYDOOR];
        return this.mergeTypes(super.getEventTypes(), types);
    }
    mouseEvent(event, geometry) {
        if (!event || !geometry || !this.object)
            return;
        switch (event.type) {
            case _ui_MouseEventType__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DOUBLE_CLICK:
                this.useObject();
                return;
        }
        super.mouseEvent(event, geometry);
    }
    useObject() {
        if (!this.object)
            return;
        if (this.eventDispatcher)
            this.eventDispatcher.dispatchEvent(new _events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"](_events_RoomObjectFurnitureActionEvent__WEBPACK_IMPORTED_MODULE_1__["RoomObjectFurnitureActionEvent"].ENTER_ONEWAYDOOR, this.object));
    }
}


/***/ }),

/***/ "ywHV":
/*!****************************************************************!*\
  !*** ./src/app/components/catalog/services/catalog.service.ts ***!
  \****************************************************************/
/*! exports provided: CatalogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CatalogService", function() { return CatalogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_session_furniture_FurnitureType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../client/nitro/session/furniture/FurnitureType */ "z20u");
/* harmony import */ var _AppConfiguration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../AppConfiguration */ "dZ2M");





class CatalogService {
    constructor() {
        this._tabEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._pageEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._offerEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._purchaseEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    selectTab(tab) {
        if (!tab)
            return;
        if (this._tabEmitter)
            this._tabEmitter.emit(tab);
    }
    selectPage(page) {
        if (!page)
            return;
        if (this._pageEmitter)
            this._pageEmitter.emit(page);
    }
    selectOffer(offer) {
        if (!offer)
            return;
        if (this._offerEmitter)
            this._offerEmitter.emit(offer);
    }
    receivePurchase(purchase) {
        if (!purchase)
            return;
        if (this._purchaseEmitter)
            this._purchaseEmitter.emit(purchase);
    }
    isDescendant(page, descendant) {
        if (!page || !descendant)
            return false;
        if (page === descendant)
            return true;
        if (page.children.length) {
            for (let child of page.children) {
                if (!child)
                    continue;
                if (child === descendant)
                    return true;
                const flag = this.isDescendant(child, descendant);
                if (flag)
                    return true;
            }
        }
        return false;
    }
    getFurnitureDataForProductOffer(offer) {
        if (!offer)
            return null;
        let furniData = null;
        switch ((offer.productType.toUpperCase())) {
            case _client_nitro_session_furniture_FurnitureType__WEBPACK_IMPORTED_MODULE_2__["FurnitureType"].FLOOR:
                furniData = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.sessionDataManager.getFloorItemData(offer.furniClassId);
                break;
            case _client_nitro_session_furniture_FurnitureType__WEBPACK_IMPORTED_MODULE_2__["FurnitureType"].WALL:
                furniData = _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.sessionDataManager.getWallItemData(offer.furniClassId);
                break;
        }
        return furniData;
    }
    getFurnitureDataIconUrl(furniData) {
        if (!furniData)
            return null;
        let furniName = furniData.className;
        if (furniData.colorId > 0)
            furniName = furniName + '_' + furniData.colorId;
        return (_AppConfiguration__WEBPACK_IMPORTED_MODULE_3__["AppConfiguration"].FURNITURE_ICON_URL.replace('%name%', furniName));
    }
    get tabEmitter() {
        return this._tabEmitter;
    }
    get pageEmitter() {
        return this._pageEmitter;
    }
    get offerEmitter() {
        return this._offerEmitter;
    }
    get purchaseEmitter() {
        return this._purchaseEmitter;
    }
}
CatalogService.ɵfac = function CatalogService_Factory(t) { return new (t || CatalogService)(); };
CatalogService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: CatalogService, factory: CatalogService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CatalogService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "yydM":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/engine/ObjectsRollingEvent.ts ***!
  \*********************************************************************************************/
/*! exports provided: ObjectsRollingEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObjectsRollingEvent", function() { return ObjectsRollingEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_engine_ObjectsRollingParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/engine/ObjectsRollingParser */ "uqTz");


class ObjectsRollingEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_engine_ObjectsRollingParser__WEBPACK_IMPORTED_MODULE_1__["ObjectsRollingParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "z20u":
/*!*************************************************************!*\
  !*** ./src/client/nitro/session/furniture/FurnitureType.ts ***!
  \*************************************************************/
/*! exports provided: FurnitureType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureType", function() { return FurnitureType; });
var FurnitureType;
(function (FurnitureType) {
    FurnitureType["FLOOR"] = "S";
    FurnitureType["WALL"] = "I";
    FurnitureType["EFFECT"] = "E";
    FurnitureType["BADGE"] = "B";
    FurnitureType["ROBOT"] = "R";
    FurnitureType["HABBO_CLUB"] = "H";
    FurnitureType["PET"] = "P";
})(FurnitureType || (FurnitureType = {}));


/***/ }),

/***/ "z2NA":
/*!*********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/furniture/wall/FurnitureWallUpdateParser.ts ***!
  \*********************************************************************************************************/
/*! exports provided: FurnitureWallUpdateParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureWallUpdateParser", function() { return FurnitureWallUpdateParser; });
/* harmony import */ var _FurnitureWallDataParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureWallDataParser */ "1+1A");

class FurnitureWallUpdateParser {
    flush() {
        this._item = null;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._item = new _FurnitureWallDataParser__WEBPACK_IMPORTED_MODULE_0__["FurnitureWallDataParser"](wrapper);
        return true;
    }
    get item() {
        return this._item;
    }
}


/***/ }),

/***/ "z3Rz":
/*!*************************************************!*\
  !*** ./src/client/room/utils/ColorConverter.ts ***!
  \*************************************************/
/*! exports provided: ColorConverter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorConverter", function() { return ColorConverter; });
/* harmony import */ var _Vector3D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3D */ "LGmI");

class ColorConverter {
    static _Str_22130(k) {
        var _local_2 = (((k >> 16) & 0xFF) / 0xFF);
        var _local_3 = (((k >> 8) & 0xFF) / 0xFF);
        var _local_4 = ((k & 0xFF) / 0xFF);
        var _local_5 = Math.max(_local_2, _local_3, _local_4);
        var _local_6 = Math.min(_local_2, _local_3, _local_4);
        var _local_7 = (_local_5 - _local_6);
        var _local_8 = 0;
        var _local_9 = 0;
        var _local_10 = 0;
        if (_local_7 == 0) {
            _local_8 = 0;
        }
        else {
            if (_local_5 == _local_2) {
                if (_local_3 > _local_4) {
                    _local_8 = ((60 * (_local_3 - _local_4)) / _local_7);
                }
                else {
                    _local_8 = (((60 * (_local_3 - _local_4)) / _local_7) + 360);
                }
            }
            else {
                if (_local_5 == _local_3) {
                    _local_8 = (((60 * (_local_4 - _local_2)) / _local_7) + 120);
                }
                else {
                    if (_local_5 == _local_4) {
                        _local_8 = (((60 * (_local_2 - _local_3)) / _local_7) + 240);
                    }
                }
            }
        }
        _local_9 = (0.5 * (_local_5 + _local_6));
        if (_local_7 == 0) {
            _local_10 = 0;
        }
        else {
            if (_local_9 <= 0.5) {
                _local_10 = ((_local_7 / _local_9) * 0.5);
            }
            else {
                _local_10 = ((_local_7 / (1 - _local_9)) * 0.5);
            }
        }
        var _local_11 = Math.round(((_local_8 / 360) * 0xFF));
        var _local_12 = Math.round((_local_10 * 0xFF));
        var _local_13 = Math.round((_local_9 * 0xFF));
        var _local_14 = (((_local_11 << 16) + (_local_12 << 8)) + _local_13);
        return _local_14;
    }
    static _Str_13949(k) {
        var _local_12;
        var _local_13;
        var _local_14;
        var _local_15;
        var _local_16;
        var _local_2 = (((k >> 16) & 0xFF) / 0xFF);
        var _local_3 = (((k >> 8) & 0xFF) / 0xFF);
        var _local_4 = ((k & 0xFF) / 0xFF);
        var _local_5 = 0;
        var _local_6 = 0;
        var _local_7 = 0;
        if (_local_3 > 0) {
            _local_12 = 0;
            _local_13 = 0;
            if (_local_4 < 0.5) {
                _local_12 = (_local_4 * (1 + _local_3));
            }
            else {
                _local_12 = ((_local_4 + _local_3) - (_local_4 * _local_3));
            }
            _local_13 = ((2 * _local_4) - _local_12);
            _local_14 = (_local_2 + (1 / 3));
            _local_15 = _local_2;
            _local_16 = (_local_2 - (1 / 3));
            if (_local_14 < 0) {
                _local_14 = (_local_14 + 1);
            }
            else {
                if (_local_14 > 1) {
                    _local_14--;
                }
            }
            if (_local_15 < 0) {
                _local_15 = (_local_15 + 1);
            }
            else {
                if (_local_15 > 1) {
                    _local_15--;
                }
            }
            if (_local_16 < 0) {
                _local_16 = (_local_16 + 1);
            }
            else {
                if (_local_16 > 1) {
                    _local_16--;
                }
            }
            if ((_local_14 * 6) < 1) {
                _local_5 = (_local_13 + (((_local_12 - _local_13) * 6) * _local_14));
            }
            else {
                if ((_local_14 * 2) < 1) {
                    _local_5 = _local_12;
                }
                else {
                    if ((_local_14 * 3) < 2) {
                        _local_5 = (_local_13 + (((_local_12 - _local_13) * 6) * ((2 / 3) - _local_14)));
                    }
                    else {
                        _local_5 = _local_13;
                    }
                }
            }
            if ((_local_15 * 6) < 1) {
                _local_6 = (_local_13 + (((_local_12 - _local_13) * 6) * _local_15));
            }
            else {
                if ((_local_15 * 2) < 1) {
                    _local_6 = _local_12;
                }
                else {
                    if ((_local_15 * 3) < 2) {
                        _local_6 = (_local_13 + (((_local_12 - _local_13) * 6) * ((2 / 3) - _local_15)));
                    }
                    else {
                        _local_6 = _local_13;
                    }
                }
            }
            if ((_local_16 * 6) < 1) {
                _local_7 = (_local_13 + (((_local_12 - _local_13) * 6) * _local_16));
            }
            else {
                if ((_local_16 * 2) < 1) {
                    _local_7 = _local_12;
                }
                else {
                    if ((_local_16 * 3) < 2) {
                        _local_7 = (_local_13 + (((_local_12 - _local_13) * 6) * ((2 / 3) - _local_16)));
                    }
                    else {
                        _local_7 = _local_13;
                    }
                }
            }
        }
        else {
            _local_5 = _local_4;
            _local_6 = _local_4;
            _local_7 = _local_4;
        }
        var _local_8 = Math.round((_local_5 * 0xFF));
        var _local_9 = Math.round((_local_6 * 0xFF));
        var _local_10 = Math.round((_local_7 * 0xFF));
        var _local_11 = (((_local_8 << 16) + (_local_9 << 8)) + _local_10);
        return _local_11;
    }
    static rgb2xyz(k) {
        var _local_2 = (((k >> 16) & 0xFF) / 0xFF);
        var _local_3 = (((k >> 8) & 0xFF) / 0xFF);
        var _local_4 = (((k >> 0) & 0xFF) / 0xFF);
        if (_local_2 > 0.04045) {
            _local_2 = Math.pow(((_local_2 + 0.055) / 1.055), 2.4);
        }
        else {
            _local_2 = (_local_2 / 12.92);
        }
        if (_local_3 > 0.04045) {
            _local_3 = Math.pow(((_local_3 + 0.055) / 1.055), 2.4);
        }
        else {
            _local_3 = (_local_3 / 12.92);
        }
        if (_local_4 > 0.04045) {
            _local_4 = Math.pow(((_local_4 + 0.055) / 1.055), 2.4);
        }
        else {
            _local_4 = (_local_4 / 12.92);
        }
        _local_2 = (_local_2 * 100);
        _local_3 = (_local_3 * 100);
        _local_4 = (_local_4 * 100);
        return new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"]((((_local_2 * 0.4124) + (_local_3 * 0.3576)) + (_local_4 * 0.1805)), (((_local_2 * 0.2126) + (_local_3 * 0.7152)) + (_local_4 * 0.0722)), (((_local_2 * 0.0193) + (_local_3 * 0.1192)) + (_local_4 * 0.9505)));
    }
    static _Str_22784(k) {
        var _local_2 = (k.x / 95.047);
        var _local_3 = (k.y / 100);
        var _local_4 = (k.z / 108.883);
        if (_local_2 > 0.008856) {
            _local_2 = Math.pow(_local_2, (1 / 3));
        }
        else {
            _local_2 = ((7.787 * _local_2) + (16 / 116));
        }
        if (_local_3 > 0.008856) {
            _local_3 = Math.pow(_local_3, (1 / 3));
        }
        else {
            _local_3 = ((7.787 * _local_3) + (16 / 116));
        }
        if (_local_4 > 0.008856) {
            _local_4 = Math.pow(_local_4, (1 / 3));
        }
        else {
            _local_4 = ((7.787 * _local_4) + (16 / 116));
        }
        return new _Vector3D__WEBPACK_IMPORTED_MODULE_0__["Vector3D"](((116 * _local_3) - 16), (500 * (_local_2 - _local_3)), (200 * (_local_3 - _local_4)));
    }
    static rgb2CieLab(k) {
        return ColorConverter._Str_22784(ColorConverter.rgb2xyz(k));
    }
}


/***/ }),

/***/ "z50k":
/*!*****************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/parser/room/unit/RoomUnitDanceParser.ts ***!
  \*****************************************************************************************/
/*! exports provided: RoomUnitDanceParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomUnitDanceParser", function() { return RoomUnitDanceParser; });
class RoomUnitDanceParser {
    flush() {
        this._unitId = null;
        this._danceId = 0;
        return true;
    }
    parse(wrapper) {
        if (!wrapper)
            return false;
        this._unitId = wrapper.readInt();
        this._danceId = wrapper.readInt();
        return true;
    }
    get unitId() {
        return this._unitId;
    }
    get danceId() {
        return this._danceId;
    }
}


/***/ }),

/***/ "z6mw":
/*!****************************************************************************!*\
  !*** ./src/client/nitro/communication/demo/NitroCommunicationDemoEvent.ts ***!
  \****************************************************************************/
/*! exports provided: NitroCommunicationDemoEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NitroCommunicationDemoEvent", function() { return NitroCommunicationDemoEvent; });
/* harmony import */ var _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/events/NitroEvent */ "3r1x");

class NitroCommunicationDemoEvent extends _core_events_NitroEvent__WEBPACK_IMPORTED_MODULE_0__["NitroEvent"] {
    constructor(type, connection) {
        super(type);
        this._connection = connection;
    }
    get connection() {
        return this._connection;
    }
}
NitroCommunicationDemoEvent.CONNECTION_ESTABLISHED = 'NCE_ESTABLISHED';
NitroCommunicationDemoEvent.CONNECTION_CLOSED = 'NCE_CLOSED';
NitroCommunicationDemoEvent.CONNECTION_ERROR = 'NCE_ERROR';
NitroCommunicationDemoEvent.CONNECTION_HANDSHAKING = 'NCE_HANDSHAKING';
NitroCommunicationDemoEvent.CONNECTION_HANDSHAKED = 'NCE_HANDSHAKED';
NitroCommunicationDemoEvent.CONNECTION_HANDSHAKE_FAILED = 'NCE_HANDSHAKE_FAILED';
NitroCommunicationDemoEvent.CONNECTION_AUTHENTICATED = 'NCE_AUTHENTICATED';


/***/ }),

/***/ "z9A0":
/*!****************************************************************!*\
  !*** ./src/client/nitro/avatar/actions/AvatarActionManager.ts ***!
  \****************************************************************/
/*! exports provided: AvatarActionManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarActionManager", function() { return AvatarActionManager; });
/* harmony import */ var _ActionDefinition__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionDefinition */ "A4mR");

class AvatarActionManager {
    constructor(k, data) {
        this._assets = k;
        this._actions = new Map();
        this._defaultAction = null;
        this._Str_1620(data);
    }
    _Str_1620(data) {
        if (!data)
            return;
        for (let action of data.actions) {
            if (!action || !action.state)
                continue;
            const definition = new _ActionDefinition__WEBPACK_IMPORTED_MODULE_0__["ActionDefinition"](action);
            this._actions.set(definition.state, definition);
        }
        if (data.actionOffsets)
            this._Str_1767(data.actionOffsets);
    }
    _Str_1767(offsets) {
        if (!offsets || !offsets.length)
            return;
        for (let offset of offsets) {
            const action = this._actions.get(offset.action);
            if (!action)
                continue;
            for (let canvasOffset of offset.offsets) {
                const size = (canvasOffset.size || '');
                const direction = canvasOffset.direction;
                if ((size === '') || (direction === undefined))
                    continue;
                const x = (canvasOffset.x || 0);
                const y = (canvasOffset.y || 0);
                const z = (canvasOffset.z || 0);
                action._Str_772(size, direction, [x, y, z]);
            }
        }
    }
    _Str_1675(id) {
        if (!id)
            return null;
        for (let action of this._actions.values()) {
            if (!action || (action.id !== id))
                continue;
            return action;
        }
        return null;
    }
    _Str_2018(state) {
        const existing = this._actions.get(state);
        if (!existing)
            return null;
        return existing;
    }
    _Str_1027() {
        if (this._defaultAction)
            return this._defaultAction;
        for (let action of this._actions.values()) {
            if (!action || !action._Str_804)
                continue;
            this._defaultAction = action;
            return action;
        }
        return null;
    }
    _Str_781(k, _arg_2, _arg_3) {
        let canvasOffsets = [];
        for (let activeAction of k) {
            if (!activeAction)
                continue;
            const action = this._actions.get(activeAction._Str_695);
            const offsets = action && action._Str_805(_arg_2, _arg_3);
            if (offsets)
                canvasOffsets = offsets;
        }
        return canvasOffsets;
    }
    _Str_711(actions) {
        if (!actions)
            return null;
        actions = this._Str_1247(actions);
        let validatedActions = [];
        for (let action of actions) {
            if (!action)
                continue;
            const definition = this._actions.get(action._Str_695);
            if (!definition)
                continue;
            action._Str_742 = definition;
            validatedActions.push(action);
        }
        validatedActions.sort(this.sortByPrecedence);
        return validatedActions;
    }
    _Str_1247(actions) {
        let preventions = [];
        let activeActions = [];
        for (let action of actions) {
            if (!action)
                continue;
            const localAction = this._actions.get(action._Str_695);
            if (localAction)
                preventions = preventions.concat(localAction._Str_733(action._Str_727));
        }
        for (let action of actions) {
            if (!action)
                continue;
            let actionType = action._Str_695;
            if (action._Str_695 === 'fx')
                actionType = (actionType + ('.' + action._Str_727));
            if (preventions.indexOf(actionType) >= 0)
                continue;
            activeActions.push(action);
        }
        return activeActions;
    }
    sortByPrecedence(actionOne, actionTwo) {
        if (!actionOne || !actionTwo)
            return 0;
        const precedenceOne = actionOne._Str_742.precedence;
        const precedenceTwo = actionTwo._Str_742.precedence;
        if (precedenceOne < precedenceTwo)
            return 1;
        if (precedenceOne > precedenceTwo)
            return -1;
        return 0;
    }
}


/***/ }),

/***/ "z9LQ":
/*!******************************************************************************************!*\
  !*** ./src/client/nitro/room/object/visualization/data/AnimationFrameDirectionalData.ts ***!
  \******************************************************************************************/
/*! exports provided: AnimationFrameDirectionalData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnimationFrameDirectionalData", function() { return AnimationFrameDirectionalData; });
/* harmony import */ var _AnimationFrameData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimationFrameData */ "izm6");

class AnimationFrameDirectionalData extends _AnimationFrameData__WEBPACK_IMPORTED_MODULE_0__["AnimationFrameData"] {
    constructor(id, x, y, randomX, randomY, offsets, repeats) {
        super(id, x, y, randomX, randomY, repeats);
        this._directionalOffsets = offsets;
    }
    hasDirectionalOffsets() {
        return this._directionalOffsets !== null;
    }
    getX(direction) {
        if (!this._directionalOffsets)
            return super.getX(direction);
        return this._directionalOffsets.getXOffset(direction, super.getX(direction));
    }
    getY(direction) {
        if (!this._directionalOffsets)
            return super.getY(direction);
        return this._directionalOffsets.getYOffset(direction, super.getY(direction));
    }
}


/***/ }),

/***/ "zBQs":
/*!*********************************************************!*\
  !*** ./src/client/room/renderer/RoomRendererFactory.ts ***!
  \*********************************************************/
/*! exports provided: RoomRendererFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomRendererFactory", function() { return RoomRendererFactory; });
/* harmony import */ var _RoomRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomRenderer */ "1tdl");

class RoomRendererFactory {
    createRenderer() {
        return new _RoomRenderer__WEBPACK_IMPORTED_MODULE_0__["RoomRenderer"]();
    }
}


/***/ }),

/***/ "zFyg":
/*!**********************************************************************************!*\
  !*** ./src/app/components/room/widgets/messages/RoomWidgetFurniActionMessage.ts ***!
  \**********************************************************************************/
/*! exports provided: RoomWidgetFurniActionMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetFurniActionMessage", function() { return RoomWidgetFurniActionMessage; });
/* harmony import */ var _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/messages/RoomWidgetMessage */ "x+DL");

class RoomWidgetFurniActionMessage extends _client_nitro_ui_widget_messages_RoomWidgetMessage__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetMessage"] {
    constructor(type, id, category, offerId = -1, objectData = null) {
        super(type);
        this._furniId = id;
        this._furniCategory = category;
        this._offerId = offerId;
        this._objectData = objectData;
    }
    get furniId() {
        return this._furniId;
    }
    get furniCategory() {
        return this._furniCategory;
    }
    get objectData() {
        return this._objectData;
    }
    get _Str_2451() {
        return this._offerId;
    }
}
RoomWidgetFurniActionMessage.RWFUAM_ROTATE = 'RWFUAM_ROTATE';
RoomWidgetFurniActionMessage.RWFAM_MOVE = 'RWFAM_MOVE';
RoomWidgetFurniActionMessage.RWFAM_PICKUP = 'RWFAM_PICKUP';
RoomWidgetFurniActionMessage.RWFAM_EJECT = 'RWFAM_EJECT';
RoomWidgetFurniActionMessage.RWFAM_USE = 'RWFAM_USE';
RoomWidgetFurniActionMessage.RWFAM_OPEN_WELCOME_GIFT = 'RWFAM_OPEN_WELCOME_GIFT';
RoomWidgetFurniActionMessage.RWFAM_SAVE_STUFF_DATA = 'RWFAM_SAVE_STUFF_DATA';


/***/ }),

/***/ "zIYo":
/*!**********************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/outgoing/user/inventory/currency/UserCurrencyComposer.ts ***!
  \**********************************************************************************************************/
/*! exports provided: UserCurrencyComposer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserCurrencyComposer", function() { return UserCurrencyComposer; });
class UserCurrencyComposer {
    constructor() {
        this._data = [];
    }
    getMessageArray() {
        return this._data;
    }
    dispose() {
        return;
    }
}


/***/ }),

/***/ "zJUZ":
/*!***************************************************************************!*\
  !*** ./src/client/nitro/room/events/RoomEngineObjectPlacedOnUserEvent.ts ***!
  \***************************************************************************/
/*! exports provided: RoomEngineObjectPlacedOnUserEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomEngineObjectPlacedOnUserEvent", function() { return RoomEngineObjectPlacedOnUserEvent; });
/* harmony import */ var _RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RoomEngineObjectEvent */ "Hs+C");

class RoomEngineObjectPlacedOnUserEvent extends _RoomEngineObjectEvent__WEBPACK_IMPORTED_MODULE_0__["RoomEngineObjectEvent"] {
    constructor(k, roomId, objectId, category, droppedObjectId, droppedObjectCategory) {
        super(k, roomId, objectId, category);
        this._droppedObjectId = droppedObjectId;
        this._droppedObjectCategory = droppedObjectCategory;
    }
    get droppedObjectId() {
        return this._droppedObjectId;
    }
    get droppedObjectCategory() {
        return this._droppedObjectCategory;
    }
}


/***/ }),

/***/ "zQ5P":
/*!***************************************************************!*\
  !*** ./src/app/components/room/widgets/roomchat/component.ts ***!
  \***************************************************************/
/*! exports provided: RoomChatComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomChatComponent", function() { return RoomChatComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../client/nitro/Nitro */ "P7Cj");
/* harmony import */ var _client_nitro_ui_widget_ConversionTrackingWidget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/ConversionTrackingWidget */ "2Ba9");
/* harmony import */ var _client_room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../client/room/utils/RoomEnterEffect */ "vqvB");
/* harmony import */ var _events_RoomWidgetChatUpdateEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events/RoomWidgetChatUpdateEvent */ "r7om");
/* harmony import */ var _events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events/RoomWidgetRoomViewUpdateEvent */ "wwod");
/* harmony import */ var _chatitem_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chatitem/component */ "k5Z/");








const _c0 = ["chatView"];
const _c1 = ["chatContainer"];
function RoomChatComponent_ng_template_2_Template(rf, ctx) { }
class RoomChatComponent extends _client_nitro_ui_widget_ConversionTrackingWidget__WEBPACK_IMPORTED_MODULE_2__["ConversionTrackingWidget"] {
    constructor(ngZone, componentFactoryResolver) {
        super();
        this.ngZone = ngZone;
        this.componentFactoryResolver = componentFactoryResolver;
        this.timeoutTime = 0;
        this.originalScale = 1;
        this.scaleFactor = 0;
        this.cameraOffset = new PIXI.Point();
        this.chats = [];
        this.tempChats = [];
        this.pendingChats = [];
        this.processingChats = false;
    }
    ngOnInit() {
        this.ngZone.runOutsideAngular(() => _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.ticker.add(this.update, this));
    }
    ngOnDestroy() {
        this.ngZone.runOutsideAngular(() => _client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.ticker.remove(this.update, this));
    }
    registerUpdateEvents(eventDispatcher) {
        if (!eventDispatcher)
            return;
        eventDispatcher.addEventListener(_events_RoomWidgetChatUpdateEvent__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetChatUpdateEvent"].RWCUE_EVENT_CHAT, this.onChatMessage.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomViewUpdateEvent"].SIZE_CHANGED, this.onRoomViewUpdate.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomViewUpdateEvent"].POSITION_CHANGED, this.onRoomViewUpdate.bind(this));
        eventDispatcher.addEventListener(_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomViewUpdateEvent"].SCALE_CHANGED, this.onRoomViewUpdate.bind(this));
        super.registerUpdateEvents(eventDispatcher);
    }
    unregisterUpdateEvents(eventDispatcher) {
        if (!eventDispatcher)
            return;
        eventDispatcher.removeEventListener(_events_RoomWidgetChatUpdateEvent__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetChatUpdateEvent"].RWCUE_EVENT_CHAT, this.onChatMessage.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomViewUpdateEvent"].SIZE_CHANGED, this.onRoomViewUpdate.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomViewUpdateEvent"].POSITION_CHANGED, this.onRoomViewUpdate.bind(this));
        eventDispatcher.removeEventListener(_events_RoomWidgetRoomViewUpdateEvent__WEBPACK_IMPORTED_MODULE_5__["RoomWidgetRoomViewUpdateEvent"].SCALE_CHANGED, this.onRoomViewUpdate.bind(this));
    }
    update(time) {
        if (_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.time > this.timeoutTime) {
            if (this.timeoutTime > 0)
                this.moveAllChatsUp();
            this.resetTimeout();
        }
    }
    resetTimeout() {
        this.timeoutTime = (_client_nitro_Nitro__WEBPACK_IMPORTED_MODULE_1__["Nitro"].instance.time + RoomChatComponent.UPDATE_INTERVAL);
    }
    onChatMessage(k) {
        if (!k || _client_room_utils_RoomEnterEffect__WEBPACK_IMPORTED_MODULE_3__["RoomEnterEffect"]._Str_1349() && (k.chatType !== _events_RoomWidgetChatUpdateEvent__WEBPACK_IMPORTED_MODULE_4__["RoomWidgetChatUpdateEvent"].CHAT_TYPE_WHISPER))
            return;
        this.pendingChats.push(k);
        this.timeoutTime = 0;
        this.processPendingChats();
    }
    onRoomViewUpdate(k) {
        if (k.scale > 0) {
            if (!this.originalScale)
                this.originalScale = k.scale;
            else
                this.scaleFactor = (k.scale / this.originalScale);
        }
        if (k.positionDelta) {
            this.cameraOffset.x = (this.cameraOffset.x + (k.positionDelta.x / this.scaleFactor));
            this.cameraOffset.y = (this.cameraOffset.y + (k.positionDelta.y / this.scaleFactor));
        }
        this.resetAllChatLocations();
    }
    processPendingChats(skipCheck = false) {
        if (!skipCheck) {
            if (this.processingChats)
                return;
        }
        this.processingChats = true;
        const pendingChat = this.pendingChats.shift();
        if (!pendingChat) {
            this.resetTimeout();
            this.processingChats = false;
            return;
        }
        let chatRef = null;
        let chat = null;
        this.ngZone.run(() => {
            const componentFactory = this.componentFactoryResolver.resolveComponentFactory(_chatitem_component__WEBPACK_IMPORTED_MODULE_6__["RoomChatItemComponent"]);
            chatRef = this.chatContainer.createComponent(componentFactory);
            chat = chatRef.instance;
            if (!chat)
                return;
            chat.id = this.getFreeItemId();
            chat.update(pendingChat);
        });
        setTimeout(() => this.addChat(chatRef), 0);
    }
    getFreeItemId() {
        return ("chat_item_" + RoomChatComponent.CHAT_COUNTER);
    }
    addChat(chat) {
        if (!chat)
            return;
        const chatInstance = chat.instance;
        chatInstance.senderX = ((chatInstance.senderX / this.scaleFactor) - this.cameraOffset.x);
        chatInstance.setY(this.chatViewElement.offsetHeight - chatInstance.height);
        this.resetChatItemLocation(chat);
        this.makeRoomForChat(chat);
        this.chats.push(chat);
        chatInstance.ready();
        RoomChatComponent.CHAT_COUNTER++;
        setTimeout(() => this.processPendingChats(true), 0);
    }
    hideChat(chat) {
        if (!chat)
            return;
        const chatIndex = this.chats.indexOf(chat);
        if (chatIndex >= 0)
            this.chats.splice(chatIndex, 1);
        const chatContainerIndex = this.chatContainer.indexOf(chat.hostView);
        if (chatContainerIndex >= 0)
            this.chatContainer.remove(chatContainerIndex);
    }
    moveChatUp(chat, nextHeight = 0) {
        if (!chat)
            return;
        const chatInstance = chat.instance;
        chatInstance.setY((chatInstance.getY() - nextHeight));
        if (chatInstance.getY() < (-(chatInstance.height * 2)))
            this.hideChat(chat);
    }
    moveAllChatsUp() {
        let i = (this.chats.length - 1);
        while (i >= 0) {
            this.moveChatUp(this.chats[i], 15);
            i--;
        }
    }
    makeRoomForChat(chat) {
        if (!chat)
            return;
        const chatInstance = chat.instance;
        let i = 0;
        while (i < this.chats.length) {
            const existing = this.chats[i];
            const existingInstance = existing.instance;
            if (existing) {
                if (this.doOverlap(chatInstance.getX(), chatInstance.getY(), (chatInstance.getX() + chatInstance.width), (chatInstance.getY() - chatInstance.height), existingInstance.getX(), existingInstance.getY(), (existingInstance.getX() + existingInstance.width), (existingInstance.getY() - existingInstance.height))) {
                    this.tempChats.push(existing);
                    this.checkOverlappingChats(existing, chat);
                }
            }
            i++;
        }
        if (this.tempChats.length) {
            i = (this.tempChats.length - 1);
            while (i >= 0) {
                const currentChat = this.tempChats[i];
                const currentChatInstance = currentChat.instance;
                this.moveChatUp(currentChat, chatInstance.height);
                i--;
            }
            this.tempChats = [];
        }
    }
    checkOverlappingChats(chat1, chat2) {
        const chat1Instance = chat1.instance;
        const x1 = chat1Instance.getX();
        const y1 = chat1Instance.getY();
        const width1 = chat1Instance.width;
        const height1 = chat1Instance.height;
        const chat2Instance = chat2.instance;
        const x2 = chat2Instance.getX();
        const y2 = chat2Instance.getY();
        const width2 = chat2Instance.width;
        const height2 = chat2Instance.height;
        for (let chat of this.chats) {
            if (!chat)
                continue;
            const chat3Instance = chat.instance;
            const x3 = chat3Instance.getX();
            const y3 = chat3Instance.getY();
            const width3 = chat3Instance.width;
            const height3 = chat3Instance.height;
            if (this.doOverlap(x1, (y1 - height2), (x1 + width1), (y1 - height2 - height1), x3, y3, (x3 + width3), (y3 - height3)) && (y1 > y3)) {
                if (this.tempChats.indexOf(chat) !== -1)
                    continue;
                this.tempChats.push(chat);
                this.checkOverlappingChats(chat, chat2);
            }
        }
    }
    doOverlap(l1x, l1y, r1x, r1y, l2x, l2y, r2x, r2y) {
        if (l1x > r2x || l2x > r1x)
            return false;
        if (l1y < r2y || l2y < r1y)
            return false;
        return true;
    }
    resetAllChatLocations() {
        let i = (this.chats.length - 1);
        while (i >= 0) {
            const chat = this.chats[i];
            if (chat)
                this.resetChatItemLocation(chat);
            i--;
        }
    }
    resetChatItemLocation(chat) {
        const chatInstance = chat.instance;
        let x = ((chatInstance.senderX + this.cameraOffset.x) * this.scaleFactor);
        x = (x - (chatInstance.width / 2));
        x = (x + (this.chatViewElement.offsetWidth / 2));
        chatInstance.setX(x);
    }
    get chatViewElement() {
        return ((this.chatViewReference && this.chatViewReference.nativeElement) || null);
    }
    get handler() {
        return this.widgetHandler;
    }
}
RoomChatComponent.CHAT_COUNTER = 0;
RoomChatComponent.MAX_CHAT_HISTORY = 250;
RoomChatComponent.UPDATE_INTERVAL = 4000;
RoomChatComponent.ɵfac = function RoomChatComponent_Factory(t) { return new (t || RoomChatComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"])); };
RoomChatComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoomChatComponent, selectors: [["nitro-room-chat-component"]], viewQuery: function RoomChatComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.chatViewReference = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.chatContainer = _t.first);
    } }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 4, vars: 0, consts: [[1, "nitro-room-chat-component"], ["chatView", ""], ["chatContainer", ""]], template: function RoomChatComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, RoomChatComponent_ng_template_2_Template, 0, 0, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoomChatComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'nitro-room-chat-component',
                template: `
    <div #chatView class="nitro-room-chat-component">
        <ng-template #chatContainer></ng-template>
    </div>`
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }]; }, { chatViewReference: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['chatView']
        }], chatContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['chatContainer', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]
        }] }); })();


/***/ }),

/***/ "zRn8":
/*!**************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/data/RoomScoreEvent.ts ***!
  \**************************************************************************************/
/*! exports provided: RoomScoreEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomScoreEvent", function() { return RoomScoreEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_data_RoomScoreParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/data/RoomScoreParser */ "6Sys");


class RoomScoreEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_data_RoomScoreParser__WEBPACK_IMPORTED_MODULE_1__["RoomScoreParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "zTkZ":
/*!*********************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/mapping/RoomModelNameEvent.ts ***!
  \*********************************************************************************************/
/*! exports provided: RoomModelNameEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomModelNameEvent", function() { return RoomModelNameEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_mapping_RoomModelNameParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/mapping/RoomModelNameParser */ "rpJk");


class RoomModelNameEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_mapping_RoomModelNameParser__WEBPACK_IMPORTED_MODULE_1__["RoomModelNameParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "zUnb":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environments/environment */ "AytR");
/* harmony import */ var _app_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/index */ "9cwZ");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "jhN1");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["platformBrowser"]().bootstrapModule(_app_index__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(err => console.error(err));


/***/ }),

/***/ "zVPj":
/*!************************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/furniture/floor/FurnitureFloorRemoveEvent.ts ***!
  \************************************************************************************************************/
/*! exports provided: FurnitureFloorRemoveEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurnitureFloorRemoveEvent", function() { return FurnitureFloorRemoveEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_furniture_floor_FurnitureFloorRemoveParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../parser/room/furniture/floor/FurnitureFloorRemoveParser */ "vQF7");


class FurnitureFloorRemoveEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_furniture_floor_FurnitureFloorRemoveParser__WEBPACK_IMPORTED_MODULE_1__["FurnitureFloorRemoveParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "zWsf":
/*!************************************************************************************************!*\
  !*** ./src/client/nitro/communication/messages/incoming/room/data/RoomSettingsUpdatedEvent.ts ***!
  \************************************************************************************************/
/*! exports provided: RoomSettingsUpdatedEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomSettingsUpdatedEvent", function() { return RoomSettingsUpdatedEvent; });
/* harmony import */ var _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/communication/messages/MessageEvent */ "5+UO");
/* harmony import */ var _parser_room_data_RoomSettingsUpdatedParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../parser/room/data/RoomSettingsUpdatedParser */ "6YpD");


class RoomSettingsUpdatedEvent extends _core_communication_messages_MessageEvent__WEBPACK_IMPORTED_MODULE_0__["MessageEvent"] {
    constructor(callBack) {
        super(callBack, _parser_room_data_RoomSettingsUpdatedParser__WEBPACK_IMPORTED_MODULE_1__["RoomSettingsUpdatedParser"]);
    }
    getParser() {
        return this.parser;
    }
}


/***/ }),

/***/ "zaDV":
/*!*************************************************************************************!*\
  !*** ./src/app/components/room/widgets/events/RoomWidgetUserLocationUpdateEvent.ts ***!
  \*************************************************************************************/
/*! exports provided: RoomWidgetUserLocationUpdateEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoomWidgetUserLocationUpdateEvent", function() { return RoomWidgetUserLocationUpdateEvent; });
/* harmony import */ var _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../client/nitro/ui/widget/events/RoomWidgetUpdateEvent */ "I3Xa");

class RoomWidgetUserLocationUpdateEvent extends _client_nitro_ui_widget_events_RoomWidgetUpdateEvent__WEBPACK_IMPORTED_MODULE_0__["RoomWidgetUpdateEvent"] {
    constructor(k, _arg_2, _arg_3) {
        super(RoomWidgetUserLocationUpdateEvent.RWULUE_USER_LOCATION_UPDATE);
        this._userId = k;
        this._rectangle = _arg_2;
        this._Str_20775 = _arg_3;
    }
    get userId() {
        return this._userId;
    }
    get rectangle() {
        return this._rectangle;
    }
    get _Str_9337() {
        return this._Str_20775;
    }
}
RoomWidgetUserLocationUpdateEvent.RWULUE_USER_LOCATION_UPDATE = 'RWULUE_USER_LOCATION_UPDATE';


/***/ }),

/***/ "zaSZ":
/*!****************************************************************************************!*\
  !*** ./src/client/nitro/room/object/logic/furniture/FurniturePetCustomizationLogic.ts ***!
  \****************************************************************************************/
/*! exports provided: FurniturePetCustomizationLogic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FurniturePetCustomizationLogic", function() { return FurniturePetCustomizationLogic; });
/* harmony import */ var _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FurnitureLogic */ "fBF8");

class FurniturePetCustomizationLogic extends _FurnitureLogic__WEBPACK_IMPORTED_MODULE_0__["FurnitureLogic"] {
}


/***/ }),

/***/ "ze8N":
/*!*******************************************************!*\
  !*** ./src/client/nitro/avatar/geometry/AvatarSet.ts ***!
  \*******************************************************/
/*! exports provided: AvatarSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvatarSet", function() { return AvatarSet; });
class AvatarSet {
    constructor(k) {
        this._id = k.id;
        this._isMain = k.main || false;
        this._avatarSets = new Map();
        this._bodyParts = [];
        this._allBodyParts = [];
        if (k.avatarSets && (k.avatarSets.length > 0)) {
            for (let avatarSet of k.avatarSets) {
                if (!avatarSet)
                    continue;
                const set = new AvatarSet(avatarSet);
                this._avatarSets.set(set.id, set);
            }
        }
        if (k.bodyParts && (k.bodyParts.length > 0)) {
            for (let bodyPart of k.bodyParts) {
                if (!bodyPart)
                    continue;
                this._bodyParts.push(bodyPart.id);
            }
        }
        let bodyParts = this._bodyParts.concat();
        for (let avatarSet of this._avatarSets.values()) {
            if (!avatarSet)
                continue;
            bodyParts = bodyParts.concat(avatarSet._Str_755());
        }
        this._allBodyParts = bodyParts;
    }
    _Str_1498(k) {
        if (k === this._id)
            return this;
        for (let avatarSet of this._avatarSets.values()) {
            if (!avatarSet)
                continue;
            if (!avatarSet._Str_1498(k))
                continue;
            return avatarSet;
        }
        return null;
    }
    _Str_755() {
        return this._allBodyParts.concat();
    }
    get id() {
        return this._id;
    }
    get _Str_779() {
        if (this._isMain)
            return true;
        for (let avatarSet of this._avatarSets.values()) {
            if (!avatarSet)
                continue;
            if (!avatarSet._Str_779)
                continue;
            return true;
        }
        return false;
    }
}


/***/ }),

/***/ "zhdj":
/*!**********************************************************!*\
  !*** ./src/client/room/renderer/utils/ExtendedSprite.ts ***!
  \**********************************************************/
/*! exports provided: ExtendedSprite */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExtendedSprite", function() { return ExtendedSprite; });
/* harmony import */ var _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../nitro/Nitro */ "P7Cj");

class ExtendedSprite extends PIXI.Sprite {
    constructor(texture) {
        super(texture);
        this._offsetX = 0;
        this._offsetY = 0;
        this._tag = '';
        this._alphaTolerance = 128;
        this._Str_8253 = false;
        this._clickHandling = false;
        this._pairedSpriteId = -1;
        this._pairedSpriteUpdateCounter = -1;
    }
    needsUpdate(pairedSpriteId, pairedSpriteUpdateCounter) {
        if ((this._pairedSpriteId === pairedSpriteId) && (this._pairedSpriteUpdateCounter === pairedSpriteUpdateCounter))
            return false;
        this._pairedSpriteId = pairedSpriteId;
        this._pairedSpriteUpdateCounter = pairedSpriteUpdateCounter;
        return true;
    }
    setTexture(texture) {
        if (!texture)
            texture = PIXI.Texture.EMPTY;
        if (texture === this.texture)
            return;
        if (texture === PIXI.Texture.EMPTY) {
            this._pairedSpriteId = -1;
            this._pairedSpriteUpdateCounter = -1;
        }
        this.texture = texture;
    }
    containsPoint(point) {
        return ExtendedSprite.containsPoint(this, point);
    }
    static containsPoint(sprite, point) {
        if (!sprite || !point || (sprite.alphaTolerance > 255))
            return false;
        if (!(sprite instanceof PIXI.Sprite))
            return false;
        if (sprite.blendMode !== PIXI.BLEND_MODES.NORMAL)
            return;
        const texture = sprite.texture;
        const baseTexture = texture.baseTexture;
        if (!texture || !baseTexture || !baseTexture.valid)
            return false;
        const x = (point.x * sprite.scale.x);
        const y = (point.y * sprite.scale.y);
        if (!sprite.getLocalBounds().contains(x, y))
            return false;
        //@ts-ignore
        if (!baseTexture.hitMap || (baseTexture.hitMapLastThreshold !== sprite.alphaTolerance)) {
            let canvas = null;
            if (!baseTexture.resource) {
                //@ts-ignore
                if (!texture.getLocalBounds) {
                    const tempSprite = PIXI.Sprite.from(texture);
                    canvas = _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.renderer.extract.canvas(tempSprite);
                    tempSprite.destroy();
                }
                else {
                    canvas = _nitro_Nitro__WEBPACK_IMPORTED_MODULE_0__["Nitro"].instance.renderer.extract.canvas(texture);
                }
            }
            if (!ExtendedSprite.generateHitMap(baseTexture, sprite.alphaTolerance, canvas))
                return false;
        }
        //@ts-ignore
        const hitMap = baseTexture.hitMap;
        const resolution = baseTexture.resolution;
        const dx = Math.round((x + texture.frame.x) * resolution);
        const dy = Math.round((y + texture.frame.y) * resolution);
        //@ts-ignore
        const num = (dx + (dy * baseTexture.hitMapWidth));
        const num32 = ((num / 32) | 0);
        const numRest = (num - (num32 * 32));
        return ((hitMap[num32] & (1 << numRest)) !== 0);
    }
    static generateHitMap(baseTexture, threshold, tempCanvas = null) {
        let canvas = null;
        let context = null;
        if (tempCanvas) {
            canvas = tempCanvas;
            context = canvas.getContext('2d');
        }
        else {
            if (!baseTexture.resource)
                return false;
            //@ts-ignore
            let source = baseTexture.resource.source;
            if (!source)
                return false;
            if (source.getContext) {
                canvas = source;
                context = canvas.getContext('2d');
            }
            else if (source instanceof Image) {
                canvas = document.createElement('canvas');
                canvas.width = source.width;
                canvas.height = source.height;
                context = canvas.getContext('2d');
                context.drawImage(source, 0, 0);
            }
            else
                return false;
        }
        const width = canvas.width;
        const height = canvas.height;
        const imageData = context.getImageData(0, 0, width, height);
        const hitMap = new Uint32Array(Math.ceil(width * height / 32));
        for (let j = 0; j < height; j++) {
            for (let i = 0; i < width; i++) {
                const num = j * width + i;
                const num32 = num / 32 | 0;
                const numRest = num - num32 * 32;
                if (imageData.data[(4 * num) + 3] >= threshold)
                    hitMap[num32] |= (1 << numRest);
            }
        }
        //@ts-ignore
        baseTexture.hitMap = hitMap;
        //@ts-ignore
        baseTexture.hitMapWidth = width;
        //@ts-ignore
        baseTexture.hitMapLastThreshold = threshold;
        return true;
    }
    get offsetX() {
        return this._offsetX;
    }
    set offsetX(offset) {
        this._offsetX = offset;
    }
    get offsetY() {
        return this._offsetY;
    }
    set offsetY(offset) {
        this._offsetY = offset;
    }
    get tag() {
        return this._tag;
    }
    set tag(tag) {
        this._tag = tag;
    }
    get alphaTolerance() {
        return this._alphaTolerance;
    }
    set alphaTolerance(tolerance) {
        this._alphaTolerance = tolerance;
    }
    get _Str_4593() {
        return this._Str_8253;
    }
    set _Str_4593(flag) {
        this._Str_8253 = flag;
    }
    get clickHandling() {
        return this._clickHandling;
    }
    set clickHandling(flag) {
        this._clickHandling = flag;
    }
}


/***/ }),

/***/ "zn8P":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "zn8P";

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map